[
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Quick update from Prysm, I've fixed most of the mentioned bugs above and I think I'm about 90% there in terms of full devnet. The last remaining bug for me is related to Fulu block gossip. I'm not able to propagate blocks after the Fulu fork, which is definitely something Prysm-specific.  \n\n\u003c@845691100072509460\u003e  something worth thinking aboutâ€”when I call `GetInclusionList`, is it possible for your branch to generate some dummy valid transactions for further testing?",
        "created_at": "2025-01-20T06:16:14.577000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "We could use `tx_spammer`. I've updated the local devnet repo so now we should be able to see some transactions. Also, I can make a censoring Geth for testing.",
        "created_at": "2025-01-20T06:28:18.916000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "I've skimmed the update, great work! I think making it work after Fulu fork would be true gem as it enables IL constraints.",
        "created_at": "2025-01-20T06:46:21.694000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Cross-layer",
        "parent": "",
        "content": "Are we building IL on top of Fulu at the moment?",
        "created_at": "2025-01-20T11:49:48.552000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "That's what I'm doing for prysm. Using fulu for focil for Simplicity. Just focil, no peer das.",
        "created_at": "2025-01-20T14:41:22.872000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "But tx spammer doesn't guarantee txs will be there for get inclusion list right",
        "created_at": "2025-01-20T14:42:10.662000+00:00",
        "attachments": null
    },
    {
        "author": "jacobkaufmann",
        "category": "Cross-layer",
        "parent": "",
        "content": "why not keep it on electra?",
        "created_at": "2025-01-20T18:30:25.270000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "that's also good, I'm not opinionated, don't have a preference. My only reason is the scope for Electra is already set so it makes sense to start a new fork and prysm has already fulu boilerplate already. It's just focil without peer das. I wouldn't mix peer das in this",
        "created_at": "2025-01-20T18:37:02.045000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes, there might be no tx in the mempool. I checked that geth returns IL correctly when there are txs in the mempool using tx spammer.",
        "created_at": "2025-01-20T18:55:44.499000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think I found a vulnerability in the spec although it won't likely happen in the mainnet. Current `get_inclusion_list_committee` spits out of index error when indices \u003c start. I think we should allow IL committee size be smaller than 16, when there aren't enough validators. Something similar to `get_committee_count_per_slot`.",
        "created_at": "2025-01-20T18:56:07.802000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes that's a bug and same with payload attestation committee in epbs too, we don't work well with spec as to genesis validator size",
        "created_at": "2025-01-20T19:00:25.877000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Flying now but I'll share my kurtosis config. The min size has to be 512. Assuming 32 slots per epoch",
        "created_at": "2025-01-20T19:01:10.259000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "Potentially helpful for the IL topic in debugging, but we have an open tool wish that's been specced: https://github.com/ethpandaops/tooling-wishlist/blob/master/open-ideas/txpool-viz.md\n\nwe don't have the time to build it now, but maybe we do post pectra? or if someone is lurking and wants to build it, we're happy to support you ðŸ™‚",
        "created_at": "2025-01-20T22:49:33.264000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Think the end result is the same. Focil devnet = Electra stuff + focil = Fulu stuff - peerdas + focil. We just need to agree the name of the hard fork for focil devnet to whether be `fulu` or `electra`",
        "created_at": "2025-01-20T23:09:42.265000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "reposting argument against pre-choosing fork names from peerdas: https://discord.com/channels/595666850260713488/1252403418941624532/1326511541998194718\n\nfork name you choose then goes into tools and libs and it becomes a bit of a dependency hell. ideally you just call the fork `focil` until it actually gets scheduled. that way there's 0 conflicts and all changes to libraries/clients can get merged into main branches without any risk of conflicts.",
        "created_at": "2025-01-20T23:14:56.035000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "I definitely agree with this. Speaking only about Prysm, adding a new fork name is a lot of work. I have to add all the state and block objects, as well as the state transition function, just for that fork name. For now, as a single devnet until we need to interop with others, I'm going to piggyback on Fulu for as long as we can until there's actually something scheduled for it",
        "created_at": "2025-01-20T23:29:02.767000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah itâ€™s quite the pain to add forks to lighthouse as well. Our only realistic option at the moment is building on top of either Fulu or Electra. The issue with Fulu for us is that excluding Peerdas might be difficult",
        "created_at": "2025-01-20T23:58:54.667000+00:00",
        "attachments": null
    }
]