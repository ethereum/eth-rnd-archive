[
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's funny how even the blob availability is solved in ePBS: the proposer doesn't even have them, nor the KZG commitments, and the builder can broadcast them way before his reveal time (just like ILs in the current design). So any split by the builder only makes things worse for him and it doesn't reorg the CL block",
        "created_at": "2024-03-27T11:26:33.206000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e i wish i was onboard with ePBS! but i still hold that we don’t have an adequate design that makes sense for electra. i still think ILs are totally worth doing given they allow us to get something in for this fork and they address the crux of the issue that ePBS tries to solve for.\n\nseems to me like\n\n`balance check \u0026 blob-style treatment for ILs`\n\nis a nice compromise between what the IL mechanism was concepted as and the practical realities of implementing it in the protocol. (re @InclusionList_bot: \u003cpotuz\u003e It's funny how even the blob availability is solved in ePBS: the proposer doesn't even have them, nor the KZG commitments, and the builder can broadcast them way before his reveal time (just like ILs in the current design). So any split by the builder only makes things worse for him and it doesn't reorg the CL block)",
        "created_at": "2024-03-27T12:10:37.328000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e quick pulse check for CL devs\n\n@potuz0 @terencechain for prysm\n\u003c@504202741933932544\u003e @rolfyone for teku\n@gr3999 for lodestar",
        "created_at": "2024-03-27T14:38:24.783000+00:00",
        "attachments": null
    },
    {
        "author": "mikeneuder",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@491624610215886849\u003e for lh\n\u003c@654267572107083777\u003e for numbus",
        "created_at": "2024-03-27T14:38:26.088000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e curious if you think the PoC can go ahead with \n- `balance check in summary` + `only consider block for fork chioce if IL is available`",
        "created_at": "2024-03-27T14:39:18.755000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e again, feels like a nice compromise :D",
        "created_at": "2024-03-27T14:39:32.805000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e but the following block resolves the IL availability of the block even if IL not available right?",
        "created_at": "2024-03-27T14:42:08.671000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e i dont wanna sync IL in range sync",
        "created_at": "2024-03-27T14:42:19.427000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e no infortunately :( we cannot depend on the reconstruction with the 3074 issue (re @gr3999: but the following block resolves the IL availability of the block even if IL not available right?)",
        "created_at": "2024-03-27T14:42:39.123000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e you would treat ILs just like you treat blobs",
        "created_at": "2024-03-27T14:42:47.863000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This all feels to me like this:",
        "created_at": "2024-03-27T14:42:50.779000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "qidc3pilkva21.jpg",
                "content": "81eef3476fdebf5e8d17b801849bc23a81ebf34722dff58df753cc9b02d546c9"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e thats terrible",
        "created_at": "2024-03-27T14:42:59.533000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e lemme dm you to understand this bit",
        "created_at": "2024-03-27T14:43:20.333000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e xD my counter argument. what changes between now and when we would alternatively enshrine (re @InclusionList_bot: \u003cpotuz\u003e [reply]: This all feels to me like this:\nhttps://cdn.discordapp.com/attachments/1210529202458071050/1222556445929902160/qidc3pilkva21.jpg?ex=6616a56a\u0026is=6604306a\u0026hm=9ec42b874f381698c3a9f211ca487b1129b38150347f153b3f59acb2b98e1164\u0026)",
        "created_at": "2024-03-27T14:44:17.130000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e ok here is an idea: \n\nwe are in our usual setup. \n- slot n+2 proposer is trying to build on slot N block after slot N+1 block is reorged. \n- slot n+1 payload was valid, meaning that for each addr:  there was a txn  or there was a 3074 txn that withdrew some balance.\n- lets assume for Addr 0x0a, there was a 3074 transaction from a different address that drained the balance.\n- when reconstructing the IL, can i use that same 3074 transaction to satisfy the IL?",
        "created_at": "2024-03-27T14:51:54.610000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e so that is, an IL transaction either \n- is from the address\n- OR reduces the address’ balance",
        "created_at": "2024-03-27T14:52:22.207000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e if n+1 block is excuted by the EL, it knows what the actual \"senders\" are and can collect them",
        "created_at": "2024-03-27T14:53:01.885000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e but we care about the situation where there is an address in the IL that doesnt show up as a “sender”",
        "created_at": "2024-03-27T14:53:39.448000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e it is only satisfied by the fact that the balance is drained",
        "created_at": "2024-03-27T14:53:50.646000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e i would then prefer the original parent senders in state idea and only have senders in IL",
        "created_at": "2024-03-27T14:55:51.683000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e not rely on balances",
        "created_at": "2024-03-27T14:56:09.306000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e",
        "created_at": "2024-03-27T14:58:20.930000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_21.jpg",
                "content": "766be8465f340c43a0f29e627ca0539ae99a1475aba72fc2e1c2625fcd142e89"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e ok i think this is a huge breakthru!!",
        "created_at": "2024-03-27T14:58:32.632000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e so basically you can reconstruct",
        "created_at": "2024-03-27T14:58:56.131000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e yes EL can collect these when it executes the block",
        "created_at": "2024-03-27T14:59:05.607000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e perfect :D",
        "created_at": "2024-03-27T14:59:47.818000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e this way range sync stays easy",
        "created_at": "2024-03-27T15:00:04.329000+00:00",
        "attachments": null
    },
    {
        "author": "mikeneuder",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e \u003c@360491619402776577\u003e for viz",
        "created_at": "2024-03-27T15:01:50.579000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ctbenr\u003e Sorry guys I'm off, traveling, the entire week. I'll catch up on Tuesday (re @mikeneuder: quick pulse check for CL devs\n\n@potuz0 @terencechain for prysm\n\u003c@504202741933932544\u003e @rolfyone for teku\n@gr3999 for lodestar)",
        "created_at": "2024-03-27T15:13:41.440000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e have a nice trip!",
        "created_at": "2024-03-27T15:21:17.303000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yep you might be able to reconstruct, but that adds a huge overhead and edge cases to block processing. It feels very much like whack-a-mole",
        "created_at": "2024-03-27T15:22:51.901000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e i get that it feels like that, but these feel like fundamental features that we are going to have to address either now or in the future. i dont think there is a silver bullet that will improve the protocols ability to identify and include transactions without admitting free DA and being fully compatible with 3074 and enshrined 4337",
        "created_at": "2024-03-27T15:35:45.377000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e i think it doesn't matter if the EL does the reconstruction or not, but the fact that it CAN be done is good enough for me to import blocks in the forkchoice on range sync and then wait for a gossip block to be imported with a blob like availabilty check for the node to actually have a Execution + IL valid head for it to participate in attestations",
        "created_at": "2024-03-27T15:49:37.326000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e and if the reorg occurs to a head on which the node has not actually imported an IL (which it can still do passively for N accesstors from the tip), then it fails to participate in block production same way as todays block production fails if you have a SYNCING forkchoice head",
        "created_at": "2024-03-27T15:51:02.861000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e for above to work I just want the property that child block's validity can satisfy the summary (which is also embedded in child block's execution payload)",
        "created_at": "2024-03-27T15:53:01.969000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e now there could be liveness failure when majority of nodes go down and join a super minority network, which is where an EL constructed IL could have helped",
        "created_at": "2024-03-27T15:55:48.310000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e and hence would very much want this support from EL",
        "created_at": "2024-03-27T15:58:44.334000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Cross-layer",
        "parent": "",
        "content": "Tangential question: will the IL be included in the \"eth1\" block or block header in any way?  Just curious if ELs not directly involved in block building will have any visibility into the IL used to build blocks.",
        "created_at": "2024-03-27T18:42:22.718000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The IL will not be included in blocks, the summary however is included in the \"eth1\" block in the current design",
        "created_at": "2024-03-27T18:43:16.095000+00:00",
        "attachments": null
    }
]