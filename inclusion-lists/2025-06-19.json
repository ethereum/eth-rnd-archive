[
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "Does make sense now, IL satisfaction only matter for attesting duty, all other parts of the fork choice more or less remain the same",
        "created_at": "2025-06-19T05:03:31.212000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes I think that's the best way to think about it",
        "created_at": "2025-06-19T05:04:06.849000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "Then the follow up question that I have related to equivocations. IL equivocation are acceptable until attestation deadline of slot n+1, it means that IL satisfaction can be affected if equivocation is received, so it needs to be re-evaluated to avoid split view. This isn't in the spec currently afaics and I if my understasnding is correct it should be added. But that means that each equivocation triggers an EL call, and EL should attempt to optimise IL evaluation",
        "created_at": "2025-06-19T05:05:29.501000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Proposer duty as well until we have block slot fork choice",
        "created_at": "2025-06-19T05:05:39.974000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "Also, EL must not discard the block if IL isn't satisfied. It must rather keep the block and its post-state, and then when IL re-evaluation is required just dig out the post-state and run the corresponding checks",
        "created_at": "2025-06-19T05:07:54.140000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hm is that true? Because at re-evaluation CL will call new payload again which is the \"block\"\nI guess you meant must not discard IL txs because it can check again. \nBut I think IL enforcement is only applied to current slot",
        "created_at": "2025-06-19T05:14:45.225000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "I meant that if the block is valid it must be kept by EL regardless of IL satisfiability, then EL won't need to execute block again. I don't know if we want IL re-evaluation to be supported or not. I am just seeing from the spec that if `is_before_attesting_interval` condition is satisfied then IL from the *previous* slot is checked whether it is equivocal or not. Consider the following scenario:\n1) Block *b* received 2s into a slot and it doesn't satisfy ILs\n2) IL equivocation received 3s into a slot removing some IL constraints from the block, and now *b* can satisfy ILs\n\nIf *b* IL satisfiability isn't re-evaluated attester won't vote for this block which is incorrect.",
        "created_at": "2025-06-19T05:23:05.384000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hm I see. I have not considered this case. Should we allow equivocating IL arrives after block to turn the block alive?",
        "created_at": "2025-06-19T05:31:22.796000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Because if I remember how attester duty works today. It would have already voted before 3s IL arrives",
        "created_at": "2025-06-19T05:32:31.585000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "oh yeah, right. Then the split can happen if one node receives IL equivocation before the block and the other node receives it after",
        "created_at": "2025-06-19T05:33:49.723000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "btw, do all CLs attest once they see a block?",
        "created_at": "2025-06-19T05:35:47.182000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think nodes should stop accepting ILs at the slot boundary. In this case there will be 3s after the view freeze for equivocations to be disseminated which should be fine assuming network synchrony and at the same time it addresses the split view issue for the case when proposer is honest",
        "created_at": "2025-06-19T05:41:50.799000+00:00",
        "attachments": null
    },
    {
        "author": "grapebaba",
        "category": "Cross-layer",
        "parent": "",
        "content": "In the New inclusion list committee duty section of spec, why here use `PROPOSER_INCLUSION_LIST_CUT_OFF` for inclusion list committee member submission, shouldn't it be 8s here?\n```\nA validator should create and broadcast the signed_inclusion_list to the global inclusion_list subnet by PROPOSER_INCLUSION_LIST_CUT_OFF seconds into the slot, unless a block for the current slot has been processed and is the head of the chain and broadcast to the network.\n```",
        "created_at": "2025-06-19T08:14:17.276000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Introducing IL broadcast deadline at 12s to avoid split view by equivocating ILs sounds reasonable to me.",
        "created_at": "2025-06-19T08:31:08.514000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think it's typo. I'll fix it in the draft PR. Probably I'm going to split it into two PRs, one for spec revamp and the other for tests.",
        "created_at": "2025-06-19T08:38:24.851000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e Am I getting this right:\nIf all IL members equivocate, and the proposer has to publish every equivocating IL together with the block (1 IL = 8KiB, the equivocation \"proof\" is twice that, 16 KiB). For 16 ILs, this would add 2*8*16 = 256 KiB in addition to the block?",
        "created_at": "2025-06-19T10:14:08.978000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's validators who broadcast ILs. A proposer doesn't have the responsibility of ~~broadcasting~~ proving equivocation of ILs. Also, ILs are ephemeral data just like blobs. It's not part of a block.",
        "created_at": "2025-06-19T10:16:17.802000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah ILs never go oncahin so it doesn't add any data to the block",
        "created_at": "2025-06-19T10:16:53.508000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Also I think the statement in the EIP that the bandwidth can be up to twice is a bit misleading. It depends on the algorithm. If there is no check other than equivocation check and all 16 IL committee members equivocate 10 different ILs each, it could become 10x.",
        "created_at": "2025-06-19T10:18:23.493000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Another point is we plan to switch to gas limit instead of size limit. So it's probably not going to be 8KiB but we don't have the number yet.",
        "created_at": "2025-06-19T10:19:40.671000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e So, how does the proposer prove that there was an equivocation without sending out the equivocating ILs?",
        "created_at": "2025-06-19T10:22:14.430000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "the shift from KiB to gas as the limit for ILs comes from the potential attack vectors to provers.",
        "created_at": "2025-06-19T10:22:22.589000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "the proposer doesn't have to prove there was an equivocation in the first place, if nodes and the proposer notice an equivocation for a given IL they just ignore the IL",
        "created_at": "2025-06-19T10:23:36.994000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e As an IL committee member, I could send out my IL to everyone and then send another one to the next proposer. The proposer would then ignore my \"honest\" IL while attesters would still enforce it.",
        "created_at": "2025-06-19T10:24:00.552000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cjulianzma\u003e re: **@InclusionList_bot**\n\u003e \u003cjih2nn\u003e Also I think the statement in the EIP that the bandwidth can be up to twice is a bit misleading. It depends on the algorithm. If there is no check other than equivocation check and all 16 IL committee members equivocate 10 different ILs each, it could become 10x.\nIf an IL committee member equivocates we only propagate 2 ILs at most, so we don’t have to propagate 10 ILs if someone equivocates more often. We need to know _whether_ someone equivocates, not how often",
        "created_at": "2025-06-19T10:24:17.979000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e Right, you \"only\" need two ILs (max 16 KIB) to prove the equivocation, but you still need to propagate it to convice attesters that there was an equivocation",
        "created_at": "2025-06-19T10:25:24.387000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Of course. Proposer also propagates ILs.",
        "created_at": "2025-06-19T10:25:54.876000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cjulianzma\u003e re: **@nero_eth**\n\u003e As an IL committee member, I could send out my IL to everyone and then send another one to the next proposer. The proposer would then ignore my \"honest\" IL while attesters would still enforce it.\nToni and I were discussing the absolute worst case in which IL committee members only send to the proposer and equivocate but the proposer is not aware he is the only one receiving it. Then the proposer should propagate the equivocating ILs to the attesters.",
        "created_at": "2025-06-19T10:26:33.703000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003csoispoke\u003e re: **@nero_eth**\n\u003e Right, you \"only\" need two ILs (max 16 KIB) to prove the equivocation, but you still need to propagate it to convice attesters that there was an equivocation\nyeah all ILs are propagated by nodes and the proposer",
        "created_at": "2025-06-19T10:26:46.049000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cjulianzma\u003e I don’t think it’s a very strong attack though because you need many IL committee members to collaborate to make the proposer propagate at most 2 blobs worth of data extra. If you want to DoS the proposer you can do so more effectively and more easily today",
        "created_at": "2025-06-19T10:27:24.180000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "You don't know how many equivocated ILs are out there. In order to cap to two equivocated ILs, you should specify the logic that store the first equivocated IL and ignore the rest. EIP doesn't say that.",
        "created_at": "2025-06-19T10:27:41.052000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "It depends on algorithm.",
        "created_at": "2025-06-19T10:27:55.019000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e So, we add an additional 128 KiB to the current block size, in the worst-case? This is roughly a 60% increase is data a proposer needs to get out.",
        "created_at": "2025-06-19T10:28:21.453000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e The proposer should only need to propagate equivocations, not all ILs",
        "created_at": "2025-06-19T10:28:47.002000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cjulianzma\u003e The EIP does state that we should only forward up to two ILs per IL",
        "created_at": "2025-06-19T10:29:31.874000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_24.jpg",
                "content": "1849e582cd4bd88ddcc7c1fea2a9c7f94b4a0a2a2f99e327aeb89ffaca415f36"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003csoispoke\u003e re: **@nero_eth**\n\u003e So, we add an additional 128 KiB to the current block size, in the worst-case? This is roughly a 60% increase is data a proposer needs to get out.\nILs are never part of the block",
        "created_at": "2025-06-19T10:29:33.274000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@soispoke**\n\u003e ILs are never part of the block\nright but you still need to propagate the equivocating ILs, which are 256 KiB in the worst case, no matter if it's in the block or outside",
        "created_at": "2025-06-19T10:30:44.179000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "In order to acheive this, you should have some ordering rule among the equivocated ILs. If there are more than two equivocated ILs, the order of the arrival ILs can be all different.",
        "created_at": "2025-06-19T10:32:07.383000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003csoispoke\u003e ah I mean yeah you need to forward up to 2 ILs per IL committee member then but it does leave outside the block. also this is if literally all IL committee members decide to equivocate at the same time which is very unlikly",
        "created_at": "2025-06-19T10:32:13.020000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cjulianzma\u003e re: **@InclusionList_bot**\n\u003e \u003cjih2nn\u003e [reply]: In order to acheive this, you should have some ordering rule among the equivocated ILs. If there are more than two equivocated ILs, the order of the arrival ILs can be all different.\nWe don’t need to order ILs. The rule every node should run is:\n- If I find two equivocating ILs, I ignore all ILs from the IL committee member\n- I propagate at most two ILs from each committee member",
        "created_at": "2025-06-19T10:34:01.940000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003csoispoke\u003e another note is: the size of blocks will go up over time, while the size of ILs doesn't have to",
        "created_at": "2025-06-19T10:34:02.232000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e Yeah agree, this is just the worst-case (which might be very unlikely in practice). And this worst-case may be fine - proposers can handle this. Might still be worth mentioning in the EIP.",
        "created_at": "2025-06-19T10:34:30.534000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cjulianzma\u003e Today we have a blob limit of 9 and the block is about the size of a blob (bit smaller), so say a proposer needs to propagate 10 blobs. In the worst case with FOCIL and all 16 IL committee members equivocating and only sending it to the proposer, that adds 2 blobs so 20% of data in the absolute worst case for which there is no incentive",
        "created_at": "2025-06-19T10:35:10.069000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ah yeah. I misread it.",
        "created_at": "2025-06-19T10:37:04.730000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003e If I find two equivocating ILs, I ignore all ILs from the IL committee member\nYou mean ignoring all future ILs from this ILC member, or every IL it sends for this slot ie. removing stored ILs from CL's op pool?",
        "created_at": "2025-06-19T10:45:49.416000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003csoispoke\u003e re: **@InclusionList_bot**\n\u003e \u003cnc1234\u003e [reply]: \u003e If I find two equivocating ILs, I ignore all ILs from the IL committee member\nYou mean ignoring all future ILs from this ILC member, or every IL it sends for this slot ie. removing stored ILs from CL's op pool?\njust for this slot",
        "created_at": "2025-06-19T10:46:11.906000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Let me rephrase the question: if a CL receives an IL that it realizes is a equivocating IL, should CL a) ignore it, prevent adding it into the op pool or b) removing the other IL that \"proves\" this equivocation from the op pool too?",
        "created_at": "2025-06-19T10:50:24.095000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Let's say a validator received IL_a from IL committee member A. If it receives IL_a' from A, it performs:\n \n- Broadcast IL_a' so that others can also learn that A is equivocating.\n- If you're an attester or a proposer, don't consider IL_a nor IL_a' during block validation or building.\n- In order to achieve this, you need to store both IL_a and IL_a'. Where and how long is implementation dependent.\n- If you receive IL_a'' from A, just ignore it.",
        "created_at": "2025-06-19T10:57:09.234000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "and how long here shouldn't really be longer than the time needed to attest or propose for the slot, in principle at least",
        "created_at": "2025-06-19T11:06:46.596000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "you don't necessarily need to store both ILs right, you just need to remember you have seen both, you can delete the original one and just use a boolean flag after",
        "created_at": "2025-06-19T12:16:55.990000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Don't you need to compare incoming ILs against the two you already saw? Other technique can be adopted for the comparison though such as hashing if that's better",
        "created_at": "2025-06-19T12:19:36.453000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "the comparison algorithm speicied in the p2p spec for dos look at validator index that's all we have to cache for that",
        "created_at": "2025-06-19T12:23:36.940000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "But you don't want to broadcast 10 or however equivocated ILs from the same IL committee member. You just want to broadcast the first and second ones",
        "created_at": "2025-06-19T12:27:33.356000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes you would drop the rest",
        "created_at": "2025-06-19T12:30:28.191000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "How can you tell if the incoming ILs are the first and second ones or not without storing them?",
        "created_at": "2025-06-19T12:34:46.982000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "My point is you have to store the first one, but never both because you just have to \"remember\" there's an equivocation. On the p2p side, you just have to store sender's index",
        "created_at": "2025-06-19T12:37:51.627000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "If you don't store the second IL and an IL committee member equivocate with 10 different ILs, you'll end up broadcasting 10 different ILs from that member.",
        "created_at": "2025-06-19T12:41:41.376000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "You remember the sender's index. It's part of the p2p gossip validation rule",
        "created_at": "2025-06-19T12:44:48.657000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "How I read it is you need to store the first and second message of each sender",
        "created_at": "2025-06-19T12:46:22.289000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "de4cd03859ddce7c0eb36f9601515ada5fc51a80a0e00f1182c881f2a711db19"
            }
        ]
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "And you want to send up to 2 different messages per sender",
        "created_at": "2025-06-19T12:46:34.866000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes you want to gossip up to two, but the fork choice spec doesn’t store the second one, and it can even drop the first\nP2P doesn’t define what to store, that’s handled by the fork choice spec. P2P just tells you what to forward",
        "created_at": "2025-06-19T12:54:23.027000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Right, the point that I'm trying to make is you need to store the two anyway to fulfill the spec even if it doesn't say so (in p2p or fork choice or wherever). I can't come up with any other ways tbh. If you could provide any algorithm that achieves it, I'd love to hear.\n\nRegarding fork choice spec storing ILs, could you review this one and provide your feedback? https://github.com/ethereum/consensus-specs/pull/4351",
        "created_at": "2025-06-19T12:57:54.139000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "I am missing something here. When you say furfill the spec, could you specify which exact part? Because in the fork choice spec, we don't even have to store two today",
        "created_at": "2025-06-19T13:01:03.748000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm referring to the screenshot above and this sentence from the EIP \"To mitigate IL equivocation, FOCIL introduces a new P2P network rule that allows forwarding up to two ILs per IL committee member.\"",
        "created_at": "2025-06-19T13:58:24.448000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Forwarding != storing. You can forward and then forget, except for the validator index, which you need for p2p dos prevention.\n\nSo to summarize, I think the node only needs to:\n\n* Store an IL summary (just the validator index) to prevent P2P-level DoS\n* Store one full IL (to forward to the EL later in the happy case)\n* Store an equivocation flag (to avoid forwarding to the EL in the equivocation case)\n\nIt never needs to store two full ILs. Am I missing something? If not, then the current Prysm implementation has a bug I need to fix",
        "created_at": "2025-06-19T14:06:23.551000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Let's say an IL committee member A equivocated IL1, IL2 and IL3. You received IL1 and then IL2. According to your algorithm, you will forward IL2 and drop IL2. And then you receive IL3. You know that it's from equivocator but but you don't know if it's IL2 or IL3. So you would forward it but according to the EIP, you should not.",
        "created_at": "2025-06-19T14:11:59.266000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Also in Prysm's implementation, it seems it rejects when it detects an equivocation instead of ignoring it.",
        "created_at": "2025-06-19T14:12:17.865000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "a895fbeb3570a1e8948ac0535c88a0aadf655e7413880efd453b871ae6790361"
            }
        ]
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "I can't receive IL2 again. Libp2p prevents that, it has to be IL3, and I will not forward because I shall memember I saw two IL(s) from the same valdiator index",
        "created_at": "2025-06-19T14:24:07.135000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Got it. I was referring to the node as a whole but I'll also consider client implementation level next time. Thanks!",
        "created_at": "2025-06-19T14:34:13.904000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "I see where the confusion comes from. There's some underlying gossip sub logic that's abstracted away from the current P2P spec, and it's not obvious unless you trace it back to the phase0 spec. Definitely something we can make clearer overall",
        "created_at": "2025-06-19T14:35:54.713000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "I guess it's this one: https://ethereum.github.io/consensus-specs/specs/phase0/p2p-interface/#why-are-we-overriding-the-default-libp2p-pubsub-message-id Let me read the whole doc through",
        "created_at": "2025-06-19T14:38:48.722000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "As more people start to read FOCIL spec recently, I reduced the draft CL spec test PR into CL spec improvment. I've resolved all TODOs, improved the honest validator section and modified the existing test to pass. All CI passed. Please review it at your earliest convenience cc \u003c@363800010518822915\u003e \u003c@1035747431461167125\u003e \u003c@993802539856314398\u003e \u003c@358120958726373381\u003e\n\nhttps://github.com/ethereum/consensus-specs/pull/4351",
        "created_at": "2025-06-19T23:30:45.861000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'll be working on the CL spec tests on top of this branch. I'll open the CL spec test PR in few weeks.",
        "created_at": "2025-06-19T23:31:06.691000+00:00",
        "attachments": null
    }
]