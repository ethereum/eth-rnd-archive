[
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "You can see the tab in slot page. Click any slot after epoch 3 then you should be able to see it as long as any IL has been submitted to that slot.",
        "created_at": "2025-03-12T00:14:07.880000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@358120958726373381\u003e Is there a lighthouse focil branch I can use for testing?",
        "created_at": "2025-03-12T00:32:05.133000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Is this the latest? https://github.com/sigp/lighthouse/pull/7004",
        "created_at": "2025-03-12T00:54:19.236000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Cross-layer",
        "parent": "",
        "content": "yep that‚Äôs the latest",
        "created_at": "2025-03-12T01:28:50.817000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Okay cool, will make lodestar build eip7805 on top of Electra and then test with yours",
        "created_at": "2025-03-12T01:30:15.876000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Cross-layer",
        "parent": "",
        "content": "ah yeah I just pushed an update to make lighthouse build 7805 ontop of electra",
        "created_at": "2025-03-12T02:11:42.411000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Cross-layer",
        "parent": "",
        "content": "is this the image I should be using when testing against lodestar? `ethpandaops/lodestar:focil`",
        "created_at": "2025-03-12T02:12:09.775000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Eh I never knew ethpanadaops built a lodestar image for focil. Lemme double confirm",
        "created_at": "2025-03-12T02:15:11.023000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "The one from ethpandaops is outdated. Use `ensi321/lodestar:focil`",
        "created_at": "2025-03-12T04:55:28.698000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Summary of breakout #6: https://x.com/jih2nn/status/1899731658649289180",
        "created_at": "2025-03-12T07:59:46.820000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "it might be that I have build that at some point, maybe we can configure in the Ethpandaops builder to automatically refresh the build on each commit similar to how it's done for our unstable branch",
        "created_at": "2025-03-12T08:02:23.986000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "how do other clients handle timing parameters right now? we have them as part of mainnet / minimal config as per current CL spec, and those are not calculated on the fly based on `SECONDS_PER_SLOT`, this is problematic though if you change this value in kurtosis to 6 seconds because our cutoff to push IL to execution client is at 9 seconds, so it will never happen I suspect or maybe it does but timing is likely off",
        "created_at": "2025-03-12T08:05:49.630000+00:00",
        "attachments": null
    },
    {
        "author": "sibkatya",
        "category": "Cross-layer",
        "parent": "",
        "content": "makes sence. I cut out this param, so, it's default for me",
        "created_at": "2025-03-12T08:59:11.428000+00:00",
        "attachments": null
    },
    {
        "author": "sibkatya",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@845691100072509460\u003e checked again, this is my config and Dora. Run it with this command:\n`kurtosis run --enclave focil github.com/ethpandaops/ethereum-package --args-file focil/focil-jihoon.yaml --image-download always`\nCleaned images and used this flag to update them.\n\n```\nparticipants:\n  - el_type: geth\n    el_image: jihoonsg/geth-focil:cb1773c\n    cl_type: prysm\n    cl_image: jihoonsg/prysm-beacon-chain-focil:a7241e5\n    vc_type: prysm\n    vc_image: jihoonsg/prysm-validator-focil:a7241e5\n    count: 2\nnetwork_params:\n  genesis_delay: 20\n  electra_fork_epoch: 1\n  fulu_fork_epoch: 2\n  eip7805_fork_epoch: 3\n  num_validator_keys_per_node: 256\nsnooper_enabled: true\nadditional_services:\n  - dora\n  - tx_spammer\nport_publisher:\n  additional_services:\n    enabled: true\n    public_port_start: 65500\ndora_params:\n  image: jihoonsg/dora-focil:34db1a4\n```",
        "created_at": "2025-03-12T10:22:57.766000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2025-03-12_at_11.19.30.png",
                "content": "ca62394a5264efcf70d0f8830730d44fea38cf1d36573c97ae978e5dd2931ca1"
            }
        ]
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Do all slots don't show IL tab?",
        "created_at": "2025-03-12T10:33:36.969000+00:00",
        "attachments": null
    },
    {
        "author": "sibkatya",
        "category": "Cross-layer",
        "parent": "",
        "content": "I checked some of them. That's why I am asking. Should ILs be in every slot or randomly?",
        "created_at": "2025-03-12T10:40:47.238000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "`tx_spammer` doesn't fill up the mempool for every slot. When there is no transactions in the mempool, we don't have any IL. You can also see that some blocks are empty because of the same reason.\n\nI've made the IL tab not shown when there is no IL following other tab's behavior. e.g. when a block is empty, you won't see the transaction tab.\n\nIf you can't find IL tab at all, that would be a problem I'm not aware of. Could you check if this is the case?",
        "created_at": "2025-03-12T10:43:20.997000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is a good point. I thought reducing block interval would facilitate local testing but this could be what we should be careful about when testing interop between CLs. FWIW, Prysm sets deadline as `SecondsPerSlot / IntervalsPerSlot`. Might not be the case with other clients.",
        "created_at": "2025-03-12T10:49:57.579000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think we need to do it like this but that's not what the current CL spec does, it needs to be similar to how proposer boost reorg timing is handled. For now I would probably suggest to just keep seconds per slot as 12 seconds if trying to interop clients. This shouldn't be as painful anymore if we start genesis at electra and have eip7805 fork epoch set to 1.\n\nTheoretically it should even work to have eip7805 fork epoch at 0 becasue there are no state changes in FOCIL so you could use electra genesis state.",
        "created_at": "2025-03-12T10:59:52.729000+00:00",
        "attachments": null
    },
    {
        "author": "sibkatya",
        "category": "Cross-layer",
        "parent": "",
        "content": "I checked randomly different slots in different epochs. Didn't find IL tabs in them",
        "created_at": "2025-03-12T11:00:24.287000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "yes we can do that",
        "created_at": "2025-03-12T11:09:01.730000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "ok we should have up to date `ethpandaops/lodestar:focil` images now, if you wanna use a specific version just pin it by commit hash",
        "created_at": "2025-03-12T11:18:06.172000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Setting seconds per slot to 12 seconds sounds good! Do you know what we need to make eip7805 fork activation at epoch 0 happen?",
        "created_at": "2025-03-12T11:26:03.368000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "theoretically it is just a config and it should already work if you use electra genesis state, maybe I am missing something or there is a bug in how the client handles it, so just `eip7805_fork_epoch: 0`",
        "created_at": "2025-03-12T11:27:42.310000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "It didn't work for me but haven't dug the issue yet. Please let me know if it works for Lodestar when you have some to try it out",
        "created_at": "2025-03-12T11:30:43.497000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah haven't tried it either but I don't see why it wouldn't work for Lodestar, maybe \u003c@1035747431461167125\u003e can give this a try once he is online / feeling better again",
        "created_at": "2025-03-12T11:31:45.829000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "wouldn't do that",
        "created_at": "2025-03-12T11:38:55.427000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "genesis fork activations always have some assumptions",
        "created_at": "2025-03-12T11:39:06.654000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "and currently we only support deneb genesis",
        "created_at": "2025-03-12T11:39:12.117000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "you talking about kurtosis btw?",
        "created_at": "2025-03-12T11:39:34.586000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes. Does it mean we should set electra at epoch 0 and eip7805 at epoch 1?",
        "created_at": "2025-03-12T11:41:29.710000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "we can do deneb genesis only for now lol",
        "created_at": "2025-03-12T11:41:58.590000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "which means not electra genesis üòÑ",
        "created_at": "2025-03-12T11:42:05.575000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "you are not up to date üòÅ",
        "created_at": "2025-03-12T11:42:11.725000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "oh",
        "created_at": "2025-03-12T11:42:15.914000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "maybe?",
        "created_at": "2025-03-12T11:42:19.113000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://discord.com/channels/595666850260713488/1210529202458071050/1349028000020168705",
        "created_at": "2025-03-12T11:42:36.849000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "we can üòâ",
        "created_at": "2025-03-12T11:43:03.885000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "pk did it in his tool",
        "created_at": "2025-03-12T11:43:06.682000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "sorry, then you can do electra genesis üòÑ",
        "created_at": "2025-03-12T11:43:08.797000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "we just are waiting for pectra on mainnet to swap over to the new tool sets as default",
        "created_at": "2025-03-12T11:43:19.234000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "potuz owes us many beers",
        "created_at": "2025-03-12T11:43:35.203000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "eip7805_fork_epoch this doesn't seem to exist in our readme?",
        "created_at": "2025-03-12T11:43:36.365000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "was someone just lazy on our team implementing a new feature ?",
        "created_at": "2025-03-12T11:43:43.219000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "yes.",
        "created_at": "2025-03-12T11:44:03.718000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "This config gives me this warning\n\n```\nethereum_genesis_generator_params:\n  image: pk910/dev-images:genesis-generator-electra\n```",
        "created_at": "2025-03-12T11:46:45.153000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2025-03-12_at_8.33.50_PM.png",
                "content": "32df98dffa3aec97ffa32e7dce87dd86f5e4031d92ba80bc5875dcf8db084162"
            }
        ]
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Would this matter?",
        "created_at": "2025-03-12T11:47:08.336000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "probably not",
        "created_at": "2025-03-12T11:47:34.354000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "we gonna end up rolling out proper support for this soon",
        "created_at": "2025-03-12T11:47:41.846000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "it might be a bit slower",
        "created_at": "2025-03-12T11:47:46.933000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "as it has to be emulated",
        "created_at": "2025-03-12T11:47:49.996000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Setting eip7805 to epoch 0 didn't work unfortunately. I'll share my progress if I make one with Prysm.",
        "created_at": "2025-03-12T11:50:19.889000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Cross-layer",
        "parent": "",
        "content": "could you share your config, maybe I find time to look at it in the evening",
        "created_at": "2025-03-12T11:57:27.657000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's here:\n\n```\nparticipants:\n  - el_type: geth\n    el_image: geth-focil:latest\n    cl_type: lodestar\n    cl_image: ethpandaops/lodestar:focil\n    count: 2\nnetwork_params:\n  genesis_delay: 20\n  eip7805_fork_epoch: 0\n  num_validator_keys_per_node: 256\nsnooper_enabled: true\nadditional_services:\n  - dora\n  - tx_spammer\nport_publisher:\n  additional_services:\n    enabled: true\n    public_port_start: 65500\ndora_params:\n  image: jihoonsg/dora-focil:34db1a4\nethereum_genesis_generator_params:\n  image: pk910/dev-images:genesis-generator-electra\n```",
        "created_at": "2025-03-12T11:59:29.912000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "can you set `electra_fork_epoch: 0`",
        "created_at": "2025-03-12T12:14:14.570000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "as by default we don't set that",
        "created_at": "2025-03-12T12:14:18.103000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "also I would always try to test fork transition, so set the 7805 to epoch 1",
        "created_at": "2025-03-12T12:14:42.860000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "even if it takes a few seconds more to see the results",
        "created_at": "2025-03-12T12:14:48.159000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "Good point. Lodestar died on 32th slot. I think it's related to Lodestar impl probably handling fork epoch or sth like that. Here is the log:\n\n```\n[cl-2-lodestar-geth] Mar-12 12:48:11.392[chain]            info: Publishing block slot=32, blockRoot=0x9a9b799687610cecffa0911ac9a5ed5c1fdee85e8de61da9e1f031f0867dd5d7, bodyRoot=0x68ec5e5839d12e0ab1d805f7d1ffeadb73c361229d4f7ef77cc31c34a62e20da, broadcastValidation=gossip, blockLocallyProduced=true\n[cl-2-lodestar-geth] Mar-12 12:48:11.439[execution]        warn: Execution client is syncing oldState=SYNCED, newState=SYNCING\n[cl-2-lodestar-geth] Mar-12 12:48:11.484[rest]            error: Req req-g2 publishBlockV2 error code=BLOCK_ERROR_EXECUTION_ERROR, execStatus=ELERROR, errorMessage=JSON RPC error: Unsupported fork, engine_newPayloadV5\n[cl-2-lodestar-geth] Error: BLOCK_ERROR_EXECUTION_ERROR\n[cl-2-lodestar-geth]     at verifyBlockExecutionPayload (file:///usr/app/packages/beacon-node/src/chain/blocks/verifyBlocksExecutionPayloads.ts:401:25)\n[cl-2-lodestar-geth]     at processTicksAndRejections (node:internal/process/task_queues:105:5)\n[cl-2-lodestar-geth]     at verifyBlocksExecutionPayload (file:///usr/app/packages/beacon-node/src/chain/blocks/verifyBlocksExecutionPayloads.ts:161:28)\n[cl-2-lodestar-geth]     at async Promise.all (index 0)\n[cl-2-lodestar-geth]     at BeaconChain.verifyBlocksInEpoch (file:///usr/app/packages/beacon-node/src/chain/blocks/verifyBlock.ts:99:9)\n[cl-2-lodestar-geth]     at BeaconChain.processBlocks (file:///usr/app/packages/beacon-node/src/chain/blocks/index.ts:74:7)\n[cl-2-lodestar-geth]     at JobItemQueue.runJob (file:///usr/app/packages/beacon-node/src/util/queue/itemQueue.ts:102:22)\n```",
        "created_at": "2025-03-12T12:53:35.074000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah that looks like smth messed up in lodestar üòÑ  \u003c@586161934425128960\u003e",
        "created_at": "2025-03-12T12:54:04.101000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "I reached out to the STEEL team and they agreed to help with hive testing side in the future + reviewing tests in EEST after an EELS implementation PR is made to the EL spec https://github.com/ethereum/execution-specs\n\nWould anyone be interested in opening the PR there on the EL side?",
        "created_at": "2025-03-12T15:15:16.723000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Cross-layer",
        "parent": "",
        "content": "the dora focil image doesnt seem to play nice with lighthouse, even pre-eip7805 fork. looking at cl/el logs, things seem fine",
        "created_at": "2025-03-12T17:34:22.236000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "867e84a6c57ddae8495ecc52b62fcc8ab0fa43e2a0140a27aa43e87b950c2a54"
            }
        ]
    }
]