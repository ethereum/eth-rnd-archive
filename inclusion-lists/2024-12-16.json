[
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Wrote down some thoughts on inclusion list committee selection. Feedback welcome: https://hackmd.io/@ttsao/il-committee-selection",
        "created_at": "2024-12-16T03:30:41.784000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Cross-layer",
        "parent": "",
        "content": "The spec uses the terms \"validator\" \"proposer\" and \"attester\", does this translate to meaning that the validator client needs additional logic or is that implemented in the beacon node and the validator client is oblivious to these changes?",
        "created_at": "2024-12-16T08:28:32.710000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Cross-layer",
        "parent": "",
        "content": "Also, at current it appears that `MAX_TRANSACTIONS_PER_INCLUSION_LIST` is 1 with a note that this is a placeholder.  What is the expectation about a real value for this constant?",
        "created_at": "2024-12-16T08:29:27.060000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e it was 16, such that 16 txs with each max 8kib add up to 128 kib = size of a blob",
        "created_at": "2024-12-16T10:51:36.325000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "No this is the number of ILs (i.e., committee members)",
        "created_at": "2024-12-16T11:08:02.536000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "but the `MAX_TRANSACTIONS_PER_INCLUSION_LIST` is not relevant anymore, the size of each IL is now determined in kib, and yes it's 8kib per IL",
        "created_at": "2024-12-16T11:09:02.289000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e MAX_TRANSACTIONS_PER_INCLUSION_LIST is just there because lists in the spec need a limit. In practice we mostly care about the total byte limit, not the number of transactions, hence why it's just a placeholder",
        "created_at": "2024-12-16T11:09:12.373000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "the latter is correct",
        "created_at": "2024-12-16T11:09:48.489000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e ah yeah, confused that. the 8kib are uncompressed, right? maybe worth to put that somewhere explicitly, if not there yet.",
        "created_at": "2024-12-16T11:13:23.999000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e As for how to determine an actual value, I think we have to look at what the number of transactions actually influences. It doesn't change anything on the CL, but it does cause some (small amount of) work on the EL, namely having to validate (*not simulate*) the tx against the post-state of the payload before attesting. Also it causes some extra work to whoever builds the payload. We can look at this work and figure out what's a reasonable number based on that.",
        "created_at": "2024-12-16T11:16:52.767000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e In practice the number should probably be somewhere between 10 and 100. With 100, I think the limit shouldn't even be it, because (iirc) the minimum tx size is something like ~100 bytes, so the byte limit would be hit first. With 10, validating all 160 txs shouldn't be a problem (it's about the normal number of txs in a block, but we don't have to execute them). More would be better because then we can cover the mempool even when considering that ILs might overlap",
        "created_at": "2024-12-16T11:22:18.824000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Cross-layer",
        "parent": "",
        "content": "Is the EIP still significantly in flux then?  I can see `MAX_BYTES_PER_INCLUSION_LIST` in https://eips.ethereum.org/EIPS/eip-7805 but there is no reference to it anywhere else in the EIP that I can see (I would assume that it would show up as a validation rule in https://github.com/ethereum/consensus-specs/blob/e678deb772fe83edd1ea54cb6d2c1e4b1e45cec6/specs/_features/eip7805/p2p-interface.md but there isn't anything there that references this value (although there is a reference to ``MAX_TRANSACTIONS_PER_INCLUSION_LIST in them)).",
        "created_at": "2024-12-16T11:26:08.827000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "Well I wouldn’t say “significantly in flux”, we’re are literally discussing setting a hardcoded parameter there because the spec needs a limit",
        "created_at": "2024-12-16T11:31:43.136000+00:00",
        "attachments": null
    },
    {
        "author": "jih2nn",
        "category": "Cross-layer",
        "parent": "",
        "content": "iirc, originally IL is capped by the number of transactions and then switched to use total bytes later. I think consensus spec needs update.",
        "created_at": "2024-12-16T11:33:43.208000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e Elsewhere in the EIP it just says 8 KBs, without referencing `MAX_BYTES_PER_INCLUSION_LIST`, which we should change. And yes, I am also surprised that the p2p validation in the specs doesn't have that, that should be updated (re @InclusionList_bot: \u003cjgm\u003e Is the EIP still significantly in flux then?  I can see `MAX_BYTES_PER_INCLUSION_LIST` in https://eips.ethereum.org/EIPS/eip-7805 but there is no reference to it anywhere else in the EIP that I can see (I would assume that it would show up as a validation rule in https://github.com/ethereum/consensus-specs/blob/e678deb772fe83edd1ea54cb6d2c1e4b1e45cec6/specs/_features/eip7805/p2p-interface.md but there isn't anything there that references this value (although there is a reference to ``MAX_TRANSACTIONS_PER_INCLUSION_LIST in them)).)",
        "created_at": "2024-12-16T11:33:51.761000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e Still, wouldn't really say the design is in flux, limiting by bytes has been part of the design for at least a couple of months, as is basically anything discussed in the EIP",
        "created_at": "2024-12-16T11:35:17.728000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Cross-layer",
        "parent": "",
        "content": "Okay so it's more a case of squaring off the EIP and associated docs with the changes that have been made during the process, thanks.",
        "created_at": "2024-12-16T11:36:27.463000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e Yeah, will do! Thanks for pointing it out",
        "created_at": "2024-12-16T11:41:32.537000+00:00",
        "attachments": null
    },
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "Opened a small PR to explicitly refer to `MAX_TRANSACTIONS_PER_INCLUSION_LIST` when we mention 8KB in the EIP https://github.com/ethereum/EIPs/pull/9142",
        "created_at": "2024-12-16T11:42:07.262000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e ah actually that's on older commit, the `MAX_BYTES_PER_INCLUSION_LIST` check was indeed added: https://github.com/ethereum/consensus-specs/pull/4003/files#diff-0f7a06fa979df412c5acb834e61b60d638ce6397657b09968f66415cae998b5b\n(Though the constant itself is not defined anywhere in the spec still, afaict) (re @InclusionList_bot: \u003cjgm\u003e Is the EIP still significantly in flux then?  I can see `MAX_BYTES_PER_INCLUSION_LIST` in https://eips.ethereum.org/EIPS/eip-7805 but there is no reference to it anywhere else in the EIP that I can see (I would assume that it would show up as a validation rule in https://github.com/ethereum/consensus-specs/blob/e678deb772fe83edd1ea54cb6d2c1e4b1e45cec6/specs/_features/eip7805/p2p-interface.md but there isn't anything there that references this value (although there is a reference to ``MAX_TRANSACTIONS_PER_INCLUSION_LIST in them)).)",
        "created_at": "2024-12-16T11:54:49.133000+00:00",
        "attachments": null
    }
]