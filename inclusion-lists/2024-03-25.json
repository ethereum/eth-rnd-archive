[
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "I don't get it, why should this be compatible with aa?",
        "created_at": "2024-03-25T09:10:02.374000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think the only way to make it compatible is if aa would increment your nonce, but that would make recovering from a bad aa relayer impossible",
        "created_at": "2024-03-25T09:12:20.164000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "We've been brainstorming a bunch about it, but can't find a way to make it work. I'll write down \u003c@1000001410538151996\u003e and my ideas on it later, maybe we can inspire a solution ;)",
        "created_at": "2024-03-25T09:13:42.395000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@\u0026595685821026271242\u003e",
        "created_at": "2024-03-25T10:29:59.299000+00:00",
        "attachments": []
    },
    {
        "author": "pawandhananjay",
        "category": "Cross-layer",
        "parent": "",
        "content": "sorry i missed this msg last week.\nThe flooding the network with bad ILs won't work if the transactions are invalid since they won't be propagated over the gossip network. \nIf you see the invalid IL first, you just reject it and don't propagate. So i don't think it's a DoS risk",
        "created_at": "2024-03-25T12:30:22.865000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "My thoughts on Inclusion lists atm",
        "created_at": "2024-03-25T13:05:55.690000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "IyBJbmNsdXNpb24gTGlzdHMKCldlIChAZGFuaWVsa25vcGlrKSBhbmQgSSBoYXZlIGJlZW4gdGhpbmtpbmcgYSBiaXQgYWJvdXQgaW5jbHVzaW9uIGxpc3RzIGFuZCBjYW1lIHRvIHRoZSBjb25jbHVzaW9uIHRoYXQgdGhlIGN1cnJlbnQgc3BlYyBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGN1cnJlbnQgdmVyc2lvbnMgb2YgQWNjb3VudCBBYnN0cmFjdGlvbiAoYXMgcHJvcG9zZWQgYnkgRUlQLTMwNzQpLiBJbmNsdXNpb24gbGlzdHMgb25seSB3b3JrIGlmIHRoZSB0cmFuc2FjdGlvbnMgaW4gdGhlIGluY2x1c2lvbiBsaXN0IGFyZSBleGVjdXRhYmxlIGF0IHRoZSBtb21lbnQgb2YgYmxvY2sgY3JlYXRpb24uIFRoZXkgbWlnaHQgYmUgc3dhcHBlZCBvdXQgYnkgdGhlIHNlbmRlciwgYnV0IHRoYXRzIG9rYXkgYXMgbG9uZyBhcyB0aGV5IHNhdGlzZnkgdGhlIG5vbmNlIHJlcXVpcmVtZW50cy4gCgpUaGUgY3VycmVudCBpbmNsdXNpb24gbGlzdCBkZXNpZ24gaGFzIHR3byBiaWcgZHJhd2JhY2tzIGluIG91ciBvcGluaW9uOgoKMSkgSW5jbHVzaW9uIGxpc3RzIGNhbiBvbmx5IGNvbnRhaW4gb25lIHRyYW5zYWN0aW9uIHBlciBhY2NvdW50LgpBZ2FpbiBhbGwgdHJhbnNhY3Rpb25zIGluIHRoZSBpbmNsdXNpb24gbGlzdCBoYXZlIHRvIGJlIGV4ZWN1dGFibGUgZXZlbiBpZiBvbmUgb3IgbXVsdGlwbGUgb2YgdGhlbSBhcmUgc3dhcHBlZCBvdXQgYnkgdHhzIHdpdGggdGhlIHNhbWUgbm9uY2UuIFN1cHBvc2UgdGhlIGluY2x1c2lvbiBsaXN0IGNvbnRhaW5zIHR3byB0cmFuc2FjdGlvbnMgZnJvbSB0aGUgc2FtZSBhY2NvdW50ICh0eDEgYW5kIHR4Mikgd2l0aCBub25jZSAxIGFuZCAyIHJlc3BlY3RpdmVseS4gQW4gImF0dGFja2VyIiBjb3VsZCBub3cgc3dhcCBvdXQgdHgxIHdpdGggdHgzIHdpdGggbm9uY2UgMSB0aGF0IHNwZW5kcyBhbGwgdGhlIGZ1bmRzIG9mIHRoZSBhY2NvdW50LiBOb3cgdHgyIGlzIG5vdCBpbmNsdWRlLWFibGUgYW55bW9yZSBtYWtpbmcgaXQgaW1wb3NzaWJsZSB0byBidWlsZCBhIGJsb2NrIG9uIHRvcCBvZiB0aGlzIGJsb2NrLiBUaGUgb2J2aW91cyBzb2x1dGlvbiB0byB0aGlzIGlzIHRvIGxpbWl0IHRoZSBpbmNsdXNpb24gbGlzdCB0byBvbmUgYWRkcmVzcyBwZXIgYWNjb3VudC4KCjIpIEluY2x1c2lvbiBsaXN0cyBhcmUgbm90IGNvbXBhdGlibGUgd2l0aCBFSVAtMzA3NC4KMzA3NCBhbGxvd3MgYW4gYWNjb3VudCB0byBkZWNyZWFzZSB0aGUgZXRoZXIgYmFsYW5jZSBvZiBhbm90aGVyIGFjY291bnQgd2l0aG91dCBpbmNyZW1lbnRpbmcgdGhlaXIgbm9uY2UuCkFuIGF0dGFja2VyIHdvdWxkIGNyZWF0ZSBhbiBpbmNsdXNpb24gbGlzdCB3aXRoIGEgdHggZnJvbSBhY2NvdW50IGEgYW5kIHRoZSBwZW5kaW5nIG5vbmNlIDEuIE5vdyB0aGV5IHdvdWxkIHNlbmQgYW4gRUlQLTMwNzQgdHJhbnNhY3Rpb24gYW5kIHNwZW5kIGFsbCB0aGUgZnVuZHMgZnJvbSBhY2NvdW50IGEuIE5vdyB0aGUgaW5jbHVzaW9uIGxpc3QgY2FuIG5vdCBiZSBzYXRpc2ZpZWQgYW55bW9yZS4gWW91IGNvdWxkIGRvIGl0IHdpdGggcmVvcmRlcmluZyB0aGUgdHJhbnNhY3Rpb25zLCBidXQgdGhhdCB3b3VsZCBtYWtlIGJsb2NrIGJ1aWxkaW5nIE5QLWhhcmQgYW5kIGl0IG1pZ2h0IGV2ZW4gYmUgaW1wb3NzaWJsZSB3aXRoIG11bHRpcGxlIHRyYW5zYWN0aW9ucyBzcGVuZGluZyB0aGUgZnVuZHMgb2YgZWFjaCBvdGhlci4KCk9uZSBhbnN3ZXIgdG8gdGhpcyB3b3VsZCBiZSB0byByZXF1aXJlIDMwNzQgdG8gaW5jcmVhc2UgdGhlIGFjY291bnQgbm9uY2Ugb24gZXZlcnkgQVVUSENBTEwuIFRoaXMgd2lsbCBtYWtlIGl0IGltcG9zc2libGUgdG8gcmV2b2tlIDMwNzQgYXV0aGVudGljYXRpb25zIGFnYWluIHRob3VnaC4gCgpBbm90aGVyIGlzc3VlIHdlIGNhbWUgYWNyb3NzIGlzIHRoYXQgYW4gYXR0YWNrZXIgY291bGQgaW5jbHVkZSBhIDMwNzQgdHJhbnNhY3Rpb24gaW4gdGhlIGluY2x1c2lvbiBsaXN0IHRoYXQgc3BlbmRzIHRoZSBmdW5kcyBvZiBhbm90aGVyIHRyYW5zYWN0aW9uIGluIHRoZSBpbmNsdXNpb24gbGlzdCwgd2hpY2ggd291bGQgbWFrZSBzYXRpc2Z5aW5nIHRoZSBpbmNsdXNpb24gbGlzdCBpbXBvc3NpYmxlLiBUaGUgKHdyb25nKSBhbnN3ZXIgdG8gdGhpcyB3b3VsZCBiZSB0byB0cmFjZSBldmVyeSB0cmFuc2FjdGlvbiB0aGF0IHdlIHB1dCBpbnRvIHRoZSBpbmNsdXNpb24gbGlzdCBhbmQgcmVqZWN0IHRyYW5zYWN0aW9ucyB0aGF0IHVzZSBBVVRIQ0FMTC4gVGhpcyBob3dldmVyIGlzIG5vdCBhIHZhbGlkIHNvbHV0aW9uIHNpbmNlIHRoZSBhdHRhY2tlciBjYW4gYWx3YXlzIHJlcGxhY2UgdGhlIHRyYW5zYWN0aW9uIGluIHRoZSBpbmNsdXNpb24gbGlzdCB3aXRoIGFub3RoZXIgdHJhbnNhY3Rpb24gdGhhdCBleGVjdXRlcyB0aGUgYXV0aGNhbGwuIAoKRXZlbiBpZiB3ZSBzb21laG93IHJlbW92ZWQgdGhlIGFiaWxpdHkgdG8gcmVwbGFjZSB0cmFuc2FjdGlvbnMgaW4gdGhlIGluY2x1c2lvbiBsaXN0LCBhbiBhdHRhY2tlciBjb3VsZCBjcmVhdGUgYSBjb250cmFjdCB0aGF0IGRvZXMgc29tZXRoaW5nIGxpa2UgdGhpczogYGlmIHggZG8gQVVUSENBTEwgZWxzZSBkbyBub3RoaW5nYC4gSWYgdGhlIHRyYW5zYWN0aW9uIHdvdWxkIG1ha2UgaXQgaW50byB0aGUgaW5jbHVzaW9uIGxpc3QsIHRoZXkgd291bGQgZnJvbnRydW4gaXQgd2l0aCBhIGhpZ2ggcGF5aW5nIHRyYW5zYWN0aW9uIHRoYXQgc2V0cyBgeGAuICh5YWRhIHlhZGEgYmxvY2sgYnVpbGRpbmcgYmVjb21lcyBOUC1oYXJkKS4KCk9uZSBpZGVhIHdlIGhhZCB3YXMgdG8gb25seSBidWlsZCB0aGUgaW5jbHVzaW9uIGxpc3QgX2FmdGVyXyBidWlsZGluZyB0aGUgYmxvY2ssIHNvIG5vdCBmb3IgdGhlIGN1cnJlbnQgYmxvY2sgYnV0IG9ubHkgZm9yIHRoZSBuZXh0LiBUaGlzIHdvdWxkIG1ha2UgaXQgZWFzaWVyIHRvIHNlZSB3aGljaCB0cmFuc2FjdGlvbnMgY2FuIGJlIGluY2x1ZGVkLiBOb2RlcyB3b3VsZG4ndCBuZWVkIHRvIGxvb2sgb25lIGJsb2NrIGFoZWFkLiBUaGUgaXNzdWUgaXMgdGhhdCB0aGUgaW5jbHVzaW9uIGxpc3Qgd291bGQgdGhlbiBuZWVkIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCB0aGUgYmxpbmRlZCBiZWFjb24gYmxvY2sgdGhhdCB3ZSBnZXQgZnJvbSBNRVYtQm9vc3QuIFdoaWNoIGlzIG5vdCByZWFsbHkgYW4gb3B0aW9uIGluIHRoZSBjdXJyZW50IE1FVi1Cb29zdCBpbmZyYXN0cnVjdHVyZSB3b3JsZC4gQW5kIGV2ZW4gaWYgd2UgbWFkZSB0aGF0IHdvcmssIHdlIHdvdWxkIHN0aWxsIG5vdCBiZSBhYmxlIHRvIGZpeCBzb21lIG9mIHRoZSAzMDc0IGlzc3Vlcy4KCkluIGNvbmNsdXNpb24gSSB0aGluayB0aGF0IHRoZSBjdXJyZW50IHNwZWMgaXMgbGFja2luZyBhbmQgd2UgbWlnaHQgbmVlZCB0byByZXRoaW5rIGluY2x1ZGluZyBpdCBpbiBQcmFndWUvRWxlY3RyYS4gV2UgZmVlbCB0aGF0IGl0IG5lZWRzIG1vcmUgdGltZSBhbmQgcnVzaGluZyB0aGVzZSBjaGFuZ2VzIGNhbiBoYXZlIHVuaW50ZW5kZWQgY29uc2VxdWVuY2VzLg=="
            }
        ]
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is in line with the above. AA compatibility seems to be a deeper problem than originally thought",
        "created_at": "2024-03-25T13:08:42.537000+00:00",
        "attachments": []
    },
    {
        "author": "mikeneuder",
        "category": "Cross-layer",
        "parent": "",
        "content": "agree",
        "created_at": "2024-03-25T13:08:58.773000+00:00",
        "attachments": []
    },
    {
        "author": "mikeneuder",
        "category": "Cross-layer",
        "parent": "",
        "content": "thinking on it more",
        "created_at": "2024-03-25T13:09:24.418000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think our core observation is that AA makes block building np-hard (by tying the validity of one transaction to potentially multiple others) and this is fine as long as you can just choose to not include any transaction.",
        "created_at": "2024-03-25T13:19:43.163000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think this is not the way to think on how to solve this problem: instead of trying to build a block with this tx or to exclude it, what you need to think is in the difficulty of block validation, not construction. That is, if the builder tries to include the tx in the IL and fails, then he should be able to skip it and validators should be able to recognize this and declare the IL satisfied anyway. That's the difficulty and not in block production",
        "created_at": "2024-03-25T13:23:02.410000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yep, that would enable free DA though",
        "created_at": "2024-03-25T13:23:54.898000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cfradamt\u003e I agree, I don't see how you can do that without including the full tx and creating free DA",
        "created_at": "2024-03-25T13:24:26.381000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Not in principle if you can identify the failure to inclusion with metadata purely in the summary",
        "created_at": "2024-03-25T13:26:04.952000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "In principle yes, but in order to identify the failure, you would need to include the whole transaction in the metadata, creating free DA again",
        "created_at": "2024-03-25T13:30:13.405000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "No matter how you identify the failure (touched accounts, calls to Auth, etc) you can always create a transaction that does something different between when it was included in the list and the final execution. (Based on beacon randomness, blocknumber, etc)",
        "created_at": "2024-03-25T13:32:44.597000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hmm those changes would make the transaction not includable after 3074 or revert?",
        "created_at": "2024-03-25T13:34:28.569000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "It would make it not includable",
        "created_at": "2024-03-25T13:36:04.273000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Can you give me the inclusion conditions? I was told the other day that we consider only nonce, compatibility with base fee, availability of funds and signature. What else is there?",
        "created_at": "2024-03-25T13:37:10.209000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "Availability of funds",
        "created_at": "2024-03-25T13:37:28.640000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Is it not in that list above?",
        "created_at": "2024-03-25T13:40:36.306000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I am not following",
        "created_at": "2024-03-25T13:40:45.847000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "You add the following transactions in the inclusion list: \n1) tx that sets x = true on a contract\n2) tx that triggers a function on that account that does Authcall if x == true and spends all funds from account A\n3) a tx from account A\n\nIndividually all transactions are includable, in sequence they are not (the third one can not be included because A doesn'thave enough funds). A miner could reorder them, but I could create another example that you can not reorder.",
        "created_at": "2024-03-25T13:42:52.458000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Still, you can check all this from the summary: you validate that these tx can be included in N right now, so we know that the funds are available now. The builder for N screws this for whatever reasons. The builder for N+1 can't include some of these txs. You can prove that it could include them in N purely from data in the summary (if you include the balance in the above example) and therefore you can allow the payload",
        "created_at": "2024-03-25T13:47:15.680000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "But you would still get the free data availability",
        "created_at": "2024-03-25T13:50:01.811000+00:00",
        "attachments": []
    },
    {
        "author": "danielknopik",
        "category": "Cross-layer",
        "parent": "",
        "content": "Thus making the IL conditional? Then you would need to prove that it can not be included in N + 1, right?",
        "created_at": "2024-03-25T13:50:58.682000+00:00",
        "attachments": []
    },
    {
        "author": "danielknopik",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is hard because there might be a tx order where it IS possible to include them",
        "created_at": "2024-03-25T13:51:21.415000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "And finding the right tx order is NP",
        "created_at": "2024-03-25T13:51:58.099000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The order can be specified in the IL itself. At N you validated that the txs are includable at N+1 if the first tx that is missing is from A you check the balance before and after N, if it decreased you ignore it",
        "created_at": "2024-03-25T13:52:47.265000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The summary can be an ordered list",
        "created_at": "2024-03-25T13:53:01.172000+00:00",
        "attachments": []
    },
    {
        "author": "danielknopik",
        "category": "Cross-layer",
        "parent": "",
        "content": "Creating an opportunity for the IL to be MEV'd, I think",
        "created_at": "2024-03-25T13:53:50.579000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "That's a separate issue",
        "created_at": "2024-03-25T13:54:06.959000+00:00",
        "attachments": []
    },
    {
        "author": "pawandhananjay",
        "category": "Cross-layer",
        "parent": "",
        "content": "can you include the balance for each address at pre-state of N. changing of balance for the address can be grounds for non-inclusion in the IL in N+1 maybe",
        "created_at": "2024-03-25T13:54:18.061000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "We can go that route of discussion but will deter from the current one",
        "created_at": "2024-03-25T13:54:36.529000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "That's what's mentioned above",
        "created_at": "2024-03-25T13:54:49.211000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "Again free DA",
        "created_at": "2024-03-25T13:55:47.267000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "How?",
        "created_at": "2024-03-25T13:56:09.165000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The tx is not included anywhere",
        "created_at": "2024-03-25T13:56:18.614000+00:00",
        "attachments": []
    },
    {
        "author": "pawandhananjay",
        "category": "Cross-layer",
        "parent": "",
        "content": "the free DA is what exactly? the balance info?",
        "created_at": "2024-03-25T13:56:19.839000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "You need to send the transactions belonging to the inclusion list to the miner, otherwise we might not have them",
        "created_at": "2024-03-25T13:57:06.309000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "So?",
        "created_at": "2024-03-25T13:57:30.724000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "If you can make a transaction unincludable you don't need to pay for the data it has",
        "created_at": "2024-03-25T13:57:38.543000+00:00",
        "attachments": []
    },
    {
        "author": "pawandhananjay",
        "category": "Cross-layer",
        "parent": "",
        "content": "but that isn't getting included on chain",
        "created_at": "2024-03-25T13:57:39.217000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "But it needs to be provided to all validators",
        "created_at": "2024-03-25T13:57:54.768000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This doesn't cause free da",
        "created_at": "2024-03-25T13:58:10.491000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The current methods, regardless of AA already suffers from this",
        "created_at": "2024-03-25T13:58:28.508000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "We're about to board our flight, we will come back to this in 15 hours ðŸ¤¢",
        "created_at": "2024-03-25T13:59:34.465000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Buy Internet, tim will refund ðŸ˜‚",
        "created_at": "2024-03-25T14:00:11.377000+00:00",
        "attachments": []
    },
    {
        "author": "danielknopik",
        "category": "Cross-layer",
        "parent": "",
        "content": "He can't refund sleep :D",
        "created_at": "2024-03-25T14:00:29.310000+00:00",
        "attachments": []
    },
    {
        "author": "pawandhananjay",
        "category": "Cross-layer",
        "parent": "",
        "content": "don't worry, we'll change the entire spec by the time you land",
        "created_at": "2024-03-25T14:00:55.639000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "Oh I think I have another issue, a malicious mev miner can add transactions that provide a lot of mev if ordered in the right way, but missorders them in the inclusion list. Only they will be able to order them in the correct way to extract the mev. So we would need to make the ordering of the il fixed anyway (maybe)",
        "created_at": "2024-03-25T14:02:13.447000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think I'm worried a step further than \u003c@360491619402776577\u003e: I think there are designs to deal with the validation conditions listed above: balances, nonce,etc. But I think there aren't any designs for the general AA we may enshrine",
        "created_at": "2024-03-25T14:02:19.953000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I always thought ordering in the IL should be strict and even tob, but I don't want to get back to the whole MEV flame wars",
        "created_at": "2024-03-25T14:03:18.730000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm going to buy internet, but its probably spotty",
        "created_at": "2024-03-25T14:03:28.222000+00:00",
        "attachments": []
    },
    {
        "author": "barnabemonnot",
        "category": "Cross-layer",
        "parent": "",
        "content": "i'm ready if you are ðŸ˜„",
        "created_at": "2024-03-25T14:08:35.609000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Nah, I'm trying to salvage my desktop that fried in the storm",
        "created_at": "2024-03-25T14:09:08.797000+00:00",
        "attachments": []
    },
    {
        "author": "pawandhananjay",
        "category": "Cross-layer",
        "parent": "",
        "content": "if we think specifically about 3074, invalidating a tx in an IL because its  balance changed between pre-state of N and applying the IL at N+1 should be good enough right?",
        "created_at": "2024-03-25T14:18:16.220000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think so",
        "created_at": "2024-03-25T14:48:05.511000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e ya i still like the balance change check and fancier future AA stuff makes those acct inelligible for IL",
        "created_at": "2024-03-25T16:05:10.598000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Has anyone written and committed the change to the new balance change check condition in the current spec? Keen to look what it looks like",
        "created_at": "2024-03-25T16:27:54.834000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e nope been holding off bc im hesistant to change it if we immediately revert. lol. been a lot of back and forth. the change is super simple, just add a balance to the summary entry and check it like the nonce check in the stf.",
        "created_at": "2024-03-25T16:33:23.912000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e can do so later today if we are confident its worth seeing",
        "created_at": "2024-03-25T16:33:33.126000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I want to stress that the balance thing is not a full solution in that it makes the forkchoice issue much harder to solve: it makes it impossible to recreate the IL from the two blocks",
        "created_at": "2024-03-25T17:00:50.448000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think this problem goes deep and it requires rethinking, we shouldn't rush to commit to any quick patch right now",
        "created_at": "2024-03-25T17:01:33.197000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e the point being: attester at slot N+1 cannot know if there is an IL available just from seeing the payload of slot N and slot N+1, they actually need to see the IL itself.",
        "created_at": "2024-03-25T17:08:43.054000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e is that right ?",
        "created_at": "2024-03-25T17:08:45.419000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e I have only followed along passively a bit here, but I am somewhat confused. So the current issue is that the IL design is fundamentally not forward compatible with a potential future enshrinement of \"arbitrary validity condition\" AA. and in addition, would require an adjustment either to the IL design or to 3074 to be compatible with that?\n\nIf that's the situation, I am not sure I understand the jump to \"we need to hold off with ILs for now\". To me:\n- ILs are a strong priority\n- they do not create legacy bloat (vs say opcodes that need to be supported forever)\n- it is entirely unclear whether we will ever enshrine AA and in what form (and if so likely still several years away)\n- 3074 compatibility, while a symptom of this general AA issue, is not in itself hard to fix. and 3074 inclusion in prague is far from certain anyway.\n\nTo me these all strongly motivate moving ahead with ILs for Electra, and then potentially move to some IL 2.0 design in the far future where we might actually get serious about enshrined AA (if ever)",
        "created_at": "2024-03-25T17:10:47.353000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "~~Correct~~",
        "created_at": "2024-03-25T17:12:45.915000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Oh no Mike",
        "created_at": "2024-03-25T17:13:17.963000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I meant the IL for N can't be reconstructed from N and N+1",
        "created_at": "2024-03-25T17:13:43.287000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e right thats what i meant ya. but donâ€™t i only need to know if the IL is available for the current slot, which depends on receiving the gossip msg anyways ? (re @InclusionList_bot: \u003cpotuz\u003e I meant the IL for N can't be reconstructed from N and N+1)",
        "created_at": "2024-03-25T17:15:50.424000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e The problem is that it makes N+1 not reorgeable and if N becomes the head the network deadlocks",
        "created_at": "2024-03-25T17:16:35.315000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e what about if we bound the IL availability condition to considering heads that were produced in the given slot (according to the timestamp)",
        "created_at": "2024-03-25T17:17:54.374000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e What about it?",
        "created_at": "2024-03-25T17:18:19.783000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e dont see the deadlock there, everyone gonna vote for the heaviest chain and the next proposer going to build on it and gossip the il",
        "created_at": "2024-03-25T17:18:50.514000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e No one has the IL for N, how do you produce a descendent?",
        "created_at": "2024-03-25T17:19:00.370000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e and you are saying the slot N+1 payload that got reorged had a summary that it claimed to satisfy, but no honest attesters saw the corresponding list of txns with that summary ?",
        "created_at": "2024-03-25T17:22:48.253000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes",
        "created_at": "2024-03-25T17:23:09.957000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e (thinking out loud) what if you only required a signed summary if the parent block is from the previous slot",
        "created_at": "2024-03-25T17:23:33.632000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "That defeats ILs",
        "created_at": "2024-03-25T17:23:48.763000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "It makes it constant price to censor",
        "created_at": "2024-03-25T17:23:56.736000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e well youâ€™d have to reorg",
        "created_at": "2024-03-25T17:23:57.468000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e like youâ€™d have to reorg out the previous block to avoid its IL",
        "created_at": "2024-03-25T17:24:23.125000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "No need to reorg: simply not reveal the payload",
        "created_at": "2024-03-25T17:24:39.191000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e like if you control N and N+1 ?",
        "created_at": "2024-03-25T17:25:04.913000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e if you control N, N+1, then ya you can ignore the slot N-1 IL",
        "created_at": "2024-03-25T17:25:59.151000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "No, I saw an IL in N that I don't want to be included. I pay a large bid on N+1 and I don't include my payload. The builder of N+2 is not required to include the summary",
        "created_at": "2024-03-25T17:26:09.536000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I successfully censored with a single block",
        "created_at": "2024-03-25T17:26:36.017000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e ya probably annoying amount of games opened up there",
        "created_at": "2024-03-25T17:26:44.699000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Defeats the whole design of forced ILs",
        "created_at": "2024-03-25T17:26:47.190000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e /end thought experiment",
        "created_at": "2024-03-25T17:26:51.714000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@415548822983278593\u003e I would agree with you if there weren't many teams heavily invested and developing on AA on many fronts. It seems that the ability of one account to allow spending by others is ubiquitous in all such designs and this very idea is incompatible with the current design of ILs. I think this is a fundamental mismatch that needs to be clarified",
        "created_at": "2024-03-25T17:28:52.088000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cmikeneuder\u003e so the main FC issue you see is this reconstruction thing? would love to hear @fradamt take too, stepping out for a bit",
        "created_at": "2024-03-25T17:29:33.976000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Reconstruction is not the only solution, but it's one, the others have their own problems",
        "created_at": "2024-03-25T17:30:26.516000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Funny thing is that ePBS is not subject to this problem because of block slot. If the IL for N wasn't available and N+1 is built on top of N, validators will not vote for N+1 because their head was N-1 still",
        "created_at": "2024-03-25T19:11:13.632000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "I spent the day reading up on EIP-3074. Luckily, Dom's post also came out today: https://domothy.com/eip3074/\nI found this particular line interesting: `The latest version of the EIP also allows for the invoker to spend Ether from the balance of the authorized EOA`\nSeems like the older version of the EIP wasn't the case",
        "created_at": "2024-03-25T22:39:41.933000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e yeah, I think that it's simply a waste of time to push for inclusion of ILs without involving the 3074 authors/implementers or finding a complete satisfactory solution that it is at least compatible with that. It may well be that 3074 can be adapted to ILs, but keeping this discussion separated seems silly to me (re @InclusionList_bot: \u003cterence0083\u003e I spent the day reading up on EIP-3074. Luckily, Dom's post also came out today: https://domothy.com/eip3074/\nI found this particular line interesting: `The latest version of the EIP also allows for the invoker to spend Ether from the balance of the authorized EOA`\nSeems like the older version of the EIP wasn't the case)",
        "created_at": "2024-03-25T22:51:35.673000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Cross-layer",
        "parent": "",
        "content": "The original version of 3074 also allowed for ether transfer, but it was restricted during one of the early pushes for inclusion (berlin or london I think) out of extraordinary caution. We have always considered it a reasonable feature of 3074 (thus the extValue paramater that was a long a part of the stack args which we hoped to activate in a future fork)",
        "created_at": "2024-03-25T23:13:16.182000+00:00",
        "attachments": []
    }
]