[
    {
        "author": "fabdarice",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Pardon me if this has already been covered, after listening to a podcast with Tim Roughgarden, I’m curious to hear what prevention we have against miners colluding to not include any transactions without tip?\nSurely this will increase the demand to get included and push the elasticity of the block size.",
        "created_at": "2021-05-17T15:46:22.911000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Such a strategy would result in any miners that defect from the collusion would receive far more money than miners that collude.",
        "created_at": "2021-05-17T15:51:02.007000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Unless you do a censorship attack, in which case that is already very profitable today.",
        "created_at": "2021-05-17T15:51:41.365000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To be clear, though, it’s fine for miners to not include transaction with 0 tip. But it becomes economically disadvantageous as soon as the tip \u003e the cost of running the txn, which is around 1 gwei",
        "created_at": "2021-05-17T15:54:03.897000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think you mean `\u003c`.",
        "created_at": "2021-05-17T15:55:42.115000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No? It’s bad economically to not include txns when the tip is larger than the cost of running the txn",
        "created_at": "2021-05-17T15:57:55.542000+00:00",
        "attachments": null
    },
    {
        "author": "izz.y",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No I think \u003e is correct.",
        "created_at": "2021-05-17T15:57:57.527000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I admit my sentence isn’t super clear. Simpler: if the tip pays for the computation cost + uncle risk (which happens around 1 gwei), rational miners will include that txn.",
        "created_at": "2021-05-17T15:58:40.121000+00:00",
        "attachments": null
    },
    {
        "author": "izz.y",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How do you estimate/calculate \"cost of running the txn\" btw?",
        "created_at": "2021-05-17T15:58:48.453000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, I see what you are trying to say.",
        "created_at": "2021-05-17T15:59:23.490000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I’m not sure at a single txn level, but if all txns had 0 tips, then miners would just mine empty blocks. So, I think you want the average block to provide more tips than the cost of maintaining a mempool, and divide that cost per the total # of txns in a block",
        "created_at": "2021-05-17T16:00:28.313000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://discord.com/channels/595666850260713488/749160974506000444/842646531529244682",
        "created_at": "2021-05-17T16:00:41.397000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Uncle risk is different, though, no?",
        "created_at": "2021-05-17T16:01:11.456000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You want the tip to cover both that _and_ the cost of running the actual node.",
        "created_at": "2021-05-17T16:01:26.280000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Although the latter may be negligible compared to uncle risk?",
        "created_at": "2021-05-17T16:01:37.033000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Computational costs are insignificant.",
        "created_at": "2021-05-17T16:01:43.663000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "one risk we see is that with a tip as low as 1 gwei miners won't inklude any tx at all, a 15M block of 1 GWei tx will yield a reward of 0.015 eth which can easily be offset by including mev tx, so miners that don't inklude tx at all (besides one that yield mev rewards) would not miss out on a lot of money compared to miners that include such cheap tx",
        "created_at": "2021-05-17T17:03:51.106000+00:00",
        "attachments": null
    },
    {
        "author": "fabdarice",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "thanks, the slight difference that I see I guess is that today, it's free for miners to congest the network to drive the price up, whereas post EIP-1559, they won't be able to.\n\nNot including tx without tip seems to be an alternative way for them to cause network congestion, which *could* technically be more favorable than full blocks with mainly 0 tips.",
        "created_at": "2021-05-17T17:04:22.875000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "once eip 1559 goes live mev tx will be the main source of fee revenue for miners",
        "created_at": "2021-05-17T17:05:04.024000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What do you think we should message as a minimum tip?",
        "created_at": "2021-05-17T17:22:17.174000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i believe something between 10-100gwei will be most appropriate",
        "created_at": "2021-05-17T17:25:13.373000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but the accepted min tip will change depending on the amount of mev tx available",
        "created_at": "2021-05-17T17:25:54.559000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if i have a mev tx available that yields 1 eth in reward i won't include any 1 gwei tx at all for example",
        "created_at": "2021-05-17T17:26:33.750000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't quite understand why it should be 10-100 gwei. That seems like it's territory for the base fee to solve, not the tip",
        "created_at": "2021-05-17T17:26:41.061000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "miners don't care about the base fee",
        "created_at": "2021-05-17T17:27:23.673000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That's fine, but you'd make more money if you would have included it.",
        "created_at": "2021-05-17T17:27:24.869000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "only the tip",
        "created_at": "2021-05-17T17:27:26.236000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes but only by 0.5% at the increased risk of uncling the block",
        "created_at": "2021-05-17T17:27:58.640000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it is somethings miners should do now already in case of really big mev rewards",
        "created_at": "2021-05-17T17:28:19.547000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "as long as the tip is high enough to offset that risk",
        "created_at": "2021-05-17T17:28:21.580000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and you're saying that's 100 gwei?",
        "created_at": "2021-05-17T17:28:32.277000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "depends on what is at stake",
        "created_at": "2021-05-17T17:28:46.341000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ah, that's what you mean",
        "created_at": "2021-05-17T17:29:03.949000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So, if I understand correctly, you are saying that MEV increases the cost of uncle risk dramatically, and so the tip needs to be adjusted as a function of that?",
        "created_at": "2021-05-17T18:05:00.355000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "When you add an MEV transaction, do you start from an empty block or just add the transaction at the top of the block, \u003c@!471975503859810316\u003e ? If it's the latter, wouldn't the 1 gwei/tip txns already be \"in\" the block?",
        "created_at": "2021-05-17T18:06:22.048000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess you would start with the highest paying transactions, and that you'd have some kind of risk/reward curve for every additional transaction you include. If you start very high, then the priority fee cut-off will be high. If you start low(ish), the cut-off will be low as well. I don't quite understand uncle rates that well though, so maybe someone with more expertise can chime in. The picture that Micah linked before assumes a flat line (but I get the feeling that is indeed not the case)\n\n(\u003c@!486501030046203915\u003e did you model something like this by any chance?)",
        "created_at": "2021-05-17T18:12:45.308000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You start with MEV (as they want to be at the top of the block) and then continue with local tx and then mempool tx",
        "created_at": "2021-05-17T18:34:30.194000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess the argument is that the 1 gwei tx is counterproductive to add because marginal uncle risk * MEV_revenue \u003e 1 gwei * gas_used?",
        "created_at": "2021-05-17T20:20:12.130000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That's true in theory. but....",
        "created_at": "2021-05-17T20:20:21.392000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Remember that today, when the loss from uncling is 0.33 ETH, the compensating basefee is something like 0.5-1 gwei",
        "created_at": "2021-05-17T20:20:58.135000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So it would only go up high in those specific blocks where MEV is *really* high",
        "created_at": "2021-05-17T20:21:09.757000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And that would happen sometimes, but rarely",
        "created_at": "2021-05-17T20:21:20.372000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but I could see this effect meaning that if you set a low tip, you only have a ~90% chance to get included, and if you set a high tip that goes up",
        "created_at": "2021-05-17T20:21:56.771000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "though remember that with PoS this changes again, because marginal uncle risk reduces further as PoS is not a poisson distribution",
        "created_at": "2021-05-17T20:22:20.200000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So, right now the average MEV reward is .16ETH as per https://etherchain.org/miner",
        "created_at": "2021-05-17T20:52:58.445000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Which would suggest that on average you probably want the tip increased by half of what you want for the non-MEV uncle risk",
        "created_at": "2021-05-17T20:53:23.885000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "At .5-1, this means you add .25-.5, so you're between .75-1.5 gwei, but that doesn't work great in times of high MEV.",
        "created_at": "2021-05-17T20:54:58.065000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So my feeling at this point is that 1 gwei probably still is a good default for \"reasonably quick\" inclusion, but wallets should definitely surface an \"ASAP\" option which is 10-100x that. There really is no way for them to know what the MEV opportunity cost is, though. I'm not sure what's the best way to figure out the right gas amount.",
        "created_at": "2021-05-17T20:58:08.899000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'll ask in the flashbots discord to see if they have any thoughts.",
        "created_at": "2021-05-17T20:58:17.283000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Better dashboard, from https://dashboard.flashbots.net/miners. Based on these numbers, MEV opportunities represent ~2/3rd of the uncle risk cost, so that means a 2 gwei min tip is likely safer than 1 gwei. The Flashbots team mentioned that right now blocks only include a single MEV bundle and in the coming weeks blocks will be able to include \u003e1, which will increase the MEV revenue.",
        "created_at": "2021-05-17T21:25:06.955000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screen_Shot_2021-05-17_at_2.21.06_PM.png",
                "content": "88f34341ed0b55f08867ef0354a71a48666a229ff7e4bbe1e8881fe9b7391bee"
            }
        ]
    }
]