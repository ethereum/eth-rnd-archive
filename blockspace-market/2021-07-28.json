[
    {
        "author": "nieldlr",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Am I correct in my assumption that you over pay the base fee, the excess will be refunded?",
        "created_at": "2021-07-28T11:19:19.028000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes.  Set the max base fee tot he maximum you are willing to pay, no fear of overpaying on that.",
        "created_at": "2021-07-28T11:27:11.511000+00:00",
        "attachments": null
    },
    {
        "author": "nieldlr",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Thanks \u003c@!301186049323958275\u003e!",
        "created_at": "2021-07-28T11:31:22.091000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I didn't really pay much attention to 1559 in its early days, so I am curious: Was there ever discussion about a slightly modified payment mechanism where the miner / block proposer would pay for the used block space out of the coinbase at the end of the block? Same base fee mechanism and everything, just different payment flow? We would have still needed the new \"max fee cap / max tip\" tx type (to stop users from being overcharged), but that would have allowed miners more freedom around including txs from accounts without ether at the start of the tx...",
        "created_at": "2021-07-28T11:33:33.153000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "First thing that comes to mind is a possible DoS vector when doing it that way",
        "created_at": "2021-07-28T11:46:26.276000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not sure it's easy to figure out if a transaction will succeed, how much gas it will use, how much you as a miner will end up getting, _without_ executing/simulating the entire transaction",
        "created_at": "2021-07-28T11:47:47.478000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Right, that's why the tx would still charge the user `min(max_fee_cap, base_fee + max_tip) * gas_limit` upfront. That way miners could choose to only accept txs with `max_fee_cap \u003e= base_fee` (and thus guarantee that they get paid at least as much as they have to pay for the block space) or to also accept txs with lower `max_fee_cap` if they had some other ways of ensuring payment.",
        "created_at": "2021-07-28T11:52:08.126000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "just seems like the overall superior mechanism on first glance",
        "created_at": "2021-07-28T11:52:59.419000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e but that would have allowed miners more freedom around including txs from accounts **without ether at the start of the tx..**\nThat's not quite what you said though ðŸ˜‰",
        "created_at": "2021-07-28T11:53:09.500000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but otherwise I agree; it's a bit in line with letting _others_ pay for your transactions (account abstraction stuff) as well I guess",
        "created_at": "2021-07-28T11:54:01.103000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, that specifically would be for txs with `max_fee_cap == 0`. sorry, wasn't clear about that",
        "created_at": "2021-07-28T11:54:04.737000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "exactly, that's where my thoughts came from",
        "created_at": "2021-07-28T11:54:35.372000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess it doesn't make a big difference though, you can always work around these issues (e.g. miner sending eth to account first). and we could always switch to such a mechanism in the future. was just curious if that was ever considered...",
        "created_at": "2021-07-28T11:56:05.829000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Originally it was proposed that any un-covered base fee would come out of the miner's wallet.",
        "created_at": "2021-07-28T14:45:59.597000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I argued to remove it due to unnecessary complexity, though perhaps that wasn't the right choice.",
        "created_at": "2021-07-28T14:46:25.510000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@415548822983278593\u003e",
        "created_at": "2021-07-28T14:46:30.145000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it would be worthwhile to propose it for a hardfork after London.  That is something we can *add* later pretty easily.",
        "created_at": "2021-07-28T14:47:05.213000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(another reason to not include it at London launch, start simple add complexity later)",
        "created_at": "2021-07-28T14:47:19.225000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yep, exactly what Micah said.",
        "created_at": "2021-07-28T15:27:02.143000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ah, interesting context! Agree that maybe the current version is easier to reason about, and that it should definitely be possible to upgrade the mechanism later.",
        "created_at": "2021-07-28T16:11:59.863000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If that's a functionality that's needed, IMO having a team with MEV experience propose the change would be helpful, to make sure we are reasoning about it right.",
        "created_at": "2021-07-28T17:28:52.800000+00:00",
        "attachments": null
    }
]