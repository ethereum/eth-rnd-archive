[
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i don't quite understand the thought process behind \"the mempool will trend towards empty\" -- why wouldn't people submit txs which are below the current `base_fee`, assuming that the base fee will be lower in 12-24 hours?",
        "created_at": "2020-11-20T00:04:35.192000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Why would the base fee be significantly lower in 12-24 hours except when there are spikes in demand?",
        "created_at": "2020-11-20T00:34:45.974000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess i'm trying to reconcile in my head why there are many pending transactions today? If i'm only willing to pay 10 gwei for a transaction, 1559 isn't going to change that. So my 10 gwei fee cap tx will be sitting in the pool until the chain reaches a period of abnormal emptiness",
        "created_at": "2020-11-20T00:55:28.474000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Right now we don't presume to know how miners sort transactions.  Technically, 0 gas price transactions are valid.",
        "created_at": "2020-11-20T02:40:58.642000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "With 1559, we can assert that certain transactions definitely won't be included in the next block.",
        "created_at": "2020-11-20T02:42:56.614000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e i don't quite understand the thought process behind \"the mempool will trend towards empty\" -- why wouldn't people submit txs which are below the current `base_fee`, assuming that the base fee will be lower in 12-24 hours?\n\u003c@543900561460822016\u003e oh, sorry.  I misread.  Mempool would trend toward empty if we institute an aggressive eviction and gossip strategy.",
        "created_at": "2020-11-20T02:44:09.970000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ah, gotcha!",
        "created_at": "2020-11-20T02:44:24.219000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "With 1559, in is easier to implement that.",
        "created_at": "2020-11-20T02:45:01.713000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "why is it easier?",
        "created_at": "2020-11-20T02:45:21.874000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Currently, what would the eviction strategy be too keep the mempool empty some for stuff going into the next block?",
        "created_at": "2020-11-20T02:46:38.762000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think we could track a median gas price over the last X blocks and evict transactions which are \u003c N% of that median",
        "created_at": "2020-11-20T02:47:58.651000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Miners often include transactions that are very low gas price.",
        "created_at": "2020-11-20T02:49:54.592000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Usually miner pool distributions/payouts.",
        "created_at": "2020-11-20T02:50:24.939000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that would be a local tx, so it would be disregarded in terms of eviction strategies",
        "created_at": "2020-11-20T02:51:11.366000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It will influence the median gas price you suggested above.",
        "created_at": "2020-11-20T02:51:59.740000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And make the min seem much than reality.",
        "created_at": "2020-11-20T02:52:22.618000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "there are ways of omitting outliers from a data set",
        "created_at": "2020-11-20T02:52:52.127000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sometimes they aren't outliers.",
        "created_at": "2020-11-20T02:53:06.971000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If have seen blocks that are a good chunk just pool payouts.",
        "created_at": "2020-11-20T02:53:33.173000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, we need to make sure we have enough transactions in the pool to fill a few blocks, since a series of quickly mined blocks can cause the price to go to near 0 almost instantly.",
        "created_at": "2020-11-20T02:54:12.685000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "agreed, but isn't this an issue with trying to keep mempools empty in general? including 1559?",
        "created_at": "2020-11-20T02:54:48.909000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "With 1559 we can instead just assert that we want to keep the next `n` blocks worth of transactions in the pool, and that is simple to calculate.",
        "created_at": "2020-11-20T02:55:03.109000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "how? you don't know how much gas they actually use?",
        "created_at": "2020-11-20T02:55:38.459000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because we know exactly what the base fee range is in the next `n` blocks.",
        "created_at": "2020-11-20T02:55:41.182000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We know the base fee can only decrease by 1/8 per block, so we know the base fee will be `\u003e=x` in two blocks.",
        "created_at": "2020-11-20T02:56:20.750000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To your point, I think we could have introduced smaller mempools previously. I think it is marginally more complicated without 1559 though and also you couldn't target an empty pool, even if you were willing to evict everything that wouldn't fit into next block.",
        "created_at": "2020-11-20T02:59:09.507000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "am i misunderstanding? isn't `base_fee` per gas?",
        "created_at": "2020-11-20T02:59:43.541000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It is.",
        "created_at": "2020-11-20T02:59:50.092000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But the expectation is that we will almost never have full blocks with 1559.",
        "created_at": "2020-11-20T03:00:03.308000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There is always* space for people willing to pay the going rate.",
        "created_at": "2020-11-20T03:00:16.720000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so you can't know that you have `n` blocks of txs, all your txs may be transfers",
        "created_at": "2020-11-20T03:00:26.634000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We can know with certainty that certain transactions will definitely not be included within `n` blocks.",
        "created_at": "2020-11-20T03:00:59.951000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We can only know with high confidence that a given transaction will be included within `n` blocks (but that confidence is quite high with 1559 if behavior ends up as we expect).",
        "created_at": "2020-11-20T03:01:42.277000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "okay, got it",
        "created_at": "2020-11-20T03:01:56.174000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think also 1559 is just an opportunity to work on the mempool strategies since they have to change a lot anyway.",
        "created_at": "2020-11-20T03:02:39.226000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So if you believe empyt or near empty mempools are a good thing, this is a good time to add such a feature, just from an engineering and cognitive cost standpoint.",
        "created_at": "2020-11-20T03:03:15.546000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "btw is there an implicit max block gas limit?",
        "created_at": "2020-11-20T03:04:43.321000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "2x the gas target.  It should be explicit in the spec, is it not?",
        "created_at": "2020-11-20T03:05:17.174000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it is, i was just wondering if something like 100mm gas block was possible?",
        "created_at": "2020-11-20T03:07:36.272000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If the miners vote up the gas limit, yes.",
        "created_at": "2020-11-20T03:09:25.456000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There has been talk about someone writing an EIP that takes that power away from miners, but it needs a champion.",
        "created_at": "2020-11-20T03:09:46.515000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I expect such an EIP is unlikely to succeed; historically miners have only ever used their gaslimit-setting power for good and imo have done an excellent job of balancing between limiting risks to the network and limiting costs to tx senders",
        "created_at": "2020-11-20T11:10:30.686000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Like..... why even bother rocking that boat?",
        "created_at": "2020-11-20T11:10:50.394000+00:00",
        "attachments": []
    },
    {
        "author": "philcares",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Until this is properly worked through, there are no miners anymore",
        "created_at": "2020-11-20T11:41:18.903000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "bumping this Q",
        "created_at": "2020-11-20T14:14:06.485000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!574864862338088960\u003e \u003c@!486501030046203915\u003e \u003c@!489256758989029405\u003e any thoughts on the failure modes of the above?",
        "created_at": "2020-11-20T15:51:26.876000+00:00",
        "attachments": []
    },
    {
        "author": "halfinney.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hi everyone, this might be a stupid question, but I wanted to know if we are still in the eval phase for 1559? or are we already done with the eval and now in the testing phase?",
        "created_at": "2020-11-20T19:16:18.555000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There is no proper \"eval\" phase. We know a lot of issues with 1559 and are working through them. This tracks the progress and open issues: https://github.com/ethereum/pm/blob/master/Fee%20Market%20Meetings/mainnet-readiness.md",
        "created_at": "2020-11-20T19:43:14.119000+00:00",
        "attachments": []
    }
]