[
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Could someone explain why  `tip == min(tip, max_base_fee - cur_base_fee)`? Why not simply accept `tip` and if `max_base_fee \u003e cur_base_fee` the tx is not valid?",
        "created_at": "2020-11-19T19:41:59.592000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "transaction miner fee: 5\nminer fee demand: 1\nbase fee: 100\nfee cap: 103",
        "created_at": "2020-11-19T19:54:40.665000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That transaction should go through.",
        "created_at": "2020-11-19T19:54:50.186000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e",
        "created_at": "2020-11-19T19:55:49.615000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "why should that tx go through, outside the pathological case?",
        "created_at": "2020-11-19T19:58:35.988000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "wait, that tx would go through in both cases listed above",
        "created_at": "2020-11-19T20:00:37.108000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in the current scenario, the total paid would be 103 in the scenario i am proposing it would be 105",
        "created_at": "2020-11-19T20:01:09.435000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That would violate the user's fee_cap setting.",
        "created_at": "2020-11-19T20:03:13.230000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i'm asking why is that in place in the first place? the desire is for the user to set a max amount they'll pay, that can be done in both cases",
        "created_at": "2020-11-19T20:04:09.164000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You mean why not have `max_base_fee` instead of `fee_cap`?",
        "created_at": "2020-11-19T20:04:46.364000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the max out of pocket cost is either `fee_cap`  of `fee_cap + tip`",
        "created_at": "2020-11-19T20:04:47.059000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes exactly",
        "created_at": "2020-11-19T20:05:01.887000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have twice now thought the same as you are thinking and both times spent like a month thinking that way only to be reminded of a thing, that I now cannot remember, that instantly convinced me to abandon that view.",
        "created_at": "2020-11-19T20:06:08.671000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am sad that I once again have forgotten what it was, but glad that I haven't yet again forgotten that it exists!",
        "created_at": "2020-11-19T20:06:30.485000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The EIP rationale doesn't mention this (it should)?",
        "created_at": "2020-11-19T20:06:45.788000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "there actually isn't a rationale section in 1559, so no it isn't mentioned ðŸ˜¦",
        "created_at": "2020-11-19T20:07:59.526000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ugh, how did that happen?",
        "created_at": "2020-11-19T20:08:12.942000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess this EIP is a bit old.",
        "created_at": "2020-11-19T20:08:23.343000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the eip bot is not yet sentient",
        "created_at": "2020-11-19T20:08:29.168000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The only advantage that I can think of in status quo is that there will be a range of txs that continue to be valid, where there is a hard cut off in the latter. Which may seem weird to a user. They may offer a tip of 100, but because their `max_base_fee is \u003c cur_base_fee` the tx is invalid",
        "created_at": "2020-11-19T20:09:40.859000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "imo this seems like the pathological case though, and i can't see why it would occur in the wild",
        "created_at": "2020-11-19T20:11:07.182000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the advantage of allowing the mempool to accept the tip at face value, rather than constantly computing the `min(tip, fee_cap - base_fee)`, is it drastically simplifies the ordering logic for miners",
        "created_at": "2020-11-19T20:12:18.038000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "From a UX standpoint, I think fee_cap is a bit easier to explain.",
        "created_at": "2020-11-19T20:18:16.572000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\"Pay whatever base fee is required and up to X to the miner, but never pay more than Y\"",
        "created_at": "2020-11-19T20:18:45.453000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\"Pay whatever base fee is required up to Y, and X to the miner.\"",
        "created_at": "2020-11-19T20:19:36.634000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "While the statements are similar complexity in the mathematic sense, I think users internally have a \"max willing to pay\" function and they don't care how that is divided up so much.",
        "created_at": "2020-11-19T20:21:10.864000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "^ i agree with this",
        "created_at": "2020-11-19T20:21:22.939000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hopefully someone else can provide a more compelling argument.  I do like the idea of simplifying sorting.",
        "created_at": "2020-11-19T20:22:28.279000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "imo this is more a problem with communication to users\n\"Pay at most `fee_cap`, if `tip \u003e fee_cap - base_fee` then your tx is less likely to get in because it pays the miner less\"\n\"Pay at most `fee_max + tip`, as long as `fee_max \u003e base_fee` your tx will be included proportional to your tip\"",
        "created_at": "2020-11-19T20:25:04.491000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think that the second may actually be simpler to reason about as a user, since they generally care about how quickly their tx will be included on-chain",
        "created_at": "2020-11-19T20:25:46.840000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we just need to shift the idea from \"I'll pay at most X, the network can figure out how to include it\" to \"I'll pay at most Y+T and I will *always* tip the miner T, because T parameterizes the speed at which i'd like my tx included\"",
        "created_at": "2020-11-19T20:27:58.781000+00:00",
        "attachments": null
    }
]