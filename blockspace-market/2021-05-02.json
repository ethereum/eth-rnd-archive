[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "IIRC, Geth resorts the whole thing every 3 seconds, so I think the plan was to just do the naive approach and resort by miner fee once you know the block base fee.",
        "created_at": "2021-05-02T01:19:01.512000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is, when you start preparing a block you first figure out the base fee.  Then you sort/filter the transaction list by the `effective_inclusion_fee` (`min(inclusion_fee, max_fee - base_fee)`).",
        "created_at": "2021-05-02T01:20:35.396000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e Iâ€™m only talking about the gas price estimation in geth, not mining",
        "created_at": "2021-05-02T05:18:15.556000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sorry, I totally misread your statement it seems.",
        "created_at": "2021-05-02T05:18:38.717000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Why doese `eth_estimateGas` change with 1559?",
        "created_at": "2021-05-02T05:18:57.077000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think I missed `price` in my op anyways",
        "created_at": "2021-05-02T05:18:58.039000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Well you have 2 quantities to estimate rather than 1",
        "created_at": "2021-05-02T05:19:23.871000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh, `estimateGasPrice`?",
        "created_at": "2021-05-02T05:19:26.797000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Not `eth_estimateGas`?",
        "created_at": "2021-05-02T05:19:38.728000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, sorry for the confusion",
        "created_at": "2021-05-02T05:19:39.454000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Naively, I think you could estimate tip similarly to gas price is today and then select a base fee n% higher than current",
        "created_at": "2021-05-02T05:20:20.123000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1. I don't think that RPC method should exist on clients.  It is something that should be handled external to clients.\n~~2. If you are going to build it into clients, then I think you should track historically accepted priority fees and take the 95th percentile or something, and then add the base_fee_of_latest_block * 2 or something.~~",
        "created_at": "2021-05-02T05:21:39.332000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Actually, we need to rewrite that method to return two values.",
        "created_at": "2021-05-02T05:22:03.255000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "One for the recommended `priority_fee`, and one for the recommended `max_fee`.",
        "created_at": "2021-05-02T05:22:32.200000+00:00",
        "attachments": []
    },
    {
        "author": "maxvoltage.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I noticed in the last hour or so the gas limit has been decreasing.  Does anyone know anything about this?  What are the mining pools targeting as the final value?",
        "created_at": "2021-05-02T13:40:55.296000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It may be random noise?",
        "created_at": "2021-05-02T17:03:39.487000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You can't tell within only a few hours",
        "created_at": "2021-05-02T17:04:08.453000+00:00",
        "attachments": []
    }
]