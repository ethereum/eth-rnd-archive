[
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "how do i calculate the base fee for the block immediately following the fork block? (e.g. block N was the last block with legacy gas, what is the base fee for N+1)",
        "created_at": "2021-01-16T20:04:59.445000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "based on the eip, it seems like it always stays 0?",
        "created_at": "2021-01-16T20:08:28.084000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "per the spec:\n\u003e `base_fee: int = 0 # default to 0 for blocks before INITIAL_FORK_BLOCK_NUMBER`\n\nso at `INITIAL_FORK_BLOCK_NUMBER` we have the following scenarios\n\n```python\n# based on spec, gas_target is equivalent to gas_limit - therefore we assume is roughly 12.5mm\nif parent_gas_used == parent_gas_target:\n\n    # parent base fee was 0, so INITIAL_FORK_BLOCK_NUMBER base fee is 0\n    expected_base_fee = parent_base_fee\n```\n\n```python\n# this isn't possible for non EIP-1559 blocks (would be over block gas limit), so skip\nif parent_gas_used \u003e parent_gas_target:\n```\n\n```python\nif parent_gas_used \u003c parent_gas_target:\n    # for arguments sake, say the block used 11.5mm gas\n    gas_delta = parent_gas_target - parent_gas_used\n             \n    # even with gas_delta == 0, the parent_base_fee is 0 (as specified) and therefore the full equation also yields 0\n    fee_delta = parent_base_fee * gas_delta // parent_gas_target // BASE_FEE_MAX_CHANGE_DENOMINATOR\n    \n    # 0 - 1mm == -1mm? i assume this should not go negative so i'd assume it's 0?\n    expected_base_fee = parent_base_fee - fee_delta\n```",
        "created_at": "2021-01-16T20:19:10.106000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "initial base fee is 10M",
        "created_at": "2021-01-16T20:20:28.487000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we dont apply the formula for the fork block",
        "created_at": "2021-01-16T20:20:44.958000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "should that be in the EIP?",
        "created_at": "2021-01-16T20:20:55.590000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it was before we move to a code style spec IIRC",
        "created_at": "2021-01-16T20:21:10.129000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "okay thank you ðŸ™‚",
        "created_at": "2021-01-16T20:21:22.468000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but maybe we should state it explicitly",
        "created_at": "2021-01-16T20:21:49.829000+00:00",
        "attachments": []
    }
]