[
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e BTW \u003c@!301186049323958275\u003e \u003c@!273808422753796097\u003e Is there any rationale behind the symmetry between increase and decrease for the change denominator ? i.e Would the security be affected if we had a different max change denominator on both sides. For example 1/8 on the increase side and 1/4 on the decrease side.",
        "created_at": "2020-11-05T13:13:54.529000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That would allow 33% of miners to push the basefee down to zero",
        "created_at": "2020-11-05T13:14:12.804000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It's only symmetry and the 2x limit that keep the threshold for all of the different attacks at ~50%",
        "created_at": "2020-11-05T13:14:37.091000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, really?  I thought the percentage required was a function of elasticity, not the base fee change rate?",
        "created_at": "2020-11-05T13:14:45.795000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, I suppose that assumes symmetry.",
        "created_at": "2020-11-05T13:15:02.308000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The percentage required definitely also depends on the cost/risk curve of higher block sizes",
        "created_at": "2020-11-05T13:15:16.478000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ðŸ¤”  that means we can actually use asymmetry the other direction to increase the hashing power required to attack.",
        "created_at": "2020-11-05T13:15:30.775000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But from a mon-manipulability point of view, 2x is best",
        "created_at": "2020-11-05T13:15:33.307000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Asymmetry in the other direction (eg. 1/8 down, 1/4 up) would allow 1/3 to push the fee upward",
        "created_at": "2020-11-05T13:15:53.591000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I suppose it would be expensive for them to, but still....",
        "created_at": "2020-11-05T13:16:01.850000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "2x elastic blocks where base fee rises faster than it falls.",
        "created_at": "2020-11-05T13:16:06.630000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "well there's always a 51% censorship attack, so trying to be more than 51% secure doesn't really make sense",
        "created_at": "2020-11-05T13:16:36.382000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think there is *any* financial motive (outside of \"burn Ethereum to the ground and profit off shorts\") to pushing the base fee up though?",
        "created_at": "2020-11-05T13:16:41.976000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, that's fair, so limit = 3x target should be safe too",
        "created_at": "2020-11-05T13:17:00.540000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I would not go above 3x",
        "created_at": "2020-11-05T13:17:03.648000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, another important non-manipulability criterion is that the net effect of transactions on the basefee should not depend on which blocks the transactions are included in",
        "created_at": "2020-11-05T13:17:42.167000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ie. [5, 15, 5] million gas and [20, 4, 1] million gas should lead to the same final gasprice",
        "created_at": "2020-11-05T13:18:04.738000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Technically the current formula actually does not *quite* satisfy it",
        "created_at": "2020-11-05T13:18:17.545000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is there a formula that does guarantee that?",
        "created_at": "2020-11-05T13:18:31.458000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And is it not terribly complicated?  ðŸ˜¬",
        "created_at": "2020-11-05T13:18:40.257000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "An ideally well-designed EIP 1559 would use exponential adjustment: `new_basefee = old_basefee * e ** ((gas_used - target) / k)`",
        "created_at": "2020-11-05T13:18:45.748000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The current formula (linear) is within a few percent",
        "created_at": "2020-11-05T13:18:59.289000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So it's close",
        "created_at": "2020-11-05T13:19:01.520000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ewe, irrational numbers are the worst.",
        "created_at": "2020-11-05T13:19:28.280000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A quadratic Taylor approximation actually comes really really close to the ideal:\n\n `new_basefee = old_basefee + old_basefee * (gas_used - target) // (target * k) + old_basefee * (gas_used - target) ** 2 // (2 * (target * k) ** 2)`",
        "created_at": "2020-11-05T13:20:20.472000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Heh, better than `e` I suppose.  ðŸ˜›",
        "created_at": "2020-11-05T13:20:44.798000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I wouldn't be opposed to switching to that if we think the gains are worth it.  I do like the simplicity of the current algorithm though, it is easier to grok *why* it is what it is.",
        "created_at": "2020-11-05T13:21:05.677000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Also, another important non-manipulability criterion is that the net effect of transactions on the basefee should not depend on which blocks the transactions are included in\n\u003c@!574864862338088960\u003e This convinces me that symmetry is important.",
        "created_at": "2020-11-05T13:21:27.256000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Our existing formula is already  the 1st degree Taylor approximation and it's within a few percent of optimality",
        "created_at": "2020-11-05T13:21:32.137000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We're technically 46.8% attackable (or somewhere around that) instead of 50% attackable, because it takes a little bit more than one full block to reverse the decrease from an empty block",
        "created_at": "2020-11-05T13:22:12.976000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "As (7/8) * (9/8) = 63/64 \u003c 1",
        "created_at": "2020-11-05T13:22:22.239000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But meh, ethereum itself is actually attackable at around that same threshold due to uncles",
        "created_at": "2020-11-05T13:22:41.555000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "**EIP-1559 Implementers' Call #6 in ~45 minutes (16:00 UTC)** \nAgenda: https://github.com/ethereum/pm/issues/215 \nZoom: https://consensys.zoom.us/j/92426301194",
        "created_at": "2020-11-05T15:16:47.176000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!574864862338088960\u003e Nethermind is in sync with BeSu",
        "created_at": "2020-11-05T15:26:07.570000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2020-11-05T15:26:09.161000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "unknown.png",
                "content": "91a8507afcee616b57616ececc686c89959b06558f8dc27f9d4cc98918ba701d"
            }
        ]
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "let me switch the validator on again",
        "created_at": "2020-11-05T15:26:14.889000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ðŸ¥³",
        "created_at": "2020-11-05T15:26:25.744000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sealing blocks",
        "created_at": "2020-11-05T15:38:09.589000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!489256758989029405\u003e surprisingly since you joined i am not able to reach anymore ~200% block elasticity",
        "created_at": "2020-11-05T16:01:34.975000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "not urgent but we should investigate at some point",
        "created_at": "2020-11-05T16:01:43.185000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://hardhat.org/",
        "created_at": "2020-11-05T16:36:13.819000+00:00",
        "attachments": null
    }
]