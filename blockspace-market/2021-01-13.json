[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@194433073394352129\u003e Re: opcode for gas base_fee.  It just needs someone to author and champion an EIP for it.",
        "created_at": "2021-01-13T02:14:41.097000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't believe anyone thinks it is a bad idea, only that it is out of scope for the core 1559 EIP and anything that **can** be a separate EIP **should** be a separate EIP.",
        "created_at": "2021-01-13T02:15:11.535000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the problem is just that at the moment, no one seems to care enough about it to bother creating an EIP for it.",
        "created_at": "2021-01-13T02:15:34.401000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@489256758989029405\u003e I believe has a pretty strong desire for such an opcode for a project they are working on, maybe you could convince them to work with you on an EIP for it?",
        "created_at": "2021-01-13T02:16:19.479000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Not sure I agree it couldn't be part of 1559, since that's what introduces the possibility of it, but fair enough if you want it to be a separate EIP.",
        "created_at": "2021-01-13T02:23:27.891000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't have time to be writing or championing any EIPs right now, though.",
        "created_at": "2021-01-13T02:23:40.082000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sadly, this is how most people feel and why many good things aren't EIPs.  üò¢",
        "created_at": "2021-01-13T02:28:25.503000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It **could** be part of 1559, but it also **could** be separate.  Small EIPs are easier to get through the EIP process, thus small EIPs are preferred to monolithic ones.",
        "created_at": "2021-01-13T02:29:20.720000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Same reason block reward changes and block size changes have been removed/not included (both could be separate).",
        "created_at": "2021-01-13T02:30:18.708000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sure, but you already have to get 1559 through the process. üòÅ",
        "created_at": "2021-01-13T02:35:55.573000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think realistically, if the EIP gets written it's not too hard to convince people to just tag it along, especially if it's only a few lines of code",
        "created_at": "2021-01-13T02:36:26.024000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Either way; I can see how it could easily be a separate (and simple EIP). I think it'd be very useful to have. It'd be a shame to finally have a reliable source of gas price data, but not have it accessible to contracts.",
        "created_at": "2021-01-13T02:36:42.904000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just take any of the \"add an opcode\" EIPs (eg. SET_INDESTRUCTIBLE), change one line and publish it?",
        "created_at": "2021-01-13T02:36:50.887000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yup, pretty much",
        "created_at": "2021-01-13T02:36:58.195000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It needs a champion though.",
        "created_at": "2021-01-13T02:37:13.306000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Someone to bring it up during ACD calls, answer questions, make decisions when there is disagreement, update rationale, etc.",
        "created_at": "2021-01-13T02:38:13.451000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is the hard, writing the initial EIP is relatively easy as mentioned above.",
        "created_at": "2021-01-13T02:38:39.924000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And of course dealing with the inevitable request: \"RenVM uses that opcode for something else, can you please use a different one?\"  üòÑ",
        "created_at": "2021-01-13T02:41:49.176000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Do we not yet have a meta-EIP detailing which opcodes are reserved for future HFs? ü§£",
        "created_at": "2021-01-13T02:45:30.072000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There is one proposed... it did the opposite and carved out a section for \"third party VM specific opcodes\".",
        "created_at": "2021-01-13T02:46:25.788000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, I can't find it now.  Maybe it never made it to draft.",
        "created_at": "2021-01-13T02:47:56.701000+00:00",
        "attachments": []
    },
    {
        "author": "riely8715",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "did you guys read this paper: üëÄ https://blockchain.princeton.edu/papers/2018-10-ben-kaiser.pdf",
        "created_at": "2021-01-13T04:29:58.106000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Under what condition does the economics of 1559 harm miners? Theoretically any gap in lost profit from fee burns should be filled by the market reaction to the burns themselves and provide stabilization in periods of negative price movement and still high usage / demand. The only difference is, that effect is not exclusively reserved for miners via fee burn, it‚Äôs inherited by all holders, which is undeniably a good thing.",
        "created_at": "2021-01-13T04:30:15.958000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e [money going to everyone instead of only miners] is undeniably a good thing\nI don't think this statement is necessarily true.",
        "created_at": "2021-01-13T04:31:18.248000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You don‚Äôt think economic conditions that benefit the whole of stakeholders is better than one that benefits a singular stakeholder group?",
        "created_at": "2021-01-13T04:31:47.552000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "As an example, if the goal is to pay miners for a service, then giving that money to all holders instead is not a good thing.",
        "created_at": "2021-01-13T04:31:50.980000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It‚Äôs not ‚Äúgiving‚Äù anything",
        "created_at": "2021-01-13T04:32:09.090000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It‚Äôs supply and demand economics, you‚Äôre removing supply",
        "created_at": "2021-01-13T04:32:25.572000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It is like telling your carpenter \"we are going to distribute your paycheck to everyone who participated in building the house\".  It may cause your carpenter to quit if their share decreases enough to make the job no longer worth doing.",
        "created_at": "2021-01-13T04:32:34.145000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To be clear, I'm not arguing against 1559 here.  Only stating that the quoted portion of your argument doesn't hold up.  üôÇ",
        "created_at": "2021-01-13T04:33:02.786000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The gap of lost wages there is filled by the fact that those wages are diluted less over time",
        "created_at": "2021-01-13T04:33:08.339000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We aren‚Äôt talking about social welfare, rather strengthening ETH against its own inflationary state",
        "created_at": "2021-01-13T04:33:48.716000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you are a miner who immediately sells your ETH for something else, then the long-term benefits of reduced supply may not outweigh the short-term decrease in your payment.",
        "created_at": "2021-01-13T04:33:55.830000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For example, the market may take a while to appropriately price in any burning.",
        "created_at": "2021-01-13T04:34:25.057000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Well maybe think twice about immediate liquidations? Idk that seems like a no brainer, BTC miners don‚Äôt immediately liquidate.",
        "created_at": "2021-01-13T04:34:34.443000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Many do.",
        "created_at": "2021-01-13T04:34:45.031000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Seems counter intuitive to maximizing profit",
        "created_at": "2021-01-13T04:34:49.908000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Someone can be both a miner and an investor or a miner and a holder at the same time.",
        "created_at": "2021-01-13T04:35:05.660000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "When it comes to evaluating mechanism design, we should treat those actors separately though and assume that all miners (service providers) immediately liquidate.",
        "created_at": "2021-01-13T04:35:28.702000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This greatly simplifies the system and makes it much easier to reason about.",
        "created_at": "2021-01-13T04:35:50.897000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes so i don‚Äôt see the problem, if fee burn undoubtedly removes supply, they make up for the loss in mining revenue by holding against usd.",
        "created_at": "2021-01-13T04:35:58.197000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "While at the same time being functionally equivalent.",
        "created_at": "2021-01-13T04:36:01.843000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't believe this is necessarily true.",
        "created_at": "2021-01-13T04:36:28.328000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If today they are getting 1% of total supply per year (all of which is inflationary), and after 1559 they are receiving  0.5% of total supply per year (none of which is inflationary), it isn't necessarily true that the ecosystem will value ETH at 2x its current valuation as soon as 1559 launches.",
        "created_at": "2021-01-13T04:37:43.141000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A 2x valuation due to a reduction of 0.5% supply inflation would depend on the ecosystem as a whole having something like a 200 year time horizon, which I suspect it doesn't. (note, this is purely an example, I'm aware that the actual economics are a bit more complex than this simple illustration)",
        "created_at": "2021-01-13T04:38:34.587000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It doesn‚Äôt have to. It only has to fill the gap in protection from deflation. I understand short term liquidators benefit less, which is why I think it encourages them to rethink that",
        "created_at": "2021-01-13T04:38:42.143000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I mean inflation",
        "created_at": "2021-01-13T04:38:50.379000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It‚Äôs a strategy adjustment for sure",
        "created_at": "2021-01-13T04:39:40.647000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Again, for economic mechanism design we should be separating miners from holders.  Assume all miners immediately liquidate and then figure out the value proposition to them.  Some of those miners may *also* hold, but by separating it out we can evaluate the economic impact of 1559 without confounding variables.",
        "created_at": "2021-01-13T04:39:55.129000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A miner who holds takes on the same opportunity cost and risks as a miner who doesn't, it is just mixed in with other risks they are taking.",
        "created_at": "2021-01-13T04:40:26.079000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don‚Äôt think that matters. We are not a ‚Äúfees first‚Äù network which is why we have continual issuance. What we are trying to solve is a fee market that does not adequately serve the protocol, nor provide benefit for it that scales with usage aside from ‚Äúmoar security‚Äù which at some point succumbs to the law of diminishing returns.",
        "created_at": "2021-01-13T04:42:26.557000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Like I said, I am not arguing against 1559 at all.  Only that one very specific argument.  üôÇ",
        "created_at": "2021-01-13T04:44:41.027000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Gotcha",
        "created_at": "2021-01-13T04:44:46.363000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Understood",
        "created_at": "2021-01-13T04:44:49.127000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm a huge fan of 1559, but I want to make sure that the arguments in favor of it are well founded is all, so I'll argue both sides of the fence if I see arguments I don't think hold up.  üôÇ",
        "created_at": "2021-01-13T04:45:31.738000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I just don‚Äôt think it‚Äôs really fair to label 1559 as some kind of attempt to steal from miners. The ideal benefits of it, given Tim‚Äôs assessment, will more than make up for any immediate losses from fee burns on the backend. That may hurt immediate liquidators in some scenarios, but for others with more long term plans and strategies that are, imo healthier for Ethereum anyway, the effects should be negligible to positive over time.",
        "created_at": "2021-01-13T04:50:13.447000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I would hope most miners would want to join us in ETH 2.0 at some point and stake something",
        "created_at": "2021-01-13T04:51:07.933000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But i understand there are philosophical and business considerations that may prevent that",
        "created_at": "2021-01-13T04:51:34.529000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e I just don‚Äôt think it‚Äôs really fair to label 1559 as some kind of attempt to steal from miners.\nI agree with this statement.",
        "created_at": "2021-01-13T04:53:49.738000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And I fully agree that the changes are \"worth it\".  but it is also true that some people will lose money/income with this change (miners).",
        "created_at": "2021-01-13T04:54:35.791000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is a good analogy.  I think PoS is good and worth it, but it *does* hurt miners.",
        "created_at": "2021-01-13T04:55:03.165000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah without a doubt, and i think we can acknowledge 1559 does,  in the short term, negatively impact their takeaway, until the effects of fee burns are reflected in the market, which we should never really notice anyway.",
        "created_at": "2021-01-13T04:59:32.581000+00:00",
        "attachments": []
    },
    {
        "author": "cyber_hokie",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Though we probably will because there will be some overreaction to 1559 implementation by speculators, like every other hyped thing",
        "created_at": "2021-01-13T05:00:30.169000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What's the idea behind how this new mechanism would make the fee market more predictable? On the face of it, it seems to me that tipping will have the same outcomes as gas price, as miners have neglible incentive to care about the base fee paid",
        "created_at": "2021-01-13T07:05:27.826000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://medium.com/@MicahZoltu/a-tale-of-two-pricing-schemes-dc9c8717906\nTL;DR: If you over-estimate gas price, you pay the minimum required to be included in a block.  Today, if you over-estimate you pay the full amount you guessed.",
        "created_at": "2021-01-13T07:06:45.997000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Created the EIP for the BASEFEE Opcode: https://github.com/ethereum/EIPs/pull/3198",
        "created_at": "2021-01-13T07:13:18.115000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The Opcode takes no parameter and returns the value of the latest block ?",
        "created_at": "2021-01-13T07:13:43.803000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Or it can return the value at any given block",
        "created_at": "2021-01-13T07:13:52.988000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What would be the gas cost ? And the opcode value ?",
        "created_at": "2021-01-13T07:14:10.428000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@574864862338088960\u003e Returns the value of current block it is executing in I would think?",
        "created_at": "2021-01-13T07:14:56.744000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Cannot return the value for historic blocks as that would require access to block history from the EVM.",
        "created_at": "2021-01-13T07:15:22.093000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok sounds good",
        "created_at": "2021-01-13T07:15:37.803000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It would be nice to have more in the motivation section, like some example use cases and whatnot.  \u003c@194433073394352129\u003e may be able to help supply some since they seem to have interest in it.",
        "created_at": "2021-01-13T07:16:38.051000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But that only applies to the base fee, which miners don't have much incentive to care about. I assume most miners will sort by tip/bribe size and include the transactions paying the highest tip and just ignore the base fee. If that assumption is correct (is it?) would that not be functionally equivalent to the current gas price fee market?",
        "created_at": "2021-01-13T07:16:51.107000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Obviously. I just initiated it. I will gather more information to fill the sections",
        "created_at": "2021-01-13T07:17:05.102000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It is in better condition than most EIPs I review.  üò¨",
        "created_at": "2021-01-13T07:17:24.240000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you don't want me to merge it as is, mark it as a Draft in GitHub.",
        "created_at": "2021-01-13T07:17:42.762000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Done",
        "created_at": "2021-01-13T07:17:58.829000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If it isn't a draft by the time I get through my inbox I'll probably merge it unless I find something structurally wrong with it.  üôÇ",
        "created_at": "2021-01-13T07:18:02.357000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!194433073394352129\u003e Do you have example use cases for the BASEFEE Opcode ?",
        "created_at": "2021-01-13T07:18:45.958000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Miners will still sort by miner_fee.  However, since there will not be competition for block space in most blocks, you can just set a miner_fee that is slightly about their operational cost of inclusion and they'll be incentivized to include your transaction.",
        "created_at": "2021-01-13T07:19:28.488000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have a few",
        "created_at": "2021-01-13T07:19:36.228000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1. Contracts that need to set bounties for anyone to \"poke\" them with a transaction could set the bounty to be BASEFEE + x, or BASEFEE * (1 + x). This makes the mechanism more reliable, because they will always pay \"enough\" regardless of market conditions",
        "created_at": "2021-01-13T07:20:29.666000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "2. Gas futures can be implemented based on it. This would be less wasteful and much more precise than gastokens",
        "created_at": "2021-01-13T07:20:59.922000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "3. Security for state channels, plasma, optirolls and other fraud proof driven gadgets can be improved if you have the BASEFEE as an input: you can lengthen the challenge period automatically if you see that the BASEFEE is high",
        "created_at": "2021-01-13T07:21:36.361000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What's alleviating the competition for blockspace here? The doubling of the gas limit?",
        "created_at": "2021-01-13T07:22:11.167000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Thank you",
        "created_at": "2021-01-13T07:22:26.731000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ooh, I really like this use-case.  Hadn't considered it previously, despite having run into this problem *many* times in the past.",
        "created_at": "2021-01-13T07:23:49.743000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No, the base fee adjustment algorithm is designed to try to ensure that on average, blocks are all half empty.  When demand is rising, they will be more than half full (up to 2x), and when demand is decreasing they will be less than half full (down to empty).",
        "created_at": "2021-01-13T07:24:43.985000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In times of stable demand, the fee will hover right around a place where every block is about half full.",
        "created_at": "2021-01-13T07:25:14.597000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So the in theory, the rising base fee would curb demand",
        "created_at": "2021-01-13T07:25:48.354000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes.  The theory is that increasing the base fee will decrease demand (because the cost of using Ethereum at that time is too high for some people who will walk away).",
        "created_at": "2021-01-13T07:26:19.540000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Similarly, decreasing the base fee will attract people to using Ethereum who otherwise might not have due to high fees.",
        "created_at": "2021-01-13T07:26:36.160000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The equilibrium state (given the adjustment algorithm) is such that blocks will be half full on average (certainly with some volatility to that).",
        "created_at": "2021-01-13T07:27:09.257000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The simplest strategy for a user would be to set the fee cap to the max you are *willing* to pay for inclusion.  If that is above the base fee + miner fee, you'll be included and you'll only pay base_fee + miner_fee regardless of how much you said you were *willing* to pay.",
        "created_at": "2021-01-13T07:28:53.131000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Vitalik's #1 is what I had in mind - currently it's impossible to safely pay a caller for their gas costs.",
        "created_at": "2021-01-13T07:32:54.350000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In other words - no different from the status quo. It's still a market, with the same capacity.",
        "created_at": "2021-01-13T07:33:19.708000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Why would my strategy not be to estimate the base fee and price the miner tip in the same way I currently price gas?",
        "created_at": "2021-01-13T07:33:50.770000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In terms of net cost this is correct, we should not expect to see an overall decrease in transaction costs aside from perhaps a minor one due to efficiency in terms of the market's responsiveness.  The wins come from the UX and not needing to predict future demand.",
        "created_at": "2021-01-13T07:34:22.488000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Currently, if you over-estimate you pay your full bid.  After 1559 if you over-estimate you pay base_fee + miner_fee (which may be *way* smaller than your bid).",
        "created_at": "2021-01-13T07:34:54.622000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I only pay on over estimations on the base fee though",
        "created_at": "2021-01-13T07:35:40.458000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sorry, incorrect reply there",
        "created_at": "2021-01-13T07:35:55.053000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If I want to be included in a block, I'm still competing for space based on the tip I'm paying right?",
        "created_at": "2021-01-13T07:36:30.394000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The base fee just becomes table stakes",
        "created_at": "2021-01-13T07:36:59.432000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Today if I created a transaction with a `gasPrice` of `1000 nanoeth per gas` I would pay `1000 nanoeth per gas` even if `10 nanoeth per gas` would have gotten me included in the block.\n\nAfter 1559 if you set your `fee_cap` to `1000 nanoeth per gas` and your `miner_fee` to `1 nanoeth per gas` and the `base_fee` of the block you are included in ends up being `9 nanoeth per gas` then you'll pay `10 nanoeth per gas`.",
        "created_at": "2021-01-13T07:37:07.600000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, but the system is designed to adjust so that the demand for blockspace at the current base fee is equal to the supply.",
        "created_at": "2021-01-13T07:37:23.927000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "When demand is relatively stable, that means you can have a statically-set tip and just pay that.",
        "created_at": "2021-01-13T07:37:43.171000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "When demand is spiking it degrades to a first-price auction like the current system until the feedback mechanism catches up.",
        "created_at": "2021-01-13T07:38:05.051000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Overpaying by large amounts is fairly uncommon while demand is stable, though!",
        "created_at": "2021-01-13T07:38:55.948000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And when demand isn't stable people get frustrated with stuck transactions.  üôÇ",
        "created_at": "2021-01-13T07:39:22.448000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(Worth noting - if you have a particularly large TX, you usually have to bump your gas price to ensure it gets included early in the block. This is likely to still be the case with miner tips under 1559.)",
        "created_at": "2021-01-13T07:39:25.538000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e And still will!",
        "created_at": "2021-01-13T07:39:29.991000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you haven't read my blog post linked above I encourage you to do so, it goes over the UX problem users currently face and why 1559 fixes it.  A bit long though.",
        "created_at": "2021-01-13T07:39:39.157000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Although as long as they set the cap high enough, at least their TX will make it in when demand stops increasing, rather than having to wait for the price to drop or resubmit.",
        "created_at": "2021-01-13T07:40:02.571000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is critical.",
        "created_at": "2021-01-13T07:40:16.499000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see. That makes sense. I did read your post, Micah. Thank you",
        "created_at": "2021-01-13T07:40:16.832000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The assumption I am making is that people will behave rationally and set their `max_fee` to the max they are *willing* to pay, and the assumption that in many (most?) cases that is substantially above the current `base_fee`.",
        "created_at": "2021-01-13T07:40:55.750000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is the part I was missing in my understanding. I hadn't figured that out",
        "created_at": "2021-01-13T07:41:29.432000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That seems optimistic üòÜ",
        "created_at": "2021-01-13T07:41:41.566000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(It's also a UX challenge to make that a meaningful choice available to users, I'd say)",
        "created_at": "2021-01-13T07:42:02.065000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The current algorithm for fee adjustment is incredibly aggressive.  I would be surprised to see more than 10 full blocks in a row in pretty much any case.",
        "created_at": "2021-01-13T07:42:05.873000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A reasonable proxy for this is to auto-fill for the user a max_fee of 4x latest block base_fee.",
        "created_at": "2021-01-13T07:42:37.086000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'd still love to see someone with expertise in control theory model the adjustment algorithm and see how its parameters perform.",
        "created_at": "2021-01-13T07:42:49.428000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And then present the user with that and let them decide if 4x is worth it or not.  Essentially turn it into a yes/no that nearly guarantees inclusion if yes.",
        "created_at": "2021-01-13T07:42:59.487000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But that's very definitely not the rational \"actual value\" - and will fail if there's a big spike in demand.",
        "created_at": "2021-01-13T07:43:13.121000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think this would be valuable, but something we can tune later I think.  Starting aggressive is a reasonable strategy IMO.",
        "created_at": "2021-01-13T07:43:26.689000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sure, unless your system is underdamped and you introduce ringing!",
        "created_at": "2021-01-13T07:43:44.911000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A spike in demand necessary to make 4x not get included is incredibly rare IIRC.",
        "created_at": "2021-01-13T07:43:46.156000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It seems to me that it would need to be aggressive to incentivise waiting rather than shifting into the fee market to miner tips",
        "created_at": "2021-01-13T07:44:14.810000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is it? Weren't we at 500 gwei just a few days ago?",
        "created_at": "2021-01-13T07:44:37.935000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, but such ramp ups don't happen instantly.",
        "created_at": "2021-01-13T07:44:52.561000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "They tend to be seasonal over day/week along with unexpected transient demand spikes from things like liquidation events (a separate problem) and extra-protocol events (like price movement).",
        "created_at": "2021-01-13T07:45:35.506000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Price movement =\u003e gas price increase tends to be pretty slow and I think the current aggressive algorithm will handle it quite well.  That is, we see 50 =\u003e 500 gas price increase but over the course of hours which the current system can absorb totally fine.",
        "created_at": "2021-01-13T07:46:17.048000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'd be curious to see if the data backs this up",
        "created_at": "2021-01-13T07:46:39.648000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Liquidations are short lived events of blockspace competition that tend to only last a few blocks before settling, and the 2x temporary space allows for those to also be absorbed.",
        "created_at": "2021-01-13T07:46:54.510000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In any case, I expect you're right that that's how it will work. Wallets will say something like \"estimated cost x ether, max y ether\" with an \"edit\" button to adjust your preferences.",
        "created_at": "2021-01-13T07:47:06.437000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I would be too, though not enough to block/delay the EIP for it. üôÇ",
        "created_at": "2021-01-13T07:47:10.368000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No, I'm not suggesting blocking anything; it is in any case a UX issue.",
        "created_at": "2021-01-13T07:47:26.916000+00:00",
        "attachments": []
    },
    {
        "author": "nickjohnson",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Though I really do believe that someone with control theory expertise could offer useful input into the adjustment algorithm.",
        "created_at": "2021-01-13T07:47:46.158000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Coinbase Wallet (which currently doesn't let the user set gas price at all) will probably just include a \"Max fee\" field that is set to something like 2x or 4x the base fee or whatever they feel gives very high probability of success.",
        "created_at": "2021-01-13T07:48:06.027000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "MetaMask will probably offer a much more advanced interface behind an edit button like you suggest.",
        "created_at": "2021-01-13T07:48:21.197000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, if it isn't aggressive enough we can end up with long periods of full blocks while we wait for the base fee to \"catch up\".",
        "created_at": "2021-01-13T07:48:52.274000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And then once it is caught up, it can take a long time of empty blocks before it comes back down after a temporary demand spike.",
        "created_at": "2021-01-13T07:49:20.583000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I was more thinking that if the price didn't scale aggressively enough, the optimal strategy would be to set my max fee to the maximum possible base fee (because it can't possibly go high enough that I care or it is just the table-stakes cost that I must pay to be included within an acceptable time frame) and then play the same current gas price game with my miner tip.",
        "created_at": "2021-01-13T07:55:21.929000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If it scales aggressively, I either decide that I'm not willing to pay and my demand goes away, or I decide that I don't care about being included as quickly and I can wait",
        "created_at": "2021-01-13T07:56:38.564000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If the adjustment algorithm is properly tuned, then in the vast majority of cases you won't have to play a gas price auction game for inclusion.",
        "created_at": "2021-01-13T07:57:18.926000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The two times where you will need to play gas price auction games is when you care about within block ordering or when there is a demand spike that results in multiple full blocks in a row.",
        "created_at": "2021-01-13T07:58:01.743000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Algorithm tuning will determine how frequent the latter case is.  For within block ordering gas price auctions will still be a thing no matter what the adjustment algorithm is.",
        "created_at": "2021-01-13T07:58:46.212000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(I think we may be saying the same thing, though I'm not certain)",
        "created_at": "2021-01-13T07:59:44.784000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yup, that is my conclusion too. Thanks for explaining",
        "created_at": "2021-01-13T07:59:58.792000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Re: Base fee opcode: If the basefee is not available in the block it is executing in (pre 1559 fork), should we abort the execution or return a zero value ?",
        "created_at": "2021-01-13T08:06:11.309000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The EVM rules are always \"as of block X\".  Prior to block X the behavior is whatever the behavior was for that opcode prior to the EIP.",
        "created_at": "2021-01-13T08:16:12.044000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But that opcode is new. So just return 0 should be safer ?",
        "created_at": "2021-01-13T08:17:21.808000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It does whatever the EVM would do prior to this EIP if it ran into that opcode.  üôÇ",
        "created_at": "2021-01-13T08:17:39.614000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "or do nothing maybe",
        "created_at": "2021-01-13T08:17:44.546000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I believe all undefined opcodes result in a hard failure.",
        "created_at": "2021-01-13T08:17:47.780000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah. write nothing to the stack",
        "created_at": "2021-01-13T08:17:50.720000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "oh.",
        "created_at": "2021-01-13T08:17:56.992000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, I think they hard fail currently?",
        "created_at": "2021-01-13T08:17:58.334000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Way back in the day, Solidity used some undefined opcode to revert IIRC.",
        "created_at": "2021-01-13T08:18:26.801000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Before we had a real revert opcode.",
        "created_at": "2021-01-13T08:18:32.208000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yep",
        "created_at": "2021-01-13T08:18:42.786000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also a long time ago I think invalid opcode burned all gas.  I'm not sure if it still does.",
        "created_at": "2021-01-13T08:18:47.733000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "let me check",
        "created_at": "2021-01-13T08:19:27.105000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It is a hard fail actually. Like an explicit revert. Exceptional halt",
        "created_at": "2021-01-13T08:24:06.076000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok so I will trigger that if the base fee is not available",
        "created_at": "2021-01-13T08:24:24.502000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it still does",
        "created_at": "2021-01-13T08:33:44.180000+00:00",
        "attachments": []
    },
    {
        "author": "misterx7348",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I understand the reasoning, but its theoretically - has it worked the same way elsewhere - what keeps the receivers of these fee's from selling them? Effectively keeping a similar market structure. I hope I'm not breaching any rules by responding üôÇ",
        "created_at": "2021-01-13T11:37:17.472000+00:00",
        "attachments": []
    },
    {
        "author": "misterx7348",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Dope vitalik jumps in btw, if its really him üòÑ",
        "created_at": "2021-01-13T11:39:04.572000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Create BASEFEE opcode EIP - https://github.com/ethereum/EIPs/pull/3198 is ready for review",
        "created_at": "2021-01-13T12:34:49.259000+00:00",
        "attachments": []
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "BTW JSON RPC endpoints impacted by EIP-1559 also have their EIPs:\n- EIP-3041: Adds `baseFee` to `eth_getBlockByHash` https://eips.ethereum.org/EIPS/eip-3041\n- EIP-3044: Adds `baseFee` to `eth_getBlockByNumber`  https://eips.ethereum.org/EIPS/eip-3044\n- EIP-3045: Adds `baseFee` to `eth_getUncleByBlockHashAndIndex`  https://eips.ethereum.org/EIPS/eip-3045\n- EIP-3046: Adds `baseFee` to `eth_getUncleByBlockNumberAndIndex`  https://eips.ethereum.org/EIPS/eip-3046\nAll of them are implemented and merged in master in Besu.\n\u003c@!636906092374261761\u003e \u003c@!489256758989029405\u003e That would be great to implement them in Geth and Nethermind as well. Probably in a separate PR for Geth repository.",
        "created_at": "2021-01-13T12:48:40.905000+00:00",
        "attachments": []
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if interested I looked at this in a simulation with some users trying to outbid others who follow the basefee + fixed premium strategy here: https://nbviewer.jupyter.org/github/barnabemonnot/abm1559/blob/master/notebooks/strategicUser.ipynb\n\n(and more simulations too: https://github.com/barnabemonnot/abm1559/blob/master/README.md)",
        "created_at": "2021-01-13T14:23:34.600000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That's great \u003c@!486501030046203915\u003e. This is exactly what my concern was:\n```\nSince strategic users always bid above the smallest premium in the previous block, they bid a premium of 1.1 Gwei the first time, then 1.2, then 1.3 etc. At this point, we recognise the unstable dynamics of the current first-price auction paradigm, where users bid against each other instead of bidding their true value.\n```\n\nIn the worst case, the current gas pricing game moves into miner tips and base fee is effectively ignored.",
        "created_at": "2021-01-13T14:57:32.084000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But I see the potential for improvement hinges on this being true:\n```\nAs the basefee increases, fewer and fewer new strategic users decide to transact, since low-valued users are priced out, leaving some space for non-strategic users to be included.\n```",
        "created_at": "2021-01-13T14:58:17.501000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not fully convinced it will be so - because in theory wouldn't the current gas pricing game also cause fewer strategic users to hold their transactions? Does this actually happen in practice?",
        "created_at": "2021-01-13T14:59:17.730000+00:00",
        "attachments": []
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "well it bubbles up until the demand is exhausted, today and under eip1559 too",
        "created_at": "2021-01-13T15:00:26.696000+00:00",
        "attachments": []
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "actually the next notebook will delve a bit into the current dynamics",
        "created_at": "2021-01-13T15:00:43.325000+00:00",
        "attachments": []
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but the gist is that once basefee matches the clearing price then you don't need to be strategic, until what tim roughgarden calls \"excessively low basefee\" reappears again (the demand is unmatched by basefee)",
        "created_at": "2021-01-13T15:01:53.206000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes, i see",
        "created_at": "2021-01-13T15:16:50.051000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "**EIP-1559 Implementers' call in ~24.5 hours (Thursday Jan 14 at 16:00 UTC)**\nAgenda: https://github.com/ethereum/pm/issues/234\nZoom: To be share here before the call",
        "created_at": "2021-01-13T15:20:12.985000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Fwiw, i am for this eip because i don't see that it can possibly make the fee market worse. There is only room for improvement here. (And I personally like the potential economic side effects of the fee burning mechanism). My skepticism lies here, from game theoretic guarantees of eip 1559\n\n2. _Except in periods of a large and sudden demand spike_, there are ‚Äúobvious‚Äù\noptimal bids for users: set a transaction‚Äôs fee cap to its value and its tip to\ncover the marginal cost of gas to the miner.",
        "created_at": "2021-01-13T15:26:05.590000+00:00",
        "attachments": []
    },
    {
        "author": "cakez1r2648",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is this any different to the current gas pricing game, in which there is a bidding war during high demand and the gas price tends towards 1 nanoeth when there is not?",
        "created_at": "2021-01-13T15:26:40.469000+00:00",
        "attachments": []
    },
    {
        "author": "misterx7348",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The tipping part is essentially function similar to what we have now yup.",
        "created_at": "2021-01-13T15:31:01.558000+00:00",
        "attachments": []
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The critical difference is basefee providing an objective measure of what the clearing price should be. With the current paradigm, oracles base their estimations on past inclusions and current pending transactions, which sometimes mean that they perpetuate too high bids if users follow them to the letter. Will publish something on the topic tomorrow!",
        "created_at": "2021-01-13T15:43:57.321000+00:00",
        "attachments": []
    },
    {
        "author": "segfaultdoctor",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "why are miners tripping? I assume that smart contracts that need fast txns like Dexes will build in competitive tipping into the code logic",
        "created_at": "2021-01-13T15:44:11.338000+00:00",
        "attachments": []
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So the presence of basefee is also useful to build good wallet UXs that can track when we enter a regime of excessively low basefees, and help users bid accordingly until basefee catches up. This is also another planned notebook",
        "created_at": "2021-01-13T15:45:33.350000+00:00",
        "attachments": []
    },
    {
        "author": "liqdmetal369",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "basefee is just a t-1 price fix, the burn is the primary change to the economic model",
        "created_at": "2021-01-13T17:37:26.641000+00:00",
        "attachments": []
    }
]