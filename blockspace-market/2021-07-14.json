[
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!397389662085185547\u003e moving here",
        "created_at": "2021-07-14T10:35:09.208000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The formula we use to calculate the block reward is: static block reward + block tx fees, which are gas price * gas used for every transaction",
        "created_at": "2021-07-14T10:35:38.450000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "will that remain the same? \u003c@!397389662085185547\u003e",
        "created_at": "2021-07-14T10:35:47.367000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, you're not just looking at the amount that shows up in the coinbase you set?",
        "created_at": "2021-07-14T10:36:37.497000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There is no coinbase transaction in Ethereum",
        "created_at": "2021-07-14T10:37:12.090000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So no way to track the rewards. We need to calculate them manually",
        "created_at": "2021-07-14T10:37:23.993000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/go-ethereum/blob/94451c2788295901c302c9bf5fa2f7b021c924e2/consensus/ethash/consensus.go#L641",
        "created_at": "2021-07-14T10:38:41.005000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`accumulateRewards` did not change...",
        "created_at": "2021-07-14T10:38:55.207000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is there a document that describes what EXACTLY has changed?",
        "created_at": "2021-07-14T10:41:40.466000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md says literally nothing",
        "created_at": "2021-07-14T10:42:34.431000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So you currently use various RPC calls to calculate the rewards, and you want to know how those are affected (or how you should change your calculation)?",
        "created_at": "2021-07-14T10:43:06.547000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes",
        "created_at": "2021-07-14T10:43:29.072000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And also will our transactions work without updating them somehow?",
        "created_at": "2021-07-14T10:43:49.816000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You all better provided a document that describes exactly what people would need to change so things won't break after the fork",
        "created_at": "2021-07-14T10:44:46.398000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Legacy style transactions will work, but you will be overpaying a little probably (especially if you let _other_ miners mine those blocks). I'm looking for an overview of the EIP-1559 related RPC changes; I do remember one, but hard-pressed to find it.",
        "created_at": "2021-07-14T10:44:56.878000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Could be that \u003c@!552133098075193354\u003e will include all this in their London announcement post sometime next week though",
        "created_at": "2021-07-14T10:45:19.283000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Looks like a lot of work to be done to fully support it...",
        "created_at": "2021-07-14T10:45:29.365000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Better consensys had invested into adapting the infrastructure on Ethereum instead of providing the constant stream of funds to 1559 devs and supporters",
        "created_at": "2021-07-14T10:47:38.681000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What is going on with lately ethereum is just terrible. This is not how breaking changes should be made...",
        "created_at": "2021-07-14T10:47:59.325000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We're talking about (possibly) just changing an RPC call right?",
        "created_at": "2021-07-14T10:48:31.094000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You're literally changing the most important thing in Ethereum - transaction sending",
        "created_at": "2021-07-14T10:50:28.047000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And the way how rewards are distributed",
        "created_at": "2021-07-14T10:50:38.076000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just too much breaking changes.",
        "created_at": "2021-07-14T10:50:44.444000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There will be some pools that will not be prepared",
        "created_at": "2021-07-14T10:50:57.393000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The 1559 transition will be tough",
        "created_at": "2021-07-14T10:51:04.163000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what exact rpc calls are you using right now for the calculation of the rewards?",
        "created_at": "2021-07-14T10:51:41.254000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Berlin was just `docker pull` latest version (tho some pools have failed to even accomplish that), and that's it. But with EIP-1559 a LOT of things should be changed.",
        "created_at": "2021-07-14T10:52:06.578000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`eth_getBlockByHash`, `eth_getBlockByNumber`, `eth_getTransaction`, `eth_getTransactionReceipt`",
        "created_at": "2021-07-14T10:52:29.362000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`eth_getBlockByHash` is used for retrieving the block info, `eth_getBlockByNumber` for validating if block is an uncle, `eth_getTransaction` for getting the transaction info, and `eth_getTransactionReceipt` to get the total gas used by the transaction",
        "created_at": "2021-07-14T10:53:14.189000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it is so slow to call all these sequentially, so we have implemented a method for retrieving a miner reward natively as an RPC method in geth",
        "created_at": "2021-07-14T10:54:06.787000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I can imagine. I'm not all too familiar with the internals of geth and calculating the reward there, but I hope someone else in here is. I'm still not entirely sure you need to change anything at all really",
        "created_at": "2021-07-14T10:56:50.220000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Fingers crossed, but likely will need üíÄ",
        "created_at": "2021-07-14T11:04:33.239000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Well, the EIP itself says",
        "created_at": "2021-07-14T11:05:06.626000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "unknown.png",
                "content": "98c25b2f95a5d88786f27b1e3b28198602d4075287a328eb9ae564da87731d1f"
            }
        ]
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so depending on how geth does internal accounting, you may not have to do anyhing... but again, hopefully someone else knows more about that",
        "created_at": "2021-07-14T11:05:54.553000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What‚Äôs priority fee?",
        "created_at": "2021-07-14T11:15:08.379000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://hackmd.io/@q8X_WM2nTfu6nuvAzqXiTQ/1559-wallets covers the basics. If that's too high level, there are plenty of other resources linked there as well",
        "created_at": "2021-07-14T11:30:25.448000+00:00",
        "attachments": null
    },
    {
        "author": "knoshua",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So is there actually a smarter way to get miner reward for a given block from RPC calls? I was looking at it the other day and all I could come up with was calculating it from individual transactions as well.",
        "created_at": "2021-07-14T11:32:44.951000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not too familar with the internals of clients or RPC calls; the snippet I posted of EIP-1559 suggested a balance update of a particular block per transaction. I was (apparently wrongfully) expecting that you could just extract that accumulated value.",
        "created_at": "2021-07-14T11:34:30.567000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "afaik there is no easy way to get the mining reward for a given block, it needs to be calculated manually using the currently in place consensus rules",
        "created_at": "2021-07-14T13:12:39.893000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "mev makes it even more difficult as you will need to use tracing calls to get those rewards",
        "created_at": "2021-07-14T13:13:25.077000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "legacy transactions work completely the same, you will just be overpaying",
        "created_at": "2021-07-14T13:14:02.284000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Overpaying by how much?",
        "created_at": "2021-07-14T13:15:10.425000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "depends on a lot of variables.",
        "created_at": "2021-07-14T13:17:55.625000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "VE0pPkk.png",
                "content": "5d03ea23abce9d37fbc164f0d055262ea47453ca6a8fcbd587c0a8d7c41c9131"
            }
        ]
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "see above",
        "created_at": "2021-07-14T13:18:05.309000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This?",
        "created_at": "2021-07-14T13:18:18.210000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah this üòÖ",
        "created_at": "2021-07-14T13:18:29.703000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Transaction fee is increased to incentivise people to support EIP-1559, right?",
        "created_at": "2021-07-14T13:18:59.318000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'd recommend reading that document, as well as some things from here if you haven't already: https://hackmd.io/@timbeiko/1559-resources",
        "created_at": "2021-07-14T13:19:03.354000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "easier way is to just forward the hashrate to ethermine. I think they'll have a good solution",
        "created_at": "2021-07-14T13:19:22.660000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Lol",
        "created_at": "2021-07-14T13:19:48.727000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "no, the difference is that with legacy tx types, there is no refund. 1559 tx types give users a refund once baseFee + PriorityFee are taken out",
        "created_at": "2021-07-14T13:20:56.217000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you will forward the 1% fee back we agree üòÇ üëç",
        "created_at": "2021-07-14T13:21:02.308000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh okay",
        "created_at": "2021-07-14T13:21:49.804000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "from a miner perspective it will be quite simple, either each miner agrees to not include more than gasTarget worth of tx in a block which will drive the base fee towards 0 or miners won't be able to agree on that which will cause all of them to loose out on tx fees",
        "created_at": "2021-07-14T13:21:49.826000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Looks like EIP-1559 will be a huge headache for people who build things on ethereum",
        "created_at": "2021-07-14T13:22:22.341000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "At least for the people that need to adapt their software to support 1559",
        "created_at": "2021-07-14T13:22:44.973000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "more or less everyone will need to adapt their software to use 1559",
        "created_at": "2021-07-14T13:23:27.821000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "miners, wallets, exchanges",
        "created_at": "2021-07-14T13:23:36.215000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "*if* they want to use 1559 style tx",
        "created_at": "2021-07-14T13:23:49.367000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What bothers me is that you guys started a marketing campaign (stopeip1559) and don't even know the basics. I mean i don't know üí© , but you seem to know less.",
        "created_at": "2021-07-14T13:24:02.305000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "unless you have specific instances in mind we can walk through, I'll remind you that this is an opt-in upgrade in the sense that all legacy transactions will work as before",
        "created_at": "2021-07-14T13:24:09.675000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "oh lol are you from flexpool?",
        "created_at": "2021-07-14T13:25:06.841000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That was not a marketing campaign",
        "created_at": "2021-07-14T13:25:08.206000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sure",
        "created_at": "2021-07-14T13:25:10.259000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Check my profile pic haha",
        "created_at": "2021-07-14T13:25:15.659000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So... you don't even know what you protested against?",
        "created_at": "2021-07-14T13:25:40.997000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c:FeelsWeirdMan:538488042890067969\u003e",
        "created_at": "2021-07-14T13:25:47.310000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!97774605351010304\u003e I believe this is a wrong chat for discussions like this.",
        "created_at": "2021-07-14T13:26:04.664000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah. imo you should not get any help",
        "created_at": "2021-07-14T13:26:17.470000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That's all?",
        "created_at": "2021-07-14T13:26:41.735000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "#STOPEIP1559 was started because of influencers starting to say that miners are idiots and that we should get rid of them",
        "created_at": "2021-07-14T13:28:44.046000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Not everything is done for marketing purposes \u003c@!97774605351010304\u003e",
        "created_at": "2021-07-14T13:28:54.213000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes, with big changes like this, there are bound to be issues that pop-up. we're going to do our best support to ecosystem projects that need help understanding the changes",
        "created_at": "2021-07-14T13:29:28.137000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what do you mean? you literally hired someone who circle jerks over 1 eth mev block rewards on reddit and discord servers. \nTime to query your social media accounts if you are not aware of whats happening. I am out, good luck",
        "created_at": "2021-07-14T13:30:37.236000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "üëç",
        "created_at": "2021-07-14T13:30:58.399000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!354681205842771973\u003e if you'd like an RPC call to calculate the ETH miners receive in each block, I suggest you open an issue on https://github.com/ethereum/eth1.0-apis and potentially bring it up on AllCoreDevs. \n\nWe (and you also) have been discussing 1559 for months, so if you would have asked for that a while back, I suspect it could have been implemented before the mainnet releases are out. Now, though, you will very likely need to implement a temporary solution which relies on tracing, yeah.",
        "created_at": "2021-07-14T14:12:59.098000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How do you get the total txn fees paid now?",
        "created_at": "2021-07-14T14:13:21.640000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because to get the amount burnt, you just need to look at the block header: `gasUsed` * `baseFeePerGas`. If you have an easy way to get the total txn fees, you can just do that and then subtract the burn total.",
        "created_at": "2021-07-14T14:14:09.905000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`gasUsed` from the tx receipt * `gasPrice` and that's for every transaction in the block",
        "created_at": "2021-07-14T14:27:04.566000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh, so `gasUsed` * `baseFeePerGas` is what I need to substract from it?",
        "created_at": "2021-07-14T14:27:18.664000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, exactly, and you can get both those in the block header.",
        "created_at": "2021-07-14T14:57:40.591000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Alright thank you!",
        "created_at": "2021-07-14T14:57:48.314000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "BTW, \u003c@!354681205842771973\u003e pretty sure you should be able to use `effectiveGasPrice` in the txn.receipt too",
        "created_at": "2021-07-14T14:58:05.561000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ahhh, scratch that.",
        "created_at": "2021-07-14T14:58:17.034000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Haha ok",
        "created_at": "2021-07-14T14:58:22.254000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is what the user paid, not what the miner received, my bad",
        "created_at": "2021-07-14T14:58:28.103000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Geth still supports `gasPrice` on all txns, and it will return the actual gas price paid by users for a 1559 transaction, but eventually that field will be deprecated in 1559-style txns in favor of `effectiveGasPrice`, so if you are changing things now, it's more future proof to use `effectiveGasPrice`",
        "created_at": "2021-07-14T15:00:02.488000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And then yeah, calculate that * `gasUsed` for all txns, then substract the block's `gasUsed` * `baseFeePerGas` and you know what went to the miner (and need to add block/uncle rewards, of course)",
        "created_at": "2021-07-14T15:00:44.499000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also question",
        "created_at": "2021-07-14T15:10:07.906000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Regarding the transaction sending",
        "created_at": "2021-07-14T15:10:14.941000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The transaction fee remains `gasPrice` * `gasUsed`?",
        "created_at": "2021-07-14T15:10:40.922000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For a legacy transaction, yes",
        "created_at": "2021-07-14T15:15:56.749000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For a 1559-style transacton, if you query the `gasPrice`, it will return the `maxFeePerGas` prior to it being mined, and the `effectiveGasPRice` after it is mined",
        "created_at": "2021-07-14T15:16:22.361000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because there is no way to know in advance what the cost will be, since it depends on the base fee",
        "created_at": "2021-07-14T15:16:32.979000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://twitter.com/MetaMask/status/1415391298153062401?s=20",
        "created_at": "2021-07-14T20:38:57.733000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://twitter.com/danfinlay/status/1415394626576388100?s=20\n\nlooking forward to testing this!",
        "created_at": "2021-07-14T20:39:12.666000+00:00",
        "attachments": null
    }
]