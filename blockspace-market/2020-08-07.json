[
    {
        "author": "matkt0",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I also think having both is better. the pseudocode allows people unfamiliar with python to understand the specification",
        "created_at": "2020-08-07T12:17:03.944000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Part of the goal with using code is to write it in a way that allows it to be checked by a computer for at least completeness (e.g., compiler can check it, you can run tests against it).  Any human readable specification we maintain along side the python code is very likely to become out of date and/or incorrect, because there are only fallible humans checking it.",
        "created_at": "2020-08-07T12:20:23.202000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I *can* be convinced to improve the Abstract so it gives a bit more technical detail than currently, so there is something for non-engineers to read and benefit from.",
        "created_at": "2020-08-07T12:20:53.279000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But fundamentally, this specification *is* targeting engineers and while I definitely appreciate that not everyone knows Python, I *do* feel like most software engineers will be able to understand it seeing as how it is just a few datastructures, some functions, and a handful of conditionals.  I *tried* to not use any advanced Python (which was pretty easy since I haven't touched Python for about a decade, so I barely know how to use it myself) but if there are specific parts that are hard to grok for a non-Python engineer I would love feedback on that.",
        "created_at": "2020-08-07T12:22:04.738000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm happy to give it a look as a \"has written python during my CS degree but never professionally\" user üòõ",
        "created_at": "2020-08-07T13:30:35.387000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is similar to my Python experience.  üôÇ",
        "created_at": "2020-08-07T13:50:08.375000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I know it is a whitespace language, and that is the extent of it (until a few days ago when I put that code together).",
        "created_at": "2020-08-07T13:50:23.367000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "**EIP 1559 Implementers' Call #4**\n**Date**: Wednesday Aug 28th at 15:00 UTC\n**Agenda**: https://github.com/ethereum/pm/issues/197\n**Zoom**: www.zoom.us/j/91866526216 \n\nIt won't be livestreamed, but I'll upload the zoom recording afterwards. Please add anything you'd like to discuss to the agenda üòÑ",
        "created_at": "2020-08-07T16:04:21.936000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It will be hard to convince me to get rid of the plain spec in favor of just the Python code, I see no reason why we can't have both",
        "created_at": "2020-08-07T16:05:01.945000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would help if others weighed in",
        "created_at": "2020-08-07T16:05:31.851000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\"Any human readable specification we maintain along side the python code is very likely to become out of date and/or incorrect, because there are only fallible humans checking it.\" This is true for the Python code too",
        "created_at": "2020-08-07T16:06:10.423000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It will also have to be maintained as/if the full client implementations (geth, besu) are adjusted based on the results of the testnet",
        "created_at": "2020-08-07T16:07:37.391000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e This is true for the Python code too\nThe Python code can be (and is) tested.",
        "created_at": "2020-08-07T16:26:35.129000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is, the tests that will eventually end up in that EIP will run against the spec itself (as well as run against each client implementation).",
        "created_at": "2020-08-07T16:26:58.999000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!376568077950910466\u003e I have withdrawn my request for `MAX_BASE_FEE` after realizing that `gas_premium` is a maximum, not a flat value.",
        "created_at": "2020-08-07T16:27:42.003000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you still want it feel free to bring it up in the call of course, but don't bring it up on my behalf.  üôÇ",
        "created_at": "2020-08-07T16:27:59.814000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I just don't understand why there can't be both, we can't test the abstract but we have that. Having the terms/conditions of the EIP up front and in plain terms makes it quicker to understand the fundamentals of the spec.",
        "created_at": "2020-08-07T17:02:33.744000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Think of it like a prelude or header comments for the code",
        "created_at": "2020-08-07T17:03:17.629000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm üëç on enhancing the abstract to include more details, I just don't think it should be a second transaction of the specification.",
        "created_at": "2020-08-07T17:05:11.923000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Okay, well so far we have 2 people in favor of both and 1 in favor of just the code so we need more feedback",
        "created_at": "2020-08-07T17:06:23.030000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I generally advocate that EIP abstracts should give the reader the basic idea of the EIP, which in this case would include the concepts of base fee, gas premium, the min(maxfee-basefee, gaspremium) thing, etc. but wouldn't include edge cases like how we do rounding during division, what happens when the feecap is less than the base fee, whether we assert balances after each transaction or after the whole block, etc.",
        "created_at": "2020-08-07T17:08:50.807000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\"how we do rounding during division\" where would we put this then? In a comment in the code, or do we expect people to understand that Python uses euclidean division?",
        "created_at": "2020-08-07T17:10:23.401000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Lookup what `//` in Python means if you don't know it (I had to look it up personally).",
        "created_at": "2020-08-07T17:11:17.299000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The tests are another way to \"discover\" the behavior if you prefer that route.",
        "created_at": "2020-08-07T17:11:40.583000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Why not just tell people lol",
        "created_at": "2020-08-07T17:11:49.227000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(since we definitely should have tests that cover rounding)",
        "created_at": "2020-08-07T17:11:52.676000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Same reason we don't tell people what `*` means.",
        "created_at": "2020-08-07T17:12:11.990000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but `//` has different meaning in different languages",
        "created_at": "2020-08-07T17:12:21.764000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "* generally does not",
        "created_at": "2020-08-07T17:12:28.460000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh?  What does it mean in other languages that have it?",
        "created_at": "2020-08-07T17:12:43.678000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am not familiar with any languages that have a `//` operator other than Python.",
        "created_at": "2020-08-07T17:13:00.314000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't know, but in general there is more than one meaning to floored integer division (round to  negative infinity or not) there is only one meaning to multiplication",
        "created_at": "2020-08-07T17:14:18.161000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So yes if you know what it means in Python you know what it means here",
        "created_at": "2020-08-07T17:18:16.944000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e there is more than one meaning to floored integer division (round to  negative infinity or not)\nWould you mind expanding on this?",
        "created_at": "2020-08-07T17:18:21.578000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm unaware of multiple definitions for \"floored integer division\".",
        "created_at": "2020-08-07T17:18:56.004000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "When doing integer division that results in neg numbers you can round the result towards neg infinity or towards 0",
        "created_at": "2020-08-07T17:18:56.246000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, does the spec have division of negatives?",
        "created_at": "2020-08-07T17:19:24.234000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It does.",
        "created_at": "2020-08-07T17:20:31.213000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, there was originally a consensus issue betwene geth and besu because of this not being specified better",
        "created_at": "2020-08-07T17:20:39.515000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "With the move to Python it *is* specified explicitly.  üòÑ",
        "created_at": "2020-08-07T17:21:19.705000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah it would be even more explicit if they didnt have to first 1) recognize there is a difference 2) then look up what it means in Python",
        "created_at": "2020-08-07T17:21:48.229000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not totally against specifying it if it is something that we think is either hard to lookup (searching for operators *is* hard) or particularly prone to misinterpretation (e.g., Python has some idiocyncracy in the way it does something that differs from most languages).",
        "created_at": "2020-08-07T17:23:03.884000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I just really dislike the idea of filling EIPs with redundant information just so people don't have to look something up.",
        "created_at": "2020-08-07T17:23:49.362000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I also feel like tests would solve all of the problems with the `//`.  Geth and besu didn't have shared test suite and didn't have a clear specification to work from, so it is unsurprising they did some things differently.",
        "created_at": "2020-08-07T17:25:22.373000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Perhaps another way to put it, I want to be careful to not curve fit the EIP to a specific problem Besu/Geth had when implementing from an underspecified spec with no test cases.  I do think we can learn from that, but I *think* the lesson to learn here is that tests are good, not that we need to redefine the language we are using in the spec.",
        "created_at": "2020-08-07T17:27:05.682000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(FWIW, the difficulty of searching the internet for operators is a pretty compelling argument to me)",
        "created_at": "2020-08-07T17:28:11.946000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sorry for dropping off I need to turn my focus elsehwere. I'm still not convinced having both isn't the best of both worlds, but I will think about it some more! Either way I shouldn't be the deciding factor, I will happily approve the PR if people are in favor of it but I think we need more feedback.",
        "created_at": "2020-08-07T17:36:44.870000+00:00",
        "attachments": []
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also I would like to propose making \u003c@!301186049323958275\u003e an author, particularly if this is merged. Although I will say being an author has it downsides, namely that you can't open a PR for review- it just gets automerged.",
        "created_at": "2020-08-07T18:05:42.183000+00:00",
        "attachments": []
    },
    {
        "author": "talkabhi4601",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How about the soft for this eip ?",
        "created_at": "2020-08-07T18:22:35.524000+00:00",
        "attachments": []
    }
]