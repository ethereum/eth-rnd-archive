[
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Remember: in 9.5 (9am ET) hours we will be having the **1559 Wallets call**\n\nplease DM me if you are working in this area and need an invite!\n\nCheatsheet here: https://hackmd.io/@q8X_WM2nTfu6nuvAzqXiTQ/1559-wallets",
        "created_at": "2021-05-26T03:30:55.654000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A few questions from Santiago of Open Zeppelin that I wanted to surface here:\n\n\u003e We're struggling with a few things wrt Defender Relayers (https://docs.openzeppelin.com/defender/relay), which share many challenges with wallets except that they need to handle fee pricing decisions without direct user interaction. \n\u003e \n\u003e A few of the things that have come up:\n\u003e - How reliable is the 2gwei estimation for the miner tip in times of no congestion? Should we consider an oracle for this value?\n\u003e - Speaking of oracles, do we know how they are going to adapt to 1559? I've been talking to ethgasstation and blocknative, and they are still looking into it. \n\u003e - Do we know of a reliable way of identifying if baseFee is exceptionally high, so as to wait for it to normalize before broadcasting a tx?",
        "created_at": "2021-05-26T03:32:17.206000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I can answer the last one at least: \"EIP-3198 - Adds an opcode that gives the EVM access to the blockâ€™s base fee.\"\n\nyou should be able to use this to calculate times of congestion in protocol\n\nhttps://eips.ethereum.org/EIPS/eip-3198",
        "created_at": "2021-05-26T03:36:12.054000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For the premium, you should look at the last `n` blocks and see what minimum premium was accepted some percentage of the time.",
        "created_at": "2021-05-26T03:38:59.238000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We hopefully won't need complicated oracles like ethgasstation and cannot anymore after 1559.  Any dapp/wallet can trivially be their own oracle.",
        "created_at": "2021-05-26T03:39:38.539000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Also wrt to supporting legacy transactions is there a plan to phase them out? I can see huge censorship opportunity by miners since they profit more on pre-1559 transactions\n\ni don't think this is true. legacy transactions are more likely to not be includable, since as soon as basefee is greater than their original max price, they cannot be included. then once basefee retreats, a miner would include the legacy transaction as soon as it pays out more than their opportunity cost, so assuming basefee isn't too noisy the legacy transaction would pay very close to the opportunity cost as soon as it becomes includable (h/t to \u003c@!415548822983278593\u003e who made me realise this)\n\nthe only way miners profit from legacy is if they receive absurdly high gas price legacy transactions, much more above basefee, which is also unsustainable since then basefee would go and catch up to them",
        "created_at": "2021-05-26T03:39:41.039000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "oracles might still be important for the legacy software. i had shown in a notebook (https://ethereum.github.io/abm1559/notebooks/transition1559.html) that as long as you have legacy software that relies on the traditional oracles to determine their gas price, it's a brittle situation for legacy users. oracles will tend to quote prices close to basefee (since 1559 narrows transaction price spreads around it), so small variations of basefee could immediately price out legacy transactions. if we want to keep the \"function call\" nature of oracles for legacy users, changing these legacy oracles to something like \"take the current basefee and multiply it by 1.2\" might be a better way. legacy users can just take the value as is for their gas price, they might overpay a bit but at least they have some marginal protection against being priced out immediately (or you could have slow oracle =\u003e 1.1 * basefee, medium =\u003e 1.2 * basefee etc.)",
        "created_at": "2021-05-26T03:44:49.818000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We'll be starting the call in a few minutes\n\nAgenda here: \nhttps://github.com/ethereum/pm/issues/323",
        "created_at": "2021-05-26T12:53:08.367000+00:00",
        "attachments": null
    },
    {
        "author": "spalladino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!552133098075193354\u003e RE activating 1559 on testnets: are there any plans on trying to reproduce different scenarios on the testnets, like high congestion periods to see how the clients adapt to the short-lived GPAs?",
        "created_at": "2021-05-26T14:02:46.452000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!385149230899003392\u003e we're trying to do that on Baikal (devnet) right now. We likely could do it on testnets if we have whales who can help fund spamming the network. \u003c@!574864862338088960\u003e had built a tool to spam the devnets we had, so we could likely use that on testnets too",
        "created_at": "2021-05-26T14:03:55.882000+00:00",
        "attachments": null
    },
    {
        "author": "ligi42",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "unfortunately this tool uses web3j and hence will not work with the current testets https://github.com/web3j/web3j/issues/1416",
        "created_at": "2021-05-26T14:22:18.085000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "can still be used with legacy transactions only",
        "created_at": "2021-05-26T14:26:04.139000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and \u003c@!680337202521440470\u003e is submitting a PR against web3j to deal with the new encoding",
        "created_at": "2021-05-26T14:27:03.532000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For load testing, though, we can use legacy txns",
        "created_at": "2021-05-26T14:31:20.913000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah completely",
        "created_at": "2021-05-26T14:33:01.377000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we would test a big part of the impacted code base",
        "created_at": "2021-05-26T14:33:11.339000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and then when web3j will be ready",
        "created_at": "2021-05-26T14:33:17.365000+00:00",
        "attachments": null
    },
    {
        "author": "abdel.stark",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we can retest again to check the behaviour of the mempool with 1559 txs",
        "created_at": "2021-05-26T14:33:32.866000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I created a PR for web3J https://github.com/web3j/web3j/pull/1417",
        "created_at": "2021-05-26T14:39:42.535000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We need to find a Ropsten whale now!",
        "created_at": "2021-05-26T14:45:55.438000+00:00",
        "attachments": null
    },
    {
        "author": "ligi42",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "or do goerli earlier - goerli whales are easier to find (MarÃ­a Paula easily gives out lot's of goerli eth)",
        "created_at": "2021-05-26T14:49:43.754000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes but Goerli will fork 1 week later",
        "created_at": "2021-05-26T14:52:35.658000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ideally we do both ðŸ˜„",
        "created_at": "2021-05-26T14:52:44.597000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And this is the PR of the chain-filler which works with my web3j PR https://github.com/ConsenSys/eip1559-tx-sender/pull/3 ðŸ˜„",
        "created_at": "2021-05-26T14:53:47.314000+00:00",
        "attachments": null
    },
    {
        "author": "spalladino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Awesome, thanks! Can post here when you plan to run the stress tests on the different testnets, so we can be monitoring our tools when it happens?",
        "created_at": "2021-05-26T14:55:57.782000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah we can maybe even organize a sync call for it. We did that for the dev nets a while back",
        "created_at": "2021-05-26T14:57:49.311000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Recording of this AMâ€™s Wallet UI call: https://ethereumfoundation.zoom.us/rec/share/IqKjZwiE4lPFzilAdmPPrILDTae53BFARiOErwwn1bZspz01eBI9A1yL-6j65lmZ.1qHY-btsuVFXKVid Passcode: \u0026Xxi$K3X",
        "created_at": "2021-05-26T14:58:23.746000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "help with broadcasting this is welcome!\n\nhttps://twitter.com/trent_vanepps/status/1397627830993920001?s=20",
        "created_at": "2021-05-26T19:01:38.839000+00:00",
        "attachments": null
    }
]