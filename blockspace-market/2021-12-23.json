[
    {
        "author": "chrismeislblocknative",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Internally, we also compare block size to priority fee to understand the relationship better. Its somewhat distorted by type 0 txs (we actually measure \"miner reward\" to cover both types).",
        "created_at": "2021-12-23T00:07:06.181000+00:00",
        "attachments": null
    },
    {
        "author": "chrismeislblocknative",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!273808422753796097\u003e \u003c@!552133098075193354\u003e if there is specific analysis we can contribute based on our deep mempool instrumentation, we would love to discuss how we can be helpful here.",
        "created_at": "2021-12-23T00:08:31.356000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have been lobbying *hard* for wallets to pay 1.",
        "created_at": "2021-12-23T03:15:47.650000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "While it is *individually* rational to pay a bit more, it is a tragedy of the commons for everyone to behave individually rational.",
        "created_at": "2021-12-23T03:16:10.489000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In fact, I pay 1 just to help support the commons even though increasing to 1.1 would be beneficial to me personally and come with an insignificant cost.",
        "created_at": "2021-12-23T03:16:20.883000+00:00",
        "attachments": null
    },
    {
        "author": "_samwalker",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don‚Äôt have hard data on this, but metamask most likely contributes the majority of type-2 transactions, which means the lower end of the priority fee range is mostly comprised of metamask transactions (since type 0 overpays miner reward). So raising our minimum a few gwei will possibly just pull the whole ‚Äútail‚Äù of the lower range of priority fees up a few gwei.",
        "created_at": "2021-12-23T03:16:55.885000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "All this does is increase the cost for *everyone* to get included.  Anything above miner minimums as a default just makes it cost more to get in when you really are in a hurry, it doesn't actually help the ecosystem as a whole at all.",
        "created_at": "2021-12-23T03:18:55.229000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I actually wish MetaMask would *lower* their default priority fee to `1` from `1.5`.",
        "created_at": "2021-12-23T03:19:23.900000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I feel like as the dominant wallet, if they care about ecosystem health they should set a default that is most healthy for the commons (which is 1 I believe).",
        "created_at": "2021-12-23T03:19:46.594000+00:00",
        "attachments": null
    },
    {
        "author": "_samwalker",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think that argument makes sense to me.",
        "created_at": "2021-12-23T03:47:17.608000+00:00",
        "attachments": null
    },
    {
        "author": "thegostep",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Miners basically set a minimum priority fee and let the node handle the rest",
        "created_at": "2021-12-23T04:03:37.601000+00:00",
        "attachments": null
    },
    {
        "author": "thegostep",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Most of them set a minimum of 1-3",
        "created_at": "2021-12-23T04:03:52.207000+00:00",
        "attachments": null
    },
    {
        "author": "thegostep",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Some of the smaller ones are still running with a minimum of 0",
        "created_at": "2021-12-23T04:04:10.622000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh got it",
        "created_at": "2021-12-23T04:04:12.191000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So if a subset have a min of 3 that maybe explains it",
        "created_at": "2021-12-23T04:04:23.306000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because you‚Äôd never be included in their blocks with a PF of 1.5",
        "created_at": "2021-12-23T04:04:45.424000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Who is running with a minimum of 3, and why?",
        "created_at": "2021-12-23T04:22:12.869000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We should be reaching out to miners to let them know that they are leaving money on the table by setting it to 3 (if they don't already know that).",
        "created_at": "2021-12-23T04:22:33.164000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "FWIW I *think* Ethermine might dynamically adjust it based on MEV in blocks",
        "created_at": "2021-12-23T04:22:46.247000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If they are doing it in an attempt to collude and game the system (e.g., as a method of signaling to other miners a willingness to \"break\" 1559), then it is unclear how that should be handled.",
        "created_at": "2021-12-23T04:55:40.930000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think this would be legitimate if true, but I'm skeptical that anyone has done the math and engineering work to do this properly.",
        "created_at": "2021-12-23T04:56:20.485000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't see why this is true",
        "created_at": "2021-12-23T12:27:26.731000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Where's the tragedy of the commons effect?",
        "created_at": "2021-12-23T12:27:42.957000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because the system is price-time priority, which means time matters (first come first served) when everyone is bidding the same price.",
        "created_at": "2021-12-23T12:28:31.849000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I mean, it's a rational economic calculation that miners would set their min accept priority fee to be basefee * their hashrate * k",
        "created_at": "2021-12-23T12:28:36.371000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ideally, we want people with no time preference to be able to compensate miners enough to cover costs, but no more.",
        "created_at": "2021-12-23T12:28:52.364000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sure, but to me the cost of paying 3 instead of 1 is so tiny....",
        "created_at": "2021-12-23T12:29:17.340000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If the default is 10, then people who just want time priority along with *everyone who uses the default* have to pay 10.  If the default is 1, then everyone who just wants time priority with default users pays 1.",
        "created_at": "2021-12-23T12:29:42.860000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You could make the same argument for every number between 1 and infinite.  üòÑ",
        "created_at": "2021-12-23T12:29:58.211000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There is no \"obviously right choice\" other than min required to compensate miners.",
        "created_at": "2021-12-23T12:30:17.984000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, but it gives a 3x size the incentive to miners",
        "created_at": "2021-12-23T12:30:18.683000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If the default is 10, then anyone would be able to cut their prio fee from 10 to 5 and almost always still get included",
        "created_at": "2021-12-23T12:30:26.851000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That only matters when you are competing with other users.  If we assume miners are rational, they'll include a 1 just as fast as they'll include a 3 or a 30.",
        "created_at": "2021-12-23T12:30:48.353000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No, because:",
        "created_at": "2021-12-23T12:30:57.519000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1. Maybe miners perceive their cost of inclusion to be higher than 1",
        "created_at": "2021-12-23T12:31:08.285000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If we have evidence of (1) then I agree we should adjust the default.  We don't (yet) have evidence of that though.",
        "created_at": "2021-12-23T12:31:29.590000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "2. The monopoly-price effect: if a miner sets their min prio to 2, their loss from losing the txs with prio 1 might be smaller than their gain from users setting the fee level to 2",
        "created_at": "2021-12-23T12:31:48.966000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If even a single transaction gets delayed because of (2), that's pure unproductive deadweight loss",
        "created_at": "2021-12-23T12:32:10.491000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(2) is a collective bargaining problem, and is dangerous to allow to play out.",
        "created_at": "2021-12-23T12:32:14.951000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I just think the prio fees should be high enough that engaging in (2) is not worth it!",
        "created_at": "2021-12-23T12:32:47.667000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The natural evolution from a game theoretic sense of (2) is that min fee is driven to == what base fee *would* be if min fee was 0.",
        "created_at": "2021-12-23T12:32:49.205000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that's only if all miners collude",
        "created_at": "2021-12-23T12:33:02.228000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The problem is that (2) is *always* worth it.  Collective bargaining is incredibly powerful, especially when a burn is involved that can be redirected.",
        "created_at": "2021-12-23T12:33:16.305000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If we bump the default up from 1 =\u003e 2, miners could collectively bargain for 2 =\u003e 3.  If we respond by bumping default to 3 they can then collectively bargain for 4, etc.",
        "created_at": "2021-12-23T12:33:58.818000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The game, when played out, leads to miners driver away the benefits of 1559 eventually.",
        "created_at": "2021-12-23T12:34:15.648000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Defaults here are very powerful because it gives *users* collective bargaining power, which pressures miners to defect from their collective.",
        "created_at": "2021-12-23T12:34:49.441000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It's not the same game each time; the higher the prio fee goes, the more it makes sense for users to push their prio fee lower and be willing to wait and get included by whoever the defecting miners are",
        "created_at": "2021-12-23T12:35:26.658000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But if we respond to *some* miners colluding by caving on our collective bargain (by adjusting default up to 2 because *some* miners use min 2) then we essentially are giving up our collective bargaining power.",
        "created_at": "2021-12-23T12:35:30.092000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I suspect that *most* users don't even know how to adjust their gas prices manually.  üò¢",
        "created_at": "2021-12-23T12:36:14.438000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In part because the fee sliders are terrible and don't let you adjust the prio fee to anywhere near as high as it should be üò¢",
        "created_at": "2021-12-23T12:36:49.999000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A lot of wallets have no option for configuring gas prices at all, and those that do often bury it in an advanced dialog (reasonably so).",
        "created_at": "2021-12-23T12:37:24.523000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also users don't have a way to set sticky preferences",
        "created_at": "2021-12-23T12:37:33.183000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, the lack of sticky preference is annoying.",
        "created_at": "2021-12-23T12:37:42.303000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think default to 1 and sticky preferences could go a long way.  It would still leave us a strong collective bargaining position for minimum, while allowing users with high time preference and advanced knowledge to easily interact with the system.",
        "created_at": "2021-12-23T12:38:22.946000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But I don't *want* just advanced users to get that benefit, I want all users to by default get the experience of getting included within 2 blocks 90% of the time",
        "created_at": "2021-12-23T12:38:52.926000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I believe they already have that with (1).",
        "created_at": "2021-12-23T12:39:08.306000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "My own experience when I don't manually set my fee to 3-5 definitely involves waiting 3-5 min often",
        "created_at": "2021-12-23T12:39:36.063000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, that does not align with my experience (always set to 1).",
        "created_at": "2021-12-23T12:39:45.977000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Though, I also don't have a high time preference so I may just not notice.",
        "created_at": "2021-12-23T12:40:00.030000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The problem here is that if the majority of users use default, then no matter what the default is, there will be a delay.",
        "created_at": "2021-12-23T12:40:18.485000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "though the chance of a \u003e2 block delay should only be ~10%, and of a \u003e4 block delay even less than that",
        "created_at": "2021-12-23T12:40:57.028000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I feel like the delays I'm experiencing are far worse than what random variance would predict",
        "created_at": "2021-12-23T12:41:10.848000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "e.g., if 90% of users are setting priority fee to 10, and 9% set it to 1 and 1% set it to 100, then anyone using the default will end up queued (time priority) anytime there is transient congestion.",
        "created_at": "2021-12-23T12:41:14.704000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The above assumes miners have a min-fee of 1.  If they don't then the above isn't true.",
        "created_at": "2021-12-23T12:42:29.460000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Things it would be good to get data on:\n1. Are there any miners that have a min priority fee higher than 1?  If so, how much hashpower and how high?\n2. Historically, what is the probability of 2 block inclusion using a priority fee of 1.5 (MetaMask default)?",
        "created_at": "2021-12-23T12:43:22.980000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Maybe \u003c@486501030046203915\u003e has that data already?",
        "created_at": "2021-12-23T12:43:34.789000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, I would love to get data on miners' minfees; seems really valuable to have",
        "created_at": "2021-12-23T12:43:51.856000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A very quick scan of recent blocks for Etherine, F2pool, Hiveon and Flexpool all include txs with a MaxPriorityFeePerGas of 1Gwei..  Haven't bothered to go lower than that (in terms of both hashrate % and priority fee).",
        "created_at": "2021-12-23T12:54:13.630000+00:00",
        "attachments": null
    },
    {
        "author": "thegostep",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Many miners simply don‚Äôt understand geth configurations",
        "created_at": "2021-12-23T13:42:18.185000+00:00",
        "attachments": null
    },
    {
        "author": "thegostep",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What do you expect their behavior to be with regards to priority fee?",
        "created_at": "2021-12-23T13:42:45.663000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Defaults, which is what we *want*.  üòÑ",
        "created_at": "2021-12-23T14:14:54.598000+00:00",
        "attachments": null
    }
]