[
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!293452142927151106\u003e priority for what? All of the EIPs? There isn't such a list and it wouldn't be very accurate even if there was given that teams working on various EIPs are pretty independent. For example, no one actually working on, say, Account Abstraction, is working on EIP-1559. \n\nWhen EIPs get ready enough to be implemented by core developers, they go through the process there and priorities are typically sorted by \"what is ready first\". Arguably, not the best model, but also not something that affects 1559 for the next few months of development",
        "created_at": "2020-08-22T01:44:02.875000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e The proposal introduces new incentives for miners to collude at the expense of users, so until it can be proven that rational miners will always defect, it seems the whole idea could be dead in the water.\nI believe that it has been proven (that rational miners will defect rather than collude) in the mechanism design/game theory way.  That is, every argument about miner manipulation has been debunked, and no one has been able to come up with a profitable attack strategy for miners that doesn't depend on a 51% attack (which would still be unprofitable with only 51%).",
        "created_at": "2020-08-22T02:56:27.008000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@466048602326695938\u003e",
        "created_at": "2020-08-22T02:57:08.792000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This gets brought up frequently enough though, that if someone puts together a concise list of proposed attack strategies (actually attack plans, not just vague hand wavey what ifs) d would be willing to author a blog post about how each attack plan is not profitable.",
        "created_at": "2020-08-22T02:58:44.551000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The problem is (and the reason I haven't written such a post in the past) that the attack vectors people suggest tend to be *incredibly* vague and arguing against them or disproving them involves a large amount of straw manning on my part.",
        "created_at": "2020-08-22T02:59:55.403000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the strategy is just ‚Äúdon‚Äôt produce large blocks‚Äù. So the question is what proportion of the hashpower needs to follow this strategy for 1559 to degenerate into a fee market much like we already have? As a miner I might reason that over the long term, my reward will be greater if I avoid mining a block that contributes to an increase in basefee. If I am a large mining pool perhaps this strategy is still long-run profitable even if all other miners defect?",
        "created_at": "2020-08-22T03:44:15.714000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e if the 3 largest mining pools discuss this and agree that it‚Äôs all their interests not to mine large blocks then you might have a majority of the hash power. They could even form off-chain (i.e. legal)  contracts with one another to follow this policy. Since any defection is recorded on the blockchain it would be easy to enforce.",
        "created_at": "2020-08-22T03:57:04.392000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Since mining can be done anonymously/pseudoanonymously, any one of the mining groups could defect with some portion of their hashing power and operate more profitably than the other mining groups.",
        "created_at": "2020-08-22T04:24:11.962000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, it would be *far* more profitable for those groups to collude and exclude all non-participating miners from producing *any* blocks.",
        "created_at": "2020-08-22T04:24:34.128000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the latter argument is the stronger one in this case, but I believe both refute the attack in general.",
        "created_at": "2020-08-22T04:24:51.761000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you are going to create a 51% coalition, the most profitable strategy by far is to ignore blocks produced by any non-coalition miner.  Underfilling blocks is nowhere near as profitable, even when you consider the current high gas prices.",
        "created_at": "2020-08-22T04:25:58.985000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In fact, the only way you could prevent miners from partially defecting (e.g., mining blocks under a pseudonym that produces 2x sized blocks) would be to create a coalition that ignores all non-coalition blocks.",
        "created_at": "2020-08-22T04:27:14.083000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is, the only way to prevent defectors is to essentially have all block producers be known coalition participants.",
        "created_at": "2020-08-22T04:27:34.337000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Re: How much hashing power is needed to be profitable: At 50% hashing power, if you produce completely empty blocks and the remaining 50% of hashing power produces blocks following standard protocol strategy, then you will forever mine empty blocks while everyone else in the network mines 2x blocks, so at just 50% hashing power you would not change the base fee and instead just give away all of your transaction fees to non-participants.  At 50% + epsilon, you will *very slowly* decrease the base fee.  However, once the base fee has decreased to 0, you would only be able to extract epsilon (as a percentage of hashing power) worth of fees while all non-coalition producers will still be collecting 2x - epsilon fees.",
        "created_at": "2020-08-22T04:30:08.118000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So, you'll need some potentially significant percentage of hashing power *over* 50% in order to *eventually* extract value.  Also, you have to mine empty blocks for a potentially long period of time in order to drive the fees down, and during this time other miners are making all of the money that you are giving up.  Once the base fee reaches 0, you will then forever receive *less* fees than non-coalition participants.",
        "created_at": "2020-08-22T04:31:16.717000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How much over 50% you need exactly depends on the gas price.  If the gas price is 2 nanoeth, 1 of which was going to the base fee, then non-coalition participants will get `2(2 - hash_percent_over_50)` in the difference between base fee and gas premium while you will gain `hash_percent_over_50` in the difference.",
        "created_at": "2020-08-22T04:34:10.912000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Essentially, this attack results in defectors getting rewarded the most (for all time), and you eating some up front costs (driving the base fee to 0) and then you making some portion of the created opportunity (since defectors will be getting paid significantly more than you).",
        "created_at": "2020-08-22T04:35:06.100000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "----\nAnother way to think of it is like this: Once you drive the base fee to 0, you **MUST** leave 50% of your hashing power mining empty blocks forever to maintain the base fee at 0.  You then can use any excess hashing power you have beyond 50% to mine 2x full blocks (essentially, your remaining hashing power acts as a defector).",
        "created_at": "2020-08-22T04:36:01.082000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Defectors all essentially receive the base fee (instead of it getting burned) so you need enough excess hashing power over 50% such that the base fee gains from that excess hashing power offsets your 50% hashing power worth of empty blocks.",
        "created_at": "2020-08-22T04:37:23.335000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Thanks for going into this so comprehensively, I really appreciate it. As \u003c@552133098075193354\u003e mentioned above I understand that formal analysis is still ongoing, but when it‚Äôs ready I think it would be really helpful to see the arguments set out in a blog post that deals directly with the issue both from a single actor and collusion standpoint. Perhaps all your reasoning above is already exposed in aggregate in the various articles about 1559, but as these questions keep coming up it would be worthwhile to deal with them head-on.",
        "created_at": "2020-08-22T04:44:29.727000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Your point about the profitability of a mining coalition simply excluding blocks from non-members is generally concerning but I guess that‚Äôs off topic here and will be fixed by eth2 anyway ü§û",
        "created_at": "2020-08-22T04:46:21.037000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Re: How much hashing power is needed to be profitable: At 50% hashing power, if you produce completely empty blocks and the remaining 50% of hashing power produces blocks following standard protocol strategy, then you will forever mine empty blocks while everyone else in the network mines 2x blocks, so at just 50% hashing power you would not change the base fee and instead just give away all of your transaction fees to non-participants.  At 50% + epsilon, you will *very slowly* decrease the base fee.  However, once the base fee has decreased to 0, you would only be able to extract epsilon (as a percentage of hashing power) worth of fees while all non-coalition producers will still be collecting 2x - epsilon fees.\n\u003c@301186049323958275\u003e  what about higher proportions - could 66% or 90% of the hashpower converge on a small block strategy (whether independently or by collusion) which would be profitable even in the presence of a small proportion of defectors? Is there some lower bound on the proportion of hashpower which needs to defect to make such a strategy unprofitable?",
        "created_at": "2020-08-22T04:57:05.630000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Your point about the profitability of a mining coalition simply excluding blocks from non-members is generally concerning but I guess that‚Äôs off topic here and will be fixed by eth2 anyway ü§û\nYeah, it is a major problem with Proof of Work.  Creating a censoring 51% coalition is profitable and pretty trivial to implement.",
        "created_at": "2020-08-22T04:58:29.880000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e what about higher proportions - could 66% or 90% of the hashpower converge on a small block strategy (whether independently or by collusion) which would be profitable even in the presence of a small proportion of defectors? Is there some lower bound on the proportion of hashpower which needs to defect to make such a strategy unprofitable?\n\u003c@!466048602326695938\u003e It is *always* profitable to defect from the small block strategy, no matter what.  Even when you have 100% of hashing power, the optimal strategy is to defect with 50% of your hashing power, while the \"colluding\" 50% of your hashing power mines empty blocks in order to boost the proceeds of the defecting 50%.",
        "created_at": "2020-08-22T05:00:04.816000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The base fee will not move if less than 50% colludes, and the colluding 50% of hashing power *will lose money, guaranteed*.  This is why you need \u003e 50% of hashing power for the attack to be *theoretically* profitable, because you need enough of your hashing power to be defecting to make up for the losses that your 50% hashing power coalition is taking.",
        "created_at": "2020-08-22T05:01:42.092000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok so you're saying that a strategy designed to optimise miner payout in the case of perfect collusion would be 50% empty blocks and 50% 2x blocks? That also sounds less than ideal...",
        "created_at": "2020-08-22T05:03:49.237000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes.",
        "created_at": "2020-08-22T05:06:32.008000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So I think I now understand that 1559 doesn't introduce anything worse than already exists in Proof of Work, because PoW is already unsound from a game theory point of view üò¨",
        "created_at": "2020-08-22T05:09:45.183000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And the coalition would need to *first* mine a bunch of empty blocks for a while to cause the base fee to decrease to ~0 before splitting their hashing power 50:50 (collude:defect).",
        "created_at": "2020-08-22T05:09:51.499000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e So I think I now understand that 1559 doesn't introduce anything worse than already exists in Proof of Work, because PoW is already unsound from a game theory point of view üò¨\n\u003c@!466048602326695938\u003e Yeah, exactly.  Proof of Work already has a *huge* problem if any coalition gets 50% hashing power, with much more perverse incentives (like censorship of block producers, and setting fee to whatever they want, etc.)",
        "created_at": "2020-08-22T05:10:38.124000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In fact, if you have a 50% coalition you could just set the gas premium to 200 nanoeth (or whatever), censor all non-coalition block producers, and the base fee would probably naturally fall to 0.",
        "created_at": "2020-08-22T05:11:16.489000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And the same is true right, now if someone had a 50% hash power coalition, they could censor all non-coalition miners and set the gas price minimum to whatever they wanted.",
        "created_at": "2020-08-22T05:11:49.382000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is why I'm not really worried at all about EIP-1559 51% attacks because they are not nearly as profitable as already existing 51% attacks.",
        "created_at": "2020-08-22T05:12:33.032000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok and there's a double standard being applied by critics because a 51% attack is often conceived as being a single actor controlling a majority of hashing power where in reality a coordinated group can be just as dangerous without much effort.",
        "created_at": "2020-08-22T05:14:46.273000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess there is also a bit of a communication problem of trying to say \"it's fine to include 1559 into our protocol because our protocol is already deeply flawed and this doesn't make it any worse\"",
        "created_at": "2020-08-22T05:20:55.908000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Does eth2 make it any more difficult for validators to collude? Or indeed easier? Because each validator has a fixed identity which can't be changed quickly.",
        "created_at": "2020-08-22T05:25:47.824000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e I guess there is also a bit of a communication problem of trying to say \"it's fine to include 1559 into our protocol because our protocol is already deeply flawed and this doesn't make it any worse\"\nIf I was still on Twitter this would totally be my argument.  üòÑ",
        "created_at": "2020-08-22T05:47:49.613000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Though, I would adjust it to be \"because PoW is already deeply flawed\" so the BTC maximalists can't run with it..",
        "created_at": "2020-08-22T05:48:00.269000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Does eth2 make it any more difficult for validators to collude? Or indeed easier? Because each validator has a fixed identity which can't be changed quickly.\nETH2 changes the dynamics of attacks via capital lockups that makes it so attacking the network has a cost if the *users* fork away from you after the attack.",
        "created_at": "2020-08-22T05:48:47.764000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "At the moment, if you do a 51% attack against Bitcoin and you censor all non-coalition blocks, the Bitcoin userbase *cannot* fork away from you and punish you.  By the time they do, you have already walked with your profits.",
        "created_at": "2020-08-22T05:49:18.664000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "With ETH2, if you execute some attack like that and the userbase forks away from you then you not only don't get any of the profits, you also *lose* your stake so it is a provably costly attack.",
        "created_at": "2020-08-22T05:49:51.428000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It essentially puts power back into the hands of network *users* to be able to punish block producers/validators (through extra-protocol means) if they misbehave.",
        "created_at": "2020-08-22T05:50:24.813000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "PoW doesn't have a mechanism for extra-protocol punishment of misbehaving miners after-the -fact.",
        "created_at": "2020-08-22T05:50:44+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But there's no way users can prove that collusion has occurred, right? They would have to show from the statistics that in all probability there had been collision.",
        "created_at": "2020-08-22T05:51:35.494000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, that is why it is extra-protocol.",
        "created_at": "2020-08-22T05:51:53.610000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Basically, \"we humans can look at the situation and assert with quite a bit of confidence that these people did something bad... because of fuzzy reasons that are hard for a computer to prove\".",
        "created_at": "2020-08-22T05:52:29.967000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Like if the network saw a while lot of valid blocks being sent over the network and not being built on, that would suggest that there was a 51% block producer censorship attack going on.  However, proving that mathematically is quite difficult, which is why it would require an extra-protocol fork by the userbase.",
        "created_at": "2020-08-22T05:53:50.729000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess then the question becomes how easy would it be for users to coordinate such a fork, presumably in the face of an 'immutability' brigade, and whether that barrier for users is sufficiently low to act as a deterrent to validator misbehaviour",
        "created_at": "2020-08-22T05:58:09.298000+00:00",
        "attachments": null
    },
    {
        "author": "richguy81",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e PoW doesn't have a mechanism for extra-protocol punishment of misbehaving miners after-the -fact.\n\u003c@301186049323958275\u003e . So how can miners stop for not to doing things ?",
        "created_at": "2020-08-22T06:00:03.656000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e I guess then the question becomes how easy would it be for users to coordinate such a fork, presumably in the face of an 'immutability' brigade, and whether that barrier for users is sufficiently low to act as a deterrent to validator misbehaviour\nThis is starting to get off topic of 1559 (recommend \u003c#595721451651465227\u003e if you want to continue), but the short version is that it is hard, on purpose.  Extra-protocol forking away from bad actors should only be done in the most extreme scenarios, but it **MUST** always be an option available in order to keep miners honest.",
        "created_at": "2020-08-22T06:01:38.183000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(same to \u003c@!740821105337434164\u003e, we should move to \u003c#595721451651465227\u003e to discuss generalized attacks against Proof of Work and their mitigations)",
        "created_at": "2020-08-22T06:02:17.239000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Thanks, that was all really helpful. I'll hold on for the results of the formal analysis but if a single blog post could contain this conversation I think that would be really helpful. I could even draft one if that would help but there are clearly plenty of people here much better qualified than me.",
        "created_at": "2020-08-22T06:13:30.219000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I should probably write up a blog post on *just* this question, since it is the most common.",
        "created_at": "2020-08-22T06:19:31.274000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Looks like this should be a big help in this regard: https://twitter.com/d24norg/status/1296195184070234112?s=21\n\nLooking forward to reading the results when it's done!",
        "created_at": "2020-08-22T08:46:29.734000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Draft Article:\n\u003chttps://medium.com/@MicahZoltu/eip-1559-51-attacks-should-you-live-in-fear-d817be3759dc\u003e",
        "created_at": "2020-08-22T09:30:29.539000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Will re-read it and make adjustments after dinner and then publish.",
        "created_at": "2020-08-22T09:31:01.027000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I like it",
        "created_at": "2020-08-22T09:34:04.363000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e 100% Attack",
        "created_at": "2020-08-22T09:34:59.776000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think this section *slightly* understates the attacker's case",
        "created_at": "2020-08-22T09:35:07.054000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The \"minimally disruptive\" strategy is to target making blocks that are on average 49% full",
        "created_at": "2020-08-22T09:35:29.990000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Though I suppose you could argue that while it is 50x less costly per unit time it takes 50x longer so actually it's the same",
        "created_at": "2020-08-22T09:35:59.557000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But more importantly, once you get to gasprice=0, you can publish half-full blocks",
        "created_at": "2020-08-22T09:36:30.273000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No need to bounce back and forth between empty and super-full",
        "created_at": "2020-08-22T09:36:38.632000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e 99% Attack",
        "created_at": "2020-08-22T09:37:08.930000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think in this section it is worth elaborating and stating multiple times and/or boldly an important point",
        "created_at": "2020-08-22T09:37:25.743000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It can be described as a comparison to selfish mining",
        "created_at": "2020-08-22T09:37:31.922000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "As a selfish miner, your attack is good for you and bad for other miners, so if you are a mining pool it drives other miners to join you, so in a pool context the attack is self-reinforcing",
        "created_at": "2020-08-22T09:37:58.731000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "As a EIP 1559 manipulator, your attack is good for you and *better* for other miners (as they free-ride off the low basefee without sacrificing tx space to keep it low), so if you are a mining pool it drives other miners to leave you, so in a pool context the attack is self-defeating",
        "created_at": "2020-08-22T09:38:32.457000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Another thing to mention BTW is that this class of attack does not work at all if you have \u003c50%",
        "created_at": "2020-08-22T09:39:27.527000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Whereas eg. selfish mining starts being profitable at 33%",
        "created_at": "2020-08-22T09:39:35.461000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e No need to bounce back and forth between empty and super-full\n\u003c@!273808422753796097\u003e Yes, but I think it is easier to *think about* as \"50% of hashing power is mining empty blocks, 50% is mining double-full blocks\".",
        "created_at": "2020-08-22T09:43:56.350000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok that's fair",
        "created_at": "2020-08-22T09:44:04.021000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It makes the \"100% attack scenario\" *look* very similar to the 51% attack scenario.",
        "created_at": "2020-08-22T09:44:14.106000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "reading the later sections I can see how it leads into the analogy",
        "created_at": "2020-08-22T09:44:17.821000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The only difference is who controls the 50% double-full block producers.",
        "created_at": "2020-08-22T09:44:34.426000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e As a selfish miner, your attack is good for you and bad for other miners, so if you are a mining pool it drives other miners to join you, so in a pool context the attack is self-reinforcing\n\u003c@!273808422753796097\u003e Do you mean in the censorship attack section?",
        "created_at": "2020-08-22T09:45:10.634000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Whereas eg. selfish mining starts being profitable at 33%\n\u003c@!273808422753796097\u003e It has been a while since I have looked into the 33% selfish mining attacks... I'm probably not the right person to discuss them in this blog post.  If someone wants to ghost-write a paragraph or give me a good quote to include I don't mind including it though!",
        "created_at": "2020-08-22T09:46:27.216000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!273808422753796097\u003e Do you mean in the censorship attack section?",
        "created_at": "2020-08-22T09:46:47.503000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right",
        "created_at": "2020-08-22T09:46:48.806000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Censorship attacks are just the 51%+ limiting case of selfish mining",
        "created_at": "2020-08-22T09:47:01.240000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But I feel like people \"know the word\" selfish mining so it's good to use it",
        "created_at": "2020-08-22T09:47:11.668000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Of course in the 51%+ case the selfish mining strategy collapses to just censoring everyone else's blocks",
        "created_at": "2020-08-22T09:47:32.835000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, you think I should rename the 51% censorship attack to 51% selfish mining attack?",
        "created_at": "2020-08-22T09:47:41.913000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "hmm at least mention the term in a parenthetical maybe?",
        "created_at": "2020-08-22T09:47:55.660000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I wasn't aware it was called that, seems like a reasonable addition/change.",
        "created_at": "2020-08-22T09:48:07.888000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Maybe I can add a note to the end of that section that:\n\u003e selfish mining attacks start to become profitable at 33% of hashing power, but discussion on that is out of scope for this article",
        "created_at": "2020-08-22T09:49:14.955000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'd say definitely explicitly make the comparison between how censorship/SM attacks are good for you and bad for non-coalition members but EIP 1559 attacks are good for you and better for non-coalition members, so EIP 1559 attacks are very unstable in a pool context whereas censorship/SM attacks are stable and self-reinforcing",
        "created_at": "2020-08-22T09:49:27.582000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That way I can just hand wave over it and avoid getting into the details, while bringing it up.",
        "created_at": "2020-08-22T09:49:30.690000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e I'd say definitely explicitly make the comparison between how censorship/SM attacks are good for you and bad for non-coalition members but EIP 1559 attacks are good for you and better for non-coalition members, so EIP 1559 attacks are very unstable in a pool context whereas censorship/SM attacks are stable and self-reinforcing\nI'll look into enhancing the \"conclusion\" a bit to make that more clear and apparent.  Maybe even put it in the TL;DR at the top too.",
        "created_at": "2020-08-22T09:50:01.961000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "üëç",
        "created_at": "2020-08-22T09:50:12.699000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The article is long and could benefit from some bolding of important points imo",
        "created_at": "2020-08-22T09:50:25.590000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I made some adjustments per above feedback, bolded some stuff for those who are just skimming and not reading.  Going to publish it, but I'm still open to feedback and don't mind making changes to the article after it is live.",
        "created_at": "2020-08-22T11:58:49.620000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "My primary goal with this article is to be able to link to people who want to know about 51% attacks since the question does come up fairly often.",
        "created_at": "2020-08-22T11:59:14.050000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I was just thinking that while I understand the rationale for talking about \"dividing hashpower in two\", and mining empty/double blocks, can you demonstrate that this is equivalent to the more straightforward strategy of mining only half-full blocks?",
        "created_at": "2020-08-22T12:00:23.944000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Published link if anyone wants to hand it out: \u003chttps://medium.com/@MicahZoltu/eip-1559-51-attacks-should-you-live-in-fear-d817be3759dc?sk=59773d28b15446bacd5e5112e350e000\u003e",
        "created_at": "2020-08-22T12:00:33.986000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!466048602326695938\u003e I believe someone more math inclined than I could probably provide a proof for it.  The way I intuit it is that the algorithm *essentially* is designed to target a certain block size.  Whether half the blocks are empty and half are 2x the target, or half the blocks are 49% full and the other half are 51% full doesn't really matter.  The reason I think it is easier to think about with full and empty blocks is because the math ends up being easier when it comes to figuring out how \"full\" your blocks need to be.",
        "created_at": "2020-08-22T12:03:48.024000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you have 51% of hashing power, you need to offset 49% of hashing power mining full blocks, which means you would need to mine blocks that are x% full where `x` is not intuitive/obvious to calculate for me.",
        "created_at": "2020-08-22T12:04:42.361000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "OK thanks. That all seems to make sense, and the formal analysis is on the way so in the mean time I'm sure the article will be a big help in improving the discussion going on around this EIP",
        "created_at": "2020-08-22T12:09:54.926000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "another thing that might be worth mentioning is that the existence of more profitable mining opportunities created by miners attempting to use a basefee-minimisation strategy is likely to attract new miners to exploit the opportunity, further weakening the coalition's control of hashpower. Maybe this is just me but I sometimes think of miners as being a fixed set, but in reality there is always the possibility for new miners to join if profitability increases.",
        "created_at": "2020-08-22T12:14:56.710000+00:00",
        "attachments": null
    },
    {
        "author": "pintail_xyz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I might have a play with some modelling/simulation myself... is the latest EF modelling work in https://github.com/ethereum/rig/ ?",
        "created_at": "2020-08-22T12:34:59.904000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "hi! no it isn't, I moved to a different repo to have a more self-contained 1559 project. this is the latest: https://github.com/barnabemonnot/abm1559/blob/master/notebooks/stationary1559.ipynb\n\nin it I introduce strategic joining for the agents: they evaluate values and costs and decide whether or not to join. I am expanding this further in another notebook, but it's still a draft (same repo). will publish it more widely when fully done!",
        "created_at": "2020-08-22T13:21:15.826000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "these are just simulations but I would also like to see more formal arguments. I expect some will be provided by tim roughgarden (realised here that this was publicly announced!). We chatted about it some time ago, but from my point of view having a good formal understanding of the stationary case, transition periods (say spikes) and miner collusion would put us on solid footing",
        "created_at": "2020-08-22T13:23:55.211000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "another angle in the simulations is to compare 1559 with other mechanisms (e.g., the current one, a generalised second price auction, the escalator) because it allows looking at things formal analysis is not super well-equipped for, which is dynamic mechanisms. users can wait in the transaction pool so it's not as straightforward as a multiunit auction in terms of social welfare, but simulations can help here",
        "created_at": "2020-08-22T13:27:03.285000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "really enjoyed your post \u003c@301186049323958275\u003e btw. need to write up some thoughts",
        "created_at": "2020-08-22T13:28:19.382000+00:00",
        "attachments": null
    },
    {
        "author": "jared.flatow",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "üëã as someone not steeped in the discussion for the past couple years, I found \u003c@!301186049323958275\u003e's blog post and \u003c@!486501030046203915\u003e's notebook very helpful to catch up, so thanks!\n\nit seems the medium post is trying to prove the mechanism is not vulnerable to collusion attacks, while the notebook is providing evidence that the change has the desired effect. as I understand it, the 'desired effect' is to decrease volatility in gas prices for users, under the usual economic argument that turbulence must imply inefficiencies somewhere. the goal is not to reduce transaction costs to users directly, but if you assume that users are paying for the inefficiencies, then indirectly there is a belief that this would decrease costs to users.\n\nI think the blog post would be even more helpful if it summarized the hypothesis/motivation of the proposal as well, since that would make it even easier to evaluate / catch up, but did I get that right?\n\nI also am curious on thoughts about something like this: https://ethresear.ch/t/a-mechanism-for-daily-autonomous-gas-price-stabilization/7762. since this proposal is about decreasing volatility, some analysis comparing smoothing on different time-scales seems appropriate?\n\nlast, a couple of questions about this statement from the spec:\n\n```\nIt also ensures that only ETH can ever be used to pay for transactions on Ethereum, cementing the economic value of ETH within the Ethereum platform.\n```\n\n- one is that is this true: should it say that *at least* ETH must be used to pay for transactions or is there some other argument for why it must be *only* ETH?\n- the other is wondering what thought has gone into the feedback loop with ETH price and what short-term/long-term dynamics are hypothesized to play out there?\n\nthanks and I apologize if these seem like silly questions, just trying to understand all the thinking that has gone into this",
        "created_at": "2020-08-22T16:15:20.967000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e the 'desired effect' is to decrease volatility in gas prices for users\nI don't think this is quite right.  I think the goal is to improve the UX for users (gas pricing should be trivial) and decrease the chances of a user's transaction not getting mined despite a willingness to pay high gas costs, and reduce the amount of waste in transaction fees due to the difficulty of accurately setting gas price.",
        "created_at": "2020-08-22T16:22:36.690000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e I think the blog post would be even more helpful if it summarized the hypothesis/motivation of the proposal as well, since that would make it even easier to evaluate / catch up\nThe purpose of my blog post was *only* to serve as a rebuttal to the 51% attack argument which has come up a number of times.  Not as a thorough description of EIP-1559.  üôÇ",
        "created_at": "2020-08-22T16:23:37.960000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Re: seasonal gas price stabalization.  I don't think that is actually a good thing.  User demand *is* seasonal (e.g., peaks at certain times of the day) and we want gas prices to encourage people who are willing to wait for off peak to move their demand to off peak.  The best way we have to achieve this is by having gas prices be seasonal.",
        "created_at": "2020-08-22T16:25:12.135000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is the same as electric companies charging different rates for peak and off-peak, which causes some users to shift their load (e.g., charge their car) during off-peak because it is cheaper for them, and it helps the electric company load balance at the same time.",
        "created_at": "2020-08-22T16:25:48.455000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e one is that is this true: should it say that at least ETH must be used to pay for transactions or is there some other argument for why it must be only ETH?\nWith EIP-1559 ETH is required to get any transaction included.  Other assets may be useful for convincing a miner to include your transaction (though, ETH is the natively supported mechanism for this).",
        "created_at": "2020-08-22T16:27:00.269000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e the other is wondering what thought has gone into the feedback loop with ETH price and what short-term/long-term dynamics are hypothesized to play out there?\nIt is a common misconception that ETH price has something to do with gas costs.  The two are unrelated aside from user demand for block space changes based on ETH price.  The protocol doesn't care *why* demand for block space changes with time, it just cares how it reacts to that change in demand.",
        "created_at": "2020-08-22T16:28:09.070000+00:00",
        "attachments": null
    },
    {
        "author": "jared.flatow",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but if ETH is being burned instead of going to miners, won‚Äôt that impact price?",
        "created_at": "2020-08-22T16:30:20.295000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ü§∑ You would have to ask the irrational crypto-currency market for the answer to that one.  üò¨",
        "created_at": "2020-08-22T16:33:21.196000+00:00",
        "attachments": null
    },
    {
        "author": "jared.flatow",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ü§∑ ok thanks for your thoughtful responses",
        "created_at": "2020-08-22T16:34:35.246000+00:00",
        "attachments": null
    }
]