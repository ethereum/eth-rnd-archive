[
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, is the goal to make it identical consensus-wise?",
        "created_at": "2020-08-16T09:54:59.020000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If so, then you want to add an offset",
        "created_at": "2020-08-16T09:55:08.531000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok so here's how you do it to make sure it's not consensus-breaking",
        "created_at": "2020-08-16T10:07:40.621000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "```\nTARGET_GASUSED = 100\nBASE_FEE_MAX_CHANGE_DENOMINATOR = 8\n\ndef current_eip_1559(parent_base_fee, block_gasused):\n    delta = block_gasused - TARGET_GASUSED \n    return parent_base_fee + parent_base_fee * delta // TARGET_GASUSED // BASE_FEE_MAX_CHANGE_DENOMINATOR\n\ndef new_eip_1559(parent_base_fee, block_gasused):\n    if block_gasused \u003e= TARGET_GASUSED:\n        gas_delta = block_gasused - TARGET_GASUSED\n        fee_delta = parent_base_fee * gas_delta // TARGET_GASUSED // BASE_FEE_MAX_CHANGE_DENOMINATOR\n        return parent_base_fee + fee_delta\n    else:\n        gas_delta = TARGET_GASUSED - block_gasused\n        fee_delta = (parent_base_fee * gas_delta - 1) // TARGET_GASUSED // BASE_FEE_MAX_CHANGE_DENOMINATOR + 1\n        return parent_base_fee - fee_delta\n```",
        "created_at": "2020-08-16T10:07:43.967000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Testing:",
        "created_at": "2020-08-16T10:07:52.444000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "```\n\u003e\u003e\u003e [current_eip_1559(250, i) for i in range(90, 110)]\n[246, 247, 247, 247, 248, 248, 248, 249, 249, 249, 250, 250, 250, 250, 251, 251, 251, 252, 252, 252]\n\u003e\u003e\u003e [new_eip_1559(250, i) for i in range(90, 110)]\n[246, 247, 247, 247, 248, 248, 248, 249, 249, 249, 250, 250, 250, 250, 251, 251, 251, 252, 252, 252]\n```",
        "created_at": "2020-08-16T10:08:01.094000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(the `TARGET_GASUSED = 100` was just to make the test results more human-legible, obviously in reality it'll be more)",
        "created_at": "2020-08-16T10:08:38.617000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Slight tangent, but there has been a proposal (not sure how serious yet) to reduce the ETH block reward again (https://ethereum-magicians.org/t/eip-2878-block-reward-reduction-to-0-5-eth/4500/2). Given that EIP-1559 was originally proposed in a context where block rewards were vastly superior to transaction fees, and the past few weeks have shown tx fees to be more or less equal to block rewards, what would be the potential negatives of having 1559 in a world where transaction fees are much larger than  block rewards ðŸ¤” ?",
        "created_at": "2020-08-16T16:30:13.808000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "First thing I can think of is that it would make miners much less likely to actually adopt a fork with 1559 (given we go from burning a small part of their revenue to most of it).",
        "created_at": "2020-08-16T16:30:53.932000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!552133098075193354\u003e Miner desires can basically be ignored.",
        "created_at": "2020-08-16T20:37:49.918000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Any miners that mine a chain no one uses will end up getting rewarded in a worthless asset, so they will quickly stop and mine the main chain.",
        "created_at": "2020-08-16T20:38:16.581000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Miners follow users, not the other way around (for hard forks that is, for soft forks miners have far more control of direction).",
        "created_at": "2020-08-16T20:38:41.307000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Once 1559 is out, I suspect miners will make about 1 nanoeth / gas plus or minus 5.",
        "created_at": "2020-08-16T20:39:09.827000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The rest will be burned, save for a bit extra going to miners from front runners and during congestion spikes that 1559 auto-adjust cannot handle.",
        "created_at": "2020-08-16T20:40:29.498000+00:00",
        "attachments": []
    }
]