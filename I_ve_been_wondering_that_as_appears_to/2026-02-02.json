[
  {
    "author": "siladu",
    "category": "general",
    "parent": "allcoredevs",
    "content": "<@402853454126776320> <@606464909907197983> in the geth stats backing the state growth data... \n```\n                        \"block_number\": \"24296489\",\n                        \"state_root\": \"0x4a187715c0cf1ff2bef44cb3f6a8c66d8d03f9d8e913a5956eb09d7ead968a79\",\n                        \"accounts\": \"351232424\",\n                        \"account_bytes\": \"17439287385\",\n                        \"account_trienodes\": \"484383281\",\n                        \"account_trienode_bytes\": \"59749844372\",\n                        \"contract_codes\": \"2062799\",\n                        \"contract_code_bytes\": \"12657816776\",\n                        \"storages\": \"1481531474\",\n                        \"storage_bytes\": \"114587235872\",\n                        \"storage_trienodes\": \"2003890148\",\n                        \"storage_trienode_bytes\": \"216312140732\",\n```\n\nI'm trying to understand `accounts` versus `account_trienodes`. Presumably `accounts` is just the leaves. \nIs `account_trienodes` the trie nodes AND the leaves as well? i.e. `accounts` is a duplication of just the leaf data for performant lookup?\n\nOr are they stored separately and for e.g. state root calc, you combine these two structures to get the final merkle root?\n\nI assume storage will work in the same way as accounts.\n\nThe reason I ask is so I know what a valid comparison with the Besu data is.",
    "created_at": "2026-02-02T07:11:17.725000+00:00",
    "attachments": []
  },
  {
    "author": "mariusvanderwijden",
    "category": "general",
    "parent": "allcoredevs",
    "content": "We duplicate the data, we store both the snapshot (accounts) and the trie nodes",
    "created_at": "2026-02-02T07:21:30.486000+00:00",
    "attachments": []
  },
  {
    "author": "siladu",
    "category": "general",
    "parent": "allcoredevs",
    "content": "ok great, Besu is pretty similar in that respect then so should be comparable, updating the report now - I've managed to get a more comparable time range for both clients...",
    "created_at": "2026-02-02T07:49:31.304000+00:00",
    "attachments": []
  },
  {
    "author": "siladu",
    "category": "general",
    "parent": "allcoredevs",
    "content": "Updated results based on 1 week sample https://hackmd.io/@siladu/H11EKOkLZx#Results\n(need to verify some of this with our storage expert)\n\n1. Besu TOTAL_STATE is 29% smaller than Geth (278 GiB vs 394 GiB)\n2. Besu grows 25% faster in total bytes (+2.0 GiB/week vs +1.6 GiB/week)\n3. Besu grows 41% faster in keys (+24.4M/week vs +17.3M/week)\n4. Besu is 31% more space-efficient per key (67 vs 97 bytes/key)\n5. TRIE_STORAGE: Besu 27% smaller despite 3% more keys - more efficient node encoding\n6. CODE_STORAGE: Besu 47% more efficient (3.2 KB vs 6.1 KB per contract)\n7. ACCOUNT_STORAGE: Besu 39% more efficient (47.5 vs 77.3 bytes/slot)\n\n(1) and (2) is an odd combination ðŸ™ƒ",
    "created_at": "2026-02-02T07:58:08.310000+00:00",
    "attachments": []
  }
]