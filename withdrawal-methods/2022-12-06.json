[
    {
        "author": "yperbasis",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yep, that'd be great",
        "created_at": "2022-12-06T09:31:55.666000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "hey folks, just wonder what it the current proposal for daily withdrawal limits post Shanghai and if the request to withdraw exceeds that limit, what's the rule to decide who gets the chance on that day? Thanks!",
        "created_at": "2022-12-06T11:44:12.190000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "withdrawals of balance above 32 eth are automatic and round robin averaging 1/week in current design \n\nfull withdrawals are possible via an exit, which places the validator into the exit queue",
        "created_at": "2022-12-06T11:57:00.538000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "thanks! just make sure I understand it correctly, if I want to withdraw e.g., 64 eth, I will receive 1 eth per week, if I withdraw 128 eth, I will also receive 1 eth/week?",
        "created_at": "2022-12-06T12:01:16.661000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "no sorry, one withdrawal per validator per week. any balance in excess of 32 is automatically withdrawn",
        "created_at": "2022-12-06T12:02:01.996000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "so if your validator has a balance of 64 eth it‚Äôs first withdrawal will be 32 eth",
        "created_at": "2022-12-06T12:02:39.437000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "so that's one withdrawal activity per validator per week?",
        "created_at": "2022-12-06T12:04:18.950000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah",
        "created_at": "2022-12-06T12:04:35.625000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and the max amount per withdrawal will be 32 eth?",
        "created_at": "2022-12-06T12:05:02.188000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "If you have a validator with balance 100, then first ‚Äúpartial withdrawal‚Äù will be 100-32 so 68 eth. Then you can still make a full withdrawal of the effective balance of 32.",
        "created_at": "2022-12-06T12:06:18.879000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Basically the idea is to keep the 32 effective balance on the accounts by removing all excess with partial withdrawals",
        "created_at": "2022-12-06T12:06:45.597000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "And when it comes to make a full withdrawal then it‚Äôs always just gonna be the 32eth which is your effective balance, and the excess will be removed by the partial withdrawals.",
        "created_at": "2022-12-06T12:07:27.815000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks! Just wonder in terms of timing, how fast these two activities can happen for each validator?",
        "created_at": "2022-12-06T12:20:02.262000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There is a queue that gets emptied and filled at the same time thus round robin.",
        "created_at": "2022-12-06T12:21:46.691000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Partial withdrawals will be automatically triggered as soon as you change your BLS credentials to an address with 0x01 address. Each partial withdrawals will be triggered about every week. Full withdrawals will also be triggered approximately a week from request.",
        "created_at": "2022-12-06T12:23:23.063000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "(Assuming that the exit queue is empty)",
        "created_at": "2022-12-06T12:23:41.192000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks, just wonder what's the rule for exit queue, if there are 1000 validators exiting, how fast these requests will be processed through the queue?",
        "created_at": "2022-12-06T12:24:54.391000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Exits are very similar to how deposits are handled. https://kb.beaconcha.in/glossary#2.-pending so number of exits are dependent on the number of active validators. Currently there are ~1575 validators that can go in/out. (As we have more than 458752 but less than 524288 validators. 7 exits/entries are processed per epoch.",
        "created_at": "2022-12-06T12:47:43.082000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "oh, it's already 7 exits per epoch, thanks a lot!",
        "created_at": "2022-12-06T12:52:20.018000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes, but if the number of validators decreses below the limit, then it will also decrease.",
        "created_at": "2022-12-06T12:53:00.804000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Something like this right?",
        "created_at": "2022-12-06T12:54:01.126000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "5bc9fa103d150d57a8beae0f4aaee4ce90dcd76d0b9176c040d911bf7037ee61"
            }
        ]
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the last entry is the current no of validators",
        "created_at": "2022-12-06T12:54:22.632000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "well, depends how you define limit",
        "created_at": "2022-12-06T12:55:14.097000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I would shift the validators limit one down",
        "created_at": "2022-12-06T12:55:43.006000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "like btween 393k and 458k, exits per epoch is 6?",
        "created_at": "2022-12-06T12:55:43.164000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah",
        "created_at": "2022-12-06T12:56:00.700000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah, like lower limit",
        "created_at": "2022-12-06T12:56:01.065000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "got it, thanks!",
        "created_at": "2022-12-06T12:56:11.438000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ptal: https://github.com/ethereum/EIPs/pull/6089",
        "created_at": "2022-12-06T16:52:21.187000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Why was amount changed from 256 bit to 64 bit? uint64 will overflow for 32 ETH.",
        "created_at": "2022-12-06T17:54:48.720000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ah because i had a typo, let me go fix it now",
        "created_at": "2022-12-06T18:21:45.415000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/EIPs/pull/6090",
        "created_at": "2022-12-06T18:25:38.247000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "thanks for noticing that!",
        "created_at": "2022-12-06T18:25:44.351000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The rate depends on the number of validators with the correct credentials... basically a block has 16 withdrawals max, so on mainnet pretty much every slot will have 16. With around 200k validators that qualify that's every 12500 (200000/16) blocks, so closer to every 1.8 days or so than once a week....\nIf all 500k validators qualified, it'd be around 1 every 4.5 days...\nI'm not sure about the once per week , but agree with the rest about it being an automated round-robin where excess balance is automatically shifted - no fee, no interaction needed once eth1 withdrawal address has been set...",
        "created_at": "2022-12-06T23:33:56.616000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "also no EVM code can be executed with that balance change, so if that's needed by anyone it needs to be a separate transaction... hopefully that's the right way to phrase that",
        "created_at": "2022-12-06T23:36:06.048000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "my bad on the once a week thing, right order of magnitude but I didn't run the actual numbers üòÖ",
        "created_at": "2022-12-06T23:36:13.611000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "thanks",
        "created_at": "2022-12-06T23:36:27.935000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The numbers may get tweaked",
        "created_at": "2022-12-06T23:36:29.595000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I could be completely wrong here, it depends where this all fits in I guess... but the CL uses `uint64 gwei`, and when we call the execution-api, it's translated to wei and a uint256...\nhttps://github.com/ethereum/execution-apis/blob/main/src/engine/specification.md#withdrawalv1\nso depending on whether EIP-4895 is on the EL side, it might actually be `uint256 wei`, rather than `uint64 gwei` in the CL...\nI think you're meaning the `uint256 wei`...\nHopefully this doesn't confuse it all more üôÇ I'm only really involved on the CL side and translation to call the engine so hopefully this information is enough to decide on the amount description...",
        "created_at": "2022-12-06T23:51:42.555000+00:00",
        "attachments": null
    }
]