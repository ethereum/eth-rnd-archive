[
    {
        "author": "smartprogrammer",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Was wondering if Withdrawal execution should generate any receipts or a trace if we are going with EIP-4895 \u003c@539495253418180618\u003e\nsince the withdrawal updates the state of the account, shouldn't there be some type of receipt for the change?",
        "created_at": "2022-09-21T11:04:34.299000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@226589605816696832\u003e we decided to skip any EVM execution to reduce overall complexity; for example, if we had general execution then we would need to handle failure states that would need to be tracked either back on the CL or somehow in the EL",
        "created_at": "2022-09-21T12:34:53.185000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and without execution, i'd ask what would the receipt actually say? it would just indicate success... however, this is already implied when the withdrawal is queued in the CL and dequeued into the EL",
        "created_at": "2022-09-21T12:35:39.038000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@539495253418180618\u003e  is there a reason why CL will send `withdrawals` with `PayloadAttributes`",
        "created_at": "2022-09-21T14:06:34.109000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "is EL required to compare and validate the withdrawals with the payload withdrawals it has?",
        "created_at": "2022-09-21T14:07:09.477000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "that is to include the required withdrawals in the built block",
        "created_at": "2022-09-21T14:25:44.366000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the EL will just blindly apply whatever withdrawals are in the execution payload",
        "created_at": "2022-09-21T14:27:10.215000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the CL then must verify that only valid withdrawals are in the execution payload",
        "created_at": "2022-09-21T14:27:21.012000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "there is some additional queueing logic to ensure withdrawals are rate-limited",
        "created_at": "2022-09-21T14:27:31.756000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "there is more info here: https://github.com/ethereum/consensus-specs/blob/dev/specs/capella/validator.md",
        "created_at": "2022-09-21T14:27:42.633000+00:00",
        "attachments": null
    },
    {
        "author": "yokem55",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Will there be any way to distinguish between withdrawals that happen from an exit vs withdrawals that happen as a result the 'skimming' partial withdrawals? Size is the most obvious parameter, but it is possible for a heavily slashed validator to exit with an amount of funds that appears to be from a skimming operation.",
        "created_at": "2022-09-21T14:40:24.711000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "What's the actual requirement here?  There are various things that you could do, for example checking the status of the validator on the beacon node, but without understanding why you need to know this it's hard to tell if that may fit your use case.",
        "created_at": "2022-09-21T14:42:04.553000+00:00",
        "attachments": null
    },
    {
        "author": "yokem55",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Just thinking if there would be a way to do this within the evm, without help from an oracle. Rocketpool minipool contracts try to make sure that the liquid stakers get their contribution to the validator back before paying out to the operator. So, if an amount of funds appears in the minipool contract in a withdrawal operation, is that from a skimming operation to be divided up according to the original conribution, or is it what is left over from a slashing and all of it needs to go to the liquid stakers? It would be nice to not depend on the oracles to make that determination, but I suspect that capacity may have to wait for the beacon root to be in the evm.",
        "created_at": "2022-09-21T14:50:13.914000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That's something that could be achieved by having the beacon state/block root on-chain and submitting proofs to the contract so it can understand what happened.",
        "created_at": "2022-09-21T14:54:40.091000+00:00",
        "attachments": null
    }
]