[
    {
        "author": "alon.ssv.network",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!636950487089938462\u003e \n\u003e \n\u003e Surely if the eth1 address in the withdrawal creds points to contract, a normal eth1 account (with necessary perms) could initiate a tx to that contract, which in turn sends an internal tx to perform the withdrawal? Or is there a reason that wouldn't work that I'm missing?\n\u003c@!332037095482720256\u003e we are then just replacing a BLS sig for an ecdsa sig. The idea was to point to an eth1 contract.",
        "created_at": "2020-11-19T05:30:37.739000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!332037095482720256\u003e we are then just replacing a BLS sig for an ecdsa sig. The idea was to point to an eth1 contract.\n\u003c@!636950487089938462\u003e Sure, but the contract can have enforceable logic for how it distributes the funds, unlike a signed withdrawal message broadcast to the beacon chain",
        "created_at": "2020-11-19T05:32:38.986000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The method called by a regular address to trigger that doesn't even necessarily need to be permissioned",
        "created_at": "2020-11-19T05:33:19.735000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "(and tbf probably shouldn't for it to be truly trustless)",
        "created_at": "2020-11-19T05:33:38.097000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm referring to how technically that will happen. Registering an key and verifying a signature against it is on thing, if we are counting on a pull method to a smart contract that's logic that has to be built into the bacon chain.",
        "created_at": "2020-11-19T05:34:23.651000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes, definitely",
        "created_at": "2020-11-19T05:34:51.494000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I suspect any given solution will require logic to be built into both the beacon chain and the eth1 chain",
        "created_at": "2020-11-19T05:35:12.929000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "although not 100% on that",
        "created_at": "2020-11-19T05:35:40.118000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "definitely the eth1 chain at any rate, since we're talking about effectively minting new ETH to it with this proposal",
        "created_at": "2020-11-19T05:36:17.048000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes, so now the question is do we feel comfortable to set an eth1 address as withdrawal without knowing those things..",
        "created_at": "2020-11-19T05:37:55.180000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm not sure it would even be possible to... my understanding is that the required functionality would involve adding new opcodes to the EVM, so until that gets specced out, implemented, and activated in a HF, you couldn't write a contract which makes use of it. Would need for it to be implemented before deploying any eth1 withdrawal contracts and making deposits using creds pointing to them.",
        "created_at": "2020-11-19T05:39:48.393000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e How a transaction is initiated is important as a contract address can't sign a tx but a normal eth1 account can. That's something we need to think about\n\u003c@!636950487089938462\u003e I think I understand this comment you made better now - you're saying that a regular eth1 account can sign arbitrary messages, so it could be used for withdrawal creds before knowing what the spec for the withdrawal looks like in advance... but a contract can't do that, so it can't really be set as withdrawal creds in advance of the spec - is that right?",
        "created_at": "2020-11-19T05:46:27.290000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes",
        "created_at": "2020-11-19T05:47:10.869000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "cool, yeah I get you now. and I agree that just using a regular eth1 account for pull isn't useful since that would just replace BLS with ECDSA, 100%",
        "created_at": "2020-11-19T05:47:55.857000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I can see the argument for push in that regard, since you could create a contract to receive \"pushed\" ETH in advance since it would require no knowledge of the mechanism for how the ETH is sent to it.\n\nMy concern is that under that kind of system, it's difficult to verify that the ETH received by the contract is actually the validator's balance. For example, you could have some public `dissolve` method which does the following:\n\n1. Checks that the contract has a balance of 16+ ETH (and assumes it has received the validator withdrawal if so)\n2. Transfers the balance to various pool members\n3. Selfdestructs the withdrawal contract\n\nBut this is easily exploited by forcing a balance to the contract via selfdestruct",
        "created_at": "2020-11-19T05:54:15.910000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": ".\nA \"pull\" mechanism, on the other hand, allows for the possibility of some verifiable metadata which means we can be certain that the received ETH is what we expect it to be, within the scope of an EVM tx. The obvious downside being that this means waiting for a fork before the functionality can be used.",
        "created_at": "2020-11-19T05:57:26.105000+00:00",
        "attachments": null
    },
    {
        "author": ".vshvsh",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@!332037095482720256\u003e I think your suggestion is the way to go. A dirt simple smart contract that has an option to accept funds with an earmark for who can withdraw it, and an option to withdraw ether earmarked for your address (be that address an EOA or a smart contract). \nAll the more complex logic has to be built on top of it. \nPushing the funds to the contract can be initiated by a cross-shard tx on beacon chain, or by a non-transaction event not unlike how block reward is distributed - that's up for implementors.",
        "created_at": "2020-11-19T12:02:52.307000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!332037095482720256\u003e I think your suggestion is the way to go. A dirt simple smart contract that has an option to accept funds with an earmark for who can withdraw it, and an option to withdraw ether earmarked for your address (be that address an EOA or a smart contract). \n\u003e All the more complex logic has to be built on top of it. \n\u003e Pushing the funds to the contract can be initiated by a cross-shard tx on beacon chain, or by a non-transaction event not unlike how block reward is distributed - that's up for implementors.\n\u003c@!240826102619176963\u003e So the issue is not technical but rather committing to something without specifying the technical solution for it. No doubt it's possible, i just think it's worth waiting and maybe better understand how it will look like on the other side.",
        "created_at": "2020-11-19T13:04:22.292000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "For me, if we can get an ok from the guys working on eth1\u003c\u003eeth2 merger than we are good to go with DSWC",
        "created_at": "2020-11-19T13:05:48.102000+00:00",
        "attachments": null
    },
    {
        "author": ".vshvsh",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "one option is to wait for the spec, other is to agree to a solution that's not going to put a strain on spec development and can basically work with whatever",
        "created_at": "2020-11-19T13:06:21.660000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So even for a simple solution like this there are complications, who initiates the transaction and how for example",
        "created_at": "2020-11-19T13:08:38.359000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e Pushing the funds to the contract can be initiated by a cross-shard tx on beacon chain, or by a non-transaction event not unlike how block reward is distributed - that's up for implementors.\n\u003c@!240826102619176963\u003e Cross-shard tx won't be possible until phase 2 right? Yeah, I had pictured this as something like block reward inclusion.",
        "created_at": "2020-11-19T23:35:05.184000+00:00",
        "attachments": null
    },
    {
        "author": "jakepospischil",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e one option is to wait for the spec, other is to agree to a solution that's not going to put a strain on spec development and can basically work with whatever\n\u003c@!240826102619176963\u003e Yep. Having an immediate solution would be great, but I'm not sure if any have been proposed so far which address the needs of trustless staking pools. E.g. out of the 2 problems outlined by \u003c@!291925846556540928\u003e:\n\u003e (1) being able to initiate staking with an eth1 withdrawal addr (and thus contract / trustless support)\n\u003e (2) being able to control the destination address with an 0x00 bls credential\nThe DSWC proposed by \u003c@!695019898274840626\u003e addresses (2) but not (1). I believe addressing the first problem is mandatory for trustless pools - being able to change the destination address later is nice, but in the short term it still assumes trust in the holder of the BLS withdrawal key.",
        "created_at": "2020-11-19T23:53:15.106000+00:00",
        "attachments": null
    }
]