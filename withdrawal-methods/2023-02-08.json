[
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Anyone know how to make a voluntary-exit on a zhejiang validator",
        "created_at": "2023-02-08T16:40:29.255000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You can use `ethdo`",
        "created_at": "2023-02-08T17:29:11.628000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Which CL client are you using, you can most probably find this in their documentation",
        "created_at": "2023-02-08T21:48:19.562000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I set up my validator with Prysm and tried running what was here https://docs.prylabs.network/docs/wallet/exiting-a-validator\nUnfortunately I had issues since I'm not sure if it supported zhejiang\nMaybe I was misusing the cmd but right now I am trying to follow ethdo to see if I can use that to make it work",
        "created_at": "2023-02-08T21:50:12.729000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Oh indeed we may have not considered the devnet for zheijiang specifically, we can probably add this cc \u003c@476250636548308992\u003e ? I'm a little hesitant since this will die soon.",
        "created_at": "2023-02-08T21:51:51.927000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Actually pinging the right person since we added documentation for this \u003c@884836500037066862\u003e",
        "created_at": "2023-02-08T21:52:24.916000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e how are people exiting on zhejiang currently, I doubt any of the CL clients have devnet support for zheijiang? \nI saw \u003c@412614104222531604\u003e was able to withdraw",
        "created_at": "2023-02-08T21:54:28.009000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Also do we know the port for the Beacon API endpoint https://beacon.zhejiang.ethpandaops.io ?",
        "created_at": "2023-02-08T21:54:40.939000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "We typically use ethdo on testing",
        "created_at": "2023-02-08T21:55:49.774000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "what was the issue you ran into for this? I did update a bit but the base command can still be used. did you provide it with a wallet-dir?",
        "created_at": "2023-02-08T21:57:27.039000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes and this is the cmd I ran `./prysm.sh validator accounts voluntary-exit --wallet-dir ~/Desktop/ethereum/consensus --beacon-rpc-provider 'https://beacon.zhejiang.ethpandaops.io/' `",
        "created_at": "2023-02-08T21:59:00.424000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The err was ```[2023-02-08 16:59:56] FATAL accounts: Could not perform voluntary exit error=rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing dial tcp: lookup tcp///beacon.zhejiang.ethpandaops.io/: nodename nor servname provided, or not known\"```",
        "created_at": "2023-02-08T22:00:21.232000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "it's trying to rpc connect to it, i'm guessing that's probably why and not an http connection. I haven't tried this in a long time but try changing --beacon-rpc-provider to --beacon-rest-api-provider",
        "created_at": "2023-02-08T22:02:09.584000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah so `flag provided but not defined: -beacon-rest-api-provider` I am not sure how else to specify the endpoint",
        "created_at": "2023-02-08T22:03:07.807000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "hmmm  I'll take a look at that, but I think the issue is it's trying to gRPC connect to that endpoint. would need to be a prysm client",
        "created_at": "2023-02-08T22:04:10.609000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hm, do you think ethdo might be an alternative option for me to follow through with? the beacon api endpoint is for the zhejiang public node",
        "created_at": "2023-02-08T22:06:23.569000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "oh yeah please ignore my previous comment about using the flag * yes right now both validator accounts voluntary-exit command and the prysmctl won't be able to support REST based exit * as our validator only uses gRPC based connections ðŸ˜…  ( we're working on migrating to REST for our validator *",
        "created_at": "2023-02-08T22:07:19.157000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes ethdo will be able to do this as well",
        "created_at": "2023-02-08T22:07:34.445000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So for ethdo it is also a little confusing on how to setup the connection https://github.com/wealdtech/ethdo#setting-up\nIt seems that I need to specify a port and some extra details depend on the CL client but would you know what it would be for the case of https://beacon.zhejiang.ethpandaops.io ?",
        "created_at": "2023-02-08T22:09:07.244000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Just specify `--connection=https://beacon.zhejiang.ethpandaops.io/`",
        "created_at": "2023-02-08T22:09:57.385000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Will try it out  - thanks!",
        "created_at": "2023-02-08T22:10:54.873000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I just got this fail message ```Error: failed to process: failed to submit voluntary exit: POST failed with status 400: {\"code\":400,\"message\":\"BAD_REQUEST: Invalid object: gossip verification failed: ExitValidationError(Invalid(TooYoungToExit { current_epoch: Epoch(1642), earliest_exit_epoch: Epoch(1778) }))\",\"stacktraces\":[]}```\nThis is my validator https://zhejiang.beaconcha.in/validator/0xb8a650e4315b5e7674da5365f7fafb2b17db556bc653e944413c10ad890fca1811dea893b164d5737a62f58fe47cf588\nIn the good news it seemed the command I gave worked and was sending the right request , but it won't let me exit because I am not eligible to exit yet? Why is that?",
        "created_at": "2023-02-08T22:17:38.042000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You cannot exit until ~27 hours after the validator has been activated.",
        "created_at": "2023-02-08T22:18:29.285000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The cmd I ran was `./ethdo validator exit --validator=61825 --mnemonic='phrases for the mnemonic ...'   --connection=https://beacon.zhejiang.ethpandaops.io` for anyone wondering",
        "created_at": "2023-02-08T22:18:56.804000+00:00",
        "attachments": null
    },
    {
        "author": "hossein_mohebbi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ah I see, I did not know that - okay thank you for helping out with this - I will try again later but at least I know how to exit now",
        "created_at": "2023-02-08T22:19:37.207000+00:00",
        "attachments": null
    }
]