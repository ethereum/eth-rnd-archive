[
    {
        "author": "dmitriishmatko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm not sure, maybe I used some pseudocode from \u003c@!291925846556540928\u003e",
        "created_at": "2021-07-09T09:30:52.717000+00:00",
        "attachments": []
    },
    {
        "author": "dmitriishmatko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "but anyway it's made from blank",
        "created_at": "2021-07-09T09:31:10.960000+00:00",
        "attachments": []
    },
    {
        "author": "dmitriishmatko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I've made a mergenet tutorial based on \u003c@!203220829473996800\u003e mergenet-tutorial for Rayonism hackaton to play with withdrawals in testnet",
        "created_at": "2021-07-09T09:32:00.611000+00:00",
        "attachments": []
    },
    {
        "author": "dmitriishmatko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Here it is https://github.com/zilm13/mergenet-tutorial/tree/feature/withdrawal",
        "created_at": "2021-07-09T09:32:12.439000+00:00",
        "attachments": []
    },
    {
        "author": "dmitriishmatko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Also I've made a demo how withdrawal could be initiated and processed:\nhttps://www.youtube.com/watch?v=-YdZaKYliZE",
        "created_at": "2021-07-09T09:37:50.913000+00:00",
        "attachments": []
    },
    {
        "author": "dmitriishmatko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I've several ideas what I could test further:\n- minting of eth in contract instead of prefunding in this test\n- partial withdrawals\n- withdrawal credentials change message\n- proposing the way how could we burn deposits in Deposit Contract after creating validator\n- moving to design with 2 separate validator fields: withdrawal key and withdrawal credentials\n- interaction with pool contract which is already in development\nBut I'm currently stepping a bit apart, as we need more hands with merge \nI will return to withdrawals later",
        "created_at": "2021-07-09T09:45:09.739000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@!425907307621122049\u003e congratulations! ðŸŽ‰ \nGreat job on prototyping this thing!\n\nI've tweeted it, hopefully your not opposed ðŸ˜†  \nhttps://twitter.com/mkalinin2/status/1413434573208252420",
        "created_at": "2021-07-09T09:49:29.758000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hello, I am a member of the sharedstake community.  As you may have heard, there was a rug in late June that has cast suspicion over the dev who had access to the keys for the staked ETH",
        "created_at": "2021-07-09T15:02:58.589000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "In our post mortem conversations there was talk of work that would allow ETH2 withdraw keys to be transferred to a new person or multisig",
        "created_at": "2021-07-09T15:03:44.523000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I am looking to connect with whoever may be working on this to see if there is anything we can do to support the development of this feature.",
        "created_at": "2021-07-09T15:04:33.710000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "As of now there are 16k ETH locked up in the sharestake validator nodes. So quite a bit riding on this for our community.  More details on the rug and aftermath can be found here:   https://www.youtube.com/watch?v=KdVeSjMi5pk and here https://t.co/OqqrwLQwmt",
        "created_at": "2021-07-09T15:06:21.751000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Worth pointing out that this \"feature\" is highly controversial.  It would reduce the security of the funds from the level of the withdrawal key (which can be generated offline and never exposed to an online computer) to the level of the validator key (which is required to be online at all times and usually available in unencrypted form within the validator client).",
        "created_at": "2021-07-09T15:18:27.384000+00:00",
        "attachments": []
    },
    {
        "author": "bluepineapple888",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That's an interesting precision that was not so clear in the above proposal. About that concern, wouldn't it be possible to require the use of the withdrawal keys in addition to the validator key to trigger the withdrawal_credential change ? So that the security remains at the withdrawal key level ?",
        "created_at": "2021-07-09T15:34:53.073000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Requiring both keys sidesteps the general principle that the withdrawal key alone controls the movement of funds.",
        "created_at": "2021-07-09T15:36:36.643000+00:00",
        "attachments": []
    },
    {
        "author": "bluepineapple888",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Would it be such a big issue in that precise case ? (genuine question, maybe there are negative implications that I'm not aware of). That would basically be like a two-factor authentification so it's just additionnal security no ? Plus if I understand correctly in the standard config of some clients like Prysm, the validator key can be regenerated from the withdrawal key",
        "created_at": "2021-07-09T15:43:47.849000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It would be an issue in situations where the entity that controls the withdrawal key is different from the entity that controls the validator key.",
        "created_at": "2021-07-09T15:48:34.828000+00:00",
        "attachments": []
    },
    {
        "author": "bluepineapple888",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ok so your point is that the withdrawal_credential change should not be implemented at all or that the current design is not satisfactory because of this subtility ? As I see it, in your example it would indeed require collaboration between those 2 entities, so you couldn't trigger it with withdrawal keys alone, but it would still be better than the status quo where no rotation is possible at all isn't it ?",
        "created_at": "2021-07-09T15:56:30.969000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Withdawal credentials should only be altered with authority from the existing withdrawal credentials.",
        "created_at": "2021-07-09T15:59:03.883000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "This is interesting. So under the current system the holder of withdrawal keys can transfer to another?  Currently the situation with sharedstake is that the holder of possibly compromised keys is cooperating with team. So team can ask him to voluntarily transfer to another holder. Is that accurate?",
        "created_at": "2021-07-09T16:16:42.365000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "At the moment there is no mechanism to change withdrawal credentials, however one has been proposed.  Its function would remain fully under the control of the withdrawal key holder, however.\n\nOnce the operation is available on the beacon chain it would be possible for anyone who holds the withdrawal private key to be able to broadcast an operation that changes the withdrawal credentials.  If the holder is happy to change the withdrawal credentials to point to a smart contract under someone else's control then that would solve the issue.\n\nWhat the proposal won't do is provide the ability to handle the situation where there is a malicious withdrawal key holder in an adversarial situation.",
        "created_at": "2021-07-09T16:21:58.746000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Got it. Is this withdrawal cred change operation the same proposal that you said was problematic or something you think more likely to be shipped?",
        "created_at": "2021-07-09T16:24:54.437000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I think a voluntary turnover is possible given the political context at sharedstake now",
        "created_at": "2021-07-09T16:26:30.777000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "And that would go a huge way to restoring market confidence in the eth that is staked",
        "created_at": "2021-07-09T16:26:59.535000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@144468805697929216\u003e \u003c@739886459376369725\u003e btw really appreciate your willingness to engage on this. I am not a dev. Just a community member with skin in the game trying to help out. The team is massively swamped trying to recover. So Iâ€™m just trying to lend a hand and investigate this. Is there a better page I can go to with discussion on this particular issue?",
        "created_at": "2021-07-09T16:33:01.877000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Possibly https://ethresear.ch/t/withdrawal-credential-rotation-from-bls-to-eth1/8722 as that's the thread with the details of the most likely proposal",
        "created_at": "2021-07-09T16:35:23.417000+00:00",
        "attachments": []
    },
    {
        "author": "wasabiboatresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thank you",
        "created_at": "2021-07-09T16:38:05.876000+00:00",
        "attachments": []
    },
    {
        "author": "lsankar",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "really cool!",
        "created_at": "2021-07-09T17:51:42.459000+00:00",
        "attachments": []
    },
    {
        "author": "schone_wizard",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "is withdrawal credentials rotation going to be implemented before a normal funds withdrawal or at the very least a profits only withdrawal?",
        "created_at": "2021-07-09T20:02:27.963000+00:00",
        "attachments": []
    }
]