[
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "After ACD yesterday there was a discussion about withdrawals, and I suggested a solution for having it as a contract without breaking supply account entirely (https://discord.com/channels/595666850260713488/692062809701482577/944255376843493387).\n\nDrafted up an \"EIP\" explaining it: https://notes.ethereum.org/@ipsilon/H1lC5OAJ5",
        "created_at": "2022-02-19T15:36:24.380000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It takes some inspiration from 4788 (and the discussions around it yesterday) regarding wording / structure.",
        "created_at": "2022-02-19T15:37:30.903000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e is it expected that users will call this contract to retrieve their withdrawal, or will it run as part of the execution layer state transition to clear down whatever receipts have been pushed from the beacon chain?",
        "created_at": "2022-02-19T15:59:32.307000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Users have to call with the proof.",
        "created_at": "2022-02-19T16:02:23.239000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Just like they do with the deposits.",
        "created_at": "2022-02-19T16:02:45.141000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "What is the argument for doing it this way, rather than it happening automatically as part of the state transition?",
        "created_at": "2022-02-19T16:04:50.607000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Less complexity on the client side",
        "created_at": "2022-02-19T16:07:13.711000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Even if it is done as part of block processing, I think the supply numbers need to be \"fixed\" similarly to what is proposed in the above.",
        "created_at": "2022-02-19T16:08:11.535000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "More generally, given that the beacon chain is passing an execution payload back to the execution client, why not have a simple list of (address, balance) to add to state before the rest of the block is processed?  The consenus layer would have to ensure that the numbers net out, but that seems significantly simpler.",
        "created_at": "2022-02-19T16:08:24.940000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Regarding \"fixed\" numbers, we've been living without this for quite a while.  But yes the section under \"Ether supply accounting\" seems reasonable.",
        "created_at": "2022-02-19T16:11:22.848000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It hasn't been a problem so far because the balance was locked in the deposit contract. After this however we would be minting new ether would we not do something like what I propose.",
        "created_at": "2022-02-19T17:12:52.753000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm with \u003c@144468805697929216\u003e on this one, given that the user already provided proof on the beacon chain. Having to send it again on the EL is bad UX, I don't see why doing this automatically would be more complicated in the client side",
        "created_at": "2022-02-19T17:12:55.473000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I do agree with the accounting though",
        "created_at": "2022-02-19T17:13:21.163000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes, I agree with the approach for that bit.",
        "created_at": "2022-02-19T17:18:02.550000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I see this could be read as I proposed it to be a contract. The contract solution was proposed by \u003c@539495253418180618\u003e and \u003c@291925846556540928\u003e. I just sketched out the contract and proposed the balance updates.",
        "created_at": "2022-02-19T18:14:42.922000+00:00",
        "attachments": null
    }
]