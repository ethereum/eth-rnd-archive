[
    {
        "author": "bbuddha.xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "is there a way to tell, from a validator pubkey, the slot in which the corresponding validator's withdrawal occurred?",
        "created_at": "2023-01-23T20:47:40.209000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The validator definition has the pubkey and the index, and the withdrawals have the validator index, so you could link them like that.  Note that for most validators there will be multiple withdrawals (skimming), all the time they are active.",
        "created_at": "2023-01-23T21:38:52.528000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ah yeah, good point. i meant the full withdrawal when the validator is already exited. is there any way using beacon/execution apis to get the corresponding validator's full withdrawal?",
        "created_at": "2023-01-23T21:41:31.960000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "not exactly the block when it was transferred to the EL layer, but you can easily get when it was withdrawable",
        "created_at": "2023-01-23T21:43:32.279000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "```curl -X GET 127.0.0.1:5052/eth/v1/beacon/states/head/validators/\u003cpubkey\u003e -H \"accept: application/json\" | jq```. Will list the withdrawable_epoch, and then you have to find the next EL block in which the withdrawal of the respective validator is listed",
        "created_at": "2023-01-23T21:44:09.626000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ah rip, ty tho",
        "created_at": "2023-01-23T21:48:46.366000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah I don't think that the beacon APIs will expose individual withdrawals, it doesn't really fit with the simpler \"expose-the-data\" approach.\n\n`chaind` will have the withdrawal data in it  (currently undergoing internal test, expecting to pre-release it in time for the testnet) so you could use that to obtain the info that you need, but that's another process (and database).",
        "created_at": "2023-01-23T21:54:30.183000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ooh nice! are you expecting to maintain this long term?",
        "created_at": "2023-01-23T21:57:56.544000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Well I've maintained it so far ðŸ™‚",
        "created_at": "2023-01-23T21:59:06.670000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "haha. do u have a public endpoint for it? is there a public endpoint for a mainnet beacon chan rpc at all?",
        "created_at": "2023-01-23T22:16:53.950000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Do you need to prove this on-chain or can it be off chain running a beacon. You can always subscribe to a beacon stream of blocks",
        "created_at": "2023-01-23T22:51:49.565000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I guess what the ideal functionality for the withdrawal thing i was asking about would be like `/validator/withdrawals` which would return all of the withdrawals for a specific validator. kinda wierd that partial withdrawals dont have anything differentiating them from full withdrawals in their container (other than amount).",
        "created_at": "2023-01-23T23:17:38.490000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I think this would be very hard to implement as a beacon endpoint. This requires tracking every block. We used to have a registry on the beacon state but that's gone.",
        "created_at": "2023-01-23T23:21:59.940000+00:00",
        "attachments": null
    }
]