[
    {
        "author": "tsudmi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hey guys, I'm trying to come up with a simple mocked version of the system contract to test against.\nBased on what I've found in ETH2 specs and some discussions here, I have the following mock contract in mind: https://gist.github.com/tsudmi/4fc6aa4e3793db9d6c8637b512b23b36\n\nIf I understand correctly, the system contract address will be the same for all the validators with ETH1 withdrawal credentials.\nIf that's the case, then the contract above could be changed in a way that it handles multiple validators, and the `withdraw` function takes the validator index/public key as an argument.\nThe important part that worries me the most is whether the funds will be transferred to the recipient using the `call` as in the above link?\nIf that would be the `transfer` or `send` function, then I'm worried about problems described here: https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/ \n\nWould love to hear your thoughts.",
        "created_at": "2021-03-29T10:57:00.983000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You don't need to track the balance, your withdrawal function can just send the entire contract balance.  That simplifies it down to just the constructor and withdrawal methods.",
        "created_at": "2021-03-29T11:03:12.184000+00:00",
        "attachments": []
    },
    {
        "author": "tsudmi",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Good point, I've updated the gist.",
        "created_at": "2021-03-29T11:08:22.909000+00:00",
        "attachments": []
    }
]