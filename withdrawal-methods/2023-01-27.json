[
    {
        "author": "arjoon3307",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hey y'all, excited for Shanghai/Capella!\nI had a question - from what I've read is my understanding of full withdrawals \"basically\" correct?\n\nPut in a full withdrawal request\nevery epoch 16 withdrawals requests get picked up so wait for mine to be picked up\n\nthen a 27 hour exit period\n\nthen I'm put into a queue (which speed depends on the validator count)\n\nIs that right?",
        "created_at": "2023-01-27T10:00:05.568000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "there is no \"withdrawal request\" object, you can exit your validator and then once you have left the exit queue and become withdrawable (two separate decision points based on several network-wide factors), then the protocol will automatically generate a withdrawal for the remainder of the validator's balance",
        "created_at": "2023-01-27T10:53:47.665000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the exit queue depends on how many other validators are also exiting at the same time as only a small amount relative to the size of the set can exit per epoch; if you aren't slashed then the withdrawal delay after the exit epoch is around a day; if you are slashed, there is more complex logic with a longer delay until you are withdrawable",
        "created_at": "2023-01-27T10:54:53.105000+00:00",
        "attachments": null
    },
    {
        "author": "arjoon3307",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ah okay thanks! But is the 27 hour period correct?",
        "created_at": "2023-01-27T15:15:23.616000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There's an exit queue (could be nothing, could be months), then there's a 27 hour waiting period before your exited validator's funds are withdrawable, and then there's a 0-3 day waiting period for your validator funds to be transferred (automagically) to the EL",
        "created_at": "2023-01-27T15:28:22.988000+00:00",
        "attachments": null
    },
    {
        "author": "thedzhon",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hey ðŸ‘‹ \n\nJust wondering regarding the withdrawals sweep. \n\nI see that both partial and full withdrawals are intermixed and treated with the same priority of inclusion. \nOn mainnet it's highly likely, that most of the withdrawals will be partial and, as a consequence, `withdrawable` -\u003e `withdrawn` transition for a validator will take up to ~4 days (though, exiting for the uncrowded queue will take ~27 hours). \n\nWas it considered to disentangle partial and full withdrawals to prioritize latter ones and, in case if it was, what were the decision drivers to choose opposite?",
        "created_at": "2023-01-27T15:35:14.273000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e Was it considered to disentangle partial and full withdrawals to prioritize latter ones and\nThe \"first\" design had them separate indeed. So it was considered I guess?\n\n\u003e in case if it was, what were the decision drivers to choose opposite?\nSimplicity of implementation, not _yet another queue_",
        "created_at": "2023-01-27T15:45:36.792000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "See https://github.com/ethereum/consensus-specs/pull/3068 for when the queue-less design was introduced, and some comments on it (e.g. about its complexity and how it compared to the previous variant)_",
        "created_at": "2023-01-27T15:47:12.088000+00:00",
        "attachments": null
    },
    {
        "author": "thedzhon",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thank you!",
        "created_at": "2023-01-27T15:49:21.266000+00:00",
        "attachments": null
    },
    {
        "author": "arjoon3307",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ah okay, so just to confirm, the queue (which depends on how many people and validator count) is *before* the 27 hour waiting period?",
        "created_at": "2023-01-27T17:14:14.023000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Correct!",
        "created_at": "2023-01-27T18:43:57.686000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "see the last two lines in https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/beacon-chain.md#initiate_validator_exit for this `withdrawable_epoch` and its delay (relative to the exit epoch)",
        "created_at": "2023-01-27T18:44:46.700000+00:00",
        "attachments": null
    }
]