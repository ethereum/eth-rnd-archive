[
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdcposch\u003e I did some digging.\n\n7212 (both EIP and RIP) originally specified a 32byte return value. Implementations differed, some returning *empty data* for invalid signatures. This is now live on Polygon. The spec was updated retroactively to match the deployed implementation.\n\nIt's not a huge deal, but it is unfortunate, since it means there can't be a clean fallback: (invalid signature) is now indistinguishable from (7212 not deployed). In both cases, you get a successful call returning no data.\n\nLastly, (mark Final) \u003e (deploy to mainnet) \u003e (retroactively update spec) is a bad precedent for the very first RIP.\n\nThis is not a criticism of Ulas/Clave—congratulations on getting it to the finish line—but I think the RIP process could use improvement.\n\nDetails here:\nhttps://ethereum-magicians.org/t/eip-7212-precompiled-for-secp256r1-curve-support/14789/96 (re @ulerdogan: The spec has not changed, just changed to address misunderstandings. It's aligned with chain implementation.)",
        "created_at": "2024-05-20T01:14:15.055000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjessepollak\u003e cc @rbayardo (re @dcposch: I did some digging.\n\n7212 (both EIP and RIP) originally specified a 32byte return value. Implementations differed, some returning *empty data* for invalid signatures. This is now live on Polygon. The spec was updated retroactively to match the deployed implementation.\n\nIt's not a huge deal, but it is unfortunate, since it means there can't be a clean fallback: (invalid signature) is now indistinguishable from (7212 not deployed). In both cases, you get a successful call returning no data.\n\nLastly, (mark Final) \u003e (deploy to mainnet) \u003e (retroactively update spec) is a bad precedent for the very first RIP.\n\nThis is not a criticism of Ulas/Clave—congratulations on getting it to the finish line—but I think the RIP process could use improvement.\n\nDetails here:\nhttps://ethereum-magicians.org/t/eip-7212-precompiled-for-secp256r1-curve-support/14789/96)",
        "created_at": "2024-05-20T01:18:59.468000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003crbayardo\u003e This does seem unfortunate (re: fallback issue with 7212). It's not too bad for an L2 to hard fork to update a previous deploy (Base did it for the universal deployer) if we do want to change this.",
        "created_at": "2024-05-20T01:58:18.424000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003celiastzr\u003e What did Base do specifically for the universal deployer? (re @rbayardo: This does seem unfortunate (re: fallback issue with 7212). It's not too bad for an L2 to hard fork to update a previous deploy (Base did it for the universal deployer) if we do want to change this.)",
        "created_at": "2024-05-20T06:58:48.547000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjdetychey\u003e I was reading through the cross shard communication related research posts here and there",
        "created_at": "2024-05-20T12:17:36.262000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjdetychey\u003e and it the \"YANK\" opcode",
        "created_at": "2024-05-20T12:17:49.018000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjdetychey\u003e came out as something we could reconsider for rollup improvements",
        "created_at": "2024-05-20T12:18:17.539000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjdetychey\u003e instead of shard-ID using chain-ID for example (although chain-IDs are not well defined)",
        "created_at": "2024-05-20T12:19:07.500000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjdetychey\u003e throwback from 2018 (https://ethresear.ch/t/cross-shard-contract-yanking/1450 )",
        "created_at": "2024-05-20T12:19:39.560000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjdetychey\u003e has anyone had a look at this (in the context of facilitating cross layer contract state synchronization and cross layer communications) ?",
        "created_at": "2024-05-20T12:20:47.783000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvb271828\u003e have you guys talked about multidimensional gas recently?",
        "created_at": "2024-05-20T12:22:04.191000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvb271828\u003e https://github.com/ethereum/EIPs/blob/4020064d72da32adc691cf1906f466a2c03b00f5/EIPS/eip-7706.md",
        "created_at": "2024-05-20T12:22:04.499000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvb271828\u003e I know this has been a topic of interest for a while, because rollups have to do 2D gas for calldata anyway",
        "created_at": "2024-05-20T12:22:23.685000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvb271828\u003e above is an EIP for one way to implement it",
        "created_at": "2024-05-20T12:22:41.701000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cpgebheim\u003e Bad precedent maybe but also possible for us to fix methinks (re @dcposch: I did some digging.\n\n7212 (both EIP and RIP) originally specified a 32byte return value. Implementations differed, some returning *empty data* for invalid signatures. This is now live on Polygon. The spec was updated retroactively to match the deployed implementation.\n\nIt's not a huge deal, but it is unfortunate, since it means there can't be a clean fallback: (invalid signature) is now indistinguishable from (7212 not deployed). In both cases, you get a successful call returning no data.\n\nLastly, (mark Final) \u003e (deploy to mainnet) \u003e (retroactively update spec) is a bad precedent for the very first RIP.\n\nThis is not a criticism of Ulas/Clave—congratulations on getting it to the finish line—but I think the RIP process could use improvement.\n\nDetails here:\nhttps://ethereum-magicians.org/t/eip-7212-precompiled-for-secp256r1-curve-support/14789/96)",
        "created_at": "2024-05-20T15:18:08.748000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003crbayardo\u003e See https://blog.oplabs.co/canyon-hardfork/\nSection about the create2Deployer.  It was unable to deploy at the appropriate address on Base because the dev didn't realize bridging funds to the account on Base would increment the nonce, hence making it active in a hardfork. (re @eliastzr: What did Base do specifically for the universal deployer?)",
        "created_at": "2024-05-20T16:24:55.922000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cstanbreadless\u003e This is actually the same implementation as on zkSync in the upcoming upgrade, when we reached out to the EIP team in March we were told to never return 0 in any case (i.e. either empty result or bytes32(1)). I believe this is how the example geth implementation worked (re @dcposch: I did some digging.\n\n7212 (both EIP and RIP) originally specified a 32byte return value. Implementations differed, some returning *empty data* for invalid signatures. This is now live on Polygon. The spec was updated retroactively to match the deployed implementation.\n\nIt's not a huge deal, but it is unfortunate, since it means there can't be a clean fallback: (invalid signature) is now indistinguishable from (7212 not deployed). In both cases, you get a successful call returning no data.\n\nLastly, (mark Final) \u003e (deploy to mainnet) \u003e (retroactively update spec) is a bad precedent for the very first RIP.\n\nThis is not a criticism of Ulas/Clave—congratulations on getting it to the finish line—but I think the RIP process could use improvement.\n\nDetails here:\nhttps://ethereum-magicians.org/t/eip-7212-precompiled-for-secp256r1-curve-support/14789/96)",
        "created_at": "2024-05-20T16:45:27.713000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003culerdogan\u003e Current RIP version is the expected stage/implementation by all rollups which is also discussed in Rollcalls. I don't think it's been changed retroactively to adapt Polygon. (re @stanbreadless: This is actually the same implementation as on zkSync in the upcoming upgrade, when we reached out to the EIP team in March we were told to never return 0 in any case (i.e. either empty result or bytes32(1)). I believe this is how the example geth implementation worked)",
        "created_at": "2024-05-20T16:48:02.271000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003culerdogan\u003e If the community thinks it's wrong and should return 0 and 1, it should be a new RIP to change the specs.",
        "created_at": "2024-05-20T16:48:56.913000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003culerdogan\u003e Also, a precompile registry has been discussed here before to differentiate implementations.",
        "created_at": "2024-05-20T16:49:50.022000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdcposch\u003e I don't think it's been changed retroactively to adapt Polygon.\nin March we were told to never return 0 in any case (i.e. either empty result or bytes32(1))\nI understand this was decided earlier and discussed on RollCalls, but it wasn't actually updated in the RIP until April 25. I linked to the PR.\n\nIt's OK--it's shipped, and I don't think it's worth changing.\n\nThe lack of clean fallback is not disastrous because luckily, fallback is still possible in the common case: a _valid_ signature can be verified by precompile \u003e fallback to EVM smoothly on non-7212 chains. The problem just renders the precompile moot for _invalid_ signatures, which are rarely onchain. It's also not a security issue, as far as I can tell.\n\nI do think it's worth coming up with a better process going forward.\n\nI'd like to see future RIPs have a machine-readable spec or test of some kind that client implementations can be validated against. Curious to hear people's ideas.",
        "created_at": "2024-05-20T18:39:37.459000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003crjected\u003e One thing I see missing in too many EIPs is test vectors, so bringing the bar higher w.r.t. tests in RIPs would be a great outcome of this",
        "created_at": "2024-05-20T18:47:24.373000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003crjected\u003e Machine readable specs, to me, seems like overengineering in the existence of tests. The main goal of a spec is to be unambiguous (in words) and allow the reader to very easily understand how to create an implementation that matches the spec.",
        "created_at": "2024-05-20T18:49:35.324000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003celiastzr\u003e What is a machine readable specs? Just a fork of EELS no? \nhttps://github.com/ethereum/execution-specs",
        "created_at": "2024-05-20T18:50:30.822000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003crjected\u003e I mean, sort of? No new \"spec infrastructure\" needs to be created is my main point - authors of RIPs / EIPs should focus on writing quality and creating comprehensive test vectors that do things like:\n* test important spec details, for example any detail that would warrant a `NB: ` comment\n* test edge cases\n* common cases, etc.\n* or even a reference implementation (this is eels essentially)\n\nonce this bar is met for existing specs, then maybe ppl can start thinking about more complex tools",
        "created_at": "2024-05-20T18:55:51.162000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003crjected\u003e Not that this isn't encouraged already, 7212 was pretty good on this front actually",
        "created_at": "2024-05-20T18:58:04.218000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003celiastzr\u003e But then they need to develop the client update that allows to run the test? (re @rjected: I mean, sort of? No new \"spec infrastructure\" needs to be created is my main point - authors of RIPs / EIPs should focus on writing quality and creating comprehensive test vectors that do things like:\n* test important spec details, for example any detail that would warrant a NB:  comment\n* test edge cases\n* common cases, etc.\n* or even a reference implementation (this is eels essentially)\n\nonce this bar is met for existing specs, then maybe ppl can start thinking about more complex tools)",
        "created_at": "2024-05-20T18:58:08.027000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cSamWilsn\u003e That's where EELS comes in",
        "created_at": "2024-05-20T18:58:22.468000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cSamWilsn\u003e We're super easy to prototype in",
        "created_at": "2024-05-20T18:58:33.829000+00:00",
        "attachments": []
    }
]