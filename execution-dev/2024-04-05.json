[
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "\u003c@360491619402776577\u003e do you have a specific dos attack that motivated the no-nonce-gaps design in geth's blob pool? We also have that requirement but I cannot think of a dos vector that would exploit a pool without the requirement",
        "created_at": "2024-04-05T19:20:41.682000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "or I guess \u003c@206016661470314496\u003e is in here too",
        "created_at": "2024-04-05T19:21:08.211000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Yep, I give you 10 nonce gapped transactions from every account",
        "created_at": "2024-04-05T19:22:26.104000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "The transactions will never be executable",
        "created_at": "2024-04-05T19:22:41.528000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "I churn them with 10 higher paying transactions from other accounts",
        "created_at": "2024-04-05T19:23:01.335000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "I see, isn't the same attack possible with e.g low fee blob txs?",
        "created_at": "2024-04-05T19:23:46.628000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Yep, but they can become executable if the fees drop",
        "created_at": "2024-04-05T19:24:11.468000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Also if you churn them with higher paying transactions, they will be executable at some point",
        "created_at": "2024-04-05T19:25:18.178000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "right, because of the bump req",
        "created_at": "2024-04-05T19:25:35.829000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "hmmmm, with 3074 you could also sweep accounts in the txpool with a single tx",
        "created_at": "2024-04-05T20:53:00.891000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "still not sure whether or not this would change anything in our pool impl",
        "created_at": "2024-04-05T20:57:44.139000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Yes and thats something we've been discussing",
        "created_at": "2024-04-05T20:57:48.379000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "We have a test for it and it takes ~1 sec to reorg the txs out of our pool, but that is very dependent on our pool implementation (we don't delete transactions, we just tombstone them)",
        "created_at": "2024-04-05T20:58:35.722000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "oh interesting, could i have a link to the test?",
        "created_at": "2024-04-05T21:05:10.954000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "depends on how you revalidate the pool. unless you're doing something really fancy it's probably fine",
        "created_at": "2024-04-05T21:09:56.613000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "yeah I just checked, shouldn't require any changes, we discard based on balance changes already",
        "created_at": "2024-04-05T21:11:20.739000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "https://github.com/MariusVanDerWijden/go-ethereum/tree/blob-test",
        "created_at": "2024-04-05T21:14:30.920000+00:00",
        "attachments": []
    }
]