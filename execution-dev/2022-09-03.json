[
    {
        "author": "gcolvin",
        "category": "general",
        "parent": "",
        "content": "\u003c@273808422753796097\u003e \n\u003e What do you mean by \"get away with static jumps\"? Like banning dynamic jumps from the EVM?\nBoth me and the Ipsilon group \u003c@425279588009246720\u003e are proposing to deprecate dynamic jumps.  (Dynamic jumps  are actually quite rare, can always be emulated with static conditional jumps.)\n\n\u003c@456226577798135808\u003e \n\u003e ... proving that most (maybe 99.9% or something) deployed contracts cannot jump into an invalid jumpdest \nOf course without dynamic jumps this is sure to be true.\n\nWe still need to validate at initialization time that the static jumps don't address immediate data.  (And that instructions are valid, and stack doesn't underflow, etc.).  We can do this in near-linear time using symbolic execution, but only if there are no dynamic jumps.  Otherwise you get quadratic \"path explosion.\"   (I don't know how this affects abstract interpretation.)",
        "created_at": "2022-09-03T20:09:19.208000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "general",
        "parent": "",
        "content": "Bitcoin script simply bans backwards branches and has no subroutines or dynamic jumps.  Easy enough restriction for the EVM for this special case.  Not acceptable in general.",
        "created_at": "2022-09-03T20:24:14.893000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Ok I love the idea of deprecating dynamic jumps",
        "created_at": "2022-09-03T20:26:12.326000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "How to handlr backwards compatibility?",
        "created_at": "2022-09-03T20:26:18.651000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "general",
        "parent": "",
        "content": "This is post-EOF.  Older code just isn't going to be compatible.",
        "created_at": "2022-09-03T20:26:56.879000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "what does \"not compatible\" mean?",
        "created_at": "2022-09-03T20:40:10.679000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Still handled under an older version?",
        "created_at": "2022-09-03T20:40:27.617000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Would the code for handling dynamic jumps eventually be removed from the EVM entirely?",
        "created_at": "2022-09-03T20:40:38.533000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "general",
        "parent": "",
        "content": "It can't be.  Every contract ever must still run.",
        "created_at": "2022-09-03T21:20:11.891000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "general",
        "parent": "",
        "content": "Well, I guess if \u003c@456226577798135808\u003e can identify the .01% of contracts that need them we could find some way to special-case those contracts, like translate them into an equivalent sequences of static jumps.",
        "created_at": "2022-09-03T21:24:01.425000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "general",
        "parent": "",
        "content": "https://eips.ethereum.org/EIPS/eip-3540#backwards-compatibility",
        "created_at": "2022-09-03T21:28:30.242000+00:00",
        "attachments": null
    }
]