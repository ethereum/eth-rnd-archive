[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Today, the calldata contains two BLS pubkeys which are pubkeys of the validators involved into request. they aren't of the form 0x01PUBKEY, there are 48 bytes of each BLS pubkey. Then the contract adds an EL address to the request and all this information surfaced to the CL. We could save users some gas on submitting creds switch requests if the second pubkey was 0x00..00 instead of what it is required today.\n\nWhat you propose requires passing the type of credentials somehow which is not the case today. So, we'd need a new contract. Then it probably makes sense to introduce a new request type to be a generic request for chaning withdrawal creds type",
        "created_at": "2025-08-22T04:34:05.116000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Hmmm, we can have the following calldata format with the existing contract: `[pubkey: 96 bytes, 0x0N..00: 96 bytes]`. Then if all checks pass validator with the `pubkey` switches to `0x0N` withdrawal creds type.",
        "created_at": "2025-08-22T10:09:15.267000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "No! Obviously by 0x01pubkey I meant the full pubkey of a validator whose withdrawal credential is 0x01",
        "created_at": "2025-08-22T10:59:46.046000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "sorry, it wasn't obvious to me. so, `[pubkey: 96 bytes, creds_type: 96 bytes]` is the thing you had in mind?",
        "created_at": "2025-08-22T11:10:43.338000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "No, let me be complete explicit with actual numbers. \n\nBehavior today:\n\nCalldata: `0xae6e9cc47311dd83494443f1476d2b4598e96b8621098018d8b0630732afd68bcf1f479a3698de158ac5ab1a797ff678ae6e9cc47311dd83494443f1476d2b4598e96b8621098018d8b0630732afd68bcf1f479a3698de158ac5ab1a797ff678`  Will turn the validator https://beaconcha.in/validator/300000 into 0x02 by switching it's withdrawal credentials to `0x0200000000000000000000003df3a4dee54a1948ea71ed43f9df393dad8532e9`. The request tx needs to be signed by the address `0x3df3a4dee54a1948ea71ed43f9df393dad8532e9`\n\nLet us suppose that this validator has\nAnother behavior today:\nCalldata `0xa94afcd3084f12f01707ea48a2942953457ea604a0330bc6366bc3381f4f761b912cfc16c7546c0af5fd9ce6c073aaf4030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`, signed by the address `0x200ce476481a89ab7ff9b737393297ae08ce539b` will generate a valid consolidation request from the point of view of the EL side, but this consolidation request will be ignored in the CL processing because there is no validator with public key `0x030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`.\n\nWhat I am proposing is to keep the behavior of the first call exactly as it is today, but in the case of the second call, I propose that the validator https://beaconcha.in/validator/1606588 switches its withdrawal credentials from the current `0x020000000000000000000000200ce476481a89ab7ff9b737393297ae08ce539b` to `0x030000000000000000000000200ce476481a89ab7ff9b737393297ae08ce539b`",
        "created_at": "2025-08-22T13:15:08.887000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "thanks for the detailed explanation! basically, if `target_pubkey = 0x0300..00` then switch the `source_pubkey` to `0x03` creds üëç",
        "created_at": "2025-08-22T17:39:08.739000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "More generally I think we should reserve the namespace for arbitrary requests and reuse the contract, it's zero impact on the EL, modulo what \u003c@543900561460822016\u003e mentioned about gas pricing the precompile. I'll draft an EIP",
        "created_at": "2025-08-22T18:07:10.671000+00:00",
        "attachments": null
    },
    {
        "author": "corcoranwill",
        "category": "general",
        "parent": "",
        "content": "ICYMI \n\nhttps://youtu.be/rJiEV7jJFl4?si=lghkNIcSjjwgY925",
        "created_at": "2025-08-22T18:55:11.190000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Couldn't resist myself, these are the draft\nhttps://github.com/ethereum/EIPs/pull/10218\nhttps://github.com/ethereum/EIPs/pull/10220\nhttps://github.com/ethereum/consensus-specs/pull/4522",
        "created_at": "2025-08-22T20:46:36.119000+00:00",
        "attachments": null
    },
    {
        "author": "abcoathup",
        "category": "general",
        "parent": "",
        "content": "EIP8012: Generalized consolidation requests\nEIP8014: Builder generalized consolidation requests",
        "created_at": "2025-08-22T23:03:05.428000+00:00",
        "attachments": null
    }
]