[
    {
        "author": "mbaxter5749",
        "category": "general",
        "parent": "",
        "content": "Question for any execution client devs.  I'm looking into how the \"fork identifier\" ENR field is used at the discovery layer (fork id EIP: https://eips.ethereum.org/EIPS/eip-2124).  I'd expect this to be used in discovery v4 to filter out nodes on incompatible networks.  \n\nLooking through the geth code base, I see the forkId filter logic here (https://github.com/ethereum/go-ethereum/blob/01e5e9c2c3fa1cf7a9747148dca22d59ff9839b6/core/forkid/forkid.go#L117), but I don't see it being used live in discovery v4.  I see a CLI command that can be used to filter nodes (https://github.com/ethereum/go-ethereum/blob/01e5e9c2c3fa1cf7a9747148dca22d59ff9839b6/cmd/devp2p/nodesetcmd.go#L53) (docs: https://geth.ethereum.org/docs/developers/dns-discovery-setup#creating-sub-lists-through-filtering), but not seeing this filtering happening live.  \n\nIs there any reason not to use the forkId to ensure that discovery is only surfacing and recording relevant nodes?  \u003c@360491619402776577\u003e - perhaps you have some insight on geth's approach?",
        "created_at": "2022-07-07T18:23:25.392000+00:00",
        "attachments": null
    }
]