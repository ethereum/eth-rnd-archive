[
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I have to assume you mean after the removal of `SELFDESTRUCT`, which may never happen? I don't know. I would not allow it, because it would lead to the simplest rules. Instead of creating exemptions and exceptions, I would say we should create correct primitives for use cases if they are particularly popular. I am sure if you think about CREATE2/SELFDESTRUCT combo, you probably figure out what it is really doing, and find a simpler and cheaper way of having the same functionality",
        "created_at": "2020-09-06T06:13:50.104000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I am against what seems to be the current EVM design methodology of overloading the opcodes with multiple functions and making lots of exceptions. That is why I am mildly opposed to EIP-2929, for example",
        "created_at": "2020-09-06T06:15:02.594000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "On the one hand, I agree with your desire for simplicity in the EVM.  On the other hand, I understand that opcode gas pricing is meant to reflect their true operational cost and there *is* an \"easy\" optimization one can do in any client to make it so multiple reads/writes to the same storage slot in a transaction (or even in a block) are nearly the same operational cost as a single read/write.",
        "created_at": "2020-09-06T06:18:58.956000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And if you want gas prices to represent the operational cost of the EVM, and everyone can do this optimization, then it seems like we should strive to have the gas cost of the operation reflect that.",
        "created_at": "2020-09-06T06:19:42.128000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I guess perhaps the underlying disagreement is in whether gas costs should take client optimizations into account, or should they assume the most naive implementation?  If we assume optimizations, how far do we take that?  Should every client need to be writing assembly in order to not be subjected to DoS attacks?  Is caching a reasonable optimization for client developers to  be expected to undertake?",
        "created_at": "2020-09-06T06:20:52.128000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I am also of the opinion that not all optimisations need to be reflected in the gas prices, or at least not straight away. Even if there is a way to do something quicker, it does not mean it should be cheaper, because optimisations required to deliver this cheaper way could be \"local optima\", preventing more potent and higher level optimisations",
        "created_at": "2020-09-06T06:47:06.544000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I also believe (but I won't go into details here) that EIP-2929 will only offer temporary relief from DoS attacks, at the cost of higher complexity of opcodes",
        "created_at": "2020-09-06T06:48:26.717000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I know you can all argue me down on specifics and then 2 years later say \"Oh, who would've known that\" ðŸ™‚",
        "created_at": "2020-09-06T06:50:02.756000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "last October, in Osaka, we had a short gathering of some core devs, where I proposed stopping features and all work together on a better database layout, which is not vulnerable to these DoS attacks, which I estimated would take a year, if we coordinate closely. Guess what? It did not happen, instead we kept doing what we were doing, the opportunity was lost",
        "created_at": "2020-09-06T06:53:02.826000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "It is not like I did not try",
        "created_at": "2020-09-06T06:53:30.926000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "The reason why it did not happen was because certain people did not believe that what I was doing would work, even though there were many people who did. And it was on me again to first prove to everyone beyond reasonable doubt that I am right, and only then suggest things. This is the path I am following",
        "created_at": "2020-09-06T07:01:37.445000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I can appreciate the desire for not stopping all features for a year while we fix fundamental issues.  At the same time, I have seen what can happen if you *don't* pay down your technical debt (things can get to the point where they cease to function).",
        "created_at": "2020-09-06T07:11:15.869000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "my idea was to basically work with everyone, including go-ethereum, to \"port\" the data model in, and at the end of this process to deprecate turbo-geth in favour of improved go-ethereum. But because this did not happen, my only choice was to double down on turbo-geth and make a different strategy",
        "created_at": "2020-09-06T07:14:50.999000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "so here we are ðŸ™‚",
        "created_at": "2020-09-06T07:16:19.139000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e So I actually don't see EIP-2929 as making a series of awkward exceptions! I actually see it as bringing gas costs closer to the way that we expect gas costs to work long term",
        "created_at": "2020-09-06T08:27:01.848000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Which is, more and more explicitly charging for data that gets brought into the witness",
        "created_at": "2020-09-06T08:27:22.822000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I think charging for witness data can be done in a simpler way (if this is now the main reason), in the same way intrinsic gas is now charged.",
        "created_at": "2020-09-06T08:28:45.335000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e sorry by witness I mean in a more abstract sense, something like \"the data that needs to be read\"",
        "created_at": "2020-09-06T08:29:35.485000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And in the current system, that's still measured more in accesses than bytes, hence eg. EIP 2929 not going all-out and charging 72000 gas for calling max-size contracts",
        "created_at": "2020-09-06T08:30:02.261000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I agree it \"can be done in a better way\" eventually, but the reality is that no one is going to agree on how to calculate canonical Merkle witnesses within 3 months, and that's a wasteful exercise to try to implement before binary trees are around in any case imo",
        "created_at": "2020-09-06T08:31:14.477000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Ok, thinking pragmatically, I think what will happen is that EIP-2929 will be adopted at some point soon (there is nothing I can do about it), and then we will have to undo some of it later on",
        "created_at": "2020-09-06T08:32:57.339000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "so I do not really believe I will change anyone's mind about it, I just wanted to state my mild opposition",
        "created_at": "2020-09-06T08:33:27.362000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e yep, that's fair and understood",
        "created_at": "2020-09-06T08:33:51.652000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And I do favor making sure we have \"proper non-ugly witness accounting\" in the long run",
        "created_at": "2020-09-06T08:40:35.774000+00:00",
        "attachments": null
    },
    {
        "author": "0xalizk",
        "category": "general",
        "parent": "",
        "content": "\u003e I have to assume you mean after the removal of `SELFDESTRUCT`, which may never happen? I don't know. I would not allow it, because it would lead to the simplest rules. \n\u003c@456226577798135808\u003e yes removal. Here is an example usecase by fuel that needs that \"phantom\" `SELFDESTRUCT` exception ðŸ‘‡",
        "created_at": "2020-09-06T12:29:59.630000+00:00",
        "attachments": null
    },
    {
        "author": "0xalizk",
        "category": "general",
        "parent": "",
        "content": "https://docs.fuel.sh/v1.0.0/Concepts/Additional%20Modules/Funnels.html#tokenfunnels",
        "created_at": "2020-09-06T12:30:01.950000+00:00",
        "attachments": null
    },
    {
        "author": "0xalizk",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003e Instead of creating exemptions and exceptions, I would say we should create correct primitives for use cases",
        "created_at": "2020-09-06T12:31:19.034000+00:00",
        "attachments": null
    },
    {
        "author": "0xalizk",
        "category": "general",
        "parent": "",
        "content": "maybe this EIP can satisfies the phantom `CREATE2` pattern ðŸ‘‡",
        "created_at": "2020-09-06T12:31:57.863000+00:00",
        "attachments": null
    },
    {
        "author": "0xalizk",
        "category": "general",
        "parent": "",
        "content": "https://github.com/Arachnid/EIPs/blob/f6a2640f48026fc06b485dc6eaf04074a7927aef/EIPS/EIP-draft-rich-transactions.md",
        "created_at": "2020-09-06T12:32:11.048000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Yes, I was actually thinking of that - this improvement could cover quite a lot of use cases",
        "created_at": "2020-09-06T12:35:51.383000+00:00",
        "attachments": null
    }
]