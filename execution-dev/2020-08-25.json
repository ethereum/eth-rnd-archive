[
    {
        "author": "hmijail",
        "category": "general",
        "parent": "",
        "content": "\u003c@!273808422753796097\u003e Expanding a bit on what \u003c@!393833580033474560\u003e  said, yes, after some team changes and setbacks Team X is still working on code merklization. We hope that in the next couple of weeks we'll finish applying our approaches to a representative sample of mainnet transactions (like 1M blocks), then publish the results / compare with others and work on some spec'ing / EIP'ing",
        "created_at": "2020-08-25T00:27:19.236000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "Is there any interest in a CREATE3 operation that instead of creating the contract address from a hash of the create script and the salt instead creates the contract address from a hash of the on-chain contract code and a salt?  I think this would address a concern I recall \u003c@!332923501079953409\u003e mentioning on twitter a number of weeks back where accounts could have multiple code values over time (interacting with call data and self destruct).  Add it in one hard fork and up the price of CREATE2 in the next hard fork to incentivize it's use.",
        "created_at": "2020-08-25T20:58:16.460000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "Would some sort of mechanism to avoid the duplication of code in the state trie also be a part of this? If not, I guess the main advantage is that less calldata is needed?",
        "created_at": "2020-08-25T21:12:24.468000+00:00",
        "attachments": []
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003e Is there any interest in a CREATE3 operation that instead of creating the contract address from a hash of the create script and the salt instead creates the contract address from a hash of the on-chain contract code and a salt?  I think this would address a concern I recall \u003c@!332923501079953409\u003e mentioning on twitter a number of weeks back where accounts could have multiple code values over time (interacting with call data and self destruct).  Add it in one hard fork and up the price of CREATE2 in the next hard fork to incentivize it's use.\n\u003c@!403707149043105803\u003e I barely remember writing about that ðŸ˜…  I think \u003c@456226577798135808\u003e  might actually have data on if that's ever been seen in the wild.",
        "created_at": "2020-08-25T22:28:19.441000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "Yea, may have been Alexey.",
        "created_at": "2020-08-25T22:29:09.138000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "The main advantage is immutable data storage.  If I have stronger guarantees (as strong as a hash collision) that a certain address will only have one code segment it will open up more storage possibilities.",
        "created_at": "2020-08-25T22:31:59.143000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "A more exotic case (i.e. well over the horizon) would be ahead-of-time native compiled EVM contracts (or transpiled to another language).  But based on the eWASMs presentations about compiled WASM it's questionable if the performance gains are worth that effort.",
        "created_at": "2020-08-25T22:33:16.497000+00:00",
        "attachments": []
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "I feel like it might have been a discussion between me and Martin (Mr. Chico)",
        "created_at": "2020-08-25T22:33:18.267000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "The phrase I seem to remember is \"polymorphic contracts,\" and that the \"in the wild\" cases were all sub-block where the contract was both created and deleted in the same mega-tx.",
        "created_at": "2020-08-25T22:34:54.537000+00:00",
        "attachments": []
    }
]