[
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "\u003e Upon invoking the opcode, mark current contract to-be selfdestructed and send all balance to the target. Exit current call frame.\n\nwhen selfdestruct is invoked from an ephemeral contract and the target is self, the balance of the invoking contract is burned immediately.",
        "created_at": "2026-01-28T00:06:21.624000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "the account is not removed until the transaction is finalized, which means that it can invoke to self, burn its balance, be sent more ether later on in the transaction, and then burn more balance again when the account is removed at tx finalization",
        "created_at": "2026-01-28T00:07:13.417000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "\u003e After the transaction ends (I have to check when precisely, if this is AFTER the tx execution, but before or after the fee transfer to coinbase\n\n selfdestructed accounts are removed after the fee payment to coinbase",
        "created_at": "2026-01-28T00:10:13.036000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "general",
        "parent": "",
        "content": "About EIP-7708 non-emission of self transfers. Are https://github.com/ethereum/EIPs/pull/11187 \u0026 https://github.com/ethereum/EIPs/pull/11188 included into bal-devnet-2?",
        "created_at": "2026-01-28T08:20:08.366000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "general",
        "parent": "",
        "content": "seems more like fixes to me than changes to the spec right?",
        "created_at": "2026-01-28T09:47:16.029000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "general",
        "parent": "",
        "content": "Right. So part of bal-devnet-2",
        "created_at": "2026-01-28T09:56:55.228000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "general",
        "parent": "",
        "content": "I would say so",
        "created_at": "2026-01-28T09:57:10.869000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "the account is not removed until the",
        "created_at": "2026-01-28T10:02:51.654000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "I made a PR to the 7708 EIP that corrects a typo in the spec concerning the order of coinbase fee payment with burn logs emitted during account removal:  https://github.com/ethereum/EIPs/pull/11190\n\nI closed the PR just to disable automerge.  Please take a look and lmk if anyone disagrees with this.",
        "created_at": "2026-01-28T10:24:48.559000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Question for BAL: does the EL need to store anything? it seems that it is only a CL object CC \u003c@1126229231572094976\u003e",
        "created_at": "2026-01-28T11:48:39.569000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "BALs should be persisted until WSP.  They will be served over devp2p for the purpose of speeding up snap sync healing phase.  However, the devp2p changes aren't included in devnet 2.  So technically ELs don't need to persist them to be compatible with devnet 2.",
        "created_at": "2026-01-28T11:50:51.552000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "we dont use snapsync, I am talking about from an RPC standpoint",
        "created_at": "2026-01-28T11:51:26.506000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "I assume that since they are not neither in bodies nor headers, they stay only in the CL?",
        "created_at": "2026-01-28T11:51:42.848000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "I'll check. I also think if you mark it as draft eth-bot does not auto merge",
        "created_at": "2026-01-28T11:52:12.668000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "actually, I remembered the CL can query for BALs from recent blocks over the engine API (a change to `GetPayload`).  But I don't think this has been adopted for devnet 2.",
        "created_at": "2026-01-28T11:53:25.852000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "the CLs aren't expected to persist them at all",
        "created_at": "2026-01-28T11:53:35.689000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "I mean for RPCs",
        "created_at": "2026-01-28T11:53:47.782000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "blobs are also not supposed to be persisted but RPCs do them anyways",
        "created_at": "2026-01-28T11:54:03.037000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "probably yeah, they are technically supposed to be persisted at least until WSP because they are available over RPC",
        "created_at": "2026-01-28T11:54:51.324000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "my question is: since this is not in headers nor bodies and thus not part of rlp hash, then is it queriable on the CL",
        "created_at": "2026-01-28T11:54:51.958000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "if they are not persisted through p2p then how do you sync them, what you are talking about is not the same thing",
        "created_at": "2026-01-28T11:55:44.524000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "they are fed through the new payload to the EL.  The EL can then persist them",
        "created_at": "2026-01-28T11:56:01.202000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "that does not work though for archive nodes",
        "created_at": "2026-01-28T11:56:40.222000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "they can be reconstructed locally",
        "created_at": "2026-01-28T11:57:03.737000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "in fact they have to in order to sync blocks that aren't being fed through CL payloads",
        "created_at": "2026-01-28T11:57:25.045000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "until they are available over devp2p in subsequent devnet",
        "created_at": "2026-01-28T11:57:44.184000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "but even then, to validate blocks beyond WSP they need to be reconstructed locally",
        "created_at": "2026-01-28T11:57:56.655000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "(let's move this to a thread)",
        "created_at": "2026-01-28T11:58:31.252000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "ok this needs more clarification",
        "created_at": "2026-01-28T11:58:54.092000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "but I think in either case you can work around it",
        "created_at": "2026-01-28T11:59:11.494000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "honestly yeah it is fine.  Design wise they should be persisted by CLs tho imo",
        "created_at": "2026-01-28T12:01:06.758000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "it is an object that comes from the CL from the EL's perspective and that is needed by the CL for weak subjectivity. not sure why the EL should mantain it, seems useless communication and complexity",
        "created_at": "2026-01-28T12:01:55.013000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "I left some comments, thanks for refreshing my knowledge of EIP-6780 or SELFDESTRUCT üôÇ \nhttps://github.com/ethereum/EIPs/pull/11190#pullrequestreview-3716348712",
        "created_at": "2026-01-28T12:10:06.654000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "general",
        "parent": "",
        "content": "lighthouse has implemented this engine API call, lodestar does not need it as they store all information redundantly until the end of WSP",
        "created_at": "2026-01-28T12:20:52.050000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "general",
        "parent": "",
        "content": "\u003chttps://github.com/ethereum/execution-apis/pull/727\u003e \u003chttps://github.com/ethereum/execution-apis/pull/726\u003e please see: \u003chttps://notes.ethereum.org/@ethpandaops/bal-devnet-2\u003e for details on devnet-2",
        "created_at": "2026-01-28T12:23:05.364000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "general",
        "parent": "",
        "content": "### BAL Breakout happening in 1.5h:\nhttps://discord.com/channels/595666850260713488/1364000387195076608/1466047734669639937",
        "created_at": "2026-01-28T12:31:03.101000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Sorry to interject but I thought we agreed that the CL won't save them",
        "created_at": "2026-01-28T12:33:07.211000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Oh shit I'm replying to a very old post by Giullio",
        "created_at": "2026-01-28T12:33:31.738000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "which slowly Discord is showing me this channel, and this was replied already",
        "created_at": "2026-01-28T12:34:03.598000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "general",
        "parent": "",
        "content": "",
        "created_at": "2026-01-28T14:00:10.173000+00:00",
        "attachments": null
    },
    {
        "author": "carsonseels",
        "category": "general",
        "parent": "",
        "content": "~~I updated the EIP to tighten up the Selfdestruct log behavior, can you do a quick review?~~\nNevermind, just found yours. will review it instead",
        "created_at": "2026-01-28T17:26:31.993000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "mine is a different issue.  I will merge mine and then yours",
        "created_at": "2026-01-28T17:30:22.528000+00:00",
        "attachments": null
    },
    {
        "author": "carsonseels",
        "category": "general",
        "parent": "",
        "content": "I closed mine thinking we were duplicating the work üòÖ",
        "created_at": "2026-01-28T17:31:00.150000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "actually i can just incorporate what your PR was aiming for in mine since they touch the same line",
        "created_at": "2026-01-28T17:31:38.755000+00:00",
        "attachments": null
    },
    {
        "author": "carsonseels",
        "category": "general",
        "parent": "",
        "content": "Yeah, that's simpler",
        "created_at": "2026-01-28T17:31:55.411000+00:00",
        "attachments": null
    },
    {
        "author": "carsonseels",
        "category": "general",
        "parent": "",
        "content": "Mine's just slightly more wordy",
        "created_at": "2026-01-28T17:32:27.735000+00:00",
        "attachments": null
    },
    {
        "author": "carsonseels",
        "category": "general",
        "parent": "",
        "content": "Ugh, I'm not used to automerge. I approved it and then saw Jochem's comments about adding required EIPs... oh, nvm. I see them now üëç",
        "created_at": "2026-01-28T18:00:01.803000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Hi Jared, I just asked and checked, for EIPs if you open a PR in draft mode it will prevent auto-merge (so next time you dont have to immediately close it, just open it as draft PR, or if opened as \"normal\" (open) PR you can directly change it to draft mode) üòÑ  So eth-bot won't auto-merge it even if you are an author of the EIP you are editing",
        "created_at": "2026-01-28T19:52:25.088000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Thanks for adding the required EIPs, I think EIP is more clear now üòÑ",
        "created_at": "2026-01-28T19:52:56.896000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "good to know.  thanks",
        "created_at": "2026-01-28T19:53:10.384000+00:00",
        "attachments": null
    }
]