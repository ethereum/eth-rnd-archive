[
    {
        "author": "cdetrio",
        "category": "general",
        "parent": "",
        "content": "On the call (I listened to most of it ;-p) the \"chicken and egg\" argument was that there's no effort to formally verify a proxy contract, so no reason to expect that any deposit tooling would send ETH to an unverified proxy contract rather than sending directly to the official deposit contract.",
        "created_at": "2020-05-18T01:06:58.291000+00:00",
        "attachments": null
    },
    {
        "author": "cdetrio",
        "category": "general",
        "parent": "",
        "content": "About the other use cases, I don't think anyone was arguing against BLS12-381 on Eth1 (being more specific than \"BLS\" because there's already solidity code floating around to verify BLS aggregate sigs on the BN254 aka BN128 curve, using the ECPAIRING precompile hehe). The debate seems to be about timelines and a sense of impatience/urgency to get a complex feature \"ready by July\", despite many lines of code where consensus bugs could hide.",
        "created_at": "2020-05-18T01:08:12.295000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "what is the proxy contract, by the way?",
        "created_at": "2020-05-18T06:39:23.167000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I mentioned this before, but curious as to if the gas cost of checking the BLS12-381 signature on-chain using Solidity code really would be prohibitive.  Would love to know the gas cost (although that does require someone writing the code); anything sub-100K wouldn't feel unreasonable.\n\n(This is ETH2-specific; I recognise there are other use cases but they don't seem to have the same time pressures.)",
        "created_at": "2020-05-18T06:39:46.355000+00:00",
        "attachments": null
    },
    {
        "author": "cdetrio",
        "category": "general",
        "parent": "",
        "content": "\u003e what is the proxy contract, by the way?\n\u003c@456226577798135808\u003e \n\nIt verifies that the signature sent with the deposit is valid, before forwarding the ETH to the deposit contract.  https://github.com/ralexstokes/deposit-contract-verifying-proxy",
        "created_at": "2020-05-18T13:05:55.346000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "and does anyone know what is the current gas cost of such verification without a precompile?",
        "created_at": "2020-05-18T13:08:23.740000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e That's the thing: nobody is willing to implement this on EVM given there's a potential precmopile on the horizon.",
        "created_at": "2020-05-18T13:08:50.060000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "looks like a cool project ðŸ™‚",
        "created_at": "2020-05-18T13:15:32.221000+00:00",
        "attachments": null
    },
    {
        "author": "cdetrio",
        "category": "general",
        "parent": "",
        "content": "there's \"implementing\" and there's implementing plus optimizing the heck out of it (e.g. rewrite it in Huff to optimize the gas cost). It would be a lot of work to evaluate the potential gas cost of the different approaches, we're trying to shortcut to get an approximation.",
        "created_at": "2020-05-18T13:16:03.936000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I mean it is definitely worth doing it if there is a chance that reasonable cost can be achieved and the precompile is a \"nice to have\"",
        "created_at": "2020-05-18T13:16:53.458000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Borrowing from the \"ewasm benchmarking report\": check out Weierstrudel which implements and beats the cost of the BN128MUL precompile.",
        "created_at": "2020-05-18T13:17:14.901000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e However, the bn128/bn254 curve operates on 256-bit numbers, while bn12 is 384-bit numbers, so one cannot make use of EVM's add, mul, addmod, mulmod, etc.",
        "created_at": "2020-05-18T13:17:57.455000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e We did a small implementation and measurement of the add384 primitive written in EVM code to calculate the gas cost of it, but it is not a good indicator on its own because final code could be optimised various ways.",
        "created_at": "2020-05-18T13:29:52.401000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003calexberegszaszi\u003e We did a small implementation and measurement of the add384 primitive written in EVM code to calculate the gas cost of it, but it is not a good indicator on its own because final code could be optimised various ways.\nUnoptimised it would give some sort of ceiling value, which would be interesting",
        "created_at": "2020-05-18T13:32:34.411000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I remember someone mentioned the idea of putting bounties on the precompile bugs. It would probably be better to start with a bounty on EVM implementation of precompile",
        "created_at": "2020-05-18T13:59:59.312000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "If anyone remembers my suggestion from January 2019 (we had workshop at Stanford), to only introduce pre-compiles that are \"meta\" enough, i.e. that are solving class of problems rather than one specific problem",
        "created_at": "2020-05-18T14:01:14.290000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "and this is why I still believe that EIP-1962 is a much better proposition than EIP-2537",
        "created_at": "2020-05-18T14:01:52.768000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "there are still few unsolved technical problems in the whitebox-fuzzing of EIP-1962, but these could be overcome with enough work",
        "created_at": "2020-05-18T14:03:36.184000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "and even for EIP-1962 I would suggest to do EVM implementation too",
        "created_at": "2020-05-18T14:04:25.146000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjadler\u003e Jets fix this (re @alexberegszaszi: That's the thing: nobody is willing to implement this on EVM given there's a potential precmopile on the horizon.)",
        "created_at": "2020-05-18T14:38:08.602000+00:00",
        "attachments": null
    },
    {
        "author": "cdetrio",
        "category": "general",
        "parent": "",
        "content": "Jets?",
        "created_at": "2020-05-18T15:33:09.782000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "maybe he meant \"money fixes this\" ðŸ™‚",
        "created_at": "2020-05-18T15:37:23.429000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjadler\u003e Without going into specifics, it's basically replacing known patterns of bytecode at runtime with a more efficient but semantically identical implementation (e.g. a native compiled version).\nIn this context, someone can deploy a contract to do BLS signature verification on the EVM. We can then, at a later time, replace all calls to this contract with calls to a precompile that does the same thing, and reduce gas costs.\nThis solves the bikeshedding problem of precompiles, namely, how do decide on them. We don't know if a precompile will be useful, and anyone that uses an on-chain version of the same feature will be stuck with the gas-inefficient version forever.\nJets fix this. (re @eth1x_bridge_bot: \u003ccdetrio\u003e Jets?)",
        "created_at": "2020-05-18T16:39:53.691000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Ah, JITs ðŸ™‚",
        "created_at": "2020-05-18T16:40:37.568000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjadler\u003e Jets are a very specific component of JITs, yes.",
        "created_at": "2020-05-18T16:41:22.104000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjadler\u003e (They're mostly used in functional languages from what I know.)",
        "created_at": "2020-05-18T16:42:00.449000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I see. This is what I found: ... These languages are typically capable of universal computation, but executing programs in them directly would be comically slow, and so what they do is recognize special strings of code and replace them with implementations written in a faster meta-language. This pair of the recognized string of code and the efficient replacement is known as a \"jet\", or an \"accelerator\".",
        "created_at": "2020-05-18T17:31:09.594000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Jets were actually proposed for EVM a few years back.",
        "created_at": "2020-05-18T17:32:11.994000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Can't find the link, maybe was spelled slightly differently, but the same concept.",
        "created_at": "2020-05-18T17:33:49.419000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjadler\u003e https://github.com/ethereumproject/ECIPs/pull/82",
        "created_at": "2020-05-18T17:49:47.059000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Yeah, this one (re @jadler: https://github.com/ethereumproject/ECIPs/pull/82)",
        "created_at": "2020-05-18T17:50:42.956000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Could be combined with the restricted (but not the vanilla) version of the subroutines proposal, where a subroutine can be replaced.",
        "created_at": "2020-05-18T17:52:18.764000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Not sure yet it is a good or bad idea, just saying the above from a viability perspective.",
        "created_at": "2020-05-18T17:53:02.798000+00:00",
        "attachments": null
    },
    {
        "author": "s1na",
        "category": "general",
        "parent": "",
        "content": "\u003e https://github.com/ethereumproject/ECIPs/pull/82\nWouldn't gas costs remain the same in this proposal?",
        "created_at": "2020-05-18T18:56:59.484000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I think it would remain unchanged for a considerable amount of time, until it is abundantly clear that optimisation exists in all implementations, at which point you just make it a precompile ðŸ™‚",
        "created_at": "2020-05-18T18:59:41.076000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I definitely think it is probably the correct way of doing it",
        "created_at": "2020-05-18T19:00:06.947000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "because that precludes the case of useless precompiles",
        "created_at": "2020-05-18T19:00:24.211000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "the ones that are being pushed, but then not used much",
        "created_at": "2020-05-18T19:00:42.218000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e The two downsides:\n1. A lot of legit use cases would never be implemented, because it takes gargantuan useless effort in some cases to actually write them in EVM and the EVM code would take \u003e10M gas.\n2. You pollute the chain with a lot of duplicate useless code. (Libraries/delegatecall can alleviate it a bit. Definitely complicates matters for merklization.)\nI think what we need is being more strict in introducing precompiles: require an actual implemented use case at the same the precompile is suggested for adoption.",
        "created_at": "2020-05-18T19:02:32.940000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "At this point, the code still constitutes a very small fraction of the state, so I am not worried about pollution. Regarding the effort, I wonder whose effort is more or less - the effort of someone coding up a routine in EVM, or an effort of implementing it in Go, Rust, C++, Java, C#, and whatever else ðŸ™‚",
        "created_at": "2020-05-18T19:06:12.640000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Some people argue anything but EVM is faster to code for :)",
        "created_at": "2020-05-18T19:06:36.478000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e The precedent was definitely set that getting precompiles in is easy. No motivation to do anything, but lobby to get precompiles accepted.",
        "created_at": "2020-05-18T19:07:43.063000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjhancock76\u003e How much would a bounty need to be worth to get a good EVM version written? An order of magnitude estimate",
        "created_at": "2020-05-18T19:08:25.865000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "50 ETH? ðŸ™‚",
        "created_at": "2020-05-18T19:09:39.936000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e There were some discussions and mostly it is not a matter of money, but opportunity cost. There are just not many capable individuals who 1) understand the math; 2) capable of implementing it in evm; 3) capable of optimising it in evm; and are not extremely busy with more fruitful endeavours.",
        "created_at": "2020-05-18T19:09:41.973000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Yes, opportunity cost is a big issue here, definitely",
        "created_at": "2020-05-18T19:10:10.937000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003calexberegszaszi\u003e The precedent was definitely set that getting precompiles in is easy. No motivation to do anything, but lobby to get precompiles accepted.\n\nI've heard the opposite of this from developers and authors. Most don't even approach the core devs because the process is so intimidating.",
        "created_at": "2020-05-18T19:15:25.916000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Do they mean that thorough review is intimidating? It must be, given these changes are calcified in the system, which are hardly ever changeable (based on past history).",
        "created_at": "2020-05-18T19:16:35.250000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "We have only really seen effort by well funded companies with mature engineering teams.",
        "created_at": "2020-05-18T19:17:13.753000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003calexberegszaszi\u003e Do they mean that thorough review is intimidating?\nnot what they have relayed.",
        "created_at": "2020-05-18T19:17:58.890000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Will any of this feedback shared with a wider audience or should we play \"20 questions\"?",
        "created_at": "2020-05-18T19:18:56.674000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e (Had to look up what's the name, because in Hungary it is called \"barkochba\": https://en.wikipedia.org/wiki/Twenty_Questions#Hungary)",
        "created_at": "2020-05-18T19:19:25.004000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "- A multi month process that may or may not bear fruit. \n- It's hard to justify resources on the opportunity cost when there is a lot of work to do.\n - politics",
        "created_at": "2020-05-18T19:20:03.826000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "- It's essentially out of their hands the result. Which is risky and to take the risk requires extra resources which not many in this space have.",
        "created_at": "2020-05-18T19:20:53.472000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "- It's unclear who the decisions makers are and so when feedback is given it is unclear how to precede.",
        "created_at": "2020-05-18T19:22:30.581000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "- perceived shifting priorities. They work for some time in one direction thinking that is the direction they think they had feedback to proceed in and then find out that wasn't the direction intended and feel aimless.",
        "created_at": "2020-05-18T19:24:35.501000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "That is some of them.",
        "created_at": "2020-05-18T19:24:50.785000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjadler\u003e Agreed. It can take a year or more easily for a precompile to get accepted. The idea of requiring an implemented usecase prior to discussing a precompile is insane. There are mouths to feed and bills to pay, and money don't grow on trees. That's how you bleed developers to other chains.\nJets fix this. (re @eth1x_bridge_bot: \u003cJames Hancock\u003e \u003e \u003calexberegszaszi\u003e The precedent was definitely set that getting precompiles in is easy. No motivation to do anything, but lobby to get precompiles accepted.\nI've heard the opposite of this from developers and authors. Most don't even approach the core devs because the process is so intimidating.)",
        "created_at": "2020-05-18T19:26:35.852000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "the history of accepting precompiles is very short though, I do not think it is a good subject for generalisation. The feedback presented seems to apply more broadly to the change process",
        "created_at": "2020-05-18T19:28:27.330000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "and the change process is the way it is because it is a historical artefact. There was no constitution of Ethereum that set out who should be doing what for who. People make up, take, and give up their responsibilities as they go along. Which is what you would expect in a non-coercive system. If you want to have more influence, become part of the system. It is very hard, and sometimes as you get close to it you realise that you don't really want it anymore ðŸ™‚",
        "created_at": "2020-05-18T19:33:02.384000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Yes, as part of why they don't approach the core devs in the first place. Going through the change process is a requirement to propose a precompile. And that is intimidating.",
        "created_at": "2020-05-18T19:33:57.495000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "We all need a bit more empathy. Imagine being in the shoes of the people on the other side of the fence ðŸ™‚ Because there are so relatively few core devs, you do kind need to be special to talk to them - there is a physical limit of how many people each dev can talk to ðŸ™‚",
        "created_at": "2020-05-18T19:36:48.953000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "and I do not know any optimal solution to this",
        "created_at": "2020-05-18T19:37:15.834000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Processes exists so that more people can interact with them than with individual people. If a process does not have this properly, it is flawed",
        "created_at": "2020-05-18T19:38:17.294000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e Thanks for these! May I ask where was the survey conducted (or how were these responses collected)? (re @eth1x_bridge_bot: \u003cJames Hancock\u003e - A multi month process that may or may not bear fruit. \n- It's hard to justify resources on the opportunity cost when there is a lot of work to do.\n - politics)",
        "created_at": "2020-05-18T19:57:38.395000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "itâ€™s from my conversations with developers and authors. You are welcome to take that at face value. I mentioned that in the beginning",
        "created_at": "2020-05-18T20:12:30.667000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Or said, another way. I already said where the feedback came from in the beginning. Why do you ask?",
        "created_at": "2020-05-18T20:14:19.312000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003calexberegszaszi\u003e I genuinely thought it was some kind of developer survey. I may have misinterpreted it. Sorry for that.",
        "created_at": "2020-05-18T20:14:58.444000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "I didn't mean to represent it that way. Glad we cleared that up for everyone. ðŸ‘Œ",
        "created_at": "2020-05-18T20:17:34.253000+00:00",
        "attachments": null
    }
]