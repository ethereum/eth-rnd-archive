[
    {
        "author": "nero_eth",
        "category": "general",
        "parent": "",
        "content": "Regarding EIP-7778: \nRight now the EIP has a new receipt field with the `gas_spent` + it uses the `gas_used` before refunds for the cumulative gas used in receipts.\n\nThis will be changed with \u003c@830368514225340436\u003e 's [PR](https://github.com/ethereum/execution-specs/pull/2073#event-22290741891):\nNo new receipt field and using the `gas_used` after refunds for the cumulative gas used in receipts. \n\u003e Side-effect: The cumulative gas used in receipts CANNOT be used to enforce the block gas limit by looping over the receipts and checking that transactions fitted into the block. Block gas limit under parallel execution must be enforced differently.\n\nThe change simplifies it. No new receipt field. No changes to how eth_getTransactionReceipt works (can use the cumulative gas used).",
        "created_at": "2026-01-26T14:35:10.046000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "general",
        "parent": "",
        "content": "The proposal is to get the change into devnet 2 as the current version (as it's in the specs right now) is more work for EL clients.",
        "created_at": "2026-01-26T14:36:29.244000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Looked a bit deeper into 7778 and one thing that we need to specifically test is that in our codebase, the refunds are taken into account for eip-7623 before the gas is returned to the gas pool. \n\nI'm looking for the following clarification:\nIf a transaction has to pay more for data gas than normal gas, how much gas will be refunded to the protocol? \nI think there are multiple ways of doing it:\n- Return the gas thats min(datagas - refunds, gas -refunds)\n- Return the gas thats min(datagas, gas -refunds)\n- Return the gas thats \nmin(datagas, gas) - refunds\n\ncc \u003c@892053833121923094\u003e \u003c@792404665068158998\u003e",
        "created_at": "2026-01-26T15:15:56.304000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "general",
        "parent": "",
        "content": "right now, 7623 does min(datagas, exec_gas - refunds) and we may want to keep this.\nThis is also how it's speced in the EIP:\nhttps://github.com/ethereum/EIPs/blob/master/EIPS/eip-7778.md#:~:text=Block%20gas%20accounting%20becomes%3A%20block.gas_used%20%2B%3D%20max(tx_gas_used%2C%20calldata_floor_gas_cost)%20(incorporating%20the%20calldata%20floor%20from%20EIP%2D7623)\n\n\u003c@830368514225340436\u003e , just to clarify, this is what your PR does?",
        "created_at": "2026-01-26T15:19:39.129000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "is it right to assume that destroying contracts is impossible from now on in any way, shape or form? (since actually a few HFs)",
        "created_at": "2026-01-26T15:29:20.005000+00:00",
        "attachments": null
    },
    {
        "author": "gurukamath",
        "category": "general",
        "parent": "",
        "content": "Yes. This is essentially what it does\n\n```\ntx_gas_used = max(call_data_gas, exec_gas - refunds) # from EIP-7623\nblock_gas_used_in_this_tx = max(call_data_gas, exec_gas) # change introduced in EIP-7778\n```",
        "created_at": "2026-01-26T15:31:29.739000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "general",
        "parent": "",
        "content": "yeah, i double checked your PR:\n- Scenario 1: floor \u003e gas_before_refund → Both use floor\n- Scenario 2: gas_after_refund \u003c floor \u003c gas_before_refund → User pays floor, block counts pre-refund\n- Scenario 3: floor \u003c gas_after_refund → Normal refund behavior",
        "created_at": "2026-01-26T15:42:33.347000+00:00",
        "attachments": null
    },
    {
        "author": "gurukamath",
        "category": "general",
        "parent": "",
        "content": "Yes. And we already have test cases for each of these scenarios",
        "created_at": "2026-01-26T15:44:50.939000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "general",
        "parent": "",
        "content": "cross-post for attn, new test release with up-to-date `bal-devnet-2` specs is out! https://discord.com/channels/595666850260713488/753271902520213625/1465495562559291533",
        "created_at": "2026-01-26T23:57:59.803000+00:00",
        "attachments": null
    }
]