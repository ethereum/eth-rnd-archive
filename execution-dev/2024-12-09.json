[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Although this is technically correct, it's also logically different. The CL only checks that the EL has the same withdrawals that are expected from the beacon state. The expected ones do have a prescribed length and thus this implies the length check. I can envision this a future bug where we don't have this determinism and then we end up not checking the length in either side üôÇ in general it doesn't hurt adding these extra checks in clients",
        "created_at": "2024-12-09T00:32:21.519000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "It does not because EL trusts CL in general. Having `max_blobs_per_block` inside of EL block is redundant from the block validation perspective. Regarding `eth_feeHistory`, I don't know how informative `blobGasUsed` comparing to `blobGasUsedRatio` would be, but it seems not a big deal for the user of this API to combine `blobGasUsed` with `max_blobs_per_block` on its own by taking it from the HF history. Maybe the easiest way would be to modify the API to return `blobGasUsed`?",
        "created_at": "2024-12-09T05:32:54.642000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "\u003c@341574016160497665\u003e \u003c@543900561460822016\u003e is this something we would be open to? Changing `eth_feeHistory` to return a list of `blobGasUsed` instead of the ratios?",
        "created_at": "2024-12-09T13:49:48.472000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "i think this just pushes the complexity to clients of the RPC instead? not sure this is the best thing to do",
        "created_at": "2024-12-09T14:43:15.519000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "but would be curious how consumers of these apis think",
        "created_at": "2024-12-09T14:43:26.905000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "I wrongly imagined that target was something configured from cli, not that you need a cl hardfork to change it. As it is a slow moving number it seems fine to not include it in block",
        "created_at": "2024-12-09T15:06:42.175000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i think we should lean towards not putting _more_ stuff in the header",
        "created_at": "2024-12-09T18:24:01.295000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i hear the complexity ask with moving to `blobGasUsed` but honestly it seems like a good way forward",
        "created_at": "2024-12-09T18:24:26.043000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "It seems very wrong to make RPC clients know the hard fork schedule of the chain and configuration.  The obvious response is going to be clients asking for an RPC method to expose that information to them because where else are they supposed to get it from given clients wind up being used with all kinds of arbitrary chains?",
        "created_at": "2024-12-09T19:41:05.450000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "^ agree",
        "created_at": "2024-12-09T20:45:42.336000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "ok, i think the engine API changes for the current EIP-7742 are ready to go cc \u003c@543900561460822016\u003e \u003c@425572898787426305\u003e \n\nhttps://github.com/ethereum/execution-apis/pull/574",
        "created_at": "2024-12-09T22:41:37.479000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "general",
        "parent": "",
        "content": "I‚Äôm open to it, no strong opinions personally.  I would want to try to find out some eth_feeHistory users‚Äô opinions first.",
        "created_at": "2024-12-09T22:43:57.314000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "luckily, there is a rollcall wednesday",
        "created_at": "2024-12-09T22:46:34.199000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i imagine the only entities that really care about this are rollups",
        "created_at": "2024-12-09T22:46:46.209000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "general",
        "parent": "",
        "content": "Generally agree. Seems reasonable to me to have an RPC serving data about the system as a whole (EL+CL). \nCL informing EL about its configuration via engine API to support this feels right to me. However, I also take \u003c@425572898787426305\u003e‚Äôs point that it would be nice to avoid a ‚Äústateful session‚Äù between the clients.",
        "created_at": "2024-12-09T22:48:34.547000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "i think what is ultimately going to happen is ELs will they're own have fork-configurable maxBlobCount",
        "created_at": "2024-12-09T22:49:30.816000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "general",
        "parent": "",
        "content": "Will target and max both only ever change due to CL hardfork?",
        "created_at": "2024-12-09T22:51:00.770000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yes",
        "created_at": "2024-12-09T22:51:09.210000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "general",
        "parent": "",
        "content": "Would any one be open to a config exchange API similar to the merge one?",
        "created_at": "2024-12-09T22:51:51.459000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "that would be one way to handle it",
        "created_at": "2024-12-09T22:52:03.227000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "what if we just put this in the genesis config \n\n```json\n\"blobSchedule\": {\n  \"prague\": { \"target\": 6, \"max\": 9 },\n  \"osaka\":   { \"target\": 12, \"max\": 16},\n  ...\n}\n```",
        "created_at": "2024-12-09T23:00:33.265000+00:00",
        "attachments": null
    }
]