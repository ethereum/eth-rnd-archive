[
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "Should we preload eip-2935 contract and make it warm access? This is not specified and it can be a edge case.",
        "created_at": "2024-05-11T06:12:40.252000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "We would prefer if it is, as otherwise there is a situation where slots can be warm loaded while account isn't",
        "created_at": "2024-05-11T06:18:53.364000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "Worthy of clarification.  My read of the EIP says the bytecode is optional, and we should store it wether or not an account exists, so we should treat it as a precompile and hence free-warm it.  The processing at the beginning of the block warms the current storage slot, and I think that would also imply warming the account.\n\nThis implies a couple of test cases: #1, BLOCKHASH (current-1) - then call the block hash contract with current-1.  Then in another TX #2, simply calling the contract with current-1.  Wether or not TX 1 incurs a cold SLOAD and cold call in 1 and not 2 is what needs to be clarified.  I think the spec implies that",
        "created_at": "2024-05-11T07:02:41.991000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "I think for this one we can look at the beacon root EIP 4788. We have not considered there the edge cases of the undeployed contract (i.e. the \"vanity\" tx to deploy contract has not been included). I have brought up marking it as warm at some point (if you want I will find my msg) but this was neutral/discouraged by the community, so I would see this as a precedent and assume:\n\n(1) The bytecode MUST be deployed at the fork\n(2) The address is NOT warm",
        "created_at": "2024-05-11T11:47:16.431000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Ok, maybe this EIP is somewhat different since it directly interacts with BLOCKHASH opcode",
        "created_at": "2024-05-11T11:49:35.461000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Wait",
        "created_at": "2024-05-11T11:50:53.010000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "This actually does bring up an edge case here",
        "created_at": "2024-05-11T11:51:06.876000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "\u003c@353136597522448385\u003e If I first BLOCKHASH block N and then call into the 2935 contract to retrieve BLOCKHASH for N, is it warm or cold? ðŸ¤” The storage has been loaded in BLOCKHASH (or the other way around)\n\nI'm not sure if this was the case meant before by \u003c@403707149043105803\u003e / \u003c@429719902363058177\u003e but this is certainly an interesting test case (CC \u003c@892053833121923094\u003e )",
        "created_at": "2024-05-11T11:52:30.458000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "(so in same tx call blockhash and then for same blockhash call the eip2935 contract to retrieve)",
        "created_at": "2024-05-11T11:57:16.822000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "Yeah we are talking about this. Would just mark it as warm and include it in access list",
        "created_at": "2024-05-11T13:19:44.883000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Only parentHash or the entire blockhash window?",
        "created_at": "2024-05-11T13:25:56.456000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "We are talking about warming the account/bytecode before execution as it acts as precompile",
        "created_at": "2024-05-11T15:51:02.864000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "And storages would work the same as ordinary access, first time they are called as cold access and second time as warm. But clarifying that in writing would be great",
        "created_at": "2024-05-11T15:54:35.580000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "So the blovkhash account is warm and the prior block's hash that was just loaded has a warm slot.  All other 8191 slots are cold?",
        "created_at": "2024-05-11T22:03:47.118000+00:00",
        "attachments": null
    }
]