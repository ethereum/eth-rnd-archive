[
    {
        "author": "marioevz",
        "category": "general",
        "parent": "",
        "content": "Hi all, I'm writing some tests for the latest version of EIP-7702, and I think it requires clarification on the nonce bump order on self-sponsored set code transactions, since in this case the nonce of the sending account is bumped at least two times, 1) the nonce bump intrinsic to the transaction execution, 2) the nonce bump during the processing of the authorization list,",
        "created_at": "2024-08-06T14:47:56.037000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "general",
        "parent": "",
        "content": "I understood the EIP as the events happening as (1) then (2), but I think it still would be nice for this to be explicit in the EIP.",
        "created_at": "2024-08-06T14:49:16.812000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "general",
        "parent": "",
        "content": "Also, it would seem that the nonce can be bumped for a single account many times in a single transaction, if the authorization list contains multiple authorization tuples from the same account, each with the appropriate nonce increment by one",
        "created_at": "2024-08-06T14:50:38.673000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e  ^",
        "created_at": "2024-08-06T14:50:55.321000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "i can clarify, in my mind the nonce for the outer tx is most senior and should be checked before the authorization lists",
        "created_at": "2024-08-06T14:51:58.654000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "But then it shouldnt be bumped until right before the EVM execution correct?",
        "created_at": "2024-08-06T14:53:24.388000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "general",
        "parent": "",
        "content": "Another thing, I'm assuming that setcode does not apply for when the set-to address is a pre-compile, but we are adding a test anyway",
        "created_at": "2024-08-06T17:45:31.043000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "general",
        "parent": "",
        "content": "System contracts would also be interesting, just to make sure it doesn't trigger any special system contract functionality when executed",
        "created_at": "2024-08-06T17:46:23.907000+00:00",
        "attachments": null
    }
]