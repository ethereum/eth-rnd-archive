[
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "ðŸ‘‹ had a quick question around blob transactions, I know geth is handling legacy blob transactions at the fork boundary and converting to the new ones with cell proofs however will teams be able to continue to send these legacy blob transactions post fusaka? or will the blobcell transactions be supported",
        "created_at": "2025-10-07T14:49:31.137000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "will all the legacy just automatically be converted? ðŸ˜…",
        "created_at": "2025-10-07T14:50:25.631000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "general",
        "parent": "",
        "content": "conversion on the RPC is supported after the fork",
        "created_at": "2025-10-07T14:51:11.460000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "is this a geth only feature or all ELs do this aka not a breaking change and can continue calling legacy blob transactions",
        "created_at": "2025-10-07T14:52:55.523000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "if a blob consumer is using `eth_sendTransaction` the proofs will be computed by the local RPC node transparently to the user",
        "created_at": "2025-10-07T14:53:57.137000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "if a blob consumer is using `eth_sendRawTransaction` they are electing to do that work themselves",
        "created_at": "2025-10-07T14:54:11.621000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "so, if you are using `_sendTransaction` there is no user-facing change (the EL will compute the right proofs at the right time)",
        "created_at": "2025-10-07T14:54:36.562000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "Thanks for the clarification",
        "created_at": "2025-10-07T14:55:39.727000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "an additional complication is if i make blob transactions right before the fork, so a pre-fusaka type-3 txn is sitting in the mempool\n\ngeth (and yes i believe geth is the only client that will convert) will take pre-fusaka txns in the mempool and convert them to the fusaka format\n\notherwise the thinking is that any blob consumer would just re-broadcast their transactions at the fork boundary",
        "created_at": "2025-10-07T14:56:01.622000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "what happens if you use sendRawTransaction at the fork boundary for blob transactions for clients other than geth, it means it won't convert the pre fusaka ones?",
        "created_at": "2025-10-07T14:57:07.317000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "\u003c@\u00261367819653279125645\u003e let's ask ðŸ™‚",
        "created_at": "2025-10-07T14:58:41.279000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "\u003c@360491619402776577\u003e said geth will convert in either case",
        "created_at": "2025-10-07T14:59:00.542000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "but it would be good to get some clarity here",
        "created_at": "2025-10-07T14:59:16.982000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "pretty sure most clients won't accept the proofless txs post fork transition",
        "created_at": "2025-10-07T14:59:23.705000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "and also I think all but geth will drop proofless txs that are sitting in their pool",
        "created_at": "2025-10-07T14:59:47.016000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "geth will convert them as a one off operation but they also won't accept the old txs type after the fork transition (afaik)",
        "created_at": "2025-10-07T15:00:06.281000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "they might have changed it",
        "created_at": "2025-10-07T15:00:25.044000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "I know there was lot of back and forth on this",
        "created_at": "2025-10-07T15:00:30.226000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "that's how i understood it at first, but cskiraly said conversion on the RPC is supported after the fork",
        "created_at": "2025-10-07T15:00:52.256000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "but i guess alex said that it's only on sendTransaction",
        "created_at": "2025-10-07T15:01:02.856000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "\u003c@857052906495017000\u003e are you sure about this?",
        "created_at": "2025-10-07T15:01:04.386000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "im assuming this is how it works: https://ethereum.github.io/execution-apis/api-documentation/",
        "created_at": "2025-10-07T15:01:31.876000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "where you can see for the `raw` variant the burden is on the caller",
        "created_at": "2025-10-07T15:01:43.946000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "it does say there is an option for the server to do the transition",
        "created_at": "2025-10-07T15:02:28.741000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "general",
        "parent": "",
        "content": "I think it was added in this PR, but still have to check to be 100% ....\nhttps://github.com/ethereum/go-ethereum/pull/32347",
        "created_at": "2025-10-07T15:15:29.883000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "I checked the code and it does not convert for sendRawTransaction, but this is an oversight and I think it's quite easy to add",
        "created_at": "2025-10-07T15:21:21.547000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "general",
        "parent": "",
        "content": "I think we still convert in the `conversionTimeWindow`, but that's for the network, and the intention was to do much longer than that.",
        "created_at": "2025-10-07T15:22:08.743000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "Yeah that's unrelated",
        "created_at": "2025-10-07T15:22:30.945000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "I'll change it. We perform the proof change while assigning defaults, but it can actually be done later, in `ethapi.SubmitTransaction`, to capture all paths",
        "created_at": "2025-10-07T15:25:01.873000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "thanks",
        "created_at": "2025-10-07T15:25:33.207000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "just to clarify without this conversion on the sendRawTransaction, will blob transactions be dropped at fork boundary if this isn't included?",
        "created_at": "2025-10-07T15:26:24.374000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "general",
        "parent": "",
        "content": "i was talking to sina and ran into the issue with 1.16.3 but heard it was fixed in the newest version ( must be for sendTransaction though)",
        "created_at": "2025-10-07T15:26:59.785000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "With the current logic, it will continue accepting blob transactions with the legacy proof until 2h after the fork. When that window has passed, it will return an error from the RPC, saying that legacy proofs are not supported anymore",
        "created_at": "2025-10-07T15:29:18.762000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "This behavior is a side effect of us adding special logic to allow legacy proofs on p2p gossip for a limited time after the fork",
        "created_at": "2025-10-07T15:30:19.410000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "For Geth v1.16.5, I'll ensure we convert even for sendRawTransaction",
        "created_at": "2025-10-07T15:30:56.485000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "We can keep this until v1.17.x and then phase it out. There will be some complaints at that time, from people who haven't upgraded their sending pipeline, but it's OK. We kinda always handle it like this.",
        "created_at": "2025-10-07T15:31:55.813000+00:00",
        "attachments": null
    },
    {
        "author": "gtrintinalia",
        "category": "general",
        "parent": "",
        "content": "Besu will convert post-fusaka",
        "created_at": "2025-10-07T22:51:56.673000+00:00",
        "attachments": null
    }
]