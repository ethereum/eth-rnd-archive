[
    {
        "author": "jimmygchen",
        "category": "general",
        "parent": "",
        "content": "Hi all,\nIs there a way to disable EOF activation in osaka on any ELs? \nWe've been using an old version of geth for testing PeerDAS, as the latest version now have EOF in it and no longer interops with PeerDAS. I think ELs are also forced to use old versions of CLs for EOF testing. \nI'm wondering how we are going to test once the ELs implements the below PeerDAS changes? maintain two forks, or have a feature flag to disable EOF? Or is EOF stable enough between clients?\nhttps://github.com/ethereum/EIPs/pull/9378",
        "created_at": "2025-02-19T05:37:32.375000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "Geth is lagging in comparison with other clients, and it is not present on eof calls so would recommend switching to reth (last reth release is good), nethermind or besu that are more stable. But even with that only way to interact with eof is if you send create tx that starts with 0xef if this does not happen you will not be touching eof at all.",
        "created_at": "2025-02-19T08:17:13.231000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "Cc \u003c@403707149043105803\u003e for eof devnet we are using newest version of only one client (iirc prism) as peerdas is more intrusive on devnet health",
        "created_at": "2025-02-19T08:19:27.567000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "The EL change would need to be implemented by every EL, so choosing one won't help for peerDAS testing when we get to this feature. For testing peerDAS without the change, we're using an older version of geth that doesn't have EOF stuff in.",
        "created_at": "2025-02-19T08:55:07.916000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "So the core question still stands, either the EL maintain a non-EOF + peerDAS changes branch OR they maintain a EOF + PeerDAS changes branch. Each with its own issues ofc.",
        "created_at": "2025-02-19T08:56:08.787000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "uff, geth is not lagging at all tbh. We have a working version on the devnets and I've been working on my own benchmarks and tests. You can disable eof easily for osaka in the code, but then you need to compile geth yourself. I got into a car accident, so I was ooo and couldn't attend the last few eof calls",
        "created_at": "2025-02-19T09:00:06.760000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "You just need to change these two lines: https://github.com/MariusVanDerWijden/go-ethereum/blob/1bb727ba75101baf344151acfd67c77c9d3e5497/core/vm/interpreter.go#L246 to disable eof for osaka",
        "created_at": "2025-02-19T09:02:49.292000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "general",
        "parent": "",
        "content": "Hope you‚Äôre ok \u003c@360491619402776577\u003e üôè",
        "created_at": "2025-02-19T09:04:18.876000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "Didn't know you had an accident, wish you a speedy recovery! I just noticed that no one from geth attended eof calls for last few months so I assumed you are lagging.",
        "created_at": "2025-02-19T09:13:12.801000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "general",
        "parent": "",
        "content": "Thanks for the responses guys! \n- Do we have metrics on `getBlobs` performance on all clients? This will likely become more important as we bump the blob count with PeerDAS and is probably worth optimising, as it would impact when the block become available and attestable for the node, as well as effectiveness of distributed blob building.\n- The proposal (EL change) linked above is a key to shipping PeerDAS, and it would be ideal if we can finalise spec and start development on the EL side ASAP - would appreciate thoughts on the PR, and ideas on whether changes to `execution-specs` and `execution-apis` are necessary. If any clients have capacity to work on  this soon-sh, we'd also like to speed things up on the CL, as this change will require CL-EL coordination.",
        "created_at": "2025-02-19T12:01:06.506000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@892053833121923094\u003e for where tests need to go too. I'm not sure where we put txpool level tests atm.",
        "created_at": "2025-02-19T12:04:15.784000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "general",
        "parent": "",
        "content": "ACDE is still more than a week away, so I'm hoping we can start some async coordination and discussions on this if it's ok. \nIs it worth having some flags both on the EL and CL to enable / disable EOF and PeerDAS? feel like we might want to test them separately until both are stable?",
        "created_at": "2025-02-19T12:08:47.866000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "general",
        "parent": "",
        "content": "I left a comment on the PR. I think it would be much easier to introduce a new transaction type instead of modifying the existing 4844 one. At the hard fork we simply can make the existing 4844 txs invalid. In Besu's case that would be a straight forward and easy change. Modifying existing transaction types would require new logic that is much more complicated and error prone.",
        "created_at": "2025-02-19T12:43:50.285000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "Afaiu the main issue with a new tx type is that there's going to be people arguing for not deprecating the old transaction type for backwards compatibility reason. I find this a weird argument in this case, because blob txs are specifically for rollups and they have no reason to pre-sign txs months in advance, but I don't think everyone agrees with this.",
        "created_at": "2025-02-19T15:32:04.231000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "I dont think this is an issue at all as long as they know about it. Have we talked about this in RollCall?",
        "created_at": "2025-02-19T15:41:38.431000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e \u003c@466006586477772831\u003e you claim that proof construction is on the critical path of block building. You can compute the proofs as soon as you receive a transaction in the mempool (and know that you want to propose/build in the next 1-2 slots)",
        "created_at": "2025-02-19T15:43:13.507000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e So except for the case where you want to include a blob transaction that you only received within 150ms of the proposal deadline, you can always precompute the proofs",
        "created_at": "2025-02-19T15:44:00.404000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "One option for disabling EOF is to not send creation contract transactions creating EOF. But since testnets are public we cannot stop trolls from sending EOF Txes.  \n\nCan this be filtered at the RPC proxy?  i.e. banning TXes with certain payload patterns, target addresses, or transaction types?",
        "created_at": "2025-02-19T17:23:26+00:00",
        "attachments": null
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "It would be great to get even a small description of behavior changes in `engine_getBlobsV2` in `execution-apis`",
        "created_at": "2025-02-19T18:15:15.554000+00:00",
        "attachments": null
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "We don't have metrics on the endpoint but can add them easily",
        "created_at": "2025-02-19T18:15:33.798000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "new 4844 transaction type",
        "created_at": "2025-02-19T20:33:19.365000+00:00",
        "attachments": null
    }
]