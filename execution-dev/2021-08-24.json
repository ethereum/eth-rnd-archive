[
    {
        "author": "norswap",
        "category": "general",
        "parent": "",
        "content": "I'm trying to understand how EIP-2718 Typed Transaction Envelope transactions are serialized as part of a block\nit's clear that the byte pattern is `type (one byte) || payload (currently always RLP for both typed envelopes)`\n\nmy question is: how is that encoded when a block is serialized to RLP?\nfor legacy transactions, there's no problem, you just use the RLP encoding of the transaction as an item of the RLP sequence of transactions\nbut what about typed transactions? are they represented as a RLP byte array, whose content is then the byte pattern above? are the bytes just spliced raw in the middle of the block's RLP encoding (meaning it's no longer possible to have a generic RLP decoding)?\n\nalso, how could I have found the answer? I tried looking in geth, but all the indirection around `encbuf` makes things very confusing\nI tried https://github.com/ethereum/devp2p/blob/master/caps/eth.md but it's unclear on this point",
        "created_at": "2021-08-24T16:28:20.562000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "general",
        "parent": "",
        "content": "ok, of course I figure it out just after I ask\nseems to be an RLP byte array: https://github.com/ethereum/go-ethereum/blob/master/core/types/transaction.go#L102",
        "created_at": "2021-08-24T16:34:00.974000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Transactions aren't serialized in the block header.",
        "created_at": "2021-08-24T17:18:03.807000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Do you mean how are they serialized in the devp2p protocol?",
        "created_at": "2021-08-24T17:18:10.281000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If so, check out https://eips.ethereum.org/EIPS/eip-2976",
        "created_at": "2021-08-24T17:18:46.796000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In a block header the only thing that is present is the transaction root, and how that is generated is defined here: https://eips.ethereum.org/EIPS/eip-2718#specification",
        "created_at": "2021-08-24T17:19:41.214000+00:00",
        "attachments": null
    }
]