[
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Repasting this here",
        "created_at": "2020-08-02T07:18:21.642000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "https://twitter.com/VitalikButerin/status/1289817511945355267",
        "created_at": "2020-08-02T07:18:22.557000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Also Rick is claiming a largely-finished solution https://twitter.com/AFDudley0/status/1289820627713499137 ; anyone know more about this?",
        "created_at": "2020-08-02T07:18:49.653000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!332923501079953409\u003e may know more about it.  ðŸ˜‰",
        "created_at": "2020-08-02T07:42:54.168000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Good point ðŸ˜›",
        "created_at": "2020-08-02T07:46:06.062000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Hi.",
        "created_at": "2020-08-02T08:20:44.143000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Yeah, I'm happy to chat about it here.",
        "created_at": "2020-08-02T08:20:51.228000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003c@!376568077950910466\u003e is the implementer at this point.",
        "created_at": "2020-08-02T08:21:08.683000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So I guess my main questions are: (i) what functionality does it provide, and (ii) what p2p networking is it using?",
        "created_at": "2020-08-02T08:21:43.797000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "it's a fairly abstract framework, so right now, we take all ethereum data, Blocks, Transactions, Events, Receipts, StateDiffs, (and to some extent pending transactions) and store them in postgres as RLP/IPLD objects. From postgres we build whatever tables we need for a given application, Mustekala, uniswap, whatever.",
        "created_at": "2020-08-02T08:23:40.620000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "This is a client-side piece of software that talks to an ethereum full node?",
        "created_at": "2020-08-02T08:24:11.145000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "we then serve those IPLD objects over GraphQL, websockets, or JSON-RPC.",
        "created_at": "2020-08-02T08:24:24.714000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "It's a side-car process written in Go at the moment and it talks to our statediffing fork of go-ethereum.",
        "created_at": "2020-08-02T08:24:50.835000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "it also exposes the JSON-RPC, so we can build an overlay network.",
        "created_at": "2020-08-02T08:25:12.401000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Ah okay, so this isn't doing much in the direction of making these responses trustless, it's doing the work of aggregating the info in the first place",
        "created_at": "2020-08-02T08:25:18.845000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "it is trustless, we use block witnesses and LES to allow clients to verify responses.",
        "created_at": "2020-08-02T08:25:59.281000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Ah, I see",
        "created_at": "2020-08-02T08:26:17.977000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "the problem with that is the block witnesses are impractically large, which is where L2 PoS would come in.",
        "created_at": "2020-08-02T08:26:23.604000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "wait, what do you mean by block witnesses?",
        "created_at": "2020-08-02T08:26:34.562000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "we generate a materialized state object every some number of blocks.",
        "created_at": "2020-08-02T08:26:58.970000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "i think it's around 2000...",
        "created_at": "2020-08-02T08:27:03.342000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "we can then apply staate diffs to that instead of needing to go back to genesis.",
        "created_at": "2020-08-02T08:27:23.143000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "wait I'm confused",
        "created_at": "2020-08-02T08:27:31.905000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So going into a specific example, say I care about logs",
        "created_at": "2020-08-02T08:27:40.940000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "A witness to prove a single receipt was actually included in a single block is going to be ~1 kB I would estimate",
        "created_at": "2020-08-02T08:27:58.798000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "~2 layers of hexary patricia-tree",
        "created_at": "2020-08-02T08:28:09.006000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "what does that witness reference?",
        "created_at": "2020-08-02T08:28:24.915000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "you mean what is it rooted in?",
        "created_at": "2020-08-02T08:28:30.766000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "yes.",
        "created_at": "2020-08-02T08:28:35.803000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "the leaf is the receipt, the root would be the historical block hash?",
        "created_at": "2020-08-02T08:28:46.251000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "how would a user verify that hash? don't they need intermediate nodes?",
        "created_at": "2020-08-02T08:29:03.967000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "hmm, I guess ideally we would have already had EIP 96 or any of these history merkling EIPs included 3 years ago",
        "created_at": "2020-08-02T08:29:42.405000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "(right now we worry about contract state almost exclusively, I've forgotten exactly how we do logs, but I think it's very similar bad news.)",
        "created_at": "2020-08-02T08:30:12.047000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "but while we don't have that",
        "created_at": "2020-08-02T08:30:22.962000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "One option is to require clients to have historical headers; it's only a couple of gigabytes",
        "created_at": "2020-08-02T08:31:07.823000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Yes. that's part of it.",
        "created_at": "2020-08-02T08:31:23.649000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "but if we want to verify arbitrary contract slots, we need more than that.",
        "created_at": "2020-08-02T08:31:38.026000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "wait, isn't contract slots basically the same problem",
        "created_at": "2020-08-02T08:31:50.122000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "The prover can make a merkle proof rooted in the historical block",
        "created_at": "2020-08-02T08:32:00.915000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Like for receipts",
        "created_at": "2020-08-02T08:32:04.981000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "And then you need to have one common mechanism for proving historical blocks",
        "created_at": "2020-08-02T08:32:14.056000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Yes, but they need the intermediate nodes",
        "created_at": "2020-08-02T08:32:17.303000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "You mean the prover needs the intermediate nodes that make up the merkle branch?",
        "created_at": "2020-08-02T08:32:34.057000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Don't they already have that if they are an archive node?",
        "created_at": "2020-08-02T08:32:40.147000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003e Don't they already have that if they are an archive node?\n\u003c@!273808422753796097\u003e It's not guaranteed, that's 90% of what we are solving.",
        "created_at": "2020-08-02T08:33:08.160000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "wait why not?",
        "created_at": "2020-08-02T08:33:14.765000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Archive nodes have all historical state tree nodes, so they should be able to make a merkle proof for any historical state entry",
        "created_at": "2020-08-02T08:33:35.761000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "if your archive node is down for 4 hours it has a gap that will never be filled with the existing geth software.",
        "created_at": "2020-08-02T08:33:38.087000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "modern geth prunes agressively.",
        "created_at": "2020-08-02T08:33:46.346000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "huh? why is that?",
        "created_at": "2020-08-02T08:33:46.459000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Aaah I see",
        "created_at": "2020-08-02T08:33:50.551000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I guess I mean non-pruning archive",
        "created_at": "2020-08-02T08:33:55.083000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "but ok",
        "created_at": "2020-08-02T08:34:03.024000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "with the addition of freezer there really isn't such a thing.",
        "created_at": "2020-08-02T08:34:09.942000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "I mean, we're having to write our own.",
        "created_at": "2020-08-02T08:34:24.370000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I see how you need much more space to store historical state than historical txs/logs",
        "created_at": "2020-08-02T08:34:29.175000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So why not concentrate on historical txs and logs?",
        "created_at": "2020-08-02T08:34:35.849000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "We did that already, no one cared.",
        "created_at": "2020-08-02T08:34:44.596000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "I mean, the code is there, it's done.",
        "created_at": "2020-08-02T08:34:49.337000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "hmm, I think that's because the other work needed to make this truly useful hasn't been done yet",
        "created_at": "2020-08-02T08:35:10.072000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "That's part of it, yes. another part of it is simply what people want to pay for.",
        "created_at": "2020-08-02T08:35:30.914000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "As in what people want to pay vulcanize to develop?",
        "created_at": "2020-08-02T08:35:47.145000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Yes.",
        "created_at": "2020-08-02T08:35:52.261000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "removing the cost of events was more important to Maker than the \"half measure\" you're talking about.",
        "created_at": "2020-08-02T08:36:20.937000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "but then management changed and things went down hill.",
        "created_at": "2020-08-02T08:36:29.008000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "It's pretty difficult to explain to people the trade off between supporting just events, like TheGraph does vs supporting contract slots. Overall, supporting statediffs/contract slots is the better solution, it's more scalable and more gas efficient, but far less obvious.",
        "created_at": "2020-08-02T08:38:52.666000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So *my* goal is that I want eth1 clients to be able to mostly stop storing history older than eg. 4 months. Many dapps require access to historical txs and logs, so we need to provide that functionality through a trustless layer-2 network.",
        "created_at": "2020-08-02T08:40:25.110000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "And do so with much higher efficiency than today",
        "created_at": "2020-08-02T08:40:32.865000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Yes, the roadmap of vDB has this on it.",
        "created_at": "2020-08-02T08:40:48.116000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "There is no reason for light clients to be redoing the work of personally scanning through millions of bloom filters",
        "created_at": "2020-08-02T08:40:49.423000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "I completely agree.",
        "created_at": "2020-08-02T08:40:59.762000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Oh, IPLD wrote one of the things we were going to write, which will save us a bunch of trouble.\nhttps://github.com/ipld/specs/blob/master/block-layer/content-addressable-archives.md",
        "created_at": "2020-08-02T08:44:08.251000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "we can use this to basically repack the data a dapp needs so that we can write proofs just for that set of contracts, while still proving it came from the ethereum mainnet.",
        "created_at": "2020-08-02T08:45:06.088000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "The plan is to line up our state snapshots with the canonical hash tries, which should make syncing a lot easier, I think Alexey and Peter have both suggested different but similar things in that regard and would create a new type of client that I think does what you're asking for, \u003c@!273808422753796097\u003e",
        "created_at": "2020-08-02T08:49:19.215000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "is  there a public spec for the canonical hash trees anywhere?",
        "created_at": "2020-08-02T10:05:31.698000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e Many dapps require access to historical txs and logs, so we need to provide that functionality through a trustless layer-2 network\n\u003c@!273808422753796097\u003e I think we should just cut these people off (give them some warning, but cut them off none the less).  Logs being ephemeral has been a thing since day 1, it just so happens that current clients don't bother pruning them.  If they need low-cost storage so badly, they'll figure it out.  ðŸ™‚",
        "created_at": "2020-08-02T10:21:07.563000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And this is coming from someone who has invested a lot of time and effort into Augur, which totally exploits the low-cost storage provided by events.",
        "created_at": "2020-08-02T10:21:31.979000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "and I think the \"figuring it out\" is an ecosystem-wide public good that we should just get together and resolve",
        "created_at": "2020-08-02T10:21:53.128000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Another reason I care about this is that in eth2 these kinds of layer 2 access mechanisms are going to become mandatory",
        "created_at": "2020-08-02T10:22:14.879000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So might as well use eth1 history as training wheels",
        "created_at": "2020-08-02T10:22:21.087000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "From a \"business\" standpoint, I think collectively dapps have access to more capital than Core Developers do, and Core Developers have *plenty* of stuff to work on.  By cutting off dapps, they'll be forced to use that capital to solve their problems, and I *suspect* the best solutions will percolate up to the top.",
        "created_at": "2020-08-02T10:23:32.654000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "right but I worry that we'll see application-specific solutions (especially with application-specific incentive models) instead of a proper ecosystem-wide public good",
        "created_at": "2020-08-02T10:24:05.822000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Would be nice to coordinate it at least. Doesnâ€™t need to be the core devs.",
        "created_at": "2020-08-02T10:24:06.078000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "A core initiative with participating dapps.",
        "created_at": "2020-08-02T10:24:47.750000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I agree, there is value in coordination.  And to be clear I'm not suggesting that we don't brainstorm about it here or suggest ideas.  I just think we *also* should be talking about cutting off dapps in parallel.",
        "created_at": "2020-08-02T10:25:01.853000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If someone can coordinate a solution before the cutoff, then great, if not, we still cut them off eventually.",
        "created_at": "2020-08-02T10:25:36.473000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The reason I bring this up is because I have been harping on Augur for probably a couple years now about their heavy reliance on events never being pruned for Augur to work.  The problem is that they just respond with, \"meh, clients have been threatening to prune events forever and they never do it, so they probably won't ever do it\".",
        "created_at": "2020-08-02T10:26:45.619000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In essence, dapp developers currently have no incentive to help out or look for solutions, which I think is part of why progress on alternatives has been historically slow.",
        "created_at": "2020-08-02T10:27:35.323000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "btw semi-related question: gas station network is fully decentralized now, right?",
        "created_at": "2020-08-02T10:27:47.017000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think so?",
        "created_at": "2020-08-02T10:27:57.787000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Anyone can run a relayer if that is what you mean.",
        "created_at": "2020-08-02T10:28:06.786000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "right",
        "created_at": "2020-08-02T10:28:09.844000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "but I also mean relayer discovery etc",
        "created_at": "2020-08-02T10:28:17.040000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm not sure what the distribution network is for *finding* a relayer (e.g., centralized vs gossip).",
        "created_at": "2020-08-02T10:28:21.657000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "it's at least precedent that layer 2 economic infrastructure is possible",
        "created_at": "2020-08-02T10:28:25.971000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In that case, core devs weren't providing a solution to a problem, so dapps \"figured it out\" on their own eventually, and in a way that is somewhat ecosystem wide.",
        "created_at": "2020-08-02T10:29:28.496000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ironically, we are now talking about having a core-dev provided solution (sponsored transactions), so we are kind of punishing them a bit which is unfortunate.  ðŸ˜¢",
        "created_at": "2020-08-02T10:29:50.496000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "This is probably weird to say, but it would only work to get the dapp community together if the EF didnâ€™t fund any of it.",
        "created_at": "2020-08-02T10:30:07.684000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "well, what does \"core dev\" mean? Is it a pointer to a social cluster, or is it the set of all people making ecosystem-wide public infrastructure?",
        "created_at": "2020-08-02T10:30:31.598000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Are the gas station network people core devs?",
        "created_at": "2020-08-02T10:30:42.050000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I would argue no.",
        "created_at": "2020-08-02T10:30:51.157000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I *very vaguely* call core dev \"everything talked about in this server\".  ðŸ˜„ (terrible delineator, I know)",
        "created_at": "2020-08-02T10:31:01.927000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I personally would be totally happen with a GSN-like effort; that's probably what I even had in mind",
        "created_at": "2020-08-02T10:31:02.361000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Just asking this whole topic in this channel because this is a social cluster densely populated with informed opinions on issues like this ðŸ˜›",
        "created_at": "2020-08-02T10:31:49.930000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "That is fair, I suppose perhaps the issue is just that my delineator for \"core dev\" and \"dapp\" is terrible and I am bad for using it.  ðŸ˜„",
        "created_at": "2020-08-02T10:32:15.313000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Hmm, maybe we should create an explicit social cluster for higher-level ecosystem-wide tool development?",
        "created_at": "2020-08-02T10:32:30.015000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "This could include GSN people, anyone trying to develop an incentivized history access network, etc",
        "created_at": "2020-08-02T10:32:49.691000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "There are definitely people that are in that group that I don't believe hang out around here.",
        "created_at": "2020-08-02T10:32:52.460000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I propose the name \"Chapter -7.389\" (= e^2 i^2 = ethereum ecosystem infrastructure initiative) ðŸ˜†",
        "created_at": "2020-08-02T10:34:26.996000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "ðŸ˜–",
        "created_at": "2020-08-02T10:34:47.656000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "You are such a nerd.  ðŸ˜›",
        "created_at": "2020-08-02T10:34:52.340000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I wonder if you named it that, whether anyone would *ever* get the reference?",
        "created_at": "2020-08-02T10:35:32.385000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Letâ€™s say Geth decided to stop the logs thing. What would practically happen next?",
        "created_at": "2020-08-02T10:39:01.754000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Other consequences of that decision for other ecosystem members?",
        "created_at": "2020-08-02T10:39:57.351000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Circling back, to my original statement, I think my argument is generally that if core devs make a credible threat that clients will stop storing events permanently, then dapps will be forced to look for solutions from third parties which will create an incentive to build those third party tools.  As \u003c@!332923501079953409\u003e alluded to, they built an event retrieval solution and no one cared because they get it \"for free\" from clients and client hosts (like Infura and Alchemy and CloudFlare).  If those things didn't have it for free, then there would be a demand for a solution like they built.",
        "created_at": "2020-08-02T10:40:57.979000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e Letâ€™s say Geth decided to stop the logs thing. What would practically happen next?\n\u003c@!187490121698770945\u003e Assuming there was ample notice given, or just on one random hardfork all clients stop storing events?",
        "created_at": "2020-08-02T10:41:38.106000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "there clearly is demand for \"fully serverless dapps\" (eg. augur, uniswap and many more are)",
        "created_at": "2020-08-02T10:41:42.099000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "At the moment, \"serverless\" in the Ethereum ecosystem means \"you have access to an Ethereum client running somewhere\" that stores all blocks and events forever.",
        "created_at": "2020-08-02T10:42:42.057000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "right",
        "created_at": "2020-08-02T10:42:57.743000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It would be totally cool if that paradigm could change to \"serverless means your users are connected to a gossip network where they can buy access to data on demand via micro-payment channels\".",
        "created_at": "2020-08-02T10:43:58.741000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And anyone could be such a provider (make money by storing and serving stuff like logs and state).",
        "created_at": "2020-08-02T10:44:19.454000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Possibly unrelated, but could you do an interactive proof with someone that provides a reasonable level of confidence (perhaps backed by a bond the provider has in escrow) that there exists a chain of blocks from hash `0xbaadf00d` to `0xcafebeef`?",
        "created_at": "2020-08-02T10:48:38.612000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Meaning, that 0xbaadf00d is the nth ancestor of 0xcafebeef, potentially for large n?",
        "created_at": "2020-08-02T10:49:06.022000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah.",
        "created_at": "2020-08-02T10:49:12.365000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "well, ideally, we would have implemented https://github.com/ethereum/EIPs/pull/210 years ago",
        "created_at": "2020-08-02T10:49:24.608000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "But without that......",
        "created_at": "2020-08-02T10:49:27.430000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The provider would assert, \"here are the block hashes between `0xbaadf00d` and `0xcafebeef`\" and the client could demand block headers for `m` of the blocks plus their respective ancestors (where `m` is small).",
        "created_at": "2020-08-02T10:50:06.167000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "you can certainly make a log-round interactive protocol for it",
        "created_at": "2020-08-02T10:50:17.947000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "eg. the two-round version would be:",
        "created_at": "2020-08-02T10:50:29.904000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "1. Prover provides a bunch of block hashes, sqrt(n) apart, between 0xbaadf00d and 0xcafebeef",
        "created_at": "2020-08-02T10:50:46.815000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "2. If the prover lies, the challenger can find the last block that they agree with, and themselves provide the full list of sqrt(n) ancestors",
        "created_at": "2020-08-02T10:51:09.602000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "If it conflicts with the prover then the prover gets slashed",
        "created_at": "2020-08-02T10:51:23.684000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "hmm, arguably that's one-round; it's just a minimal fraud proof protocol",
        "created_at": "2020-08-02T10:51:41.227000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ah, I like the multiple trips to avoid having to ship the full set.",
        "created_at": "2020-08-02T10:52:00.655000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah, it would be economically secured by the bond, not cryptographically secured.",
        "created_at": "2020-08-02T10:52:15.428000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "yeah, we're potentially talking about n \u003e 1 million, so of course we'd want to avoid shipping everything in the middle",
        "created_at": "2020-08-02T10:52:31.085000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And the client randomly narrows down one path and validates a single block header in the end which the provider cannot know in advance.",
        "created_at": "2020-08-02T10:52:36.918000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If the provider is ever caught cheating (client can submit a fraud proof) they are heavily slashed.",
        "created_at": "2020-08-02T10:53:28.989000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If they aren't caught cheating, then they make money from the clients buying the data/proofs from them.",
        "created_at": "2020-08-02T10:53:49.665000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Not as efficient of a process as EIP-210 sadly, but one that doesn't require any core changes.",
        "created_at": "2020-08-02T10:54:37.491000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "What prevented 210 from being implemented?",
        "created_at": "2020-08-02T10:54:53.698000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We could backfill 210 pretty easily if I am reading this right.",
        "created_at": "2020-08-02T10:56:54.371000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "You can just say that if `block.number == fork_block_number` then insert all historic block hashes into state trie before processing the block.",
        "created_at": "2020-08-02T10:57:41.198000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Assuming that can be done in less than 15 seconds of course.",
        "created_at": "2020-08-02T10:57:51.785000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If not we could probably spread it out over a handful of blocks (a bit more client complexity, but not insurmountable).",
        "created_at": "2020-08-02T10:58:05.831000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e core devs being busy? (re @eth1x_bridge_bot: \u003cMicah\u003e What prevented 210 from being implemented?)",
        "created_at": "2020-08-02T11:07:59.706000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Also arguably it's long term redundant as eth2 has its own EIP 210 like thing already built in",
        "created_at": "2020-08-02T11:08:27.093000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Are these two things connected? Dropping the Logs and 210?",
        "created_at": "2020-08-02T11:09:06.661000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e 210 makes it easier to prove history, making it easier to build alternatives to clients storing all the history",
        "created_at": "2020-08-02T11:09:44.778000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "So 210 and then dropping the logs would be the ideal?",
        "created_at": "2020-08-02T11:10:21.347000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Iâ€™m over thinking it. Time to take a break.",
        "created_at": "2020-08-02T11:12:42.660000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e If there is no 210, we could just require clients to still store the full header chain",
        "created_at": "2020-08-02T11:13:07.785000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Which is like... 5 GB?",
        "created_at": "2020-08-02T11:13:24.185000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "And that would be a less burden on clients?",
        "created_at": "2020-08-02T11:13:37.348000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Less dev burden",
        "created_at": "2020-08-02T11:13:48.749000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Oh that is better",
        "created_at": "2020-08-02T11:13:53.412000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In theory, 5GB spread across tens or hundreds of thousands of nodes, and preventing people from running a trustless environment on mobile/embedded hardware, probably is more expensive than the cost of developing 210 across 5 clients or whatever there are.",
        "created_at": "2020-08-02T12:00:00.002000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "210 *is* pretty simple.",
        "created_at": "2020-08-02T12:00:09.913000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "That being said, I don't know how it stacks up against other things.  My sense from sitting in a bunch of dapp support rooms is that 1559 and 2711 are the top two biggest wins right now as far as core dev spending go, just because they resolve such *huge* pain points.  I do think that being able to have a serverless mobile client for a dapp is pretty high on the list none the less.",
        "created_at": "2020-08-02T12:01:04.428000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "210 is not very simple, I am afraid. It requires an introduction of a special \"SYSTEM\" account to make sure transactions that update block hashes do not need to pay gas. And then the smart contract that governs that is not trivial to get right. I think a better idea is to create a better commitment for header hashes, which is more of a merkle tree rather a hash chain",
        "created_at": "2020-08-02T12:03:21.643000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e so part of the motivation of 210 was that it was a \"get our feet wet\" move for a future where the entire ethereum protocol would be written in EVM",
        "created_at": "2020-08-02T12:04:09.493000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e more recently (since gav left?) we've cared much less about that",
        "created_at": "2020-08-02T12:04:19.068000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e So rewriting the EIP to just have a better commitment directly would certainly be an improvement",
        "created_at": "2020-08-02T12:04:32.929000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I'd recommend either reusing the eth2 history vector or the eth2 deposit contract mechanism",
        "created_at": "2020-08-02T12:04:48.336000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "\u003c@!364458974906548225\u003e told me about how this kind of commitment would look like, but I forgot the details. But I think it is a hash chain of the merkle trees of fixed size or something",
        "created_at": "2020-08-02T12:05:59.292000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Could we just add a new field to the block header, or a new special \"account\" in the storage trie?",
        "created_at": "2020-08-02T12:06:02.459000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "The idea is to yes, add this new field into the block header",
        "created_at": "2020-08-02T12:06:21.835000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "this is what i call \"better committment\"",
        "created_at": "2020-08-02T12:06:32.428000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Special account in the storage trie would avoid having to grow the block size.  Not sure if it is worth it or not.",
        "created_at": "2020-08-02T12:06:44.545000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e @alexey are you familiar with how the incremental merkle tree in the eth2 deposit contract works?",
        "created_at": "2020-08-02T12:06:53.884000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I would say just use that",
        "created_at": "2020-08-02T12:07:04.022000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e it solves the exact same problem: store an incrementally growing (append-only) list in a data structure such that each element can be later accessed with O(log(n)) proof size",
        "created_at": "2020-08-02T12:07:41.513000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I suspect this is what it is taken from, probably",
        "created_at": "2020-08-02T12:08:44.600000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I am not leading this project at the moment, so I am not very familiar with the details",
        "created_at": "2020-08-02T12:09:08.861000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I am trying to build up infrastructure and organisation to make sure we can solve this kind of problems easier ðŸ™‚",
        "created_at": "2020-08-02T12:09:52.283000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "because from my point of view we are stuck in both infrastructure and organisation aspects at the moment, and lots of good ideas simply cannot be implemented because of that",
        "created_at": "2020-08-02T12:11:18.489000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Turns out, running not-a-business is hard.  ðŸ˜›",
        "created_at": "2020-08-02T12:17:44.305000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "it is not just generic \"is hard\" thing, a lot of it due to our specific circumstances",
        "created_at": "2020-08-02T12:21:59.605000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "They are quite similar to a startup that got a successful product though",
        "created_at": "2020-08-02T13:00:31.570000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I haven't done any startups (not founded one, not worked in one), but I still think I might be able to help ðŸ™‚",
        "created_at": "2020-08-02T13:26:18.558000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e I was thinking a lot about the fact that Bloom filters are in headers and that the receipts need to be synced in fast sync. We decided to allow to drop receipt storage because we believed it is like forcing an indexing mechanism on a node. There is no additional verification strength from the Bloom filters than from a state root in the header, yet the Bloom filter takes half of the header size and receipts are a huge burden on the fast synced clients (60% of the disk space and 60% of the sync time in case of Nethermind).",
        "created_at": "2020-08-02T18:09:31.496000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e I know that users want to have access to the receipts so we made an effort to allow them to be retrievable really fast if you decide to have them. But I see that as a 'competetive feature' rather than the core protocol mechanism.",
        "created_at": "2020-08-02T18:10:58.064000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Eth2 merkle trees are very neat.",
        "created_at": "2020-08-02T18:12:43.176000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e They practically marry the ideas of object structures and merkle trees and make the trees first class citizens. Great thing.",
        "created_at": "2020-08-02T18:13:28.050000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e I suggested an EIP where the bloom filters would be dropped from headers and replaced with hashes of bloom filters.",
        "created_at": "2020-08-02T18:14:22.148000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Just to save requirements for the lightest clients.",
        "created_at": "2020-08-02T18:14:29.095000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Ideally we woukd just drop bloom filters entirely but by replacing them with hashes we can save a lot without much changes. But since we have receipt roots, bloom filters can be recreated easily at the clients side for the clients that are syncing.",
        "created_at": "2020-08-02T18:15:59.528000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Since bloom filters do not compress very well it would be better to reconstruct them locally.",
        "created_at": "2020-08-02T18:16:19.184000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e And change the format of the network messages.",
        "created_at": "2020-08-02T18:16:27.517000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Just if you do not know - header is 512 bytes (more or less) of which the bloom filter is 258.",
        "created_at": "2020-08-02T18:18:50.038000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e As for the receipts - it takes us 7 hours to retrieve them while we download headers in 15 minutes.",
        "created_at": "2020-08-02T18:19:41.593000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e As for cutting the receipts from the clients - since all clients already have them we would not remove them because it would decrease our competetive advantage so post factum cutting them out does not help that much. Especially if we already allow users to ignore them. Sunken cost.",
        "created_at": "2020-08-02T18:23:23.572000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e The main reason we did bloom filters in-consensus was for light client friendliness",
        "created_at": "2020-08-02T19:14:44.584000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I do think we should just replace them with layer-2 cryptoeconomic markets",
        "created_at": "2020-08-02T19:15:21.284000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003e is  there a public spec for the canonical hash trees anywhere?\n\u003c@!273808422753796097\u003e The geth implementation is what we are relying on.",
        "created_at": "2020-08-02T19:42:10.185000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003e it's at least precedent that layer 2 economic infrastructure is possible\n\u003c@!273808422753796097\u003e except very few people actually use it?",
        "created_at": "2020-08-02T19:44:34.617000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I think because few need it",
        "created_at": "2020-08-02T19:44:50.376000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e The usecases basically are: (i) fancy wallets, (ii) mixers",
        "created_at": "2020-08-02T19:45:01.063000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Both of which are important, but I think it's the fault of those two technologies that they haven't progressed enough to allow large-scale usage",
        "created_at": "2020-08-02T19:45:27.865000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e well, tornado.cash is getting killed by gas prices I imagine",
        "created_at": "2020-08-02T19:45:36.663000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003e there clearly is demand for \"fully serverless dapps\" (eg. augur, uniswap and many more are)\n\u003c@!273808422753796097\u003e Yes, but the existing tooling doesn't really support that and people just end up using TheGraph which is the exact opposite. ðŸ˜¦",
        "created_at": "2020-08-02T19:47:34.154000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e in what way is thegraph the exact opposite",
        "created_at": "2020-08-02T19:48:29.365000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ?",
        "created_at": "2020-08-02T19:48:31.306000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e (thegraph shilled themselves quite a bit in response to my tweet; would be curious to hear what their weaknesses are)",
        "created_at": "2020-08-02T19:49:15.295000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003cvbuterin\u003e If there is no 210, we could just require clients to still store the full header chain\n\u003c@!187490121698770945\u003e  I assume this is sufficient.",
        "created_at": "2020-08-02T19:51:02.883000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003cvbuterin\u003e (thegraph shilled themselves quite a bit in response to my tweet; would be curious to hear what their weaknesses are)\n\u003c@!273808422753796097\u003e 1. They just handle events, not arbitrary state.\n2. They don't rely on chain intrinsic proofs; I don't like the coupling between their service and Ethereum nodes.\n3. There are all sorts of other problems with their composability model.\n\nIMO the only thing they got right was using typescript as the language to write subgraphs in, with vDB we leapfrogged that and just use TOML files and ABIs.",
        "created_at": "2020-08-02T19:58:06.884000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e \" I don't like the coupling between their service and Ethereum nodes.\"",
        "created_at": "2020-08-02T19:58:38.045000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e what do you mean by this? not sure I understand",
        "created_at": "2020-08-02T19:58:44.337000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And (3) too",
        "created_at": "2020-08-02T19:58:51.175000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "They rely on JSON-RPC from geth or parity basically, it's just inefficient from a resource usage perspective, we use levelDB directly in vDB.\n\nregarding 3. because their proof model is kinda weird, they have a kinda weird subgraph composability model. I think a subgraph can reference the data from a different subgraph, but I'm pretty sure proofs can't be efficiently provided across the two, but I could be wrong about that, because they haven't really made their proof proposals public.",
        "created_at": "2020-08-02T20:01:18.405000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Full Disclosure, my view of their work also isn't very subjective since they tried to poach the vDB developers. Before TheGraph was founded I hired that team to work on vDB.",
        "created_at": "2020-08-02T20:02:52.066000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e wait what's a subgraph?",
        "created_at": "2020-08-02T20:04:19.778000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "their dapp specific cache of events which is served over graphql to end-users via browsers.",
        "created_at": "2020-08-02T20:05:00.026000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e But why do you need subgraphs? Shouldn't there just be one big set of all the events that different dapps would make different queries on?",
        "created_at": "2020-08-02T20:05:33.912000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "...I think it's a bad design, so I don't really have an answer. In vDB we have both.",
        "created_at": "2020-08-02T20:06:31.104000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Because  we want dapps to be able to endorse the caches they need.",
        "created_at": "2020-08-02T20:07:35.926000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Is subgraphs an attempt to scale?",
        "created_at": "2020-08-02T20:08:57.375000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "It's unclear to me, they kinda do, but not well.",
        "created_at": "2020-08-02T20:09:10.450000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Rather, the name implies that they understand how the concept could result in good scaling, but that's not what their implementation does.",
        "created_at": "2020-08-02T20:10:21.212000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "in the vDB model you can get the record of interest from anyone because the records are content addressable, in TheGraph model, the records are not cryptographically secure, so you have to get them from a trusted source.",
        "created_at": "2020-08-02T20:12:15.851000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "a record in this case being any object extracted from the ethereum blockchain.",
        "created_at": "2020-08-02T20:12:39.778000+00:00",
        "attachments": null
    },
    {
        "author": "phabc",
        "category": "general",
        "parent": "",
        "content": "What happened with VIP nodes? Anyone knows?\n\n\u003e Vipnode creates an economic incentive to run full nodes and serve light clients.\n\nhttps://github.com/vipnode/vipnode",
        "created_at": "2020-08-02T20:39:32.262000+00:00",
        "attachments": null
    },
    {
        "author": "phabc",
        "category": "general",
        "parent": "",
        "content": "Was acquired/integrated by Infura, but not sure what happened after that.",
        "created_at": "2020-08-02T20:40:02.658000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Huh, vipnode definitely seems like something that needs more love",
        "created_at": "2020-08-02T20:43:21.018000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e :) since you started discussing all the different projects - after MysticRyujin launched three Nethermind archive nodes we discussed a possibility of them accepting payments for beam sync bundling via Data Marketplace. So any beam sync node would be able to connect to them and by settling a once per month subscription use thwm as a source of GetNodeData for amy archive node style calls.",
        "created_at": "2020-08-02T20:47:56.097000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Since the Data Marketplace (we need a better name for it) is bundled with nodes they can serve various things there. We progress with it slowly mostly due to multiple projects we allocate resources too. This could also serve data from vDB. Generally our recent beam sync push is just to make Data Marketplace nodes very light.",
        "created_at": "2020-08-02T20:51:25.892000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Idea is that you launch a node, buy ETH with Revolut (built-in), pay for data with a beam synced transfer and start streaming whatever you need for local needs.",
        "created_at": "2020-08-02T20:52:27.966000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e So you have something like 6 minutes process from no Eth in your wallet to paying Eth for a full archive node experience.",
        "created_at": "2020-08-02T20:53:12.481000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e And wince the incentivization is built in you have a healthy network of Nethermind archive nodes serving the data. And generally 1000 beam sync nodes download less data than a single fast sync.",
        "created_at": "2020-08-02T20:54:37.261000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e And since beam sync nodes download the same data they can serve each other. Very healthy solution for thw network IMHO.",
        "created_at": "2020-08-02T20:55:18.159000+00:00",
        "attachments": null
    },
    {
        "author": "phabc",
        "category": "general",
        "parent": "",
        "content": "Where can I read more about this? Sounds very interesting. What's the payment flow? Subscription? Per payload? Regular ETH transfers or zkSync? Imo V1 doesn't need to be fancy at all to be useful, but I'm just curious what is being planned",
        "created_at": "2020-08-02T20:56:34.260000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e Payment is defined by a seller - can choose between metered data, subscription paid for upfront are after some time, also a mixture of all. You can try it out by downloading from download.nethermind.io but at the moment the setup is tricky (but it works if you are willing to overcome lacking documentation).",
        "created_at": "2020-08-02T20:59:46.028000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e We use a devp2p subprotocol called ndm that creates simple one way payment channels and a contract for deposits that work like ewcrows.",
        "created_at": "2020-08-02T21:00:32.398000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e We put an effort to make it as simple as possible.",
        "created_at": "2020-08-02T21:01:25.862000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e \u003c@332923501079953409\u003e actually had some cool project where they were extracting mempool transactions from nodes colocated with miners - a lot of people ask about it (also would.love to see it monetized as a mempool service)",
        "created_at": "2020-08-02T21:02:53.491000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ctkstanczak\u003e \u003c@278762485497069569\u003e - the data marketplace requires around 110k (combined) gas for the two transactions per month needed to establish a secure escrow based payment",
        "created_at": "2020-08-02T21:04:58.370000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Yeah, I haven't had the time to monetize that service and it looks like the only competing service that I could find that had customers went private.",
        "created_at": "2020-08-02T21:55:22.611000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "Which is why I haven't open sourced the repo. I need to recoup the money I spent on it somehow...",
        "created_at": "2020-08-02T21:55:45.845000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "I spoke to infura at one point, but there are a whole slew of reasons why that was a waste of time ðŸ˜„",
        "created_at": "2020-08-02T21:56:20.692000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "At this point vDB is going to be one of those \"1.0 is the final release\" type projects, I don't have the skills or time to convert it into a business.",
        "created_at": "2020-08-02T21:57:49.634000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "general",
        "parent": "",
        "content": "I've been saying that for years though, and clients keep the work going to some extent... I think this year there is an serious inflection point, either L2s are going to adopt a solution like vDB, and there will at least be some traction, or it will never happen.",
        "created_at": "2020-08-02T21:59:11.229000+00:00",
        "attachments": null
    },
    {
        "author": "zkfloof",
        "category": "general",
        "parent": "",
        "content": "\u003e Which is why I haven't open sourced the repo. I need to recoup the money I spent on it somehow...\n\u003c@!332923501079953409\u003e how much did you spend, if you don't mind me asking?",
        "created_at": "2020-08-02T23:50:34.654000+00:00",
        "attachments": null
    }
]