[
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Wanted to raise a quick point here, have we considered removing all refunds from EVM? This would make it more natural to reason about gas limit, because the current **practical** gas limit is actually 20% \"bonus\" (in theory) to the block gas limit. Due to https://eips.ethereum.org/EIPS/eip-3529 we now have a refund cap of 20%, this thus means that the gas used by a tx could get a refund of 20% (at most). Therefore the total gas spent in a block could thus be `1.20 * block.gasLimit`.\n\nWe'd need to re-bump https://eips.ethereum.org/EIPS/eip-3298 and also think about the refund given by 7702 authority list items in case the target authority account already exists (do we stop refunding this or not? This would make authorizing existing accounts cost in the end twice the cost now)",
        "created_at": "2025-05-28T17:36:09.842000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "As a nice side-effect this removes the refund counter from the EVM which has been a bit of a headache to reason over, especially EIPs which use this refund counter ðŸ˜…",
        "created_at": "2025-05-28T17:37:00.031000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e I'd be in favour of removing refunds. I don't think they really serve their purpose much (freeing up storage) and there are several benefits of getting rid of them",
        "created_at": "2025-05-28T18:40:48.332000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e they would also help with block-level access lists/transaction state diffs",
        "created_at": "2025-05-28T18:41:37.812000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Ok, and what about this from EIP 7702?\n\n`Add PER_EMPTY_ACCOUNT_COST - PER_AUTH_BASE_COST gas to the global refund counter if authority is not empty.`\n\nHow should we treat this when removing the refunds? Bumping the auth cost 2x seems a bit excessive if the account already exists. How to address this? Refund the gas at the start of the tx (right before tx execution?)",
        "created_at": "2025-05-28T20:44:47.559000+00:00",
        "attachments": null
    },
    {
        "author": "notnotstorm",
        "category": "general",
        "parent": "",
        "content": "I wonder if storage-reducing refunds would get used more if they had better ergonomics\n\ne.g. maybe a direct refund in ETH instead of gas\n\nthis would also reduce gas accounting complexity",
        "created_at": "2025-05-28T21:57:03.774000+00:00",
        "attachments": null
    },
    {
        "author": "notnotstorm",
        "category": "general",
        "parent": "",
        "content": "kinda which there was a way to separate pricing+refunds of short term ephemeral resource usage (like disk IO) vs long term resource usage (state growth)",
        "created_at": "2025-05-28T21:58:11.905000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "WDYM? Do you mean to refund a constant amount of ETH instead of `gasPrice * gasRefund`?",
        "created_at": "2025-05-28T22:00:10.921000+00:00",
        "attachments": null
    },
    {
        "author": "notnotstorm",
        "category": "general",
        "parent": "",
        "content": "not sure what the exact formula would be. but moving to a model something like\n- allocating new storage = you pay a deposit\n- freeing up that storage = you get the deposit returned\ndoing this accounting in ETH instead of gas. this is closer to solana's storage refund model",
        "created_at": "2025-05-28T22:03:16.033000+00:00",
        "attachments": null
    },
    {
        "author": "iamahmedshah",
        "category": "general",
        "parent": "",
        "content": "Hey guys what are the correcy contract addresses/routers for uniswap and camelot on arbitrum testnet. Having a hard time with ABI's and addresses. I am trying to build an arbitrary trading bot.",
        "created_at": "2025-05-28T22:23:57.271000+00:00",
        "attachments": null
    }
]