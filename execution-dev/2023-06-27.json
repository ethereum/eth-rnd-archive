[
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "yes should be `P`",
        "created_at": "2023-06-27T08:46:28.541000+00:00",
        "attachments": []
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "damn I got it wrong in the spec too",
        "created_at": "2023-06-27T08:47:01.170000+00:00",
        "attachments": []
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "fixed! https://github.com/ethereum/devp2p/commit/de798d86c08ad39299c2805b7398312c74fe702a",
        "created_at": "2023-06-27T08:48:33.819000+00:00",
        "attachments": []
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "Is there some way I can find the largest payloads (in kilobytes, not in gas) on the mainnet? Or alternatively the largest blocks before the merge?",
        "created_at": "2023-06-27T14:40:06.664000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "iterate through the blocks, i think most clients return `size` in the json rpc response",
        "created_at": "2023-06-27T14:49:17.224000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "probably faster to write a subcommand that directly operates on the db though, in geth we have some in `cmd/geth/dbcmd.go` that you can use for inspiration",
        "created_at": "2023-06-27T14:50:13.043000+00:00",
        "attachments": []
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "thanks, let's hack a oneliner ðŸ™‚",
        "created_at": "2023-06-27T14:57:51.659000+00:00",
        "attachments": []
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "another philosophical question - zero byte calldata costs 4 gas, does this mean that max theoretical EL block size is ~7MB  ?",
        "created_at": "2023-06-27T15:08:17.313000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "yes, but we encode over p2p and on disk using snappy, so low entropy like all 0s is trivially compressible",
        "created_at": "2023-06-27T15:10:01.930000+00:00",
        "attachments": []
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "I see, but when people talk about block size they usually mean uncompressed size?",
        "created_at": "2023-06-27T15:13:01.208000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "yes, but we also are assuming worst-case, which means the compression is not very effective - which means you would need mostly unique calldata and therefore you can't have a large number of 0s",
        "created_at": "2023-06-27T15:19:22.637000+00:00",
        "attachments": []
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "ok, I'll try to check was there some blocks on the mainnet that had size not far from 30M / 16 bytes, this is something that practically seems possible.",
        "created_at": "2023-06-27T15:49:34.345000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "the biggest blocks i'm aware of are around 1.5mb, but let us know what you find",
        "created_at": "2023-06-27T15:53:09.444000+00:00",
        "attachments": []
    }
]