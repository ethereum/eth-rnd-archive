[
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Isnâ€™t 7542 still useful for clients that only have a partial set of blocks post-7639?  Also is there a risk with 7542 that clients will bias against connecting to peers without any blocks and thus make it harder for new nodes to join the network?",
        "created_at": "2024-03-01T15:37:15.190000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "The issue is not with sharing a subset of blocks post 7639, it's building systems which rely on discovering such peers. If a client were to search the network for peers who continue to serve the whole history (heterogeneous history storage) they might have to search a long time. And when they find a peer who does, it's likely there are more people who wish to download from them.\n\nIt just isn't a robust way to access history. I think it is much better as a network to keep the data each node officially serves over p2p consistent and force clients to implement other history retrieval mechanisms",
        "created_at": "2024-03-01T15:46:38.966000+00:00",
        "attachments": []
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "That makes sense, thanks.  I agree that getting history from somewhere other than p2p makes sense as well, and that as such the value of 7542 becomes much less as basically the _only_ use would be to biases against peers that don't have all the \"recent\" blocks.",
        "created_at": "2024-03-01T16:19:29.212000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "re: 7639, I think it basically kills reth's ability to sync since we don't currently support snap sync",
        "created_at": "2024-03-01T17:24:45.968000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "what about fast sync?",
        "created_at": "2024-03-01T17:25:43.543000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "this does not affect that",
        "created_at": "2024-03-01T17:25:49.217000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "what's the difference?",
        "created_at": "2024-03-01T17:25:50.570000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "state sync in general does not require old blocks",
        "created_at": "2024-03-01T17:26:09.882000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "We sync from genesis, do not currently support the snap subprotocol",
        "created_at": "2024-03-01T17:26:21.551000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "old blocks are only needed if you are syncing archive",
        "created_at": "2024-03-01T17:26:29.625000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "fast sync does not require snap subprotocol",
        "created_at": "2024-03-01T17:26:43.865000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "I don't understand then, is there a spec for fast sync? How does a node reconstruct the state without re executing",
        "created_at": "2024-03-01T17:27:08.397000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "and without snap",
        "created_at": "2024-03-01T17:27:14.302000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "snap syncs the state trie from the bottom (leaves) and reconstructs the merkle that way",
        "created_at": "2024-03-01T17:27:46.861000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "fast sync syncs the node from a state root moving down in the trie",
        "created_at": "2024-03-01T17:28:04.307000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "but if you dont have either then yes, you will not be able to sync state from p2p",
        "created_at": "2024-03-01T17:28:27.234000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "I still don't understand how a node can reconstruct the trie from fast sync without snap subprotocol support, how do we use just eth subprotocol messages for that?",
        "created_at": "2024-03-01T17:29:16.127000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "you can download the era files out of band",
        "created_at": "2024-03-01T17:29:18.446000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "what if we bundle your PR with 7542",
        "created_at": "2024-03-01T17:30:09.884000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "i still think it is a viable option",
        "created_at": "2024-03-01T17:30:19.543000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "let nodes that still want to serve the history do it.",
        "created_at": "2024-03-01T17:30:32.748000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "it is not a requirement",
        "created_at": "2024-03-01T17:30:37.329000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "it is not he best way to get the history",
        "created_at": "2024-03-01T17:30:43.475000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "this is why i don't think it is viable",
        "created_at": "2024-03-01T17:30:48.378000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "but why prevent them all together",
        "created_at": "2024-03-01T17:30:51.952000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "I agree w.r.t. this",
        "created_at": "2024-03-01T17:31:08.915000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "it will smoothen the transition to any other solutions",
        "created_at": "2024-03-01T17:31:22.559000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "the more nodes that dont want to sync the whole history the less pressure those nodes serving it will have",
        "created_at": "2024-03-01T17:31:54.955000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "you cant expect the whole network to sync history",
        "created_at": "2024-03-01T17:32:10.163000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "there is not incentive to sync history",
        "created_at": "2024-03-01T17:32:18.588000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "why would the altruistic nodes be bombarded by requests if there is not incentive to hold these blocks in the first place",
        "created_at": "2024-03-01T17:32:46.685000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "I see, we do have our own static files format now, which would work as well. If this goes in, we'll need to make sure there are good ways to get our format at the very least, which would also apply to era",
        "created_at": "2024-03-01T17:32:55.120000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "geth position is that we do not want to fragment the network in a visible way to who has history and who doesn't - i dont think this is going to change",
        "created_at": "2024-03-01T17:32:57.962000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "you can also i) use era directly as a backend or ii) transpile era to your format if you want to piggyback on hosting of era files",
        "created_at": "2024-03-01T17:34:14.969000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "yeah, we just haven't worked on consuming / converting era yet",
        "created_at": "2024-03-01T17:34:53.176000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "haven't evaluated it in depth either",
        "created_at": "2024-03-01T17:35:11.516000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "it's pretty easy and if this eip is accepted for next fork, should be plenty of time to migrate",
        "created_at": "2024-03-01T17:35:27.505000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "haven't considered this much, but also could be done via an eth wire protocol upgrade so eth 6x still serves history and eth 7x does not",
        "created_at": "2024-03-01T17:36:18.465000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "so when a client stops supporting history it just deprecates the older eth wire versions",
        "created_at": "2024-03-01T17:36:50.614000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "oh this will be problematic imo",
        "created_at": "2024-03-01T17:37:54.662000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "why?",
        "created_at": "2024-03-01T17:38:02.788000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "a sudden enforcement of an specific eth protocol without supporting any of the previous versions could possibly prevent the node form finding proper peers that it can sync from. it will also affect other peers trying to sync from this node with (eth/70) if they dont support it.",
        "created_at": "2024-03-01T17:39:28.645000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "usually those eth protocol upgrades are gradual, and that is for good reasons",
        "created_at": "2024-03-01T17:39:49.080000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "tbh I'm less worried about the format and conversion, more worried about the work we'd need to do for:\n* hosting (where / how)\n* switching the fetch process for historical sync from p2p to wherever the files are hosted (still undefined)",
        "created_at": "2024-03-01T17:39:51.706000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "the rollout can definitely be gradual",
        "created_at": "2024-03-01T17:40:19.364000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "need to also keep in mind bandwidth requirements",
        "created_at": "2024-03-01T17:40:19.946000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "mind expanding on that?",
        "created_at": "2024-03-01T17:40:42.705000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "assuming these ara1 files are hosted somewhere and all the nodes are trying to download them from there, it could saturate its bandwidth",
        "created_at": "2024-03-01T17:41:44.422000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "whether it is Web archive or portal network",
        "created_at": "2024-03-01T17:41:56.916000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "i mean, i was thinking bittorrent or for centralized, r2",
        "created_at": "2024-03-01T17:42:41.702000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "first needs seeders",
        "created_at": "2024-03-01T17:42:52.660000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "second subsidized",
        "created_at": "2024-03-01T17:42:57.514000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "i don't think there is that much demand for history (our p2p traffic is like 98% tx gossip)",
        "created_at": "2024-03-01T17:43:02.126000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "oh, i thought the peers serving history will be bombarded with requests ðŸ˜›",
        "created_at": "2024-03-01T17:43:58.227000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "xD",
        "created_at": "2024-03-01T17:44:24.180000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "i didn't say bombarded lol, i just think the demand is asymmetric with peers who would still be hosting",
        "created_at": "2024-03-01T17:45:31.483000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "another option, is just being able to configure yes/no, if yes, you have all data till genesis, if no, you only have post-merge",
        "created_at": "2024-03-01T17:45:33.902000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "i guess similar to the eth/6x eth/7x proposal",
        "created_at": "2024-03-01T17:46:06.805000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "that is exactly what 7542 is trying to do though",
        "created_at": "2024-03-01T17:46:50.498000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "in an explicitly more limited way",
        "created_at": "2024-03-01T17:47:12.751000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "I don't think it's good for users to be able to configure that they only want to keep the last N blocks, for an arbitrary N",
        "created_at": "2024-03-01T17:48:29.733000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "can you elaborate",
        "created_at": "2024-03-01T17:48:31.917000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "Why not?",
        "created_at": "2024-03-01T17:49:18.382000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "https://era1.ethportal.net/",
        "created_at": "2024-03-01T17:49:43.271000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "These era1 files are built with the latest version of the \"spec\"",
        "created_at": "2024-03-01T17:50:02.198000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "Here are some stats\n- To store all of era1 it takes 428Gb of storage.\n- The biggest individual era1 file is epoch 1816 and it takes 642Mb of storage\n- It took 13h10m22.571641988s to dump all 15,532,032 blocks",
        "created_at": "2024-03-01T17:53:39.636000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "Do you know if portal have support for premerge blocks yet?",
        "created_at": "2024-03-01T17:54:24.686000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "We do and that is what we are using era1 for",
        "created_at": "2024-03-01T17:54:45.305000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "last i checked not all premege blocks are available from portal yet",
        "created_at": "2024-03-01T17:55:17.755000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "The network isn't  fully populated yet though",
        "created_at": "2024-03-01T17:55:18.015000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "We are still ironing out a few bugs before we are ready to launch",
        "created_at": "2024-03-01T17:55:53.104000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "Ah, how long do we need? will it be ready before the next fork (given the next fork will happen Q4 2024)",
        "created_at": "2024-03-01T17:55:54.852000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "100%",
        "created_at": "2024-03-01T17:56:08.809000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "that is great news thank you",
        "created_at": "2024-03-01T17:56:20.794000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "I believe it will be ready end of Q2 assuming there aren't tons of unknown bugs I don't know about",
        "created_at": "2024-03-01T17:56:46.073000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "it does not guarantee that nodes will have the data required to sync even recent history. It incentivizes nodes to not store history, and is essentially an implementation of eip-4444, without what is needed to make 4444 sustainable",
        "created_at": "2024-03-01T17:56:56.704000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "at least with my understanding of the eip",
        "created_at": "2024-03-01T17:57:16.428000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "i mean, with Lightclient's eip, the user is free to either import the blocks from era1 files or portal or not. which is giving the power to the user.",
        "created_at": "2024-03-01T17:58:35.647000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "my EIP does not mention that the number of held blocks by a node can be controlled by the user",
        "created_at": "2024-03-01T17:59:18.038000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "it can be set by lightclient's EIP",
        "created_at": "2024-03-01T17:59:29.783000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "and then 4444 later",
        "created_at": "2024-03-01T17:59:40.331000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "but a node could advertise, [tip-N, tip] on inclusion of 7542",
        "created_at": "2024-03-01T18:00:36.234000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "I can sopecify in the EIP that `N` in this case need to be defined by 7639 or 4444 or any other EIP and cannot be any arbitrary number",
        "created_at": "2024-03-01T18:02:08.716000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "imo that would make more sense, as long as the start range is fixed, until history dumps / serving are considered reliable enough to implement 4444",
        "created_at": "2024-03-01T18:04:46.988000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "so start can only be 0, Paris hardfork, or later 4444 limits",
        "created_at": "2024-03-01T18:05:28.262000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "what if the node is still syncing though.",
        "created_at": "2024-03-01T18:05:46.821000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "keep in mind some nodes sync backwards (from tip to genesis)",
        "created_at": "2024-03-01T18:06:00.263000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "i think forkid solves that",
        "created_at": "2024-03-01T18:13:47.364000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "complicated solution",
        "created_at": "2024-03-01T18:14:28.511000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "also how does it solve that for nodes that are already on the tip",
        "created_at": "2024-03-01T18:14:50.413000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "nethermind gets on the tip of the chain in the first 5 minutes of it running",
        "created_at": "2024-03-01T18:15:03.636000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "it will always have the last forkId",
        "created_at": "2024-03-01T18:15:22.824000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "maybe I'm not understanding how clients with other sync methods update their forkid, or determine that they're synced at a certain height",
        "created_at": "2024-03-01T18:17:18.952000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "my intuition is that the forkid should not be updated unless you have bodies up to the forkid height",
        "created_at": "2024-03-01T18:18:40.765000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "nethermind syncs backwards. from tip to genesis. this will not work for it",
        "created_at": "2024-03-01T18:19:02.440000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "so do we",
        "created_at": "2024-03-01T18:19:17.307000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "not sure if other clients do the same",
        "created_at": "2024-03-01T18:19:17.672000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "at least for headers, we sync backwards. we don't update our forkid until we have all bodies from genesis, and can still fetch all bodies this way. This happens to be after fully executing and validating from genesis, but it doesn't need to be that way in clients that don't reexecute",
        "created_at": "2024-03-01T18:31:30.696000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "hmmm, yeah it is definitely not that way for nethermind",
        "created_at": "2024-03-01T18:32:54.525000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "otherwise imo, the purpose of forkid is circumvented. if you need block X, and the remote forkid checks out (ie, they say they are past X), but you can't get block X from the remote peer, you just wasted a handshake and bodies request timeout",
        "created_at": "2024-03-01T18:34:05.427000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "i think forkId primary function is to get rid of peers that are not relevant to the current network",
        "created_at": "2024-03-01T18:35:04.009000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "like when ETHPoW happened",
        "created_at": "2024-03-01T18:35:16.691000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "that's one of its functions, yes",
        "created_at": "2024-03-01T18:35:19.390000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "or any others like it",
        "created_at": "2024-03-01T18:35:21.607000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "not sure if it was intended for this use tbh",
        "created_at": "2024-03-01T18:35:59.409000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "I guess part of my point is that there is no downside to remaining on an earlier forkid. Forkid doesn't need to be used for ensuring that a node has a block, and we don't rely on that property. To get back to 7542, I don't see much use in advertising a range in Status if the node does not have block bodies for that range",
        "created_at": "2024-03-01T18:42:11.791000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "of course not. that is why i said, if the node is syncing, it should advertise the block bodies it has only. so in the case of nethermind. [latest download block, tip]",
        "created_at": "2024-03-01T18:43:30.852000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "in case of archive sync it would be [0, latest downloaded block]",
        "created_at": "2024-03-01T18:44:04.884000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "cause in archive sync we sync from genesis moving forward",
        "created_at": "2024-03-01T18:44:26.139000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "that's where I think the eip could be misused, a node could just set [tip-N, tip] and this now implements 4444. It would make me more comfortable if it were more like this:\n* if the node has [merge, tip] it advertises [merge, tip]\n* if the node has [genesis, tip] it advertises [genesis, tip]",
        "created_at": "2024-03-01T18:46:15.030000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "and if in the future 4444 is accepted, it could move to [tip-N, tip]",
        "created_at": "2024-03-01T18:47:02.237000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "hmmmm, i like that. wanna PR it?",
        "created_at": "2024-03-01T18:47:13.376000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "You can co-auther if you want",
        "created_at": "2024-03-01T18:47:49.022000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "i want to do more thinking on 7639 first, im still worried about the work we'd need to do to support things moving in that direction",
        "created_at": "2024-03-01T18:50:40.741000+00:00",
        "attachments": []
    },
    {
        "author": "rjected",
        "category": "general",
        "parent": "",
        "content": "maybe 7639 is easier if we have 7542 switches, ie either merge-tip or genesis-tip, are allowed to advertise. need to think about it",
        "created_at": "2024-03-01T18:53:03.792000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "general",
        "parent": "",
        "content": "sure. appreciate the feedback though",
        "created_at": "2024-03-01T18:53:35.876000+00:00",
        "attachments": []
    }
]