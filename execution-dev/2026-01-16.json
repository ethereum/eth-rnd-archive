[
    {
        "author": "nero_eth",
        "category": "general",
        "parent": "",
        "content": "Regarding [EIP-7778](https://eips.ethereum.org/EIPS/eip-7778), [we’re currently discussing](https://github.com/ethereum/execution-specs/pull/1401) whether the receipt’s `cumulativeGasUsed` should include **gas used before refunds** or **after refunds**.\n\nA consideration is how this affects `eth_getTransactionReceipt`, which exposes `gas_used`. Ideally, this value should reflect the **gas the user actually pays** (i.e., after refunds), since it is user-facing and should remain stable. Another consideration is the interaction with BALs.\n\nThere are two options:\n\n### 1) Cumulative gas used **before refunds**\n\n* To return the correct user-facing `gas_used` in `eth_getTransactionReceipt`, clients would need to:\n  * Re-execute the transaction to compute the refund, then\n  * Subtract it from `CumulativeGasUsed[i] - CumulativeGasUsed[i-1]`.\n* **Alternative (1.1):** Add a new receipt field (e.g., `gasSpent`) that directly records post-refund gas. Clients can then populate `gas_used` without re-execution.\n\n### 2) Cumulative gas used **after refunds**\n\n* Clients can directly compute user-facing gas as: `CumulativeGasUsed[i] - CumulativeGasUsed[i-1]`\n* However, this requires enforcing the **block gas limit separately**, since post-refund gas cannot be used for limit enforcement.\n\n### Interaction with BALs\n\nWith BALs, transactions execute on different threads, and receipts may be used to enforce the block gas limit post-execution.\n\n* **Option (1)** works cleanly: the receipt’s cumulative gas can be used directly.\n* **Option (2)** is a little less clean (but likely fine too): to enforce the block gas limit, clients must add refunds back: `(CumulativeGasUsed[i] - CumulativeGasUsed[i-1]) + refund`.\n\ncc \u003c@583892532644151312\u003e \u003c@316280621783580673\u003e \u003c@194432762315407360\u003e \u003c@830368514225340436\u003e",
        "created_at": "2026-01-16T11:06:54.106000+00:00",
        "attachments": null
    },
    {
        "author": "lu_pinto",
        "category": "general",
        "parent": "",
        "content": "I also feel we need a cap on state creation incentives separately to the gas limit in the block. Why don't we create a gas limit just for state creation bloatness (state creation incentives) separately to the gas limit for compute in a block? This way we don't mix compute with storage incentives in the concept of gas costs and we can separately scale compute which is what we want to do.",
        "created_at": "2026-01-16T11:57:56.618000+00:00",
        "attachments": null
    },
    {
        "author": "zsfelfoldi",
        "category": "general",
        "parent": "",
        "content": "Hey everyone, I'd like to move technical discussion of EIP-7745 (Trustless log index) here. Until now I've been mostly posting updates on the allcoredevs channel but this might be better for deeper discussion. More specifically, I'd like to present an alternative design variant after getting the current EIP DFId for Glamsterdam on the basis of it being too complex to be implemented in its time frame:\nhttps://gist.github.com/zsfelfoldi/4747355d8fd18c8dcb3bf90dca2d8626",
        "created_at": "2026-01-16T13:02:46.159000+00:00",
        "attachments": null
    }
]