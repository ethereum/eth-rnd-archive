[
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "sorry for the spam!",
        "created_at": "2020-09-08T04:55:51.176000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Reading now (re @eth1x_bridge_bot: \u003cAxe\u003e https://ethereum-magicians.org/t/eip-2937-set-indestructible-opcode/4571)",
        "created_at": "2020-09-08T04:59:45.388000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e One thing is that the nonce is \"enshrined\" now so you don't need to put it in calldata",
        "created_at": "2020-09-08T04:59:57.785000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!273808422753796097\u003e Can you remind me what the benefits of having gas payment occur inside the account abstraction are?",
        "created_at": "2020-09-08T05:01:55.175000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e what's the alternative?",
        "created_at": "2020-09-08T05:02:15.776000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Just having the account make a CALL?",
        "created_at": "2020-09-08T05:02:24.359000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e the other day put together a little proposal for Rich Transactions which is basically account abstraction *except* for gas payment, which is done outside of the abstraction.",
        "created_at": "2020-09-08T05:02:25.961000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And nonce outside as well.",
        "created_at": "2020-09-08T05:02:41.333000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e the problem is that gas payment should only be possible after the signature is verified",
        "created_at": "2020-09-08T05:02:46.244000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e so it has to depend on abstracted code",
        "created_at": "2020-09-08T05:02:58.759000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Transactions would be something like `nonce, gasPrice, gamLimit, calldata, code` where `code` is some EVM bytecode to execute.",
        "created_at": "2020-09-08T05:02:59.644000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Ah I see what you mean",
        "created_at": "2020-09-08T05:03:04.880000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e so having the PAYGAS args be transaction args",
        "created_at": "2020-09-08T05:03:13.320000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think so? I haven't followed AA *too* closely, so the terminology is a bit foreign to me.",
        "created_at": "2020-09-08T05:03:35.874000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e that's definitely another way things could be done",
        "created_at": "2020-09-08T05:03:51.518000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm curious what AA gives us *beyond* what \"Rich Transactions Only\" gives us, where all transactions are just \"execute EVM code as signer\".",
        "created_at": "2020-09-08T05:04:02.923000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I guess my goal was to try to make the transaction type itself as minimal as possible",
        "created_at": "2020-09-08T05:04:07.065000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e \u003e  I'm curious what AA gives us *beyond* what \"Rich Transactions Only\" gives us, where all transactions are just \"execute EVM code as signer\".",
        "created_at": "2020-09-08T05:04:12.458000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e The ability to have gas payment be conditional on things other than ECDSA verification",
        "created_at": "2020-09-08T05:04:25.250000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Mm, for different signature types?",
        "created_at": "2020-09-08T05:04:42.187000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And the ability to have the top level account's ability to do things be conditional on things other than ECDSA verification",
        "created_at": "2020-09-08T05:04:47.839000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e basically smart contract wallets",
        "created_at": "2020-09-08T05:05:25.399000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm compelled by the Rich Transactions Only (with gas, nonce, and signature outside) because I think it removes basically all of the \"hard parts\" of AA, and gives us *most* of the benefits.",
        "created_at": "2020-09-08T05:05:25.846000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e oh I think smart contract wallets being first class is 80% of the benefit üòù",
        "created_at": "2020-09-08T05:05:48.914000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I think people keep underestimating how shameful it is that bitcoin multisig is more first-class and hence easier to use than ethereum multisig",
        "created_at": "2020-09-08T05:06:10.628000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think Rich Transactions Only *would* force contract wallets to be first class?",
        "created_at": "2020-09-08T05:06:12.930000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And how much needless insecurity happens as a result",
        "created_at": "2020-09-08T05:06:16.589000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e hmm, not really; the whole point of contract wallets is that the verification conditions are a contract, not what happens after the verification",
        "created_at": "2020-09-08T05:06:40.868000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The person signing the transaction (whose nonce is used and who pays for gas) doesn't necessarily have to be the person or persons who authorize the transaction.",
        "created_at": "2020-09-08T05:07:36.710000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e right, but the two being different adds 21000 gas cost",
        "created_at": "2020-09-08T05:07:55.637000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "More than that with Rich Transactions.  üò¨",
        "created_at": "2020-09-08T05:08:14.663000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And requires complexity regarding who has the right to \"just enough ETH to pay for gas\" vs \"the entire ETH in the account\", how to even decide that difference, etc",
        "created_at": "2020-09-08T05:08:32.078000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e the account code seems right btw",
        "created_at": "2020-09-08T07:11:44.591000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "The one \"bell and whistle\" I would add though is adding a flag that would make the account do delegatecall instead of call, so you have native ability to do multiple sends within one tx (or whatever else you might want to do, including changing the key)",
        "created_at": "2020-09-08T07:13:36.186000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Aaaaah one thing",
        "created_at": "2020-09-08T07:13:38.570000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "`  if iszero(eq(account, address())) { revert(0, 0) }`",
        "created_at": "2020-09-08T07:13:40.097000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I don't think you can do this",
        "created_at": "2020-09-08T07:13:56.645000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Because the account address would not be the ECDSA recovery address",
        "created_at": "2020-09-08T07:14:06.211000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "The address you check the ecrecover output against would need to be in storage",
        "created_at": "2020-09-08T07:14:18.912000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "random question but is there a relatively accurate translation between gas price and time to compute? (I'm thinking about creating some rough expected computation time estimates)",
        "created_at": "2020-09-08T07:14:38.878000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "You can check out the rationales for some of the recent repricing EIPs",
        "created_at": "2020-09-08T07:14:56.419000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I have a vague recollection that they were targeting something like 20M gas per second?",
        "created_at": "2020-09-08T07:15:06.029000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "okay, I'll look into that, thanks! any EIPs come to mind in particular?",
        "created_at": "2020-09-08T07:15:39.879000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "https://eips.ethereum.org/EIPS/eip-2565",
        "created_at": "2020-09-08T07:18:26.941000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "\u003c@!104006934562107392\u003e \nYou can take a look over here for differences between G1 and G2 for the bls12-381  curve\nhttps://tools.ietf.org/html/draft-irtf-cfrg-pairing-friendly-curves-04#appendix-C\nThe most obvious difference between G1 ( Subgroup of E1) and G2( Subgroup of E2) , is that E1 has  a more compact representation compared to E2. So you can assign your public keys and signatures depending on what you want to optimize(Public keys in G1 , Signatures in G2), etc.",
        "created_at": "2020-09-08T08:35:36.737000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003e Because the account address would not be the ECDSA recovery address\n\nOh I haven't made it clear, but this was an attempt in EIP-101 style, where this code would be the default, assumed code for EoAs.\n\nWhat I wanted to see is how much overhead that would add.",
        "created_at": "2020-09-08T09:09:43.179000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Aah I see, makes sense now",
        "created_at": "2020-09-08T09:10:05.321000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "This is what \u003c@!301186049323958275\u003e was referring to: https://notes.ethereum.org/@axic/Hyrc1i7ED#Specification\n\nAnd here are the four basic transactions people do and what they would look like if instead they had to send these code snippets accomplishing them: https://notes.ethereum.org/@axic/Hyrc1i7ED#Transactions-using-only-rich-transactions",
        "created_at": "2020-09-08T09:15:06.892000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "That is why I wrote the AA example to compare it against these. The idea to explore was \"what if we could get rid of transaction types and only have a single one?\"",
        "created_at": "2020-09-08T09:16:15.920000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Yep, that makes a lot of sense and is very clean",
        "created_at": "2020-09-08T09:36:37.558000+00:00",
        "attachments": null
    },
    {
        "author": "pauld.9606",
        "category": "general",
        "parent": "",
        "content": "Currently, there is one way to merkleize things, called `TRIE()` in the yellowpaper.",
        "created_at": "2020-09-08T17:10:24.612000+00:00",
        "attachments": null
    },
    {
        "author": "pauld.9606",
        "category": "general",
        "parent": "",
        "content": "Is it OK to have two different ways to merkleize things? One way for static lists like code chunks and maybe transactions and receipts. The other way is for merkleizing \"non-linear\" things like accounts and storage.",
        "created_at": "2020-09-08T17:10:55.425000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "\u003c@425279588009246720\u003e cool idea! one question: how to consider nonces, since the concept is overloaded to hold two separate pieces of info. For eoa: num txs, for contracts: num creations. If an eoa get a create-nonce-bump in txA, then it messes with the txpool, because one tx can burn N nonces.",
        "created_at": "2020-09-08T20:12:07.994000+00:00",
        "attachments": null
    }
]