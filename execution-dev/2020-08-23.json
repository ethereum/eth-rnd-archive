[
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Shower thought: A transaction that does not mutate state in any way other than changing the transaction sender's nonce is not a valid transaction.",
        "created_at": "2020-08-23T02:34:34.959000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cGuthL\u003e Why not? It is how tentative cancelation works.",
        "created_at": "2020-08-23T03:30:28.706000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Problem: Could introduce a DoS vector.  Miners would need to execute the transaction in order to determine if they were valid or not, you cannot determine validity solely on the transaction format.",
        "created_at": "2020-08-23T03:31:37.249000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cGuthL\u003e Not sure I understand. Could you elaborate?\nAlso, Geth drops tx if they are too far from the existing nonce",
        "created_at": "2020-08-23T07:58:23.179000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e So if it pays 21000 wei of fees it's valid? (re @eth1x_bridge_bot: \u003cMicah\u003e Shower thought: A transaction that does not mutate state in any way other than changing the transaction sender's nonce is not a valid transaction.)",
        "created_at": "2020-08-23T08:09:54.797000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!273808422753796097\u003e The idea (which I don't think will work in reality because it creates a DoS vector) is to make it so a transaction is invalid if it doesn't mutate any state, since such a transaction is not actually *doing* anything, and thus a waste of block space and processing power for everyone.  This would make it so all of the congestion caused by front-runners and back runners who almost universally enter through a contract which bails immediately after checking to see if opportunity is present just goes away.",
        "created_at": "2020-08-23T08:16:22.756000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Ah so you mean no state mutations except nonce and fees",
        "created_at": "2020-08-23T08:17:00.527000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah, sorry.",
        "created_at": "2020-08-23T08:17:09.623000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e The problem of course is a tx could do a lot of computation before it decides whether or not to mutate",
        "created_at": "2020-08-23T08:17:17.496000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e As well as a lot of state reads",
        "created_at": "2020-08-23T08:17:22.454000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Miners would see a transaction, put it in the block, and then execute it like normal.  If at the end of the transaction no state was changed (other than the nonce), the transaction would be considered invalid and \"rolled back\" (not included in the block).",
        "created_at": "2020-08-23T08:17:26.946000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e So.... seems better to just wait for account abstraction",
        "created_at": "2020-08-23T08:17:33.344000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah, it is a DoS vector against the miners, but the chain would be protected from a large amount of the spam that we see where people are executing transactions that are conditional on certain state.",
        "created_at": "2020-08-23T08:18:05.301000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't think account abstraction would solve this problem.",
        "created_at": "2020-08-23T08:18:13.905000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The problem, fundamentally, is that there are transient opportunities and the only way to *try* to take them is to get a miner to include your transaction and then run some code that will check the current state from within the block.",
        "created_at": "2020-08-23T08:19:04.335000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Purely spitballing, but what would be ideal would be for a way for people to give miners a transaction and say, \"please include this if these conditions are met, otherwise don't include it\".  The miners are in the ideal position to identify whether conditions are met.",
        "created_at": "2020-08-23T08:20:02.713000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I can even imagine people being willing to pay a lot of money to be included under the appropriate conditions (in fact, they already *do* pay a lot of money for that, but the mechanism by which they achieve that is by bloating the chain with garbage).",
        "created_at": "2020-08-23T08:20:56.275000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e so account abstraction *is* a type of allowing the conditions for tx inclusion to be evm code",
        "created_at": "2020-08-23T08:22:49.975000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And the transaction is invalid (not included at all) if the conditions aren't met?",
        "created_at": "2020-08-23T08:23:11.705000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e correct",
        "created_at": "2020-08-23T08:23:18.315000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm guessing there are pretty tight constraints on what you can do in that time?",
        "created_at": "2020-08-23T08:23:31.336000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Is there enough gas available to do things like read other-contract state?",
        "created_at": "2020-08-23T08:23:47.234000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cGuthL\u003e Would Account abstraction allow chaining tx from various accounts?",
        "created_at": "2020-08-23T08:39:26.844000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I am starting to think that Account abstraction (and related things) would be more elegantly and simply implemented by introducing a much more constrained language, where (like in Bitcoin script) the execution time upper bound can be easily estimated by the size of the script, and also has very simple and clear semantics so that it can be clearly analysed and composed with other scripts. Piggy-backing on EVM and introducing Gas cap looks like a much harder and less rewarding route to me",
        "created_at": "2020-08-23T08:45:32.473000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e the challenge is that we actually want to use account abstraction for \"rich\" things (eg. tornado cash withdrawals)",
        "created_at": "2020-08-23T08:46:03.798000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Or verifying custom signature algorithms",
        "created_at": "2020-08-23T08:46:39.774000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Yes, that is the challenge, but perhaps these rich things can still be described well with a much simpler language",
        "created_at": "2020-08-23T08:46:43.265000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e hmm, it really seems like \"EVM but ban a few opcodes\" is the most practical way to get to that simplicity",
        "created_at": "2020-08-23T08:47:09.621000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Like, what other kind of language that we can practically build would be able to verify, say, BLS signatures?",
        "created_at": "2020-08-23T08:48:29.652000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "All arithmetics can stay the same (and also be boosted for various curves etc.), but I think the crucial difference with EVM would be how this language would express repeated computation (loops), and composition",
        "created_at": "2020-08-23T08:50:05.364000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e why not add a penalty on top of the base fee if there's no state mutation?",
        "created_at": "2020-08-23T08:50:06.534000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "for example, EVM does not have instruction: \"Repeat this 10 times\", instead, you've got to generate a loop with jumps, which could be statically analysed, but it is more complex",
        "created_at": "2020-08-23T08:51:18.088000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "or if you want to compose two bits of computations, you need to plug the output of one into the input of another, and usually in EVM it is a jumble of stack operations",
        "created_at": "2020-08-23T08:52:29.726000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003c@!301186049323958275\u003e why not add a penalty on top of the base fee if there's no state mutation?\n\u003c@!425279588009246720\u003e The issue is that we don't want those transactions in the block at all, and neither do the transaction submitters.  However, just the *opportunity* to try to be included in the right spot is worth a large amount of money to the bots.  I don't think there is any pricing change we could make that would make theme go away, and such a pricing change would punish honest users (like Uniswap users whose transactions timed out).",
        "created_at": "2020-08-23T08:58:12.883000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We have all these transactions that *no one* wants included in the blockchain, yet they all get included because we don't have a good mechanism for conditional inclusion at the moment.",
        "created_at": "2020-08-23T08:58:59.110000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "essentially the problem we are facing is this: \"We can express what we want in a language that would be easy to analyse and execute without DoS vectors, but instead we throw most this away by translating our intent into another language, which then required quite sophisticated static analysis to be sure there is no DoS attack\"",
        "created_at": "2020-08-23T08:59:28.846000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@456226577798135808\u003e Subroutines (if properly implemented, and there's debate about that on FEM) add some structure for analysis. Would be interested to see my reasoning though what analysis is needed for which use cases.",
        "created_at": "2020-08-23T08:59:34.110000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The most simple is to remove JMP instruction.",
        "created_at": "2020-08-23T09:00:02.947000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e if the penalty is big enough wouldn't that be a deterrent from trying to get it included?",
        "created_at": "2020-08-23T09:00:03.938000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "These people are paying $100 in fees *to fail* already.",
        "created_at": "2020-08-23T09:00:20.137000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And paying up to $1000s in fees to succeed (get placed in the right spot).",
        "created_at": "2020-08-23T09:00:35.690000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "And if say the gas limit is less than basefee+penalty then it is never considered for inclusion to begin with.",
        "created_at": "2020-08-23T09:00:37.879000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e \u003e instead we throw most this away by translating our intent into another language, which then required quite sophisticated static analysis to be sure there is no DoS attack\nIs this actually true? What's the practical difference between what static analysis on some simple language would offer and what we already have via gas limits?",
        "created_at": "2020-08-23T09:00:57.197000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e We have a sub-project in turbo-geth which is trying to do a sound static analysis of classes of EVM programs. Looks like most of the stuff produced by solidity is analysable, but we have not confirmed it yet. But we do see how a different language would eliminate lot of the extra complexity we are dealing with",
        "created_at": "2020-08-23T09:01:13.588000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "\u003e Is this actually true? What's the practical difference between what static analysis on some simple language would offer and what we already have via gas limits?\n\u003c@!599067043790323712\u003e I think the devil is in the details, especially when you try to compose these things",
        "created_at": "2020-08-23T09:02:08.801000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e What do we mean by composing here?",
        "created_at": "2020-08-23T09:02:22.131000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e In an account abstraction context",
        "created_at": "2020-08-23T09:02:26.262000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e the core of the problem I'm trying to solve is people with legitimate transactions (they do useful/valuable things) that fail if state isn't as expected at mining time.  A simple example of this is a user swapping tokens on Uniswap.  If the price moves too much between signing the transaction and mining the transaction, then the transaction is just chaff and not actually valuable to *anyone* because the transaction fails without actually *doing* anything.",
        "created_at": "2020-08-23T09:02:54.255000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Like what GuthL asked earlier, can we do something like chaining the transactions from different accounts? To solve this simply, you would need to be able to compose computations",
        "created_at": "2020-08-23T09:03:15.917000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't think punishing that user is the right course of action, and it likely wouldn't do anything but drive away the small honest users, not the bots.",
        "created_at": "2020-08-23T09:03:17.877000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "EIP-2711 introduces the first kind of conditional transaction which is conditional on the block.timestamp (transaction becomes invalid after a certain point in time).  The more of these sorts of conditions that are available to users, the less chaff we end up making it into blocks.",
        "created_at": "2020-08-23T09:05:01.845000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "But, these things all add a tiny bit of DoS vectors individually, as it is more and more work that nodes have to do when evaluating whether a transaction is \"valid\" or not.",
        "created_at": "2020-08-23T09:05:32.453000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Well, the block.timestamp is a bad example, isn't it? Those kind of transactions eat up transaction pool space, but will be just simply dropped if the timestamp points to the past and never get executed.",
        "created_at": "2020-08-23T09:25:51.040000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "By transaction pool i mean  \"memory pool\".",
        "created_at": "2020-08-23T09:26:16.191000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@456226577798135808\u003e this is a bit off-topic, but may be relevant to the \"chaining question\": in the wasm design we wanted to reduce the need for \"calls\". One way to do that is to \"link\" bytecode together, which wasm allows by design, and execute it as a single program. The dependencies (account address, and each function within that bytecode) are listed in the imports section. Would something like that be beneficial for this kind of analysis?",
        "created_at": "2020-08-23T09:29:01.263000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The thing with EVM is it is only an instruction set and we do not have a program format (like ELF or EXE/PE), instead we operate like those DOS COM programs.",
        "created_at": "2020-08-23T09:30:01.623000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Because of this the ABI and calling convention is implemented freely and not enforced by anything.",
        "created_at": "2020-08-23T09:31:43.004000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e Well, the block.timestamp is a bad example, isn't it? Those kind of transactions eat up transaction pool space, but will be just simply dropped if the timestamp points to the past and never get executed.\n\u003c@!425279588009246720\u003e Yes, they will, which is exactly what we want in more cases if possible.",
        "created_at": "2020-08-23T09:40:40.637000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ideally, all gas spent in a block is doing something productive, not there just because the way we decide what transactions to include doesn't have a good mechanism for dropping useless transactions.",
        "created_at": "2020-08-23T09:41:06.873000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "\u003e essentially the problem we are facing is this: \"We can express what we want in a language that would be easy to analyse and execute without DoS vectors, but instead we throw most this away by translating our intent into another language, which then required quite sophisticated static analysis to be sure there is no DoS attack\"\n\u003c@456226577798135808\u003e If we have access lists and a gas cap, can't a dependency set be analyzed?",
        "created_at": "2020-08-23T09:42:17.221000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "\u003e Like what GuthL asked earlier, can we do something like chaining the transactions from different accounts? To solve this simply, you would need to be able to compose computations\n\u003c@456226577798135808\u003e This would essentially allow you to chain transactions together, yes?",
        "created_at": "2020-08-23T09:43:29.960000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "\u003c@!386690701343326219\u003e it forces you to express the dependency via state modifications. But I am sure they are much cheaper ways of doing it",
        "created_at": "2020-08-23T09:43:54.534000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "\u003e I am starting to think that Account abstraction (and related things) would be more elegantly and simply implemented by introducing a much more constrained language, where (like in Bitcoin script) the execution time upper bound can be easily estimated by the size of the script, and also has very simple and clear semantics so that it can be clearly analysed and composed with other scripts. Piggy-backing on EVM and introducing Gas cap looks like a much harder and less rewarding route to me\n\u003c@456226577798135808\u003e numbers seem to look good at a 400k gas cap by the way if we compare against current transaction propagation. I finished an analysis on this recently and just editing it right now.",
        "created_at": "2020-08-23T09:44:49.579000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "it is similar to EIP-2020, where instead of introducing a primitive for exactly what we wanted (intra-frame communication), which would be 50 times cheaper and easy to implement, we saddled existing primitives with more functions, and introduced bugs along the way",
        "created_at": "2020-08-23T09:45:27.861000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003c@!386690701343326219\u003e it forces you to express the dependency via state modifications. But I am sure they are much cheaper ways of doing it\n\u003c@456226577798135808\u003e What ways might you make it cheaper without losing flexibility on a simpler language (aka being able to handle zk proofs, etc.)",
        "created_at": "2020-08-23T09:45:52.159000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I see the solution of account abstraction with gas caps and access list is kind of that - the solution that might work, but will never be able to give us orders of magnitude boost",
        "created_at": "2020-08-23T09:46:03.403000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I did not spend a lot of time thinking about the language, but it can be designed with these desirata in mind, and be much more efficient that gas caps and access lists",
        "created_at": "2020-08-23T09:47:17.164000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "hmm, what primitives do you think could accomplish that?",
        "created_at": "2020-08-23T09:47:51.093000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "for example, loops with constant number of iterations, instructions for branch-less computations",
        "created_at": "2020-08-23T09:48:28.109000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "easy way of composition",
        "created_at": "2020-08-23T09:48:54.350000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e What kind of \"composition\" are we looking to achieve here?",
        "created_at": "2020-08-23T09:49:09.300000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "examples: child pays for parent, transactions with pre-conditions",
        "created_at": "2020-08-23T09:50:28.650000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "hmm, branch-less computations can be solved via SSA and access lists quite elegantly, yes? loops with constant number of interactions I could see having some gains",
        "created_at": "2020-08-23T09:50:39.520000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "a smart transaction pool could compose these to arrive at a better sequence of transactions",
        "created_at": "2020-08-23T09:50:47.935000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I will not be able to give you all the answers now, because I have not thought about it for that long",
        "created_at": "2020-08-23T09:51:25.550000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "but please have a think",
        "created_at": "2020-08-23T09:51:32.231000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "By \"branchless computations\" I meant something more general than just state access",
        "created_at": "2020-08-23T09:54:32.965000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "This would allow you to have dynamic state access essentially...",
        "created_at": "2020-08-23T09:55:17.981000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "I'm curious what further tradeoffs would be introduced though. Interesting.",
        "created_at": "2020-08-23T09:56:31.704000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "You can already do branchless computation today, it is just expensive. Could be made cheaper with introducing things similar to x86's \"CMOV\".",
        "created_at": "2020-08-23T09:56:37.815000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "you can also think about having some kind of \"transient state\", that exists only for these computations, and allows connecting them without having to touch the Ethereum state proper. Similar to how Bitcoin transactions can communicate via tx outputs",
        "created_at": "2020-08-23T10:01:41.497000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "because communicating via Ethereum state proper is a great overkill, and comes with a very high cost",
        "created_at": "2020-08-23T10:02:30.452000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "imagine if a transaction can create a piece of data, and give it a unique name, and it is completely meaningless for any other transactions unless they also use the same name",
        "created_at": "2020-08-23T10:04:20.158000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "doing it in EVM requires transactions writing to a piece of state somewhere in a smart contract, which is probably something you would want to \"ban\" in the \"let's restrict EVM\" case",
        "created_at": "2020-08-23T10:05:35.815000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "and it leaves the garbage lying around in the state if transactions aren't bothered to clean up (and why would they?)",
        "created_at": "2020-08-23T10:06:16.209000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "and the cool thing is that all these things can be introduced without any hard forks üôÇ",
        "created_at": "2020-08-23T10:09:58.900000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "the hard fork would only be required once we are confident we have the right solution for account abstraction",
        "created_at": "2020-08-23T10:11:03.660000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "but prior to that, all these features can work for non-abstracted transactions, and can already be quite useful",
        "created_at": "2020-08-23T10:11:34.186000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "\u003e doing it in EVM requires transactions writing to a piece of state somewhere in a smart contract, which is probably something you would want to \"ban\" in the \"let's restrict EVM\" case\n\u003c@456226577798135808\u003e Couldn't you introduce this transient state property via an opcode vs. having a special language?",
        "created_at": "2020-08-23T10:16:46.624000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "\u003e imagine if a transaction can create a piece of data, and give it a unique name, and it is completely meaningless for any other transactions unless they also use the same name\n\u003c@456226577798135808\u003e \u003c@!256103085099712512\u003e suggested something like this at some point - state reserved from one contract to another.",
        "created_at": "2020-08-23T10:18:15.599000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "It was in the context of cross-shard shared/reserved state to a specific contract that can be rolled back and then removed on completion, but is a similar idea.",
        "created_at": "2020-08-23T10:21:50.206000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "\u003c@!386690701343326219\u003e transient state property is not the only thing I think it required",
        "created_at": "2020-08-23T10:24:54.637000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!386690701343326219\u003e that idea is about non-transient storage, more about in the vein of state rent: keep account specific data under the account and let it pay for it, e.g. the balances of tokens should not be under the token contract's storage but the account which has the balance.",
        "created_at": "2020-08-23T10:25:24.424000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "my opinion is that if we want to do it, we might as well do it properly and get 100x gain vs trying to shoehorn what we've got. Because I think the difference can be that large",
        "created_at": "2020-08-23T10:26:04.766000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e I don't think the difference is that large!",
        "created_at": "2020-08-23T10:26:57.876000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e eg. my goal with account abstraction was never utopia, it was just allowing smart contract wallets to be first-class citizens and making tornado.cash like things easier to use",
        "created_at": "2020-08-23T10:27:22.777000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "I do worry about over optimizing and then running into new, deeper problems vs. starting out with something that is good and motivates us to optimize it?",
        "created_at": "2020-08-23T10:27:36.527000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Totally, you can go the path of \"shoehorning\" if it works üôÇ",
        "created_at": "2020-08-23T10:28:01.870000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "but I probably won't be joining you on that path, because I think another path is better",
        "created_at": "2020-08-23T10:28:26.195000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "so there is no harm either way",
        "created_at": "2020-08-23T10:28:41.493000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e We could always start with the easy thing and then improve it into the better thing over time",
        "created_at": "2020-08-23T10:28:53.435000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Like how improving the evm succeeded the past 5 years? üôÇ /s",
        "created_at": "2020-08-23T10:29:37.970000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "it works in some cases, but not always. My intuition tells me current direction will lack the critical mass of efficiency to be useful",
        "created_at": "2020-08-23T10:29:47.330000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "Yeah, I will be curious to hear what you and everyone thinks. At the minimum the conversation moves forward üôÇ",
        "created_at": "2020-08-23T10:32:13.298000+00:00",
        "attachments": null
    },
    {
        "author": "will7466",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003c@!386690701343326219\u003e that idea is about non-transient storage, more about in the vein of state rent: keep account specific data under the account and let it pay for it, e.g. the balances of tokens should not be under the token contract's storage but the account which has the balance.\n\u003c@!425279588009246720\u003e ah that's right. Although it had a somewhat transient nature in the clean up operation and state reserved for an address/account üôÇ",
        "created_at": "2020-08-23T10:43:28.522000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003ccdetrio\u003e Alexey called it \"linear cross-contract storage\",  it was for state rent in that context.  We borrowed the concept and just called it \"cross-contract state\", because it inspired a state model that would simplify cross-shard token transfers (re @eth1x_bridge_bot: \u003cWill\u003e \u003e imagine if a transaction can create a piece of data, and give it a unique name, and it is completely meaningless for any other transactions unless they also use the same name\n\u003c@456226577798135808\u003e \u003c@256103085099712512\u003e suggested something like this at some point - state reserved from one contract to another.)",
        "created_at": "2020-08-23T15:59:49.597000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cnanexcool\u003e leaving this group, I'm on Discord :)",
        "created_at": "2020-08-23T16:41:20.001000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cnanexcool\u003e mmm, says \"Delete and Exit\", is it possible I'm an admin?",
        "created_at": "2020-08-23T16:42:18.230000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "general",
        "parent": "",
        "content": "https://youtu.be/_TicGygVFmU\n\nPlease have a look at the video... Definitely get some idea about fake transaction...This is only my thought process to make congection free ethereum blockchain...",
        "created_at": "2020-08-23T17:37:59.861000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cjhancock76\u003e Nope, and I am not sure what delete means in your context (re @nanexcool: mmm, says \"Delete and Exit\", is it possible I'm an admin?)",
        "created_at": "2020-08-23T18:14:43.101000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cnanexcool\u003e thanks, will wing it üòÅ",
        "created_at": "2020-08-23T18:15:32.490000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Delete probably means \"delete the chat history from your computer\"",
        "created_at": "2020-08-23T18:24:45.778000+00:00",
        "attachments": null
    }
]