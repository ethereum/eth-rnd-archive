[
    {
        "author": "marchhill",
        "category": "Cross-layer",
        "parent": "",
        "content": "hey \u003c@762919002196410400\u003e \u003c@796570016966770688\u003e could we add a test for a storage slot that returns to the same value within a transaction? for example we shouldn't have a slot change like this:\n```\n{\n  \"slot\": \"0x000000000000000000000000000000000000000000000000000000000000000c\",\n  \"changes\": [\n    {\n      \"txIndex\": 1,\n      \"newValue\": \"0x0000000000000000000000000000000000000000000000000000000000000001\"\n    },\n    {\n      \"txIndex\": 3,\n      \"newValue\": \"0x0000000000000000000000000000000000000000000000000000000000000001\"\n    }\n  ]\n}\n```",
        "created_at": "2025-10-21T10:42:53.428000+00:00",
        "attachments": null
    },
    {
        "author": "benjeyyy",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@\u0026595685821026271242\u003e spam ^",
        "created_at": "2025-10-21T10:47:48.274000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is possible, since tx_index is different? Do you mean tx_index to be same for both?",
        "created_at": "2025-10-21T10:49:22.598000+00:00",
        "attachments": null
    },
    {
        "author": "marchhill",
        "category": "Cross-layer",
        "parent": "",
        "content": "I don't think it should be possible as for the second storage change pre-value = post-value",
        "created_at": "2025-10-21T10:51:25.874000+00:00",
        "attachments": null
    },
    {
        "author": "marchhill",
        "category": "Cross-layer",
        "parent": "",
        "content": "this could happen if within a transaction a storage slot changes, then changes back to what it was pre-tx",
        "created_at": "2025-10-21T10:51:59.931000+00:00",
        "attachments": null
    },
    {
        "author": "marchhill",
        "category": "Cross-layer",
        "parent": "",
        "content": "in this case if the storage value before the block was 0x1, there should just be a storage read recorded",
        "created_at": "2025-10-21T10:53:08.108000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Cross-layer",
        "parent": "",
        "content": "**EIP-7928 Breakout #5** call â€” [Oct 22",
        "created_at": "2025-10-21T10:55:36.716000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "You are right! The post_value for all bal fields should be unique across all tx to avoid redundant information (we only use the first write). Thoughts \u003c@792404665068158998\u003e \u003c@796570016966770688\u003e ?",
        "created_at": "2025-10-21T11:16:20.164000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "We should already have that. Post value is linked to the bal index. 2 txs modifying the same slot end up with two independent entries. If it's only 1 tx modifying but the modifying back to the original, then we must record the slot read.",
        "created_at": "2025-10-21T11:20:42.539000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "Right - this is covered in the [no-op write test case](http://localhost:3000/?test=test_bal_noop_storage_write) already the write becomes a read.",
        "created_at": "2025-10-21T11:23:59.389000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "code and nonce cannot have the same pre and post value. That leaves balance, which is covered in [net zero-balance change](https://pokebal.raxhvl.com/?test=test_bal_net_zero_balance_transfer) and [zero-value transfer](https://pokebal.raxhvl.com/?test=test_bal_zero_value_transfer) . Think that covers everything?",
        "created_at": "2025-10-21T11:29:51.938000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "We could also write a test with duplicates to ensure clients rejects such kind of BALs just to be sure.",
        "created_at": "2025-10-21T11:32:56.256000+00:00",
        "attachments": null
    },
    {
        "author": "marchhill",
        "category": "Cross-layer",
        "parent": "",
        "content": "I don't think it's covered as Nethermind had this bug but passed all of the tests",
        "created_at": "2025-10-21T11:35:22.915000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think we should include coinbase even if it is not rewarded. State clear assumes that this account is going to be touched. I found one test from suite that has this behaviour. (Will add this comment to github PR)",
        "created_at": "2025-10-21T13:31:50.620000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@762919002196410400\u003e how to trigger the tests in https://pokebal.raxhvl.com/ ?",
        "created_at": "2025-10-21T13:34:46.782000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "Its updated once everyday. Please ping me if you need a refresh otherwise.",
        "created_at": "2025-10-21T15:10:39.402000+00:00",
        "attachments": null
    }
]