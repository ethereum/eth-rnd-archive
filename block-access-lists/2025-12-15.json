[
    {
        "author": "ethpandaops-devnet-pulse-v2",
        "category": "Cross-layer",
        "parent": "",
        "content": "",
        "created_at": "2025-12-15T01:00:00.334000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "do we need to update bal-devnet-1 or bal-devnet-0 ? I see that BAL tests are still running on bal-devnet-1",
        "created_at": "2025-12-15T06:32:23.218000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "we are trying to run bal 2.0.0 but it seems something is wrong in this test.\n\nif you check the BAL \"0xf902daf89f9400000961ef480eb55e80d19ad83579a64c007002c0f884a00000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000002a00000000000000000000000000000000000000000000000000000000000000003c0c0c0f89f940000bbddc7ce488642fb579f8b00f3a590007251c0f884a00000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000002a00000000000000000000000000000000000000000000000000000000000000003c0c0c0f862940000f90827f1c53a10cb7a02335b175320002935f847f845a00000000000000000000000000000000000000000000000000000000000000000e3e280a02326fe639072d08533652fccdcbab233d5abc2e83d04e68103f1b4cccef01bf1c0c0c0c0f88394000f3df6d732807ef1319fb7b8bb8522d0beac02f847f845a0000000000000000000000000000000000000000000000000000000000000000ce3e280a0000000000000000000000000000000000000000000000000000000000000000ce1a0000000000000000000000000000000000000000000000000000000000000200bc0c0c0e9940cc3e75918bf790b1a23a2d210a81db54e305930c0c0cccb01893635c9adc5de9c0824c3c20101c0e0942adc25665018aa1fe0e6bc666dac8fc2697ff9bac0c0c6c501830130c2c0c0f86294f480127a5d253e382993030c0afdc0751b0eb2fcf847f845a00000000000000000000000000000000000000000000000000000000000000001e3e201a00000000000000000000000000000000000000000000000000000000000000042c0c0c0c0\"\n\nyou still see some storage values with leading zeros",
        "created_at": "2025-12-15T07:43:34.287000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "e08df7b0b81d0aa670a42c937d3819a0c2bd94601d0224325d23ab8c67ef30db"
            }
        ]
    },
    {
        "author": "qu0b",
        "category": "Cross-layer",
        "parent": "",
        "content": "The tests are still running on bal-devnet-0 but we will switch this over to bal-devnet-1 once client teams have forked from bal-devnet-0 to bal-devnet-1",
        "created_at": "2025-12-15T08:08:09.027000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@796570016966770688\u003e pushed an [update](https://github.com/ethereum/execution-specs/pull/1912) for this maybe we missed some occurances",
        "created_at": "2025-12-15T09:19:54.008000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "Cross-layer",
        "parent": "",
        "content": "do you by chance have a list of all tests where you saw this happen was it just `test_bal_storage_writes`?",
        "created_at": "2025-12-15T09:21:23.930000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Cross-layer",
        "parent": "",
        "content": "v2.0.0 version has U256 in json bal (didn't check rlp). Fine with this move.",
        "created_at": "2025-12-15T09:29:40.224000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Cross-layer",
        "parent": "",
        "content": "Have one failing test on selfdestruct with oog ðŸ§µ",
        "created_at": "2025-12-15T09:30:50.556000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "We have some failing tests with CALL, but it's expected. for the moment didn't found another issue not related to that",
        "created_at": "2025-12-15T10:05:01.471000+00:00",
        "attachments": null
    },
    {
        "author": "b.hartnett",
        "category": "Cross-layer",
        "parent": "",
        "content": "Nimbus EL has been updated to support the latest changes on our bal-devnet-1 branch and it looks like we have only one failing testcase which is the self destruct oog test.",
        "created_at": "2025-12-15T12:16:52.481000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hope this fixes it \u003chttps://github.com/ethereum/execution-specs/pull/1921\u003e",
        "created_at": "2025-12-15T12:45:11.985000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "maybe also this one tests/amsterdam/eip7928_block_level_access_lists/test_block_access_lists.py::test_bal_storage_reads",
        "created_at": "2025-12-15T13:44:40.871000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm a bit confused by this. These tests don't exist in `v2.0.0`",
        "created_at": "2025-12-15T14:12:39.878000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "Discussing with \u003c@425572898787426305\u003e, the following might be the best solution re \"where do BALs live\":\nCL only stores the BAL root but not the full BAL and when serving historical blocks, CL fetches BAL from local EL via a new engine_getBALsBy{Hashes,Range} method.\nWe would define a retention period that is long enough to enable snap-sync optimizations.\nBAL is removed from the block body, as done in [this PR](https://github.com/ethereum/execution-specs/pull/1917) such that ELs can store them independently from the bodies.\n\ncc \u003c@543900561460822016\u003e \u003c@755590043632140352\u003e \u003c@628018527470616606\u003e \u003c@654267572107083777\u003e \u003c@122421399213047814\u003e \u003c@429719902363058177\u003e",
        "created_at": "2025-12-15T14:19:10.094000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "will try clean and restart",
        "created_at": "2025-12-15T14:21:57.045000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "true it's not here anymore after a clear ðŸ‘»",
        "created_at": "2025-12-15T14:24:30.637000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "Cross-layer",
        "parent": "",
        "content": "Sounds good. Flag anything else you find in here ðŸ™‚",
        "created_at": "2025-12-15T14:25:15.103000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "Cross-layer",
        "parent": "",
        "content": "I don't think this is needed. We have the types all aligned. Do you see any issues that this fixes \u003c@577788234810130432\u003e ?",
        "created_at": "2025-12-15T14:25:51.045000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "Cross-layer",
        "parent": "",
        "content": "I see a lot of tests also failing in the CI/CD this does not seem like the right approach, closed my PR",
        "created_at": "2025-12-15T14:32:47.323000+00:00",
        "attachments": null
    },
    {
        "author": "qu0b",
        "category": "Cross-layer",
        "parent": "",
        "content": "should have spent more time on the PR than the picture ðŸ˜„",
        "created_at": "2025-12-15T14:33:37.698000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "so the BAL will be in the envelope and not in the payload? this sounds like the worst decision to me since the CL has zero need for this and it forces to blind out another field of the envelope for storage. Can we schedule a call to discuss this? I'm meeting tomorrow with Justin so that he explains me what the hell the execution payload header really is. I believe you guys may be designing BAL as if that object will continue existing in the CL.",
        "created_at": "2025-12-15T14:44:02.839000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah let's do that. There's also the BAL (EIP-7928) breakout call scheduled on wednesday where we would discuss that topic. Do you think you can make it, otherwise I would schedule a call for tomorrow?",
        "created_at": "2025-12-15T14:58:17.274000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003e ... may be designing BAL as if that object will continue existing in the CL.\nNot really. We'd more treat them like transactions on the CL (on the CL, store root but not the transactions).\nI guess it would make sense for more people from the CL side to join the breakout call to align BALs and ePBS with each other.",
        "created_at": "2025-12-15T15:02:27.368000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Apologies, I can't make it on Wednesday I'm meeting a student that has a very hard time to come meet me, so can' t really change that meeting",
        "created_at": "2025-12-15T16:39:51.612000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "no worry, I'll dm you to schedule another call",
        "created_at": "2025-12-15T16:42:51.730000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003e on the CL, store root but not the transactions\nYes, but this is for the whole payload now. The CL will store the payload envelope and will store the root of the full `ExecutionPayload(Container)`  class. So the best for us would be to keep the BALs as a field in the ` ExecutionPayload`  class, can be at the same hierarchical level as the `transactions`  object or the `blob_gas_used`  or whatever",
        "created_at": "2025-12-15T16:43:15.467000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "what is the motivation here?",
        "created_at": "2025-12-15T16:43:28.238000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I feel the clean design is to have an `ExecutionPayloadEnvelope()`  that contains all the things the EL needs from the payload to process it, and inside it we have an `ExecutionPayload()` that contains crap we don't care about so we just hash that and keep the root. BALs is something we don' t care about. If we can avoid therefore having the BALs in the part that we care about, that would be good",
        "created_at": "2025-12-15T16:44:51.267000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah, that's what I meant. And CLs would then store only the BAL root and not the full BAL, while the EL stores the full BAL?",
        "created_at": "2025-12-15T16:57:07.745000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "yes, but the point is that what we do not need is inside already of the `ExecutionPayload`",
        "created_at": "2025-12-15T17:01:23.195000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "and it seems you want to move it outside of it",
        "created_at": "2025-12-15T17:01:28.915000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "into the `ExecutionPayloadEnvelope`",
        "created_at": "2025-12-15T17:01:35.288000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "Right now, we've been building on top of osaka. Doing so, the BAL is passed from the CL to the EL via the `ExecutionPayload` over the engine api. Now the question was, what is the \"best\" thing to do, having different possibilities of \"where to put the BAL\" and \"where to store it\".",
        "created_at": "2025-12-15T17:02:44.089000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah agree, we can keep the BAL inside the `ExecutionPayload` without impacting where the EL eventually puts it (throwing it into the EL STF vs keeping it outside). I initially got that wrong in my engine api specs above. So yeah, let's keep it in the ExecutionPayload while not including it in the EL block body.",
        "created_at": "2025-12-15T17:04:12.818000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "exactly! thanks, this was my understanding that this was the best option",
        "created_at": "2025-12-15T17:20:16.890000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This way the CL only blinds the full `ExecutionPayload` and in the same engine API call the EL gets it",
        "created_at": "2025-12-15T17:20:44.072000+00:00",
        "attachments": null
    }
]