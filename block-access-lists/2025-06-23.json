[
    {
        "author": "nero_eth",
        "category": "Execution Layer",
        "parent": "",
        "content": "I will move the EIP over to use RLP over SSZ. This avoids complexity around having SSZ on the EL. The downside is that we cannot easily proof things against the state diffs we encode in BALs anymore. Better to wait until the whole EL transitions to SSZ.\nI created this report about RLP vs. SSZ sizes and the tldr is that RLP reduced the size of the object by a few %, nothing really significant, both, for variants with and without reads:\nhttps://github.com/nerolation/eth-bal-analysis/blob/main/reports/RLP_vs_SSZ_BAL_Comparison_Report.md",
        "created_at": "2025-06-23T17:04:12.634000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Execution Layer",
        "parent": "",
        "content": "Also updated the raw bals in the repo, as well as modified the original bal builder to encode using RLP:\nhttps://github.com/nerolation/eth-bal-analysis/tree/main",
        "created_at": "2025-06-23T17:09:52.359000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I feel like being able to prove against BALs is pretty critical.",
        "created_at": "2025-06-23T17:22:38.580000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I don't have anything specific in mind at the moment, but it feels like it probably is necessary for flat DB partial state clients.",
        "created_at": "2025-06-23T17:23:11.825000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yeah I agree. Would you say it's worth doing this independently of the rest of the EL moving to SSZ, risking it may add complexity since it'd be the first SSZ object on the CL? \nI see why it'd be nice but I'm not sure about the additional complexity.\nIn terms of size, the differences are negligible.",
        "created_at": "2025-06-23T17:34:55.981000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I have always argued that *something* needs to be the \"first place in the EL that uses SSZ\".  I think if we try to wait to migrate everything to SSZ at once it'll never happen.",
        "created_at": "2025-06-23T17:39:04.089000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Even way back in EIP-2718 and EIP-2780, I originally argued that they should use SSZ.  I backed off after much resistance (like it sounds like you are here), but the same situation has occurred over and over again over the years.",
        "created_at": "2025-06-23T17:39:54.759000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yeah, this would be a little dirty though. In the json for the engine api, we'd have the ssz serialized bal inside the rlp stream.\nSo far, people I've talked to prefered RLP for simplicity. \u003c@199561711278227457\u003e \u003c@892053833121923094\u003e",
        "created_at": "2025-06-23T17:44:30.478000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Execution Layer",
        "parent": "",
        "content": "Just to clarify, I think BAL in the engine api new payload should be plain json IMO, because this EL-CL comm is normally not bandwidth constrained, and the ssz switch should be for the entire payload if we decide to switch at some point, instead of just a specific field IMO.",
        "created_at": "2025-06-23T17:55:14.529000+00:00",
        "attachments": null
    }
]