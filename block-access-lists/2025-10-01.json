[
    {
        "author": "lukaszrozmej",
        "category": "Cross-layer",
        "parent": "",
        "content": "How much effort would be to switch from Hash-\u003eRoot? If not much I would say do it now.",
        "created_at": "2025-10-01T08:13:57.589000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "computing the root alone feels like it would be an easy change.  We already do it with the receipts.\n\nI guess it's mostly a question of the key format/ordering.  Would be nice if we could keep the same access list encoding format as we do currently and the key ordering of the trie would reflect the way data is ordered right now.",
        "created_at": "2025-10-01T09:52:20.842000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "test-case idea(s).  variations of the following:  set some state value and then modify it again to the same value as it had before the current transaction.  Test this with various account fields and storage slots.\n\nHave another variant of this test where by the end of the transaction, the entire account becomes unmutated.  The account should be included in the BAL as a read (?)",
        "created_at": "2025-10-01T12:14:35.004000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "maybe also generate BAL for all existing tests when possible and check BAL instead of just creating new tests",
        "created_at": "2025-10-01T12:17:14.864000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "the case I'm talking about  (probably) isn't covered in the existing spec tests even if they were to be converted",
        "created_at": "2025-10-01T12:17:52.811000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "but yes, I've also requested the existing tests to be converted to BAL format.  I've been doing that locally already to test changes to Geth",
        "created_at": "2025-10-01T12:18:17.351000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "tbf, it's not a trivial undertaking to do this and ensure the resulting tests are correct.",
        "created_at": "2025-10-01T12:18:33.630000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "also a lot of the  legacy tests are extremely hard to understand and have no documentation",
        "created_at": "2025-10-01T12:19:41.978000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Cross-layer",
        "parent": "",
        "content": "I just remembered this one. ðŸ˜…  https://github.com/ethereum/execution-spec-tests/blob/4215632e8f9bb8bb97839e6d39d7877ce9213b9f/tests/static/state_tests/stSystemOperationsTest/extcodecopyFiller.json#L4",
        "created_at": "2025-10-01T12:21:41.809000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah,  https://github.com/ethereum/tests has plenty of that",
        "created_at": "2025-10-01T12:25:02.030000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "We have covered that for balance and storage.\n\nNonce and code cannot have the same pre and post value. Does this cover what you have in mind?",
        "created_at": "2025-10-01T12:39:04.875000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "d29cb47530ee3c8083bbe942dbb1bcf3bcb59b8e714f1cb521bf5752bdb4becc"
            },
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "fe1254742c8b2b134fecfa27ac4f536883042e97dbc5548b4a4998f6b7a39b96"
            }
        ]
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "nice!  would be cool to expand that to have a case where the entire account is a no-op mutation, and recorded as a read",
        "created_at": "2025-10-01T12:40:24.948000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "There is also a no-op adjacent case using evm revert / invalid that we previously descussed \n\nWe are currently reviewing the PR https://github.com/ethereum/execution-spec-tests/pull/2178",
        "created_at": "2025-10-01T12:43:39.359000+00:00",
        "attachments": [
            {
                "type": "image/webp",
                "origin_name": "image.png",
                "content": "9f82e4cf4052b95d899a7d388c62de9c6b941c95d44b7ada8951e0e846598ebf"
            }
        ]
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "Added it now: https://github.com/ethereum/execution-spec-tests/pull/2178/commits/97e7edcf6f0b1ac8effd0fa344cb27ecac71cc4b, think that covers it?",
        "created_at": "2025-10-01T13:05:47.777000+00:00",
        "attachments": [
            {
                "type": "image/webp",
                "origin_name": "image.png",
                "content": "e7d1e1a3cb2ac0ef4263c09d8eb2a8a24e27b6d12e890486d882c825027c03b8"
            }
        ]
    }
]