[
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "found a bug while reviewing my own code, which revealed an untested edge-case:\n* contract A mutates storage slot X\n* contract A recursively calls itself, which reads the value of X.\n* X should show up as a storage mutation in the BAL.  In my case, it was erroneously also included in the read set.",
        "created_at": "2025-10-15T06:50:53.162000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "i.e writes takes precedence over reads, no matter the number/order of operations?",
        "created_at": "2025-10-15T06:53:48.363000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "yep",
        "created_at": "2025-10-15T06:54:04.383000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Cross-layer",
        "parent": "",
        "content": "the bug in geth is due to the call in this case though.  if the write-then-read happened in the same call-frame, geth's behavior would have been correct.",
        "created_at": "2025-10-15T06:54:18.633000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "Test coming soon ™️",
        "created_at": "2025-10-15T06:54:47.360000+00:00",
        "attachments": null
    },
    {
        "author": "raxhvl",
        "category": "Cross-layer",
        "parent": "",
        "content": "We'll have two versions both for same and cross frame just to be safe.",
        "created_at": "2025-10-15T06:56:39.079000+00:00",
        "attachments": null
    },
    {
        "author": "icree23",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@796570016966770688\u003e \u003c@762919002196410400\u003e found that not all the proposed post blocks concerning 7702 has the coinbase entry..the present set of tests donot include coinbase if there is no balance change ? Just re confirming . cc \u003c@1278674630747492406\u003e",
        "created_at": "2025-10-15T18:38:58.723000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "Cross-layer",
        "parent": "",
        "content": "Not at my computer right now but I will check this on the specs side in a bit. Thanks for the ping.",
        "created_at": "2025-10-15T20:58:20.598000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "Cross-layer",
        "parent": "",
        "content": "What is the concern here? Are there any of the current tests in particular you were looking at?",
        "created_at": "2025-10-15T21:56:39.272000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "Cross-layer",
        "parent": "",
        "content": "Nevermind I found this. The specs currently only track if there is a fee transfer (confirming your observation, EELS implementation is currently wrong here). This is actually [up for discussion in the next breakout](https://discord.com/channels/595666850260713488/1364000387195076608/1426641397582270514) and was assumed the case in the EIP up until it changed this week [here](https://github.com/ethereum/EIPs/pull/10527/files#diff-b4ae44357044a8606fc10a6d8433e1ee2135b1111042c88876bd58d6f11c1d6dR172).\n\nIt seems most are open to change it to what is currently in the test vectors (no coinbase at all if `0` transfer), but according to the current state of the EIP, the coinbase _should_ be included in the BAL with empty changes in these cases (as a read).",
        "created_at": "2025-10-15T23:15:12.827000+00:00",
        "attachments": null
    },
    {
        "author": "m0_ox",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's a shame because this invalidates what are supposed to be 7702 tests. The interim fix is probably to provide a tip in all of the current tests and release a patch `v1.3.1` with these updated vectors. Although this is not ideal. I think the real fix is to fix the specs to include the coinbase with no changes on `0` transfers and re-fill the tests as this would bring it up-to-date with the EIP.",
        "created_at": "2025-10-15T23:22:34.894000+00:00",
        "attachments": null
    }
]