[
    {
        "author": "plasmapower",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "One other question, was it intended for the sequencer to move people out of the lobby if they're inactive? That doesn't seem to be implemented, but I'm not really sure what it means to be in the lobby otherwise.",
        "created_at": "2022-12-08T04:02:36.213000+00:00",
        "attachments": []
    },
    {
        "author": "plasmapower",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "As-is I think the lobby_size metric from `/info/status` is pretty useless since most of those people probably aren't still polling `try_contribute`",
        "created_at": "2022-12-08T04:03:43.108000+00:00",
        "attachments": []
    },
    {
        "author": "plasmapower",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hmm, nevermind, I think I just missed it in `clear_lobby_on_interval`",
        "created_at": "2022-12-08T04:07:46.051000+00:00",
        "attachments": []
    },
    {
        "author": "plasmapower",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm not sure why the lobby size is so large then. I hope the sequencer isn't stuck again ðŸ˜¦",
        "created_at": "2022-12-08T04:19:42.440000+00:00",
        "attachments": []
    },
    {
        "author": "plasmapower",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah nope, I got through! I think there's just a bunch of people trying out the test ceremony right now ðŸ˜„",
        "created_at": "2022-12-08T04:32:46.464000+00:00",
        "attachments": []
    },
    {
        "author": "plasmapower",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I got it all the way to contributing but it seems it serialized the contribution incorrectly. Here's what I've got so far: https://github.com/dknopik/towers-of-pau/pull/4",
        "created_at": "2022-12-08T05:52:58.930000+00:00",
        "attachments": []
    },
    {
        "author": "plasmapower",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Seems like it's sending a BatchTranscript to `/contribute` when it should be sending a BatchContribution. I think a larger issue is that it's querying `/info/current_state` and validating the whole history of contributions when it doesn't need to. It only needs to deserialize the response from `/try_contribute` and apply the contribution to that.",
        "created_at": "2022-12-08T06:00:25.590000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If you are in the lobby, it means you are polling the sequencer to try and get the contribution spot. Though if you stop pinging the sequencer, they notice and every X seconds they will clear the lobby for those who have not pinged in Y seconds",
        "created_at": "2022-12-08T10:41:14.931000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Lobby size was chosen quite arbitrarily, if you cannot get into the lobby then it means that the sequencer is very busy",
        "created_at": "2022-12-08T10:43:10.044000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That might be a remnant of an older spec, I had initially made it two pings to contribute, but you only need one ping from /try_contribute\n\nThe latter is more secure because you could get the contribution spot and may not be able to get the contribution file due to everyone pinging that endpoint or you may get an outdated one",
        "created_at": "2022-12-08T10:46:39.147000+00:00",
        "attachments": []
    }
]