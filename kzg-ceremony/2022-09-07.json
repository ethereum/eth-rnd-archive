[
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://twitter.com/samrags_/status/1567540160908361728",
        "created_at": "2022-09-07T16:20:10.083000+00:00",
        "attachments": null
    },
    {
        "author": "nicoserranop",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://tenor.com/view/book-of-boba-fett-the-mandalorian-this-is-the-way-the-book-of-boba-fett-mandalorian-gif-24825263",
        "created_at": "2022-09-07T16:23:53.574000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@427491045308235776\u003e what status or info of coordinator can send? online, offline?  üòÖ",
        "created_at": "2022-09-07T18:19:51.097000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Do you mean what information can the coordinator send to clients? (re @kzg_ceremony_bot: \u003cChiali\u003e \u003c@427491045308235776\u003e what status or info of coordinator can send? online, offline?  üòÖ)",
        "created_at": "2022-09-07T18:23:11.274000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yep~i have this in the ui, wonder what other status i can mock up  üôÇ",
        "created_at": "2022-09-07T18:23:45.638000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "unknown.png",
                "content": "7f399cf1523b32eb362a01cb90fa783d28fd78ebd1774ec6020eea61643f87ae"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  I can publish a document to show you what the new endpoints are, in particular what /status will return (re @kzg_ceremony_bot: \u003cChiali\u003e [reply]: yep~i have this in the ui, wonder what other status i can mock up  üôÇ\nhttps://cdn.discordapp.com/attachments/974028042257190933/1017138120866664468/unknown.png)",
        "created_at": "2022-09-07T18:27:21.230000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e Here is the new document with the lobby idea etc that was mentioned, the /status endpoint is what you call to get status information on the ceremony\n\nhttps://hackmd.io/@6iQDuIePQjyYBqDChYw_jg/rJxSMY5Js#Info",
        "created_at": "2022-09-07T18:30:28.241000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e Some Notes:\n\n-For OAuth, I assume that one is familiar with the Authorisation code flow (theres plenty of documentation out there on it and its pretty standard)\n\n- After a participant contributes, the coordinator will give the contributor a receipt which is just an encoded JWT token. This solves the problem of the coordinator saying the contribution was good, but then later just throws it away.\n\n- There is no lobby/leave endpoint but maybe that should be added.\n\n- We no longer require the client to keep pinging the coordinator when they start contributing and periodically while contributing. Once they get the contribution spot, they have a deadline to contribute and send the new state back\n\n- ^ So clients only ping to try and get into the contribution spot from the lobby\n\n- I removed JWT usage for endpoint authorisation. Its only used for authentication and as a convenient way to transfer information in a canonical format",
        "created_at": "2022-09-07T18:36:15.462000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e Things I have not specified:\n\n- I am yet to specify the asymmetric JWT algorithm to use. It defaults to HMAC which is wrong\n\n- I also did not specify the criteria needed for a github/Ethereum account to be valid (\nI think for Github, we said a commit from April and Ethereum nonce \u003e 3)\n\n- We also discussed blocking anyone that goes over the deadline to contribute\n\n- Adding the country location of the IP Address",
        "created_at": "2022-09-07T18:38:44.300000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thank you ser.",
        "created_at": "2022-09-07T18:48:51.961000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@667218411440308235\u003e üëÜ  üôÇ",
        "created_at": "2022-09-07T18:51:35.025000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Np, the receipts list is based on what was discussed in the design meeting. I guess the important thing here from the UI perspective is to remove the usage of the word \"queue\" as there is no longer one.\n\nParaphrasing Carl; Its like a game lobby where you wait until its your turn to play (re @kzg_ceremony_bot: \u003cChiali\u003e thank you ser.)",
        "created_at": "2022-09-07T18:54:08.630000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "got ya~\nbut its still first come first serve? i was following a bit the conversation last week but not sure if i get it 100% üòÖ",
        "created_at": "2022-09-07T18:58:48.903000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Ah nope, so that would imply some sort of queueing strategy. \n\nI can get into the lobby last and contribute before you, if I request the spot at exactly the moment it gets freed up. So once I am in the lobby its fair game as to whoever gets the spot\n\nIdeally you do not wait for a long time, unless the lobby is always super crowded and you are super unlucky (re @kzg_ceremony_bot: \u003cChiali\u003e [reply]: got ya~\nbut its still first come first serve? i was following a bit the conversation last week but not sure if i get it 100% üòÖ)",
        "created_at": "2022-09-07T19:01:34.572000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "in this logic, we wont be able to let user know when the spot they request will be free up, right? or we actually can ü§ì",
        "created_at": "2022-09-07T19:04:12.658000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Yeah thats correct, you won't be able to tell them exactly when they will be able to reserve the spot. I think you can only say something like \"Polling for contribution spot\" like in games where you are in the lobby and it just says \"Finding a match\" (re @kzg_ceremony_bot: \u003cChiali\u003e [reply]: in this logic, we wont be able to let user know when the spot they request will be free up, right? or we actually can ü§ì)",
        "created_at": "2022-09-07T19:06:38.069000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "üïπÔ∏è",
        "created_at": "2022-09-07T19:07:11.476000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e Another benefit of the lobby narrative, is that if the coordinator shuts down, you don't need to save the lobby because its a lobby and not some ordered queue where users might be expecting to be brought back to their original position. \n\nThis along with the fact that theres plenty of time for users to contribute means that its reasonable to expect users to just re-enter the lobby at some later date.\n\nRE choosing lobby size; I did not specify anything in that doc because the coordinator needs to flush inactive participants from the lobby every X seconds and this requires a linear scan of the lobby, so the bigger the lobby the longer the coordinator needs to hold the RWLock on the lobby",
        "created_at": "2022-09-07T19:19:00.800000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh, another question i have, with the lobby style, do we still have the same logic if user didn't come back online for a while (many hours), they just basically lost the chance to participate?",
        "created_at": "2022-09-07T19:28:51.885000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  I think in essence yes, once you sign-in you are immediately in the lobby and you should be polling the coordinator every X seconds to get a spot. \n\nIf you don't do this, you get kicked but as specified currently its not forever.\n\nIf you manage to get the spot to contribute, you have ~3 Minutes to contribute, if you do not contribute within the three minutes, then you get kicked forever (re @kzg_ceremony_bot: \u003cChiali\u003e oh, another question i have, with the lobby style, do we still have the same logic if user didn't come back online for a while (many hours), they just basically lost the chance to participate?)",
        "created_at": "2022-09-07T19:33:03.411000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thank you, very helpful info. I captured these in my figma üôÇ",
        "created_at": "2022-09-07T19:42:43.005000+00:00",
        "attachments": null
    },
    {
        "author": "chiali",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "teaser for some visual updates I made in the past days",
        "created_at": "2022-09-07T19:43:14.617000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "unknown.png",
                "content": "c03e9701fe1da41918d20b85ea3c3081f5d654128e4678fc29e3bac819cc2580"
            }
        ]
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this is looking great!, love the aesthetic progress. sorry i haven't given feedback recently, Merge stuff taking up time",
        "created_at": "2022-09-07T20:57:07.454000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cRecmo\u003e \u003e \u003cRecmo\u003e  A priority queue will solve turn that linear scan into something log n. But this is not going to be exact so we could even do approximations like `lobby_occupancy = polling_frequency_ema * polling_interval`. Constant time üòÑ (re @kevaundray: Another benefit of the lobby narrative, is that if the coordinator shuts down, you don't need to save the lobby because its a lobby and not some ordered queue where users might be expecting to be brought back to their original position. \n\nThis along with the fact that theres plenty of time for users to contribute means that its reasonable to expect users to just re-enter the lobby at some later date.\n\nRE choosing lobby size; I did not specify anything in that doc because the coordinator needs to flush inactive participants from the lobby every X seconds and this requires a linear scan of the lobby, so the bigger the lobby the longer the coordinator needs to hold the RWLock on the lobby)",
        "created_at": "2022-09-07T22:35:08.235000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cRecmo\u003e Obviously gameable by modifying client side polling interval, but that can be mitigated with standard rate limiting techniques (which we should have anyway).",
        "created_at": "2022-09-07T22:38:31.716000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  I think we were getting rid of any sort of queue or ordering of the people in the lobby, though it could be that with a lobby size of 20K this linear scan will be okay if done every 10-30 seconds for example (re @Recmo: A priority queue will solve turn that linear scan into something log n. But this is not going to be exact so we could even do approximations like lobby_occupancy = polling_frequency_ema * polling_interval. Constant time üòÑ)",
        "created_at": "2022-09-07T22:42:10.644000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Here is a short document now specifying the asymmetric JWT algorithm to use: https://hackmd.io/@6iQDuIePQjyYBqDChYw_jg/S1KeSFUgi (re @kevaundray: Things I have not specified:\n\n- I am yet to specify the asymmetric JWT algorithm to use. It defaults to HMAC which is wrong\n\n- I also did not specify the criteria needed for a github/Ethereum account to be valid (\nI think for Github, we said a commit from April and Ethereum nonce \u003e 3)\n\n- We also discussed blocking anyone that goes over the deadline to contribute\n\n- Adding the country location of the IP Address)",
        "created_at": "2022-09-07T22:50:31.446000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003ckevaundray\u003e Went with PS256 as RS256 has had an attack in the past due to wrong implementations which we cannot guarantee against, ECDSA has a known nonce reuse problem that would ideally be nice to avoid and edDSA doesn't have widespread support in many jwt libraries on jwt dot io",
        "created_at": "2022-09-07T22:51:49.377000+00:00",
        "attachments": null
    }
]