[
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What's the feeling on using `mainnet` specs instead of a custom `minimal` config? LH doesn't really support arbitrary lengths for state arrays (e.g., the custom `HISTORICAL_ROOTS_LIMIT` value) and I feel like we're going to run into edge cases using minimal. It's also worth noting that a bunch of p2p constants were never specified for minimal/mainnet (they just assume mainnet).",
        "created_at": "2021-04-21T03:51:33.515000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Given the incomplete specifications and lack of use, we assumed that we won't see minimal testnets again and don't even include it in the runtime binary (but it can be added with a feature flag).",
        "created_at": "2021-04-21T03:53:43.465000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Separate topic, I'm trying to run Teku so I can try and sync Lighthouse to it. However, Teku doesn't seem to be producing blocks. I've provided `--validator-keys` and I can see `15:23:28.997 INFO  - Loaded 64 Validators ...`, however I just notifications for empty slots and epochs (nothing else really).",
        "created_at": "2021-04-21T05:24:55.513000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e \u003c@!425572898787426305\u003e while running Teku from the merge-devnet tutorial I am getting:\n\nvalidatorKeys entry (./mynetwork/private/valclient0/teku-keys:./mynetwork/private/valclient0/teku-secrets) did not contain key and password separated by ';' as expected.",
        "created_at": "2021-04-21T07:09:48.873000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "my files there look like this:",
        "created_at": "2021-04-21T07:11:55.135000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "files.txt",
                "content": "ac262eb690aa5358c51e36794d38a753a13f6db6f6ae4e52df95a297913566a1"
            }
        ]
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm not from Teku, but looks like there's a `:` separator instead of a `;`?",
        "created_at": "2021-04-21T07:13:14.351000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Notably, I get the inverse error if I swap the `:` for a `;`:\n\n```\nvalidatorKeys entry (./mynetwork/private/valclient0/teku-keys;./mynetwork/private/valclient0/teku-secrets) did not contain key and password separated by ':' as expected.\n```",
        "created_at": "2021-04-21T07:17:24.210000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@628018527470616606\u003e if you're working on testing nethermind, you could potentially start with some scripts I made yesterday. They'll exercise the assembleBlock/newBlock methods via bash scripts. Perhaps you're past this stage though üôÇ\n\nhttps://github.com/protolambda/mergenet-tutorial/tree/master/rpc_examples",
        "created_at": "2021-04-21T07:20:46.927000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "FYI, Teku is now working. I'm not sure what changed, but it works üèÖ",
        "created_at": "2021-04-21T07:24:23.725000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm trying to do interop testing with Teku now and I'm getting this error when I attempt to enable P2P:\n\n```\nTeku failed to start: java.lang.UnsupportedOperationException: Gossip not supported for fork MERGE\n```\n\nI'm guessing that syncing my LH node to Teku is out of the question atm?",
        "created_at": "2021-04-21T07:31:25.241000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Doesn't  seem to be the case, no of the files contain neither `:` nor `;`",
        "created_at": "2021-04-21T07:42:03.995000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thx, but kind of did it in my own way",
        "created_at": "2021-04-21T07:42:29.121000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "let me check this. I haven't instigated much in the p2p and assumed that it just works",
        "created_at": "2021-04-21T07:50:55.318000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks üôÇ FYI you can trigger it with:\n\n```\n  --p2p-enabled=true \\\n```",
        "created_at": "2021-04-21T07:51:56.552000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you should use `;` on windows\nlook here, https://docs.teku.consensys.net/en/latest/Reference/CLI/Subcommands/Validator-Client/#validator-keys",
        "created_at": "2021-04-21T07:55:46.187000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll add a note with special case for windows to the guide",
        "created_at": "2021-04-21T07:56:17.969000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am doig a Windows version of the guide",
        "created_at": "2021-04-21T08:03:22.547000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we can add there",
        "created_at": "2021-04-21T08:03:26.989000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "as there are quite a few differences",
        "created_at": "2021-04-21T08:03:35.371000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "will submit PR later",
        "created_at": "2021-04-21T08:03:55.262000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok clients are running",
        "created_at": "2021-04-21T08:16:17.691000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thx",
        "created_at": "2021-04-21T08:16:21.072000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "` 1 hour 58 minutes 26 seconds until genesis time is reached.` I think I did something wrong? üôÇ",
        "created_at": "2021-04-21T08:23:29.165000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "what is the genesis delay param in your case? you may just set the timestamp for eth1 genesis a bit earlier than that",
        "created_at": "2021-04-21T08:29:43.289000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "600",
        "created_at": "2021-04-21T08:31:47.280000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and timestamp was around launch time",
        "created_at": "2021-04-21T08:31:58.335000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok another issue:\n\n2021-04-21 10:29:26.9008|Executing JSON RPC call consensus_setHead with params [0x0000000000000000000000000000000000000000000000000000000000000000]\n2021-04-21 10:29:26.9008|Block 0x0000000000000000000000000000000000000000000000000000000000000000 cannot be found and it will not be set as head.",
        "created_at": "2021-04-21T08:32:11.811000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "does eth2 client assume that Genesis has hash 0x0000000000000000000000000000000000000000000000000000000000000000 ?",
        "created_at": "2021-04-21T08:32:29.620000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it takes hash from genesis.ssz which should be equal to the hash of eth1 genesis block",
        "created_at": "2021-04-21T08:33:20.368000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "can someone help me check generation of genesis.ssz? I doubt it calculates proper hash based on genesis RLP and just assumes 0x0000000000000000000000000000000000000000000000000000000000000000 for genesis?",
        "created_at": "2021-04-21T08:34:19.412000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Its fine I just need to add special case in Nethermind code",
        "created_at": "2021-04-21T08:34:28.652000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "please, send me a file and I will check it",
        "created_at": "2021-04-21T08:35:43.875000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I see its calculated here: https://github.com/protolambda/eth2-testnet-genesis/blob/783998322248d7eed8a4151be6436750531355aa/merge.go#L43-L63 but unsure how",
        "created_at": "2021-04-21T08:39:16.914000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't think `genesis.ssz` should contain the latest eth1 genesis block, the latest spec seems to require the consensus node to learn it from the exeuction node via `get_pow_chain_head`.",
        "created_at": "2021-04-21T08:39:56.852000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`1 hour 56 minutes 4 seconds until genesis time is reached. Peers: 0` - Maybe its something with local timezone?",
        "created_at": "2021-04-21T08:41:46.028000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There isn't anything like that in current spec: https://github.com/ethereum/rayonism/blob/master/specs/merge.md",
        "created_at": "2021-04-21T08:42:30.696000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm suggesting it's an issue with Teku's implementation (or the spec)",
        "created_at": "2021-04-21T08:43:47.003000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "for rayonism we have a setup with genesis execution payload which is basically eth1 genesis block",
        "created_at": "2021-04-21T08:44:17.428000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I haven't got to implementing `setHead`, so perhaps I'm ignorant",
        "created_at": "2021-04-21T08:44:20.757000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it's been described in this guide, https://notes.ethereum.org/@protolambda/merge-devnet-setup-guide\nAs this is more a matter of configuration rather than spec",
        "created_at": "2021-04-21T08:46:26.099000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The default eth1 genesis time in the tutorial was set to some time today. I think you're just seeing that. Make sure to change it in the `mergenet.yaml`",
        "created_at": "2021-04-21T08:48:33.462000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Eth2 genesis time = Eth1 genesis time + eth2 genesis delay. This should be compatible with the eth2 phase0 behavior, where we embed a block of the Eth1 chain into the genesis state, and add the delay to that for first-slot time.",
        "created_at": "2021-04-21T08:51:36.013000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e I did: eth1_genesis_timestamp: 1619000670",
        "created_at": "2021-04-21T09:01:37.459000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh I did set it too high",
        "created_at": "2021-04-21T09:02:29.113000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hm...",
        "created_at": "2021-04-21T09:02:34.109000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "my powershell script has a bug üôÇ",
        "created_at": "2021-04-21T09:02:43.411000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I have Lighthouse building a chain with Catalyst üéâ I'll come back tomorrow and add docs.",
        "created_at": "2021-04-21T09:21:16.522000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Congrats on that! üéâ",
        "created_at": "2021-04-21T09:23:33.340000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "great news!",
        "created_at": "2021-04-21T09:23:36.977000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003chwwang\u003e Awesome üéâüéâ",
        "created_at": "2021-04-21T09:52:14.423000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e question about encoding transactions in communication. Currently its Json array of Transaction RLP's, wouldn't it be better/simpler to have a RLP of transactions array? Not sure if worth thinking about it though. And yes I missunderstood that üôÇ",
        "created_at": "2021-04-21T10:49:09.394000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Beacon chain spec treats transactions a a list of byte strings, it would require beacon chain node to work with RLP which is undesirable",
        "created_at": "2021-04-21T10:54:10.154000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok no problem, just got confused",
        "created_at": "2021-04-21T10:59:29.348000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "fixed and pushed on github",
        "created_at": "2021-04-21T11:13:13.086000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Some updates from our end \u003c:prysm:595688759572299806\u003e \n\n 1.) Prysm now can advance a chain with Catalyst! \n 2.) One caveat, our ssz library currently doesnt support nested `List`. I had to use a wrapper struct on top which means we are not 100% comply to the ssz spec\n 3.) We are working on instructions for 1.) and figure out a least resistance path for 2.)\n\nThe diff is here https://github.com/prysmaticlabs/prysm/compare/merge?expand=1 if anyone is interested",
        "created_at": "2021-04-21T14:23:21.230000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "got Teku \u0026 Nethermind working together will be finalising PR to mergenet-tutiorial later today: https://github.com/protolambda/mergenet-tutorial\n\nbtw its working well on windows",
        "created_at": "2021-04-21T15:19:28.459000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!628018527470616606\u003e awesome.",
        "created_at": "2021-04-21T15:21:06.749000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "FYI, for those using the mergenet-tutorial repo: pull down the latest changes. Paul from Lighthouse fixed an issue in the eth2 configuration (mixed up variable), and Mikhail added docker instructions for teku.",
        "created_at": "2021-04-21T15:22:02.484000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And Prysm has an open PR, which we'll soon merge, after we sort out the SSZ-library issue so they are compatible with the other clients.",
        "created_at": "2021-04-21T15:22:55.861000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "getting close with the ssz support üôÇ",
        "created_at": "2021-04-21T15:24:23.091000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Merged Nethermind rayonism PR: https://github.com/NethermindEth/nethermind/pull/2981 , it got a little bit out of control",
        "created_at": "2021-04-21T18:58:21.343000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!628018527470616606\u003e Excellent, looking forward to run it!\n\nFYI, I am more absent today, working on a presentation about Rayonism for the ETH Global Merge online-summit on Friday.\nThe plan is still to try a 1-day testnet soon, but because of the Merge summit on Friday, and small delays in local testnets, it's probably better to move it to Monday.",
        "created_at": "2021-04-21T19:02:22.911000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e submitted 2 PRs",
        "created_at": "2021-04-21T23:54:39.279000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "not sure if the windows one will be any usefull",
        "created_at": "2021-04-21T23:55:35.267000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!628018527470616606\u003e great! Will review them tomorrow.",
        "created_at": "2021-04-21T23:55:47.610000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The Lighthouse instructions are up too",
        "created_at": "2021-04-21T23:56:20.286000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yea, just noticed, more to review üôÇ",
        "created_at": "2021-04-21T23:56:52.680000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We're logging some eth1 errors in the period before the first eth1 block is produced. This is a bit of an edge case that doesn't really seem worth spending time on atm",
        "created_at": "2021-04-21T23:56:58.725000+00:00",
        "attachments": null
    }
]