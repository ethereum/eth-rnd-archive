[
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "navigating the blocks is quite difficult, it's all messed up, perhaps we should check the eth1 data vote before accepting blocks, there are consecutive blocks voting for the same eth1 hash, but with a different deposit count and deposit root.",
        "created_at": "2021-05-14T01:28:13.901000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Like https://nocturne.rayonism.io/block/6140 and it's previous block",
        "created_at": "2021-05-14T01:28:50.682000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've been reading the choice of eth1 data vote in Teku and I think that particular section is fine, it's just adds a little slack to the votes that you cache just to deal with some edge cases. If I understood correctly you keep a list of valid votes and then when requesting an eth1 data to vote you grab the current state, list all the current eth1 data and find the valid one with most votes. If that's empty you choose the last valid one. I wonder if the eth1 block 4697 (included in 6144)  or the Eth1 block 6332 (included in 8192) were considered valid or not. Because those are exactly at the boundary of your check in https://github.com/txrx-research/teku/blob/8b2d8fa7e6021de2fa360e391304d7b4258c9510/validator/coordinator/src/main/java/tech/pegasys/teku/validator/coordinator/Eth1DataCache.java#L95\n In these two periods the previous votes to Teku proposed blocks were either invalid (the genesis block is outside the lower bound set there) or exactly in the upper boundary",
        "created_at": "2021-05-14T02:29:00.904000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah crap, already in bed and I can't remove embeds with the cell...",
        "created_at": "2021-05-14T02:29:35.577000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The two `true` values in that call to `subMap` indicates both ends are inclusive.",
        "created_at": "2021-05-14T02:36:03.738000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah thanks, then it's a mistery from reading that file why those blocks weren't voted instead of voting on previous ones. I'll read in more detail over the weekend (Fridays I'm stuck teaching online)",
        "created_at": "2021-05-14T02:38:21.526000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There still may be an issue with timings cause as opposed to mainnet where the eth 1 block is available before the eth2 block, now the eth 1 block is only synced after it's been processed by the beacon chain",
        "created_at": "2021-05-14T02:40:20.025000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We'd be using the timestamp from the eth1 block for everything so when it appears in the client doesn't matter.  But we calculate the follow distance off what the eth1 node reports as its current head block which is obviously an area that's changed a lot with the merge.  Don't know if it could have affected this or not, but it does sound like somehow the deposit just wasn't in the cache yet.",
        "created_at": "2021-05-14T02:42:40.593000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh, but the deposits were already there way before. The deposit count of all these hashes are the same (except genesis of course). I think follow distance also doesn't play any role here since the deposits where very sporadic and where included way before.",
        "created_at": "2021-05-14T02:45:21.901000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've been following the debug messages of update follow head",
        "created_at": "2021-05-14T02:46:09.577000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And it's fine",
        "created_at": "2021-05-14T02:46:13.030000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So I think the follow distance is working as it should be on my Teku node at least",
        "created_at": "2021-05-14T02:46:38.670000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But it's not voting right anyway",
        "created_at": "2021-05-14T02:46:48.012000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Sorry I meant to say the block may not be in the cache. It seems like it's that or the end of the voting period wasn't calculated correctly somehow.  But there was too much to catch up on overnight so I haven't actually read all the detail of what's going on.",
        "created_at": "2021-05-14T02:47:55.958000+00:00",
        "attachments": []
    },
    {
        "author": "riva_07",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "join Nocturne as a validator, should i make 20200 keys?",
        "created_at": "2021-05-14T07:29:55.498000+00:00",
        "attachments": []
    },
    {
        "author": "riva_07",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i mean.. eth2-val-tools keystores \\\n  --out-loc \"$TESTNET_NAME/private/$VALIDATOR_NODE_NAME\" \\\n  --prysm-pass=\"foobar\" \\\n  --source-min=0 \\\n  --source-max=20200 \\\n  --source-mnemonic=\"lumber kind orange gold firm achieve tree robust peasant april very word ordinary before treat way ivory jazz cereal debate juice evil flame sadness\"",
        "created_at": "2021-05-14T07:30:45.386000+00:00",
        "attachments": []
    },
    {
        "author": "riva_07",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "should i set source-max 20200?",
        "created_at": "2021-05-14T07:31:04.712000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`8192` was considered as valid and default vote as I wrote previously. That was the case for a `300` slots after the beginning of the period. What I will try today is to look at eth1 votes at the beginning of the voting period. But it doesn't seem trivial to reproduce for debug purposes.",
        "created_at": "2021-05-14T08:02:38.875000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If you haven't received a mnemonic from Proto from the beginning the only way for you seems to be to get test ETH and go through deposit procedure to get onboarded. Unfortunately, there is an issue with eth1 data voting and deposited validators are stuck now and not enabled on the beacon chain. We're working on resolving this issue now.",
        "created_at": "2021-05-14T08:08:52.929000+00:00",
        "attachments": []
    },
    {
        "author": "riva_07",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok i see thanks",
        "created_at": "2021-05-14T08:20:17.385000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I see that we get forked blocks produced at slots 13340, 13360, 13375, 13410. Apparently, they are produced by the same Teku node run by Besu team. Curious what is happening there, probably this node is struggling to follow the head of the chain. cc \u003c@!524738020033691659\u003e",
        "created_at": "2021-05-14T08:46:48.173000+00:00",
        "attachments": []
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "do we have office-hours today?",
        "created_at": "2021-05-14T09:02:03.958000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we have if \u003c@!203220829473996800\u003e will appear and open the stage ðŸ™‚",
        "created_at": "2021-05-14T09:03:46.005000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Even though Teku votes are weird they are legal and doesn't prevent us from reaching majority of votes. Is this correct?",
        "created_at": "2021-05-14T09:04:56.305000+00:00",
        "attachments": []
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok I guess not, no worries",
        "created_at": "2021-05-14T09:09:45.867000+00:00",
        "attachments": []
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "update from Nethermind: we have 2 bug reports we will look into soon(ish)",
        "created_at": "2021-05-14T09:10:26.240000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Do you want to share details?",
        "created_at": "2021-05-14T09:11:04.616000+00:00",
        "attachments": []
    },
    {
        "author": "lukaszrozmej",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "One is yours about StateRoot mismatch after importing a block, other from \u003c@!203220829473996800\u003e  about incorrect behaviour of eth_syncing",
        "created_at": "2021-05-14T09:11:47.172000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I see, thanks!",
        "created_at": "2021-05-14T09:12:38.687000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh hey, no wasn't planning to do office hour. We have this chat for debugging, and we just went through the project yesterday on the Merge call",
        "created_at": "2021-05-14T10:04:22.829000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Right, if prysm wasn't voting on the genesis hash we may get there",
        "created_at": "2021-05-14T10:05:54.350000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Here we are:\n```\n2021-05-14 04:57:48 GMT+0000 -- block with the vote produced https://nocturne.rayonism.io/block/12289\n\n2021-05-14 06:34:11.254+00:00 | pool-18-thread-104 | DEBUG | DepositFetcher | Requesting deposits between 7959 and 7959. Batch size: 10000 -- Correct block fetched by Teku\n```",
        "created_at": "2021-05-14T10:18:42.082000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So, If I am not mistaken the right Eth1 block has been fetched ~1.5hours later than this vote has been made. Which is roughly the difference between timestamps of the right Eth1 block and the block Teku has been voting for",
        "created_at": "2021-05-14T10:21:18.042000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Investigating deeper into block fetcher",
        "created_at": "2021-05-14T10:21:47.239000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I see that by  block 10255 (only 15 into the period) Teku's vote `0xe128aa0184` it was already tied with the block included in 8192. at three votes each. The first vote for it was in 10248 only 8 into the period after that the default vote would have been this.\nOh now I see what you mean, you mean that you checked 300 slots later that Teku's `defaultVote` as computed here\nhttps://github.com/txrx-research/teku/blob/master/validator/coordinator/src/main/java/tech/pegasys/teku/validator/coordinator/Eth1DataCache.java#L81\nwas still showing the block included in 8192? not only showing that it was valid but also that it was the last entry in the list right? Bizarre.",
        "created_at": "2021-05-14T10:28:25.466000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "right, but it wasn't picked due to majority voted for the other block",
        "created_at": "2021-05-14T10:29:44.246000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`Requesting deposits between 7959 and 7959. Batch size: 10000` how is that size correct for those limits?",
        "created_at": "2021-05-14T10:30:29.286000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "O 10000 deposits per batch",
        "created_at": "2021-05-14T10:30:43.747000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't understand, in that block 12289 the eth1 data vote was for the block `0xdc80b18b64e0` which is number `7558`, not in that range",
        "created_at": "2021-05-14T10:34:29.977000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The timestamp for that block is `Thu May 13 08:30:48 PM`",
        "created_at": "2021-05-14T10:35:36.231000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This is a number of Eth1 block",
        "created_at": "2021-05-14T10:35:45.329000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh the range 7959 refers to eth2 blocks?",
        "created_at": "2021-05-14T10:36:16.799000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "10k is the cap on a block range that is gonna be requested",
        "created_at": "2021-05-14T10:36:19.235000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh, wait. It's Eth1 number, not Eth2. I misread",
        "created_at": "2021-05-14T10:37:07.158000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, so The vote in the block you linked",
        "created_at": "2021-05-14T10:37:25.796000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "was for eth1 block 7558",
        "created_at": "2021-05-14T10:37:34.469000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "which came at 8:30 PM fo the previous day",
        "created_at": "2021-05-14T10:38:05.423000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And wasn't requested in the range you mention I guess",
        "created_at": "2021-05-14T10:38:26.837000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The timing is also correct roughly as it is about 8:30 hs between the block and the vote",
        "created_at": "2021-05-14T10:39:13.136000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think the Eth1FollowHead in Teku is correct",
        "created_at": "2021-05-14T10:39:25.081000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Correct vote is for `7959`, right?",
        "created_at": "2021-05-14T10:40:11.495000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "which is right here, https://nocturne.rayonism.io/block/12291",
        "created_at": "2021-05-14T10:41:56.247000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh I just woke up for the beginning of the period!  the vote at the beginning of the period in slot 12280 is for the eth1 block `7959` which was included in block https://nocturne.rayonism.io/block/10239  this is the right vote being the last one in the period (since the boundary one 10240 was missed)",
        "created_at": "2021-05-14T10:47:07.222000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "what does that block 12291 have to do here? (that one I produced)",
        "created_at": "2021-05-14T10:48:05.371000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is voted for the right Eth1 block",
        "created_at": "2021-05-14T10:48:24.270000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah yeah, my prysm+Catalyst is always voting correctly",
        "created_at": "2021-05-14T10:48:42.931000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "while the previous vote by Teku again was for the odd Eth1 block which is ~1.5hours behind the right one",
        "created_at": "2021-05-14T10:48:48.418000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it is Terence's and proto's that are not voting right, I don't know why",
        "created_at": "2021-05-14T10:48:58.050000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And this is because Teku fetches blocks with a 1.5hours delay for some reason. If I am not mistaken in my investigation",
        "created_at": "2021-05-14T10:49:22.876000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n$ python ~/votes.py \nVoting summary for slot: 14011\nVoting period starts:12288  ends:14336\n0x1ea2f2ce8b7d280ef3812e6ecd216d7f9cd8b0b1235d610304fc4a3b2182ab89 : 236\n0xdc80b18b64e0bb6116b03e09fc70211c2f2db2d11ca4dff10e7a4320aa5da53f : 662\n0xf936f4395596714b84f731c2aec62047547c77fecc786b71ce587c628f0e51a4 : 433\n```\nSo if we join the last two hashes we will be fine. It is a bit dissappointing that the right vote is the least voted hash. So either we make prysm vote for the wrong but valid hash to get majority or we need to fix both bugs, but fixing only Teku's won't work it seems",
        "created_at": "2021-05-14T10:51:31.423000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, we need others voting correctly as well",
        "created_at": "2021-05-14T10:52:42.767000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I would encourage everybody to check their eth1 data votes and request for help if they see any issues and can't deal with it. First two hashes are considered correct",
        "created_at": "2021-05-14T10:54:07.532000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok I think I just understood your comment then: the proposer of `12289` should have voted for `7959`, it had it as a valid vote cause it had appeared before in the period. But it didn't vote for it cause it hadn't included the deposits for the block still, and it didn't happen for another 1:30hs. This sounds very promissing, cause then the bug is not in the voting logic",
        "created_at": "2021-05-14T11:02:02.262000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, looking into it more deep to understand if I am right or wrong. From logs I see Teku fetches Eth1 blocks with respect to a follow distance, i.e. `2048` block behind the head",
        "created_at": "2021-05-14T11:04:14.746000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ha! and here we have skipped slots in game",
        "created_at": "2021-05-14T11:05:12.212000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, the asynchronicity could come from that",
        "created_at": "2021-05-14T11:06:01.049000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but the followdistance refers to eth2 blocks",
        "created_at": "2021-05-14T11:06:13.134000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and it is updating correctly",
        "created_at": "2021-05-14T11:06:17.602000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it must be only in the transation to eth1 blocks that the error lies",
        "created_at": "2021-05-14T11:06:30.822000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Teku fetches and caches Eth1 blocks by subtracting `2048` from the head. Then eth1 data voting logic starts working which is based on Eth1 timestamps rather than numbers. So, the logic works correctly while the fetcher doesn't account for skipped slots and comes with older blocks than the voting supposed to see",
        "created_at": "2021-05-14T11:08:34.911000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh so the translation is directly wrong using the same number for eth2 blocks than eth1? I thought that it was subtracting 2048 from the head. Then taking the eth1 block with the timestamp from that eth2 block",
        "created_at": "2021-05-14T11:11:15.353000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It checks Eth1 head each `SECONDS_PER_ETH1_BLOCK`, then subtracts `ETH1_FOLLOW_DISTANCE` from it and feeds subtracted number to the fetcher",
        "created_at": "2021-05-14T11:12:33.351000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah yeah that's bad",
        "created_at": "2021-05-14T11:13:51.056000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Then fetcher does its job and adds new block(s) to the cache. So, no time is in account so far. And then eth1 data votes logic uses timestamps of cached blocks",
        "created_at": "2021-05-14T11:14:02.773000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I see that `fetchDepositsInRange` takes block numbers as arguments",
        "created_at": "2021-05-14T11:14:13.708000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/ConsenSys/teku/blob/master/pow/src/main/java/tech/pegasys/teku/pow/Eth1HeadTracker.java#L81",
        "created_at": "2021-05-14T11:15:17.184000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So, for Mainnet if time between block would be increased we would likely see the same problem",
        "created_at": "2021-05-14T11:16:24.168000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah I saw that last night and assumed it was correct cause it was giving the right eth2 block",
        "created_at": "2021-05-14T11:16:58.350000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If real seconds per eth1 block would be greater than the config variable",
        "created_at": "2021-05-14T11:17:09.159000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "OTOH, this logic is written correct lywith respect to the safe distance from head in the PoW chain",
        "created_at": "2021-05-14T11:19:03.067000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think the spec states it needs to be 2048 eth1 blocks",
        "created_at": "2021-05-14T11:19:49.741000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "not eth2 blocks translated to timestamps",
        "created_at": "2021-05-14T11:20:02.263000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so perhaps this IS the right vote",
        "created_at": "2021-05-14T11:20:08.678000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "what Teku is doing",
        "created_at": "2021-05-14T11:20:11.768000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ohh no, is timestamp based\n```\nEth1 blocks must only be considered once they are at least SECONDS_PER_ETH1_BLOCK * ETH1_FOLLOW_DISTANCE seconds old (i.e. eth1_timestamp + SECONDS_PER_ETH1_BLOCK * ETH1_FOLLOW_DISTANCE \u003c= current_unix_time). Due to this constraint, if GENESIS_DELAY \u003c SECONDS_PER_ETH1_BLOCK * ETH1_FOLLOW_DISTANCE, then the genesis_time can happen before the time/state is first known. Values should be configured to avoid this case.\n```",
        "created_at": "2021-05-14T11:20:57.716000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But it says: `at least`",
        "created_at": "2021-05-14T11:21:11.992000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, it's timestamp based:\n```\ndef is_candidate_block(block: Eth1Block, period_start: uint64) -\u003e bool:\n    return (\n        block.timestamp + SECONDS_PER_ETH1_BLOCK * ETH1_FOLLOW_DISTANCE \u003c= period_start\n        and block.timestamp + SECONDS_PER_ETH1_BLOCK * ETH1_FOLLOW_DISTANCE * 2 \u003e= period_start\n    )```",
        "created_at": "2021-05-14T11:21:47.917000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this is the filter for all blocks in `eth1_chain`",
        "created_at": "2021-05-14T11:22:15.335000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "In any case a quick fix for Teku here is to just request the block at the given timestamp there in the `newHeadAtFollowDistance`",
        "created_at": "2021-05-14T11:25:01.933000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll test it in a few hours, now I'll suck in class cause I didn't prepare and I have only 30 minutes ðŸ™‚",
        "created_at": "2021-05-14T11:25:51.833000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I would say there is no easy fix for the general case which would be production ready. I'll try to make a fix just to make it work properly and file an issue",
        "created_at": "2021-05-14T12:03:26.775000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "btw, if we get more than `ETH1_FOLLOW_DINSTANCE` skipped slots then the follow distance will be reduced to `0` if we count it in blocks",
        "created_at": "2021-05-14T12:33:28.732000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Which makes it complicated. If there are forks at the beginning of the voting period and follow distance is zero then eth1 block cache might not be able to do re-orgs and do proper eth1 votes",
        "created_at": "2021-05-14T12:47:44.450000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I have a fix, testing",
        "created_at": "2021-05-14T13:33:22.405000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "About Rayonism: I think we'll close the Nocturne devnet around Tue next week. We can do one more office hour on Monday, to discuss any final tests, but besides resolving the eth1-data voting bug, I think we're done. There will be an Eth2 specs release today for Altair that clients can focus on next week, Merge transition work continues in the \u003c#692062809701482577\u003e channel, and I think we'll make a post-rayonism channel (or rename this channel) for sharding and withdrawals work.",
        "created_at": "2021-05-14T13:40:02.342000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm requesting the block at follow distance seconds from head and taking the block number",
        "created_at": "2021-05-14T14:16:01.756000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Are you doing something different?",
        "created_at": "2021-05-14T14:16:13.496000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am requesting it at regular distance first, then go block by block towards head and adjust the distance by checking block timestamps.",
        "created_at": "2021-05-14T15:00:45.511000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How do you do this?",
        "created_at": "2021-05-14T15:01:04.477000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "is there a way to query eth1 blocks by timestamp?",
        "created_at": "2021-05-14T15:01:22.479000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah then it's probably similar, I adapted a function in prysm to find the earliest block by timestamp",
        "created_at": "2021-05-14T15:01:35.830000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There is a neat implementation in prysm, that is giving me headaches cause I never ever wrote Java, give me a sec, feeding a baby, will send it soon",
        "created_at": "2021-05-14T15:02:53.112000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/prysmaticlabs/prysm/blob/merge/beacon-chain/powchain/block_reader.go#L110",
        "created_at": "2021-05-14T15:06:40.125000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "trying to adapt that implementation which is a bit more efficient than simply going up",
        "created_at": "2021-05-14T15:07:13.905000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/txrx-research/teku/commit/39587240bfe298e2e7397bad60b6467f7c9efd4a",
        "created_at": "2021-05-14T15:08:46.363000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It adjusts the distance to reuse all the rest code that processed deposits. Not the best implementation but that should work",
        "created_at": "2021-05-14T15:10:22.609000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I will update my teku nodes to check the beginning of the next voting period",
        "created_at": "2021-05-14T15:10:51.563000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah I think it's the same approach, the above linked function will do something similar but going by larger buffers to avoid going block by block",
        "created_at": "2021-05-14T15:11:26.447000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Testing my patch will be tough cause it's rather impossible that I'll be the first Teku node on the period",
        "created_at": "2021-05-14T15:28:31.969000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Will probably test on a local testnet",
        "created_at": "2021-05-14T15:28:43.327000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You should get \u003c@!203220829473996800\u003e to move his Teku nodes to use your patch cause otherwise the risk is that we lose another period",
        "created_at": "2021-05-14T15:29:22.278000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll run yours in nocturne to check that it can propose",
        "created_at": "2021-05-14T15:29:39.881000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so that we don't lose finality, but since we can't screw up eth1 data vote anymore, I'd suggest EF deploys all Teku nodes with the patch. Still won't be enough probably. We need to fix all random votes, or the genesis case of prysm that I don't know why it doesn't happen in my node",
        "created_at": "2021-05-14T15:30:45.067000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Name a docker image and I'll roll out teku updates",
        "created_at": "2021-05-14T15:31:16.559000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh testing on a local testnet is also not trivial cause I need to miss several blocks ðŸ™‚ will set it up now",
        "created_at": "2021-05-14T15:31:32.757000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "exactly",
        "created_at": "2021-05-14T15:31:48.402000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok, your patch is producing blocks fine in nocturne",
        "created_at": "2021-05-14T15:40:20.541000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://nocturne.rayonism.io/block/15499",
        "created_at": "2021-05-14T15:40:39.720000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've pushed separate docker image with a fix `mkalinin/teku:rayonism-eth1-vote-fix`. Wanna try it out first.",
        "created_at": "2021-05-14T15:41:00.939000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm testing mine on a local testnet with tons of missed slots",
        "created_at": "2021-05-14T15:41:30.316000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Great, thanks for that!",
        "created_at": "2021-05-14T15:41:42.529000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!425572898787426305\u003e want me to deploy that docker image?",
        "created_at": "2021-05-14T15:41:54.792000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We have some time until the end of this voting period. Let's wait for \u003c@!755590043632140352\u003e testnet with missed slots",
        "created_at": "2021-05-14T15:42:35.949000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "testing minimal, it's overwhelming the 6 seconds/slot",
        "created_at": "2021-05-14T15:43:41.965000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, looks pretty similar. Going block by block makes sense because there is not possibility to request blocks by range from eth1 endpoint. But these are details of implementation and doesn't matter much in our case as we're not pretending to go production with this code ðŸ™‚",
        "created_at": "2021-05-14T15:46:31.062000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok, so prysm's algorithm here has produced the right vote in three periods that Teku was the first vote that I could catch",
        "created_at": "2021-05-14T15:47:37.138000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Wiping everything and will test your commit",
        "created_at": "2021-05-14T15:47:57.608000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "should be fast, I already built it for nocturne",
        "created_at": "2021-05-14T15:48:10.510000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok I think I just had a period in which Teku had to propose first with a missed slot before and it voted correctly",
        "created_at": "2021-05-14T16:04:55.517000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks a lot! I think we may deploy this fix with new image `mkalinin/teku:rayonism-eth1-vote-fix` cc \u003c@!203220829473996800\u003e . We will check this in Nocturne and then I will update the main image",
        "created_at": "2021-05-14T16:10:07.827000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "haven't found problems yet, but I haven't had many periods",
        "created_at": "2021-05-14T16:14:15.052000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok, time to deploy on all nocturne nodes? It's a testnet, what can go wrong?",
        "created_at": "2021-05-14T16:14:27.355000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e out of curiosity could you post `https://nocturne.rayonism.io/block/15499` on the prysm nodes that are voting for genesis?",
        "created_at": "2021-05-14T16:15:20.720000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Post the *eth2 block contents? Sure",
        "created_at": "2021-05-14T16:16:13.492000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh",
        "created_at": "2021-05-14T16:16:38.538000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "no sorry, badly copied  ðŸ™‚",
        "created_at": "2021-05-14T16:16:46.018000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`curl -s 127.0.0.1:8080/metrics | grep beacondb_all_deposits`",
        "created_at": "2021-05-14T16:16:53.967000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This is what I meant",
        "created_at": "2021-05-14T16:16:57.005000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e",
        "created_at": "2021-05-14T16:17:02.252000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For a validator like this one https://nocturne.rayonism.io/validator/3875",
        "created_at": "2021-05-14T16:17:16.156000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "All zero",
        "created_at": "2021-05-14T16:19:49.484000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "except for the explorer node surprisingly",
        "created_at": "2021-05-14T16:21:13.374000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah that's what I thought: I know you guys say you did it, but I bet my life that you are not wiping every dbase of every eth1 client directly connected before relaunching prysm (also with it's dbase wiped). You guys are not seeing any deposits",
        "created_at": "2021-05-14T16:21:17.646000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the explorer is probably not linked to the same eth1 node?",
        "created_at": "2021-05-14T16:21:30.061000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "explorer is linked to a geth node",
        "created_at": "2021-05-14T16:21:40.076000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and all nodes have been resynced at least once",
        "created_at": "2021-05-14T16:21:53.289000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but from an empty eth1 dbase?",
        "created_at": "2021-05-14T16:22:08.362000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll check if there are any CLI arg differences I forgot about",
        "created_at": "2021-05-14T16:22:09.336000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes",
        "created_at": "2021-05-14T16:22:14.525000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "holy!, that's really weird, if you import all blocks from scratch and is looking for the contract deployment block since 0 then you should see deposit logs.",
        "created_at": "2021-05-14T16:22:55.937000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that's what's making you vote for genesis, that there are no deposits.",
        "created_at": "2021-05-14T16:23:09.777000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you are not peering your eth1 side either right?",
        "created_at": "2021-05-14T16:23:37.328000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "or using the same eth1 to feed different eth2 clients right?",
        "created_at": "2021-05-14T16:23:48.548000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hmmm, one difference, beside archiving interval difference, is that I added the `0x424242...` contract argument to my prysm nodes later on, but only resynced the explorer (with eth1 node) since",
        "created_at": "2021-05-14T16:24:16.201000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the `0x4242...` is in the chain config file so it's not necessary, I am not passing it to mine and it's voting correctly",
        "created_at": "2021-05-14T16:25:01.636000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok, looks like my prysm-nethermind node was also resynced with that arg recently, and that still reports 0 in metrics",
        "created_at": "2021-05-14T16:25:59.697000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Perhaps you didn't include https://github.com/prysmaticlabs/prysm/pull/8887 That's not so important, but you can add there a `fmt.Printf(\"Requesting blocks %d\", start)`  and check if you are requesting from zero or from `118K` That cache is what was doing it wrong for me without the right deployment",
        "created_at": "2021-05-14T16:36:21.442000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "going for a bike ride, I'm not sure if I'll make it to the beginning of the next period ðŸ™‚",
        "created_at": "2021-05-14T16:37:06.675000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've updated all of my nodes",
        "created_at": "2021-05-14T17:18:16.578000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Updated my Teku nodes also",
        "created_at": "2021-05-14T17:19:52.510000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Not sure about the Prysm changes, what would really fix it etc. I'll keep those running as-is for now",
        "created_at": "2021-05-14T17:20:19.535000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "~33 minutes to the beginning of the next voting period",
        "created_at": "2021-05-14T18:03:51.629000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Teku votes correctly this time",
        "created_at": "2021-05-14T18:42:00.069000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Proto's prysm+nethermind observes block hash correctly while there is no deposits, https://nocturne.rayonism.io/block/16415",
        "created_at": "2021-05-14T18:44:25.013000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n$ python ~/votes.py \nVoting summary for slot: 16526\nVoting period starts:16384  ends:18432\n0xf936f4395596714b84f731c2aec62047547c77fecc786b71ce587c628f0e51a4 : 39\n0xfe963c2068cbb60d12751d89123a62efaad15fb028036eb6622f3ab187af438c : 1\n0xe300e51d52df5ab544afa97190c6f2222fb6f9ea0b1d1ea3a7b3ff5dec7b838d : 71\n```\nLooking like it'll get there",
        "created_at": "2021-05-14T19:06:20.733000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There are also votes for correct block hash but with incorrect deposit data. So, it might not reach majority anyway",
        "created_at": "2021-05-14T19:25:16.170000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "From Teku? I thought those were all from Prysm",
        "created_at": "2021-05-14T19:48:57.476000+00:00",
        "attachments": []
    },
    {
        "author": "suburbandad_",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "just now catching up on this thread, updated our besu:teku node with mkalinin/teku:rayonism-eth1-vote-fix",
        "created_at": "2021-05-14T19:52:50.452000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Not from Teku but from other nodes. Is your table reflects block hashes taken from various eth1 nodes that nodes are voting for? Or is it grouped just by block hash?",
        "created_at": "2021-05-14T20:18:31.951000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I just sent this block forking eth1 on purpose https://nocturne.rayonism.io/block/16886 I think it was sucessful.",
        "created_at": "2021-05-14T20:19:06.899000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It was based on the block published in https://nocturne.rayonism.io/block/16881. Did you guys see any errors? I didnÂ´t get any errors at all",
        "created_at": "2021-05-14T20:20:47.698000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e you hold the most validators",
        "created_at": "2021-05-14T20:21:04.853000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The eth1 nodes continue working perfectly it seems",
        "created_at": "2021-05-14T20:21:40.438000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "they just orphaned the block on the eth1 side but accepted the block fine in the eth2 side",
        "created_at": "2021-05-14T20:21:58.454000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll continue doing experiments like this with and without transactions for my next few blocks",
        "created_at": "2021-05-14T20:22:24.675000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hopefully this won't disturb eth1 data at all",
        "created_at": "2021-05-14T20:22:34.674000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "No, just by hash, is a script I had for monitoring on mainnet. It just counts how many votes each block hash gets from the state, I'm only showing the top hashes. I could count by pairs (hash, depositdata) if you think it may be useful.",
        "created_at": "2021-05-14T20:26:34.070000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think it will represent eth1 votes more accurate as I've seen correct hash along with zero deposits",
        "created_at": "2021-05-14T20:27:08.677000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n$ python ~/votes.py \nVoting summary for slot: 16943\nVoting period starts:16384  ends:18432\n(0xf936f4395596714b84f731c2aec62047547c77fecc786b71ce587c628f0e51a4, 0xd70a234731285c6804c2a4f56711ddb8c82c99740f207854891028af34e27e5e) : 141\n(0xfe963c2068cbb60d12751d89123a62efaad15fb028036eb6622f3ab187af438c, 0xeec7d7f0cdbf7b3077a754b7deddc76385fecbc5866af00e7042336bd5bb5d22) : 1\n(0xe300e51d52df5ab544afa97190c6f2222fb6f9ea0b1d1ea3a7b3ff5dec7b838d, 0xd70a234731285c6804c2a4f56711ddb8c82c99740f207854891028af34e27e5e) : 74\n(0x7c0f6db0f11ed05a30b681ab695513c7ec6428c9278970a91fedb2eca8982a93, 0x3db25bfbceb9500bd976abeb43e306446069793815c87ff20d5ddf9c02e75350) : 1\n(0xe300e51d52df5ab544afa97190c6f2222fb6f9ea0b1d1ea3a7b3ff5dec7b838d, 0x83bca220c58a6b90d9c73ef04adc5fae35cb0fccde56bb6820232e5bb86d917b) : 198\n```",
        "created_at": "2021-05-14T20:29:15.875000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "These are by pairs",
        "created_at": "2021-05-14T20:29:19.573000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "still only three essentially",
        "created_at": "2021-05-14T20:29:25.124000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the first is the hash and the other is the deposit_root",
        "created_at": "2021-05-14T20:29:41.187000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Everything else has 1 vote",
        "created_at": "2021-05-14T20:29:54.184000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So the one that is correct has the majority",
        "created_at": "2021-05-14T20:30:04.163000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh, it hasn't",
        "created_at": "2021-05-14T20:30:18.311000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "217 vs 198",
        "created_at": "2021-05-14T20:30:33.826000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think it's the right one",
        "created_at": "2021-05-14T20:31:14.831000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "0x83bca has 270 deposits",
        "created_at": "2021-05-14T20:31:26.405000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this block must be invalid from beacon chain standpoint and must not be executed at all as parent hash check must not pass",
        "created_at": "2021-05-14T20:31:34.073000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it was accepted you can follow the link and the chain",
        "created_at": "2021-05-14T20:31:55.922000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "at least it was accepted by my prysm node",
        "created_at": "2021-05-14T20:32:12.113000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and the explorer",
        "created_at": "2021-05-14T20:32:14.327000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "any of my nodes haven't seen this block",
        "created_at": "2021-05-14T20:32:19.673000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this slot is empty from their perspective",
        "created_at": "2021-05-14T20:32:31.147000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "let me check my teku node",
        "created_at": "2021-05-14T20:32:31.627000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you can check next eth2 block: https://nocturne.rayonism.io/block/16887",
        "created_at": "2021-05-14T20:33:14.641000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it orphans that invalid block you've submitted",
        "created_at": "2021-05-14T20:33:33.587000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it orphans the eth1 block",
        "created_at": "2021-05-14T20:34:33.467000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sure, it gets orphaned but its not considered invalid",
        "created_at": "2021-05-14T20:35:11.997000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it must be, otherwise it would be disseminated across the network. Also, fork monitor doesn't see this block",
        "created_at": "2021-05-14T20:36:11.135000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh interesting, I saw it in the explorer",
        "created_at": "2021-05-14T20:37:56.970000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but it's not synced by my own node",
        "created_at": "2021-05-14T20:38:03.419000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So the explorer is reporting even invalid blocks",
        "created_at": "2021-05-14T20:38:52.711000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll keep sending blocks like this to see if I can break my own catalyst since at some point it will send the transactions and needs to reorg",
        "created_at": "2021-05-14T20:40:10.830000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it probably depends on the node it reads those blocks from",
        "created_at": "2021-05-14T20:41:37.342000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So there's still a lot of nodes voting for the right eth1 hash but the wrong number of deposits. Are these all Nethermind?",
        "created_at": "2021-05-14T20:41:38.731000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "fyi, running a geth node for the explorer. Is there a bug?",
        "created_at": "2021-05-14T20:42:25.718000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Interesting fact is that some prysm nodes vote for random block hashes, others vote for genesis and third part votes correctly",
        "created_at": "2021-05-14T20:42:57.262000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it must be a bug on eth2 side rather than eth1",
        "created_at": "2021-05-14T20:43:17.156000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And are you running prysm? Getting a prysm node to accept blocks can be very tricky, it doesn't detect the eth1 connection properly on resync sometimes",
        "created_at": "2021-05-14T20:43:37.029000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://nocturne.rayonism.io/block/17003",
        "created_at": "2021-05-14T20:43:43.954000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It even shows the transactions",
        "created_at": "2021-05-14T20:43:51.418000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the attestations also appear as being included there, and on each individual validator",
        "created_at": "2021-05-14T20:44:49.968000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you can check that their attestation was included with inclusion distance 1",
        "created_at": "2021-05-14T20:45:14.609000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so it must be a bug either on prysm syncing that block or on the explorer? \u003c@!363800010518822915\u003e",
        "created_at": "2021-05-14T20:45:35.424000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "My nodes don't see this block either",
        "created_at": "2021-05-14T20:45:59.364000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, all by blocks will have a fork on eth1 from now on (all my prysm blocks)",
        "created_at": "2021-05-14T20:46:20.482000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I missed why the block is invalid or which client orphans it. What's the exact problem?",
        "created_at": "2021-05-14T20:46:34.329000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "no problem, I am sending blocks with a fork on eth1",
        "created_at": "2021-05-14T20:46:50.142000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "interesting if these transactions will be included in the block after. they must be",
        "created_at": "2021-05-14T20:46:54.391000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "as we were planning, some form of \"evil beacon\"  to test clients don't accept this",
        "created_at": "2021-05-14T20:47:08.261000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and it seems to be fine, but the explorer has this block",
        "created_at": "2021-05-14T20:47:19.275000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah I see, parent hash is invalid?",
        "created_at": "2021-05-14T20:47:57.575000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "there is a rule in the spec that mandates execution block tree consistency with respect to parent hashes. \u003c@!755590043632140352\u003e doing great job on producing block that are invalid with respect to this rule",
        "created_at": "2021-05-14T20:48:02.183000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "no, the parent is valid, but it's old, its a deliberate fork",
        "created_at": "2021-05-14T20:48:25.280000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The problem is that the eth2 node doesn't validate it, the eth1 node is supposed to. But some eth1 clients (geth likely in particular, due to the direct DB reads/writes) might not check it",
        "created_at": "2021-05-14T20:48:42.047000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That's an interesting point, and perhaps if we were peered on eth1 they would be, but since the eth2 nodes are not syncing these blocks, the transactions don't reach the mempools of the eth1 nodes",
        "created_at": "2021-05-14T20:49:06.173000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Or it's valid, but a fork, good idea",
        "created_at": "2021-05-14T20:49:07.924000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There is validation on beacon chain as well",
        "created_at": "2021-05-14T20:49:11.233000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so they are not included",
        "created_at": "2021-05-14T20:49:12.620000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah it was much simpler than I thought, I think I can trick my beacon into doing worse things, and my wife took the kids tonight so I can play",
        "created_at": "2021-05-14T20:50:13.616000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "they should be put back once reorg happens (it will happen when a couple of blocks from canonical chain will be imported after this block)",
        "created_at": "2021-05-14T20:50:24.969000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But I don't get this, how will your eth1 node ever see these transactions",
        "created_at": "2021-05-14T20:51:02.671000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "to even pack them",
        "created_at": "2021-05-14T20:51:07.696000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "not mine, but yours",
        "created_at": "2021-05-14T20:52:08.516000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Didn't we see that on steklo before? A transaction that's embedded in a block, and re-embedded on a reorg in a different tree?",
        "created_at": "2021-05-14T20:52:21.487000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the same node that you used to submit this block, it should refine and produce the next block with these transactions included",
        "created_at": "2021-05-14T20:52:34.153000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah sure, but my node will submit all blocks like this now",
        "created_at": "2021-05-14T20:52:43.549000+00:00",
        "attachments": []
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah, I see",
        "created_at": "2021-05-14T20:52:56.210000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we'll check then anyway, they may be invalid but you're right, my node should resend them",
        "created_at": "2021-05-14T20:53:17.186000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Still why does the explorer show my block? \u003c@!514429265001971732\u003e does it show every block it sees without validation?",
        "created_at": "2021-05-14T20:57:16.743000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok, I suppose it's really a bug in the explorer that doesn't do validation (if it's on prysm it would be worse). But if you look at any attestation in that block 17003 for example validator 8004, The explorer shows it's attestation included in slot 17003\nhttps://nocturne.rayonism.io/validator/8004#attestations\nBut in fact the inclusion distance was 2, having again being included in a valid block: 17004:\nhttps://nocturne.rayonism.io/block/17004#attestations",
        "created_at": "2021-05-14T21:02:22.370000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "maybe it's valid in the view of Prysm/Geth (that backs the explorer), but invalid in the view of other clients, and so it indexes the block, but orphans it? (the block isn't properly marked as orphaned, but the next beacon block doesn't have it as beacon-parent root)",
        "created_at": "2021-05-14T21:02:25.741000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I can't really know cause I disabled completely the check for the validity of the block in order to send it. I could try to bypass this, but just logging if it would be valid.. let me check. But you can check that as well,  with `curl -s http://127.0.0.1:3500/eth/v1alpha1/beacon/blocks?slot=16886` on a prysm node",
        "created_at": "2021-05-14T21:03:48.361000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and check if you have it",
        "created_at": "2021-05-14T21:03:51.475000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am not sending it to myself, only broadcasting it out, so it never comes back",
        "created_at": "2021-05-14T21:04:25.742000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/prysmaticlabs/prysm/blob/9ce6e340368f1ed0e088b0696c3ade1a3448c1b1/beacon-chain/core/state/transition_no_verify_sig.go#L315\nPrysm doesn't implement the same execution payload processing as in the spec. It just updates the state after it's inserted into the eth1 node. And the eth1 node will index things fine, if they are valid, regardless of their reorg",
        "created_at": "2021-05-14T21:05:31.830000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Time for Prysm to run the new execution payload tests ðŸ˜…",
        "created_at": "2021-05-14T21:06:22.503000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep. That's right. There's a few bugs there. I'll fix them after I finish my current Altair work",
        "created_at": "2021-05-14T21:15:07.906000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok, so I'll send the block to myself and then I should sync it and then reorg",
        "created_at": "2021-05-14T21:16:30.781000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "currently it doesn't even reorg the catalyst cause it doesn't sync it's own block",
        "created_at": "2021-05-14T21:16:53.373000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh yeah, it syncs it without problem. block slot=17192",
        "created_at": "2021-05-14T21:19:25.387000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that one had deposits",
        "created_at": "2021-05-14T21:19:56.516000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and you were right \u003c@!425572898787426305\u003e, catalyst still tries to send the previous transactions",
        "created_at": "2021-05-14T21:21:58.748000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "now it'll be stuck sending them forever",
        "created_at": "2021-05-14T21:22:06.210000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, we won't make it... need to figure out why you guys are not seeing deposits and I am, with the same client. \n```\nVoting summary for slot: 17354\nVoting period starts:16384  ends:18432\n(f936f4395...,d70a23473...) : 238\n(e300e51d5...,d70a23473...) : 125\n(e300e51d5...,83bca220c...) : 360\n```",
        "created_at": "2021-05-14T21:53:33.117000+00:00",
        "attachments": []
    }
]