[
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Reth just did what I believe are their first experiments using trin and the existing history network for pre merge sync. You can see their preliminary numbers here. \n\nhttps://discord.com/channels/890617081744220180/890617129425047583/1349147691522850927\n\nThis is early data on use of portal for bulk retrieval of history and worth looking at whether such an approach might serve whatever needs you have at the EL layer.",
        "created_at": "2025-03-12T07:48:46.512000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Lets move the history expiry discussion here please, cc \u003c@360491619402776577\u003e \u003c@758579010027782144\u003e \u003c@412614104222531604\u003e \u003c@1009418255913472000\u003e \u003c@687974325072035882\u003e",
        "created_at": "2025-03-12T10:04:24.294000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "TLDR:\n- We should do history expiry on sepolia (timeline undecided)\n- We should use that to then increase gas limit on sepolia\n- Both things ideally happen before mainnet, so we aren't caught off guard",
        "created_at": "2025-03-12T10:05:04.152000+00:00",
        "attachments": null
    },
    {
        "author": "brbrrrrr",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hey folks! We at Nethermind were looking into history expiry (eip-4444) and how pre-merge history removal might affect CL clients. I want to collect some info on CL teamsâ€™ readiness and possible concerns.\nWe did run some preliminary tests (Sepolia, nodes without pre-merge history) to detect calls to `eth_getLogs` and `eth_call` during sync/non-validator node processing.\nBut I was wondering if there are other use cases that we hadnâ€™t considered?",
        "created_at": "2025-03-12T10:05:26.451000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes, that's a very good question, we need to make sure all CL clients are also ready for dropping pre-merge",
        "created_at": "2025-03-12T10:12:41.319000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "before we do any further increases in the gas limit, I want to see history being dropped first.\n\nThis means:\n\nIn order to increase the gas limit on sepolia to 60M, we should be proven that **ALL** EL clients can safely drop pre-merge history on sepolia. I don't care which date its gonna be but doing gas limit increase again before history expiry is done is going backwards.",
        "created_at": "2025-03-12T10:13:26.841000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if client teams agree on it being 1st of April, so be it",
        "created_at": "2025-03-12T10:14:15.164000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also going forward in fusaka, I would really like if client teams make gas limit a client parameter that cannot be overriden by users.",
        "created_at": "2025-03-12T10:14:44.499000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that way we can much easier schedule a gas limit bump at a fork boundry - reducing gas chaos due to lack of decent testing",
        "created_at": "2025-03-12T10:14:58.811000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That's a pretty fundamental change to Ethereum, and would likely see a fair amount of pushback from the community.",
        "created_at": "2025-03-12T10:15:31.287000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "totally made sense in a PoW world, makes no sense now. Its more of a security issue now imo",
        "created_at": "2025-03-12T10:15:58.847000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah i think clients making gas limit decisions is a bigger topic that we cant arrive to consensus",
        "created_at": "2025-03-12T10:16:00.485000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We need to confirm CL client readiness as well. \n\n\u003c@712394671959048244\u003e \u003c@\u0026595683609080365088\u003e \u003c@\u0026595681771690000403\u003e \u003c@\u0026595681804422479873\u003e \u003c@\u0026595683849225240704\u003e Could you check if your client will not query anything from the pre-merge history?",
        "created_at": "2025-03-12T10:16:02.837000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but maybe we can scope the discussion here to:\n- we want to increase gas limit\n- where can we test it?\n- what else needs to happen before we increase it?",
        "created_at": "2025-03-12T10:16:24.433000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It will be seen as a centralization of power.  I won't bother saying any more on this, but don't expect something like that to happen without significant pushback from the community.",
        "created_at": "2025-03-12T10:16:58.081000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Core devs should strive to reduce their power over Ethereum, not increase it. I am totally against a hard coded gas limit, without being able to change it",
        "created_at": "2025-03-12T10:22:20.236000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "for Lodestar this is only the case after Pectra hard fork + deposit transition period is over (~12h) due to changes introduced by EIP-6110",
        "created_at": "2025-03-12T10:22:42.476000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We still have devnets we can test on, but their tx throughput is very low.  sepolia is the obvious candidate in terms of \"where\" for a proper test.\n\nSo the question seems to be: do we need history expiry before increasing the gas limit on sepolia?  On sepolia the four execution nodes I am running (besu, geth, nethermind, reth) are at ~500GB on-disk.  If history expiry is purely a case of worrying about diskspace then I don't see an issue with increasing it now, _with the assumption that we will see history expiry on sepolia sometime before 1st May_.\n\nIf the concern is more around potential time to process blocks with higher gas limits then we should still move ahead with it now, to find out if such concerns are valid or not.  Sepolia is a managed validator set, and we can drop the gas limit back down if we see any issues very easily.  We can also take a stepped approach (50MM first, then 60MM) if preferred.",
        "created_at": "2025-03-12T10:25:48.825000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not sure I understand the argument to drop history before increasing gas limit on sepolia. I see them as two independent features. I think the only reason to link them is on mainnet where disk space is tight for anyone running 2TB.",
        "created_at": "2025-03-12T10:27:01.236000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We gotta do it so that we know it works. Otherwise yolo dropping on mainnet without any testing would be pretty nuts.",
        "created_at": "2025-03-12T10:28:49.961000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I donâ€™t care if in practice we drop 500GB or 5MB, the fact is that we are doing something new that we havenâ€™t done before. It needs to be tested",
        "created_at": "2025-03-12T10:29:26.053000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Agree we should test the history expiry, but I don't think we need to do it before increasing the gas limit (on sepolia)",
        "created_at": "2025-03-12T10:29:38.857000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think we should do it in the same order as we would do on mainnet",
        "created_at": "2025-03-12T10:30:55.726000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see the operational point about doing things in the same order as mainnet, but I don't think there's a technical argument for this.\n\nThe argument for increasing gas limit sooner on sepolia is we have more time to find and fix issues before users start doing it themselves on mainnet after pectra ðŸ™‚",
        "created_at": "2025-03-12T10:31:30.314000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I agree with \u003c@412614104222531604\u003e that we should do the same steps on Sepolia before doing it in mainnet. Otherwise some unknown unknowns could bite us in the arse again",
        "created_at": "2025-03-12T10:31:52.284000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Pectra has shown that small differences can lead to big problems",
        "created_at": "2025-03-12T10:32:21.520000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it's a different class of issues, this isn't a hard fork or likely to cause consensus issues. But hard to argue with unknown unknowns in the current climate ðŸ˜† \n\nI'm struggling to come to terms with being more yolo about this than \u003c@412614104222531604\u003e ;P",
        "created_at": "2025-03-12T10:37:47.867000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I just want to be able to test history expiry before we dig ourself further into the debt of history.",
        "created_at": "2025-03-12T10:38:58.071000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is besu ready to drop history for pre merge data for sepolia by end of week?",
        "created_at": "2025-03-12T10:39:19.235000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if so, Iâ€™m all for bumping gas next week onwards",
        "created_at": "2025-03-12T10:39:29.804000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am definitely in the camp of history expiry before gas limit increase on mainnet. I am still holding out hope we can save users the 2TB -\u003e 4TB upgrade. \nJust don't think it's a big deal for sepolia.",
        "created_at": "2025-03-12T10:40:28.854000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No besu isn't ready",
        "created_at": "2025-03-12T10:40:39.243000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I also tend to agree with this because anyway, we are going to drop pre-merge on april 1st which is before pectra mainnet",
        "created_at": "2025-03-12T10:41:23.141000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Iâ€™m only arguing about it to do it this way is to keep the things in the same order.",
        "created_at": "2025-03-12T10:41:34.641000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You can test those in whatever order you prefer on a testnet",
        "created_at": "2025-03-12T10:41:48.571000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "not to save that 20gb for sepolia node operators",
        "created_at": "2025-03-12T10:41:53.716000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1st may no?",
        "created_at": "2025-03-12T10:42:20.556000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just a month difference. whichever we prefer",
        "created_at": "2025-03-12T10:42:46.766000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I take your point about the order, I just think the potential learnings from a quicker sepolia gas limit increase are greater than the gains from testing the features in the same order because I believe they are completely independent issues.",
        "created_at": "2025-03-12T10:43:51.353000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Iâ€™d argue, if your client is ready to drop history, then your client is ready to go to 60M.",
        "created_at": "2025-03-12T10:43:54.815000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What does this mean in practice?",
        "created_at": "2025-03-12T10:44:23.025000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because then nethermind and Erigon can just increase it now?",
        "created_at": "2025-03-12T10:44:34.194000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Clients have no requirement to drop history btw",
        "created_at": "2025-03-12T10:44:37.594000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "nethermind already merged their 60M pr to master",
        "created_at": "2025-03-12T10:44:58.034000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so they already done it pretty much",
        "created_at": "2025-03-12T10:45:03.524000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We did not yet, i guess we should then.",
        "created_at": "2025-03-12T10:45:18.644000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But no this is a mess, I would just test the gas limit now to see if any problem comes up",
        "created_at": "2025-03-12T10:45:55.963000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Lets think more cynically. Ordering the steps is not important for a testnet  imo. We need to test the increase so let's test it on the chain made for testing",
        "created_at": "2025-03-12T10:46:46.908000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "increase it on devnet 6 then",
        "created_at": "2025-03-12T10:48:02.528000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Supportive of that but i dont think the order matters on sepolia",
        "created_at": "2025-03-12T10:48:20.830000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Probably not the right channel for this, but I am also not sure increasing gas limit on sepolia will be very useful compared to holesky due to network size.",
        "created_at": "2025-03-12T10:48:23.518000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "can client teams also do history expiry at an arbitary block height?",
        "created_at": "2025-03-12T10:49:07.928000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "devnet 6 has basically no transactions.  sepolia is full (base fee currently \u003e200GWei).  devnet 6 probably won't tell us anything.",
        "created_at": "2025-03-12T10:49:10.582000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would be also good to test to drop pre pectra blocks then on devnet 6",
        "created_at": "2025-03-12T10:49:17.776000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Holesky EL history is much less than sepolia",
        "created_at": "2025-03-12T10:49:25.952000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we can increase the load",
        "created_at": "2025-03-12T10:49:27.999000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am wondering if the number of nodes/peering etc might be more important for gas limit increase testing? (assuming we have full blocks on whatever network we use)",
        "created_at": "2025-03-12T10:49:57.675000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But only artificially.  If people want to do devnet 6 first then sepolia fine, but I think we need to see a real pectra network with real traffic at 60MM.",
        "created_at": "2025-03-12T10:50:14.773000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "May do.  The downside of sepolia is that it has a small set of nodes.  But we don't have a network with both a large number of nodes and significant tx traffic, so we're going to be testing partially regardless.",
        "created_at": "2025-03-12T10:51:49.817000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I thought devnet-6 or devnet-7 had a lot of nodes? Might be wrong, might be thinking of a proposed holesky replacement that doesn't exist yet",
        "created_at": "2025-03-12T10:53:12.980000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am happy to increase gas limit on whatever dev/testnet at whatever time; less happy to gate it behind history expiry (apart from on mainnet)",
        "created_at": "2025-03-12T10:53:55.326000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(I think that was devnet 7, which has now gone, but ethpandaops can weigh in on that one.)\n\nPerhaps ethpandaops could stand up a number of lower-powered (non-validating) nodes for sepolia so we can see the impact of 60MM on smaller boxes, as well as the overall impact on the network with a number of low-powered nodes.  But that seems to me to be a step to take after we're at 60MM with the existing nodes.",
        "created_at": "2025-03-12T10:55:50.295000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I can't think of any negative implications of this.",
        "created_at": "2025-03-12T10:58:28.433000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah devnet 7 is gone, as it was too expensive to run long term.",
        "created_at": "2025-03-12T11:02:44.155000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "caveat that pectra has to happen and the entire old deposit queue has to be fully processed, before premerge history can be dropped.\nonce the old deposits are done, there is no need for pre-merge history anymore to run a validator.",
        "created_at": "2025-03-12T11:05:25.001000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "as long as we drop history after we fork into pectra it is fine for CL clients",
        "created_at": "2025-03-12T12:30:20.602000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "well the 6110 switch has to actually complete too",
        "created_at": "2025-03-12T12:32:12.096000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sure , plus whatever buffer you want to put for the transition to complete",
        "created_at": "2025-03-12T12:39:53.978000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would prefer we get Pectra on mainnet first, then start dropping. See: https://discord.com/channels/595666850260713488/953349957400821860/1349326733211602977",
        "created_at": "2025-03-12T13:11:41.586000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "pectra comes before may 1st hopefully",
        "created_at": "2025-03-12T13:13:27.644000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah I'll believe it once we have a hardcoded epoch",
        "created_at": "2025-03-12T13:14:32.812000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'll believe it once we finalize the correct chain after the fork ðŸ˜‚",
        "created_at": "2025-03-12T13:57:03.525000+00:00",
        "attachments": null
    },
    {
        "author": "brbrrrrr",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "From our tests on sepolia post fork, both lighthouse and prysm attemts to get logs for range `\"fromBlock\":\"0x136cbc\",\"toBlock\":\"0x1370a4\"` . This suggests that they may still rely on the pre-merge data. Would be nice to confirm this",
        "created_at": "2025-03-12T14:13:05.290000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Generically speaking, and I'm going to carefully not say what Prysm and Lighthouse do/don't do, but I suspect you'd see similar logs from Nimbus at least until 6110 takes 100% full effect",
        "created_at": "2025-03-12T14:17:24.133000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it's just that there's (again, in Nimbus) quasi-separate infrastructure for scanning EL `eth_getLogs` which might not be able to be turned off yet. Doesn't necessarily mean it's still used",
        "created_at": "2025-03-12T14:18:09.852000+00:00",
        "attachments": null
    },
    {
        "author": "brbrrrrr",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, I'm not saying what they do or don't. I just observed such behavior in our tests. fwiw, on Nimbus node, we did not register any `eth_` calls (except a single `eth_getBlockByHash` at node start)",
        "created_at": "2025-03-12T14:23:42.936000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Are people still planning for May 1 even considering Pectra will probably not yet be on mainnet at that point? Seems like early/mid May at this point for Pectra - should we change our plan for history expiry at all due to this?",
        "created_at": "2025-03-12T14:38:36.780000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I thought history expiry was independent of pectra?",
        "created_at": "2025-03-12T14:39:48.856000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes but the people working on it aren't exactly independent and rolling out a major change in the midst of a major fork (that has been having many issues of it's own) worries me",
        "created_at": "2025-03-12T14:41:08.322000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The May 1 date was in part decided with the expectation that we would have forked pectra around now",
        "created_at": "2025-03-12T14:41:43.232000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "with 6110 some CLs like lodestar never saw the reason to implement deposit snapshot EIP (to not pull deposit logs for a fresh setup) as it would be a waste which is what the actual dependency for pectra is",
        "created_at": "2025-03-12T14:43:28.953000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ah right that's a good point",
        "created_at": "2025-03-12T14:44:21.405000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "there actually is kind of a dependency on pectra..",
        "created_at": "2025-03-12T14:44:33.677000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "which CLs don't support deposit snapshot? just curious",
        "created_at": "2025-03-12T14:46:06.986000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we lodestar, not sure about others",
        "created_at": "2025-03-12T14:46:44.143000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "deposit snapshots are not provided by all checkpoint sync servers",
        "created_at": "2025-03-12T15:29:40.823000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "meh, I kind of get it, but yet another instance of history expiry being pushed into we'll-get-to-it-when-we-get-to-it",
        "created_at": "2025-03-12T15:31:41.537000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "just make it a real actual priority and not a maybe",
        "created_at": "2025-03-12T15:32:16.936000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "state expiry and history expiry are basically incomparable in effort",
        "created_at": "2025-03-12T15:32:25.703000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "oops, mistyped",
        "created_at": "2025-03-12T15:32:44.102000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "meant history expiry",
        "created_at": "2025-03-12T15:32:52.379000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah i don't want to make this a \"we'll get to it eventually\" thing, but #1 priority is a safe hard fork and we clearly are not there yet",
        "created_at": "2025-03-12T15:33:44.386000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so the thing is, if this exactly pattern hadn't occurred dozens of times over the last few months, where people push `$SCALING_EFFORT_X` ahead of it, because that's what's more exciting or whatever I'd not have started taking this stance",
        "created_at": "2025-03-12T15:33:53.637000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but no, just do it",
        "created_at": "2025-03-12T15:34:00.345000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "History expiry won't get dropped.  We need it for serious gas growth.  This is an opportunity to lean into the CLs that depend on ancient history to update, with sufficient notice.  But needing EIP-6110 does sound to be a valid concern.",
        "created_at": "2025-03-12T15:41:10.950000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, that's an actual technical reason, and I agree that at this point for CLs without it (Lodestar etc) it's pointless to implement deposit snapshot support for the purpose",
        "created_at": "2025-03-12T15:42:10.181000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so sure, the sequencing of Pectra  -\u003e 6110 switchover complete -\u003e history expiry is probably the least bad",
        "created_at": "2025-03-12T15:42:35.647000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If we decide to postpone history expiry, we need to make it very clear btw",
        "created_at": "2025-03-12T16:06:24.539000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because then we also need to delay fusaka to some extent or re-consider priorities",
        "created_at": "2025-03-12T16:06:39.993000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "60M blocks: https://discord.com/channels/595666850260713488/892088344438255616/1349413509439557745",
        "created_at": "2025-03-12T16:10:37.868000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok, so we know it is safe CL-wise gossip",
        "created_at": "2025-03-12T16:14:39.933000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes",
        "created_at": "2025-03-12T16:15:23.897000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "based on these numbers we should be safe to go till 90ish mil",
        "created_at": "2025-03-12T16:15:34.587000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Lets talk about 90mn after fusaka maybe, there are some EIPs required for that range to be \"safe\"",
        "created_at": "2025-03-12T16:16:21.067000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sort of",
        "created_at": "2025-03-12T16:21:42.262000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "let's make sure that 60M can practically propagate on large-ish networks (in node count, not validators) first",
        "created_at": "2025-03-12T16:22:18.029000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes agreed. El-wise there are some blockers there",
        "created_at": "2025-03-12T16:22:41.100000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok, and until then, 90M is ... no, not yet",
        "created_at": "2025-03-12T16:22:51.078000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "get 60M absolutely working and deployed, first.",
        "created_at": "2025-03-12T16:23:00.557000+00:00",
        "attachments": null
    }
]