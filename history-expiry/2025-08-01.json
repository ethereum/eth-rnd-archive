[
    {
        "author": "matildaclerke",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not sure this is accurate for Besu. At least with how we're currently intending to look at the existing era1 files. We're treating them as a source of block headers and bodies, and generating receipts as we build the state from nothing. From what I've heard, geth is accessing data directly in the files rather than performing any kind of import process?",
        "created_at": "2025-08-01T04:31:26.095000+00:00",
        "attachments": null
    },
    {
        "author": "matildaclerke",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How long of a history of receipts do they need in order to be a functional node though? If the answer is \"all of history\", then isn't history expiry a useless proposition? I'm not up to date on LST protocols, but I don't see why they'd need receipts from 10 years ago in order to function",
        "created_at": "2025-08-01T04:43:14.823000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c:harold:1019414542075297892\u003e",
        "created_at": "2025-08-01T08:33:41.392000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There’s definitely an adaptation needed by protocols here. Typically it’s from the time they deployed a contract that tracks rewards or handles key shards.\n\nRocketPool is thinking about ways to just not use receipts for the rewards tree any more.\n\nI am not sure what Lido and Stakewise and Stader are doing.\n\nSSV has its node use receipts to know which key shards were assigned to it : They’d need a better mechanism.\n\nOne other way that protocols could sidestep this is to allow the node operator to specify two RPC endpoints: One just for eth_getLogs that must have all receipts, and one for all other operations that can be aggressively expired",
        "created_at": "2025-08-01T08:36:21.217000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That however drives node operators towards centralized providers for that stuff. Which ain’t great",
        "created_at": "2025-08-01T08:45:38.741000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So overall: If clients can query the Portal history network for things they don’t have and return the result - a bit of latency doesn’t matter here - then that’d be ideal.\n\nNode operators aren’t pushed towards centralized providers like Infura and Alchemy.\n\nAnd Ethereum is not relying on protocols stepping away from receipts. Sure, “receipts were never meant as long term storage” - and yet they were available as such and so got used for that.\n\nI am not worrying about protocols like Chainlink here. They *also* do that and store things in receipts from the time a contract was deployed, but their operators are pros and can run full nodes with full indexing.\n\nIt’s the protocols that attract home operators that I am thinking about here.",
        "created_at": "2025-08-01T08:48:45.993000+00:00",
        "attachments": null
    }
]