[
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "[**E2HS**(Execution Layer History) SPEC](\u003chttps://github.com/eth-clients/e2store-format-specs/blob/main/formats/e2hs.md\u003e) - **full execution layer history** for execution clients, provides data from genesis to latest, headers are accompanied by proofs of canonicalness.\n\nHere is a link to download E2HS files \u003chttps://e2hs.ethportal.net/index.html\u003e. I am uploading E2HS files 1898 to 2370 right now. So up to block 19415040. I should be able to upload files upto HEAD-8192 blocks, in a week, as I am waiting on a few PR's to be merged to continue generating the files. We will be setting up a script which uploads new E2HS files every 27 hours.",
        "created_at": "2025-04-18T07:16:38.966000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Download links to e2store files in general can be found here \u003chttps://eth-clients.github.io/history-endpoints/\u003e",
        "created_at": "2025-04-18T07:21:29.255000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Interesting. I did not consider this. Does any client actually sync blocks backwards?",
        "created_at": "2025-04-18T07:38:48.274000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "regarding the sampling, it's something to investigate for later, but as we discussed, it doesn't really add a lot of security",
        "created_at": "2025-04-18T09:00:51.191000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "just means the 'fake clients' have to become a bit smarter in routing their requests",
        "created_at": "2025-04-18T09:01:07.609000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "one thing we could do is, couple the sampling with latency requirements, but it's a bit dangerous",
        "created_at": "2025-04-18T09:01:24.779000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "here's one from the bad ideas zone:\n\n- in the server, add logic so the 'first request' from every peer within a certain time window has a minimum latency of, say, 100ms\n- on the client side, when sampling history, check that response latency is \u003c 100ms",
        "created_at": "2025-04-18T09:03:39.368000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this would make it a bit harder for fake clients to use legitimate peers satisfy the sampling requests",
        "created_at": "2025-04-18T09:05:18.801000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think Nethermind and Besu do after a snap sync",
        "created_at": "2025-04-18T09:40:27.395000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Need the head 256 blocks to start processing blocks; so want them first; or have to wait for every block to be downloaded to start processing if going forwards, which would be a long time after snap sync completes vs going backwards from head",
        "created_at": "2025-04-18T09:42:07.315000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see",
        "created_at": "2025-04-18T09:57:06.794000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so you download backwards all the way, or just backwards a little bit to get some blocks to process?",
        "created_at": "2025-04-18T09:57:53.337000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think all the way; depends on the sync method chosen, fast-sync, full/archive sync we go forward. However snap sync is preferred as is fastest. Then backwards sync so we can start attesting fast and minimize offline time\n\n\u003c@628018527470616606\u003e to confirm",
        "created_at": "2025-04-18T17:52:36.252000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also a syncing node will start with a 0 range regardless; so seems a problem to disconnect on basis that it's not the full agreed range?",
        "created_at": "2025-04-18T17:58:59.955000+00:00",
        "attachments": null
    },
    {
        "author": "0x0e19",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "good day",
        "created_at": "2025-04-18T17:59:23.681000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Maybe if a peers range isn't improving over time would be a better heuristic?",
        "created_at": "2025-04-18T19:28:42.621000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is mostly cause to disconnect that bothers me (and does it even need to be in spec?)",
        "created_at": "2025-04-18T19:56:26.982000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "backwards all the way",
        "created_at": "2025-04-18T21:04:47.788000+00:00",
        "attachments": null
    }
]