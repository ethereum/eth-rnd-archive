[
    {
        "author": "yperbasis",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Basically I object to having `eth/70`/EIP-7801 for clients that keep serving a shard of historical blocks and `eth/71`/EIP-7639 for clients that refuse to serve any pre-merge historical blocks. That creates a bifurcation/fork in the protocol. My point is that `eth/70` should be made generic enough (and perhaps it is already) so that a node using `eth/70` can say explicitly which shards (if any) of historical blocks it serves. And we abandon `eth/71`/EIP-7639 and all clients use the generic `eth/70` instead. cc \u003c@687974325072035882\u003e \u003c@226589605816696832\u003e \u003c@543900561460822016\u003e \u003c@524738020033691659\u003e",
        "created_at": "2024-12-06T09:56:47.965000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes - i am also on board with this. Current eth protocol is kind of an extension of it but just with 1 big shard anyway",
        "created_at": "2024-12-06T09:58:40.114000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Its not like you need to support anything but the handshake format",
        "created_at": "2024-12-06T09:58:59.072000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We are removing eth/70. 7801 will not be in the eth protocol. We are making it its own subprotocol. And eth/71 will be become eth/70\nThis way noone serves history on the eth protocol after eth/70 and everyone who wants to serve history just use etha subprotocol",
        "created_at": "2024-12-06T10:50:41.627000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I understand the confusion",
        "created_at": "2024-12-06T10:50:51.194000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ill be ammending 7801 to accommodate the above",
        "created_at": "2024-12-06T10:51:05.103000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this is also good - but i do not see a reason why client not wanting to implement the system just not implement the handshake - really it is just an handshake",
        "created_at": "2024-12-06T11:04:56.867000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "like you want to keep all blocks until merge? cool, just advertise yourself to do so - i do not see why that is a bad thing for geth or others tbh, it seems actually quite beneficial",
        "created_at": "2024-12-06T11:05:36.389000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would appreciate feedback on this PR to 7801:\nhttps://github.com/ethereum/EIPs/pull/9099/files",
        "created_at": "2024-12-06T14:46:36.458000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If I understand correctly, this kinda enforces us to implement the protocol that we generally do not agree with. It was the reason for archive nodes to create the new subprotocol `etha` to begin with? We don't currently plan to implement the historical bitlist",
        "created_at": "2024-12-06T15:22:17.758000+00:00",
        "attachments": []
    },
    {
        "author": "smartprogrammer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can you rename 7639 to be eth/70 please üôè",
        "created_at": "2024-12-06T15:51:52.433000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes üëç thanks",
        "created_at": "2024-12-06T15:52:01.171000+00:00",
        "attachments": []
    },
    {
        "author": "yperbasis",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm OK'ish with moving EIP-7801 into a sub-protocol like `etha`, but to my mind it's generic enough to accommodate your approach and is a superior solution to EIP-7639. If we keep EIP-7801 as `eth/70`, you can return zero `blockBitmask` for nodes that decide not to store any historical blocks.",
        "created_at": "2024-12-06T16:19:40.516000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in my mind it is not about \"can 7801 provide the same functionality\" it's \"can i find a 7801 node that provides the data i want\"\n\nif the network in inundated with nodes that only serve pre-merge history (and in the future maybe on ~3 months history) then it will be more difficult to find peers who actually serve what you want",
        "created_at": "2024-12-06T16:21:59.293000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this was our critique of the approach from the beginning. if other client prefer that approach it's fine, but we would rather be on a separate protocol where we have good expectation from all peers that they have same history",
        "created_at": "2024-12-06T16:23:16.040000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@194432762315407360\u003e if you disagree please let us know",
        "created_at": "2024-12-06T16:23:33.752000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just implement the handshake",
        "created_at": "2024-12-06T17:40:00.940000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You dont need 99% of the eip",
        "created_at": "2024-12-06T17:40:15.619000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just an extra field and life is easier for everyone in general",
        "created_at": "2024-12-06T17:40:36.142000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Then you can just disregard the rest of the EIP",
        "created_at": "2024-12-06T17:40:46.829000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In general knowing what nodes has what data is good",
        "created_at": "2024-12-06T17:41:13.900000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So that is at least something desirable",
        "created_at": "2024-12-06T17:41:24.785000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Its just an advertisement for others then you can ignore what others have and go your merry way",
        "created_at": "2024-12-06T17:43:06.375000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Like I said, from the beginning we didn't want to be on a protocol with heterogenous history requirements. So it's not a simple \"just impl the handshake\"",
        "created_at": "2024-12-06T18:26:16.978000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think this fits into the same category as Erigon not being interested in implementing Portal.  Similarly, those doing 7801 should not impose any part of it on those that don't wish to pursue that solution.",
        "created_at": "2024-12-06T18:43:58.573000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "DevP2P has subprotocols.  You can and should implement 100% of the functionality that is needed for 7801 in that subprotocol and keep all of it out of the `eth` protocol.",
        "created_at": "2024-12-06T18:46:12.373000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sure - it would have just been simpler",
        "created_at": "2024-12-06T20:00:35.844000+00:00",
        "attachments": []
    },
    {
        "author": "funnygiulio",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Completely in your right to be allergic to it in the same way i am allergic to portal",
        "created_at": "2024-12-06T20:01:21.923000+00:00",
        "attachments": []
    }
]