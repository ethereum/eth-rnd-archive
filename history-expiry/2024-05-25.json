[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If one wants to contribute storage to the portal network, is that something they can do usefully today, or are things still in testing phase so there wouldn't be much value in that?",
        "created_at": "2024-05-25T04:18:27.980000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If it would be useful, is there some easy-to-follow instructions for doing so?",
        "created_at": "2024-05-25T04:19:01.733000+00:00",
        "attachments": null
    },
    {
        "author": "ogenev",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We currently have a \"mainnet\" network that is filling 4444s data and anyone can contribute by just running a portal node. By default, all three portal clients support the history network: Trin, Fluffy, and Ultralight. Documentation may need some updates and improvements but for Trin we have a Trin book: https://ethereum.github.io/trin/, for Fluffy: https://fluffy.guide/index.html.",
        "created_at": "2024-05-25T05:05:06.059000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Do any have a docker image I can run?  This is by far the simplest option for me (and many others).",
        "created_at": "2024-05-25T05:12:04.448000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "4* we have Shisui as well",
        "created_at": "2024-05-25T05:27:02.023000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes",
        "created_at": "2024-05-25T05:27:09.116000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003chttps://github.com/ethereum/hive/tree/master/clients\u003e",
        "created_at": "2024-05-25T05:27:49.045000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You should be able to find all 4 docker images in this repo, if you are interested in a specific client I can also just post the image tag if you want as well",
        "created_at": "2024-05-25T05:28:43.105000+00:00",
        "attachments": null
    },
    {
        "author": "ogenev",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is latest Trin image: https://hub.docker.com/r/portalnetwork/trin. All binaries are here: https://github.com/ethereum/trin/releases, the docker link is not working but we will fix it asap.",
        "created_at": "2024-05-25T05:33:57.786000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Any instructions on how to run the docker images?  I'm assuming I need to probably set some environment variables, configure some volumes, and open some ports at the least, maybe provide a secret as well?",
        "created_at": "2024-05-25T06:21:52.355000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The port is 9009. What OS are you on? I could make you a docker compose file, so you could deploy it with ``docker compose up -d``, you specify your nodes private key as well (maybe that is what you mean by provide a secret?)",
        "created_at": "2024-05-25T06:31:47.559000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can the private keys be provided by a file in the docker image?  This would allow for the use of `docker secret`s, which can mount a file into the container in a secure way and manage the secret contents of that file securely.",
        "created_at": "2024-05-25T06:32:50.843000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I assume a volume needs to be mounted as well, so the content is persisted across runs.  What is the mount point inside of the container for persisted files?",
        "created_at": "2024-05-25T06:33:21.370000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I also assume that it needs to connect to an Ethereum client.  How do you specify the endpoint for the Ethereum client it connects to?",
        "created_at": "2024-05-25T06:33:44.171000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is there a way to configure it to constrain the amount of disk used, or is that not implemented yet?",
        "created_at": "2024-05-25T06:33:55.831000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "```\ndocker container run -d --restart 'always' -p '9009:9009' --mount 'type=volume,source=portal-network,target=???' --mount 'type=volume,source=private-keys.txt,target=???' --environment '???=https://my-ethereum-client.example.com'\n```",
        "created_at": "2024-05-25T06:36:53.336000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(that is my guess, without documentation, and I don't know what goes in the `???` places)",
        "created_at": "2024-05-25T06:37:09.730000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2024-05-25T06:39:48.083000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "docker-compose.yml",
                "content": "be8fa5521b9b026e0064ab7477ecbd996e9610fc8d429db23ef3ffefac08dc25"
            }
        ]
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How does one provide a private key?",
        "created_at": "2024-05-25T06:40:15.948000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I will get that'",
        "created_at": "2024-05-25T06:40:25.164000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1s",
        "created_at": "2024-05-25T06:40:27.796000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Why does it listen on 8545?  That is the JSON-RPC port for execution clients and will likely conflict if both are run on the same host.  I can get around this in docker, but do I need to tell Trin that I'm exposing on a different port?",
        "created_at": "2024-05-25T06:40:56.478000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You can add ``--unsafe-private-key=xyz`` to the list of commands",
        "created_at": "2024-05-25T06:41:36.105000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Any way to provide privet keys as a file?  In Docker Swarm this is *far* more secure than adding as a CLI variable.",
        "created_at": "2024-05-25T06:42:00.262000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "you can just change the number in the file I shared",
        "created_at": "2024-05-25T06:42:08.114000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Will that break P2P discovery?  P2P discovery protocols often need to know what external port/IP they are listening on so they can advertise correctly to their peers (maybe not the case for Portal Network).",
        "created_at": "2024-05-25T06:42:56.757000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "no as P2P uses 9009",
        "created_at": "2024-05-25T06:43:21.371000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Do I need to expose that then as well?",
        "created_at": "2024-05-25T06:43:32.996000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, the 8545 is for making JSON-RPC queries against the Trin node?  Not for its P2P network communication?",
        "created_at": "2024-05-25T06:43:56.264000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think you can specify private key file locations yet, but we do normally pull it from the $HOME/.local/share/trin/* directory, where we store it in a file",
        "created_at": "2024-05-25T06:44:24.702000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah",
        "created_at": "2024-05-25T06:44:54.122000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can I configure that path?  Docker swarm puts all secrets in `/run/secrets/file_name`, where `file_name` is configurable but `/run/secrets` is not.  Is there perhaps an environment variable that lets me override where Trin looks for keys?",
        "created_at": "2024-05-25T06:45:20.477000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What is the traffic like between Execution client and Portal like?  Am I going to suffer greatly if my execution client is half way around the world from my Portal Client, or is the bandwidth between them relatively low?",
        "created_at": "2024-05-25T06:46:05.654000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We currently have a environment variable for specifying the data folder path (which includes the private key file), but I will make a PR quick which adds an enviroment variable which overrides the private key location",
        "created_at": "2024-05-25T06:49:25.961000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Should be able to get a PR up for that today",
        "created_at": "2024-05-25T06:49:39.787000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am not exactly sure what you mean, could you give me an example of the scenerio you are thinking about?",
        "created_at": "2024-05-25T06:51:00.403000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Example: I have a cloud hosted server that runs an Ethereum client.  I want to run a portal network node on my local desktop which has limited disk space and bandwidth.  Is this a reasonable configuration at this stage, or is my local disk/bandwidth going to be strained?",
        "created_at": "2024-05-25T06:52:11.248000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is a very reason configuration, you can specify how much storage you are comfortable with your Portal client using. For bandwidth I wouldn't imagine it being a problem at least tmk.\n\nAre you expecting there to be an interaction between your ethereum EL cliented on a cloud hosted server and your portal client running locally on your laptop?",
        "created_at": "2024-05-25T06:54:30.010000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How do I specify such storage limits?  CLI arguments I assume (I'm guessing these are documented somewhere)?",
        "created_at": "2024-05-25T06:55:25.777000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "--mb xyz",
        "created_at": "2024-05-25T06:55:42.237000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, this may be my misunderstanding!  I assumed that *some* portal clients would talk to connected full nodes to help seed data to the network.",
        "created_at": "2024-05-25T06:56:08.876000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I realize now that the configuration you gave above is for a standalone portal client, that has no backing Ethereum client for data sourcing.",
        "created_at": "2024-05-25T06:56:28.248000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You can participate in bridging data it is permissionless to do so, but I don't think a normal user would be bridging data on their laptop unless they are a dev testing.",
        "created_at": "2024-05-25T06:58:22.365000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Bridging is optional, not something that happens by default",
        "created_at": "2024-05-25T06:59:00.936000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see.  So bridging is \"high bandwidth\" between portal and execution client, but participating as a standalone portal client is relatively low bandwidth.",
        "created_at": "2024-05-25T06:59:06.049000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Are there instructions anywhere for setting up a bridging client, or at the moment is that fairly \"complex and best left for people developing the network for now\"?",
        "created_at": "2024-05-25T06:59:35.356000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if you run trin -- --help our cli docs should come up, but I guess we should probably have a website/book like geth has for that",
        "created_at": "2024-05-25T06:59:37.385000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes",
        "created_at": "2024-05-25T06:59:45.575000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I made a blog post \u003chttps://blog.ethportal.net/posts/portal-bridge-4444s-guide\u003e",
        "created_at": "2024-05-25T07:00:44.113000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The instructions should work for linux/windows, (our blog website is loading slow for some reason rn not sure why)",
        "created_at": "2024-05-25T07:01:26.130000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003chttps://github.com/ethereum/trin/pull/1312\u003e ok a PR is made for it, should be reviewed soon",
        "created_at": "2024-05-25T08:07:13.798000+00:00",
        "attachments": null
    }
]