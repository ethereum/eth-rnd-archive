[
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "Hey proto, which is the best replacement of bash `\u003e` and `\u003e\u003e` in rumor?\n\nI've been using `| tee` also and it doesnt work",
        "created_at": "2020-09-03T08:20:44.166000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "e.g. `peer list all --details | tee peer_list.txt`",
        "created_at": "2020-09-03T08:20:56.759000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "The rumor commands just log to the global logger, it's iffy what the best approach is to handle the output data. Each log variable is available to query from the environment though. So something like `$__peers` may work",
        "created_at": "2020-09-03T09:00:41.023000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "I can add a command later to explicitly output json",
        "created_at": "2020-09-03T09:04:41.157000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "I see usefull being able to redirect the stdout of the the rumor shell comands from the same rumor shell",
        "created_at": "2020-09-03T11:50:43.778000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Just released rumor `v0.2.5`, with a grab command: any of those logs variables can now be written to stdout, example: `peer list \u0026\u0026 grab peers \u003e example.json`",
        "created_at": "2020-09-03T12:21:35.921000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "The environment vars are all bash (so you can iterate/lookup). But grab will just completely format it as json, and work nicely with stdout.",
        "created_at": "2020-09-03T12:22:24.770000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Some p2p commands are just more complex than a single output, hence the logging and variables, keeps things easy to access without awk/jq/etc. magic",
        "created_at": "2020-09-03T12:23:18.237000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "I got a panic runtime error while testing the crawler with as many peers as possible, any idea of what can it be?\n```panic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x9f37cb]\ngoroutine 6910 [running]:\ngithub.com/protolambda/rumor/p2p/rpc/methods.(*Status).Data(0x0, 0x1157125)\n    /home/mikelcortes/rumor/p2p/rpc/methods/status.go:22 +0x2b\ngithub.com/protolambda/rumor/control/actor/peer/status.(*PeerStatusReqCmd).Run(0xc001093e48, 0x1418e20, 0xc0003ba780, 0x0, 0x0, 0x0, 0xabfe5f42, 0xdea336716b7fb5b)\n    /home/mikelcortes/rumor/control/actor/peer/status/req.go:46 +0x258\ngithub.com/protolambda/rumor/control/actor/peer/status.(*PeerStatusPollCmd).Run.func1.1(0xc0005a4380, 0x1418e20, 0xc0003ba780, 0xc00054f140, 0xc000d08a80, 0x27)\n    /home/mikelcortes/rumor/control/actor/peer/status/poll.go:63 +0x115\ncreated by github.com/protolambda/rumor/control/actor/peer/status.(*PeerStatusPollCmd).Run.func1\n    /home/mikelcortes/rumor/control/actor/peer/status/poll.go:54 +0xd8```",
        "created_at": "2020-09-03T15:59:42.700000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Some nil pointer deep in the req/resp stack (the callback that is called on the result). Not sure what it could be, I'll take a look soon. Did you set your own status? There may be some unexpected combination of commands that led to this.",
        "created_at": "2020-09-03T17:00:33.438000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Anyway, before this becomes a rumor support channel, you're welcome to DM as well.",
        "created_at": "2020-09-03T17:02:03.771000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Found the cause: rumor gets an unexpected result code (likely the non-standard rate-limit code used by some clients), and didn't make it an explicit error (rpc code is correct, but request command was not), then fails to find the status it never got (nil pointer). Thanks \u003c@!293154341127454721\u003e",
        "created_at": "2020-09-03T17:57:00.935000+00:00",
        "attachments": []
    },
    {
        "author": "alex.g.t",
        "category": "Testing",
        "parent": "",
        "content": "does anyone know any cli tool that would take eth1 priv key, eth2 validator private key and public withdrawl key and send an eth1 deposit? teku s comes close buy they have a prompt for yes/no in the middle of the process",
        "created_at": "2020-09-03T22:56:18.067000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "There's a flag to disable that somewhere... Hang on.",
        "created_at": "2020-09-03T22:59:02.988000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!386151184869752834\u003e Sorry, got dragged away.  I have a horrible feeling it gets disabled if you set `--verbose-output-enabled=false` It should also get disabled if the output isn't the console (seems to work for our ATs anyway).",
        "created_at": "2020-09-03T23:21:39.113000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Yep. Shame that's not a separate option - I think it was at one point and could be easily enough if that would be helpful.",
        "created_at": "2020-09-03T23:22:46.445000+00:00",
        "attachments": []
    }
]