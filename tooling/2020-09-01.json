[
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "Can you be a bit more specific on `you need at least the right subset of protocols to be negotiated as part of libp2p identify` ?\n\nI'm trying to start running a small crawler on medalla with rumor and the connection to my beacon-node fails dialing.\n\nI'm kind of new with Eth2 so there must be something I'm forgetting about",
        "created_at": "2020-09-01T08:04:08.665000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Libp2p (the networking library used in eth2) has a thing where it communicates what each end of the connection supports. If you miss things, some node implementations may not like it, and drop the connection, before you can exchange anything meaningful. And normally the libp2p identify protocol runs as one of the first things.",
        "created_at": "2020-09-01T08:24:11.514000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "As a crawler you would want to register these protocols in your local libp2p host, before connecting",
        "created_at": "2020-09-01T08:24:56.714000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Some, like serving blocks, won't have to be implemented for an initial connection to work, but do need to be registered. Then later, you may get a request for blocks, and get dropped. If you send a status message that you're still at genesis, you may avoid such sync requests. But at the same time, if nodes can't get blocks or gossip from you, you'll get disconnected eventually. Good enough to crawl though, for now.",
        "created_at": "2020-09-01T08:27:59.639000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "There are some example scripts in the rumor repo to help get you started and connected with rumor. Recently Prysm may have changed their behavior, and we're looking at connection issues there. You should be able to connect to other clients just fine, if you use the example to mock protocols",
        "created_at": "2020-09-01T08:30:19.256000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "Thanks proto!\nRegarding the mock scripts of the repo, I'm already using them as a template to connect the rumor node to the Lighthouse node that I'm locally running. The only problem is that while I'm getting able to establish the connection with the lighthouse nodes from the attacknet, I'm unable to connect to my local lighthouse node:\nIt reports:\n- When I try to connect ussing the peer multiaddress `args=[peer connect /ip4/127.0.0.1/tcp/5052/p2p/16Uiu2HAm1GXHc6V5t2AhMupFykeP5fJerTiLGrtL2wdyTAY78x8M] error=failed to dial 16Uiu2HAm1GXHc6V5t2AhMupFykeP5fJerTiLGrtL2wdyTAY78x8M: all dials failed  * [/ip4/127.0.0.1/tcp/5052] failed to negotiate security protocol: message did not have trailing newline` \n- When I try to connect ussing the enr `args=[peer connect enr:-LS4QOTPWbZEKW5rnS1TEgah8ztXnuImzHwfJYDpibQyPChvKJf7WPa28-iB7TU7CfWFGXywINu6O4RpwPJlKgjfNBmCCj-HYXR0bmV0c4gAAACAAAAAAIRldGgykOenXVoAAAAB__________-CaWSCdjSCaXCEX6np2YlzZWNwMjU2azGhAlbOELCThFDeCS6wgBu-ealFZyPcvH9jmaAKA6kL6dF-g3RjcIIjKIN1ZHCCMHQ] error= failed to dial 16Uiu2HAm1GXHc6V5t2AhMupFykeP5fJerTiLGrtL2wdyTAY78x8M: all dials failed   * [/ip4/95.169.233.217/tcp/9000] dial tcp4 95.169.233.217:9000: connect: connection refused`",
        "created_at": "2020-09-01T09:13:36.949000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "One of the lighthouse attacknet nodes is down due to update issue, that may be the problem, will check IP later for you.",
        "created_at": "2020-09-01T10:02:26.945000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "Sorry, the one that is failing to dial is the local medalla client that I have localy",
        "created_at": "2020-09-01T10:30:56.949000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Ahhh",
        "created_at": "2020-09-01T10:33:08.311000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "I see",
        "created_at": "2020-09-01T10:33:13.306000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "You pointed it at the http api",
        "created_at": "2020-09-01T10:33:25.883000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "But you need to connect on port 9000",
        "created_at": "2020-09-01T10:33:38.415000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "oh!",
        "created_at": "2020-09-01T10:33:48.254000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "and while would it be refused the connection using the ENR",
        "created_at": "2020-09-01T10:34:19.247000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "Also, the default port of rumor is 9000 as well. Change one of the other to avoid a port conflict on localhost",
        "created_at": "2020-09-01T10:34:53.185000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Testing",
        "parent": "",
        "content": "I think you may have some settings mixed up. 5052 is the default http port",
        "created_at": "2020-09-01T10:35:49.374000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "I see! now seems that the first option works fine",
        "created_at": "2020-09-01T10:38:49.036000+00:00",
        "attachments": []
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "Thanks a lot!",
        "created_at": "2020-09-01T10:40:46.089000+00:00",
        "attachments": []
    }
]