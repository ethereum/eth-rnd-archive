[
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "I have a question about network **re-configuration**\ncurrently, my test network takes 8 hours to activate a new validator ( so after deposit i have to wait around 8 hours, before the validator can start earning rewards)\ni know, i can modify the config.yaml file to speed up the block production, epochs etc\nbut I wonder if that will require me to Start a new network ( as i need to generate another genesis.ssz for that configuration)\ni don't want to start a new network, since we have some important NFTs and some other data (work done by students) on the existing testnet\ntherefore, my question being:\n**How can i modify the network parameters / network configuration for a testnet that is currently running**\nwe have 3 nodes, on 3 different machines\ni have total control over all of them",
        "created_at": "2024-06-06T13:06:15.647000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "any help is massively appreciated!",
        "created_at": "2024-06-06T13:06:23.554000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Pretty hard to do on an existing nw, your best bet is to do a hardfork of your network or maybe do a regenesis",
        "created_at": "2024-06-06T13:14:31.666000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Both won't work without writing custom code I think",
        "created_at": "2024-06-06T13:14:53.668000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Have you looked into kurtosis yet?",
        "created_at": "2024-06-06T13:15:39.314000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "Hi Barnabas",
        "created_at": "2024-06-06T13:16:24.601000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "is there any material that covers this? where i can read a bit about this?",
        "created_at": "2024-06-06T13:16:48.467000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "i am open to hard forking, it shouldn't be a problem as long as we can keep the data",
        "created_at": "2024-06-06T13:17:04.838000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "i think the professor would prefer running the nodes as i am doing currently, as it is easier to manage",
        "created_at": "2024-06-06T13:17:58.516000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "and i am not very good with docker, yet",
        "created_at": "2024-06-06T13:18:07.466000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "this is not going to be easy.",
        "created_at": "2024-06-06T13:19:02.280000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "i am open to writing custom code, if it is a means to an end - in this case, keeping the network running",
        "created_at": "2024-06-06T13:19:04.897000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'd look into programmable deployment",
        "created_at": "2024-06-06T13:19:18.366000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "But kurtosis don't allow you to keep the state between runs",
        "created_at": "2024-06-06T13:19:46.754000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Will take you a lot less time redeploying whatever NFTs you have deployed on your current testnet vs rewriting clients",
        "created_at": "2024-06-06T13:19:50.374000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you can leave it running tho.",
        "created_at": "2024-06-06T13:19:57.980000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The easiest way I see is to write code to dump the state into something that resembles the genesis allocation and start the network with that anew. Problem is that if you have significant state, that becomes very costly/impossible",
        "created_at": "2024-06-06T13:21:08.213000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Do you know how big the state is?",
        "created_at": "2024-06-06T13:21:28.666000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "this is a strange question probably, but how do i find that out ?",
        "created_at": "2024-06-06T13:21:56.367000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "(Geth db inspect)",
        "created_at": "2024-06-06T13:21:56.690000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "ah thanks",
        "created_at": "2024-06-06T13:22:01.637000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "this doesn't work ..",
        "created_at": "2024-06-06T13:24:08.485000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Maybe need to specify --datadir, whats the error?",
        "created_at": "2024-06-06T13:24:51.837000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-06-06T13:27:09.104000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "dd232836f9314021093ad64411a9f72ea9e66386001c3a8eba169c3ad6ade531"
            }
        ]
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Are you in the js console? You need to run it on a shut down node",
        "created_at": "2024-06-06T13:27:53.152000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "In the normal console",
        "created_at": "2024-06-06T13:28:04.457000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "oh ok, no the js console",
        "created_at": "2024-06-06T13:35:19.965000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "so i just shut down the node and writh geth db inspect",
        "created_at": "2024-06-06T13:35:31.805000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "i am running a slightly older version of geth",
        "created_at": "2024-06-06T13:35:42.501000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "geth version 1.12.0-stable-7b423b00",
        "created_at": "2024-06-06T13:35:56.215000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "ok got it!",
        "created_at": "2024-06-06T13:37:30.895000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-06-06T13:37:33.242000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "c3c33a9aa8d22d09f825d1747334d011772340f84edfc1ce5443dca3de98d9aa"
            }
        ]
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "if this is the state, its not even 1 GB",
        "created_at": "2024-06-06T13:44:57.269000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "do you think its feasible to do a regenesis with less than 700 MB of state",
        "created_at": "2024-06-06T13:45:37.357000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The state is account snapshot and storage snapshot, so \u003c1mb. That should be doable",
        "created_at": "2024-06-06T13:46:40.509000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "fantastic then!",
        "created_at": "2024-06-06T13:56:13.846000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "so ..",
        "created_at": "2024-06-06T13:56:18.257000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "how can i go about it",
        "created_at": "2024-06-06T13:56:22.395000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "any tutorials or documentation to read, on how to prepare and perform a regenesis?",
        "created_at": "2024-06-06T13:56:43.168000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "You need to write something to dump the state into a genesis.json and then just import the genesis.json normally",
        "created_at": "2024-06-06T14:11:32.379000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "There is code to iterate the state in cmd/geth/",
        "created_at": "2024-06-06T14:12:17.055000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "perfect, so its like creating a pickle file of the current state of the blockchain",
        "created_at": "2024-06-06T14:18:55.711000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "saving it",
        "created_at": "2024-06-06T14:18:57.724000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "and then starting a new blockchain",
        "created_at": "2024-06-06T14:19:05.973000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "and loading that saved file",
        "created_at": "2024-06-06T14:19:11.866000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "like you would load a save game",
        "created_at": "2024-06-06T14:19:16.742000+00:00",
        "attachments": null
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "i guess you are talking about this",
        "created_at": "2024-06-06T14:21:06.618000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "b0e6328bea96d1e62c03e35c79ee21ec266d4ad0731687978a81c901adb40bee"
            }
        ]
    },
    {
        "author": "yaxir137",
        "category": "Testing",
        "parent": "",
        "content": "will appreciate help on how to dump the state into a new genesis file",
        "created_at": "2024-06-06T21:54:32.815000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "No I mean this https://github.com/ethereum/go-ethereum/blob/master/cmd/geth/snapshot.go#L268",
        "created_at": "2024-06-06T21:56:10.071000+00:00",
        "attachments": null
    }
]