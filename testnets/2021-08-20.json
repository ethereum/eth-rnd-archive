[
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "I've updated https://slots.symphonious.net to also include an Upgrade Scheduler to make picking upgrade epochs easier.",
        "created_at": "2021-08-20T00:36:00.155000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Based on that I'd suggest setting the altair fork epoch for Prater to 36660 which is 2021-09-02 12:12:00Z. About 24 minutes later than Pyrmont but given we've seen the upgrade go smoothly once hopefully the Aussies can still make it to be about the same time as last night. ðŸ™‚\n\nIf we're going to do a two week turn around though we likely need to agree on the fork epoch prior to next week's call so releases can go out.",
        "created_at": "2021-08-20T00:38:08.557000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!97774605351010304\u003e  \u003c@!514429265001971732\u003e  thought this message fits here cause people here are following the testnets through the explorer: something's really odd on pyrmont's validator tab https://pyrmont.beaconcha.in/validators. I have 10 genesis validators called `potuz-leaking-{0--9}`  that have never attested. They appear in that tab to have a \"last attestation\" a few months ago. For example validator index     81603  appears to have attested in block 1,046,852. What makes it worse is that the balances oughta be off: validator 101277 appears as active and with lower balance, this is impossible: my validators have to be the lowest ranking validators on pyrmont, or at least never have that difference with another validator. Unfortunately I don't have now a beacon running on pyrmont to check this, but since the balances seem to be way off I wander about other metrics",
        "created_at": "2021-08-20T16:03:30.306000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "perhaps what's more worrisome is that the validators that appear as active and with lower balance than mine seem to have had a strong leak casually yesterday on the fork day: \nhttps://pyrmont.beaconcha.in/validator/102552",
        "created_at": "2021-08-20T16:12:28.482000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "perhaps they were slashed and the explorer is not showing it?",
        "created_at": "2021-08-20T16:13:13.716000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "fo.jpg",
                "content": "aa2cd9f4861af5e3a474955f521d1ecb0b9ebe0d3dceeb415a0ab4cf2cf4eef0"
            }
        ]
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Oh wait, perhaps they are in the sync committee and are being penalized?",
        "created_at": "2021-08-20T16:25:08.390000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "That's the only explanation I can think, that'd show also that penalties for missing a sync committee assignments are stiffer",
        "created_at": "2021-08-20T16:25:52.341000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "hm yeah that is def a bug, that it shows a \"last attestation\"",
        "created_at": "2021-08-20T16:26:21.117000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah that sure, but the fact that worries me more is the change in balance at the fork",
        "created_at": "2021-08-20T16:26:47.938000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "You get those balances from prysm endpoint, so if those are real I'd like to know how",
        "created_at": "2021-08-20T16:27:16.049000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "i can check",
        "created_at": "2021-08-20T16:27:29.703000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "right now we still index data via prysm (using the prysm-api, not their impl of the standard-api), we will switch to LH soon though, just for some time",
        "created_at": "2021-08-20T16:29:45.633000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "the plan is to completely switch over to standard-api, but it takes some time since we have quite some features now that are tied to how things work right now ðŸ˜„",
        "created_at": "2021-08-20T16:30:22.131000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "```\n$ curl -s \"prysm-prater-1:3500/eth/v1alpha1/validators/balances?indices=81603\" | jq\n{\n  \"epoch\": \"33773\",\n  \"balances\": [\n    {\n      \"publicKey\": \"kHPKgsjLWabWxW1igKO9r3lZy1s/8cakwfs84nmsybB4gbWPVftWX1cg7cPBEgNh\",\n      \"index\": \"81603\",\n      \"balance\": \"32764536703\",\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"nextPageToken\": \"\",\n  \"totalSize\": 1\n}\n```",
        "created_at": "2021-08-20T16:32:21.386000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah but I don't see any reason for prysm v1alpha api to report wrong balances. So if they are right and those validators are indeed in the sync committee that will surprise a few (at least me, and I had computed those numbers :) )",
        "created_at": "2021-08-20T16:32:36.932000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "ahhh sorry wrong node haha",
        "created_at": "2021-08-20T16:33:56.968000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "too much nodes ðŸ˜…",
        "created_at": "2021-08-20T16:34:12.508000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "https://pyrmont.beaconcha.in/validator/81603",
        "created_at": "2021-08-20T16:34:16.765000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ahh that's prater ðŸ™‚",
        "created_at": "2021-08-20T16:34:24.846000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "```\n$ curl -s \"prysm-pyrmont-1:3500/eth/v1alpha1/validators/balances?indices=81603\" | jq\n{\n  \"epoch\": \"61917\",\n  \"balances\": [\n    {\n      \"publicKey\": \"h6bby4nNsKcdbSh7i6WzpTzfHKYNlJ6QZs97uMsbIYlS9dTZy6UKAHvs1ilcM62e\",\n      \"index\": \"81603\",\n      \"balance\": \"30491868583\",\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"nextPageToken\": \"\",\n  \"totalSize\": 1\n}\n```",
        "created_at": "2021-08-20T16:34:49.514000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "alright that matches",
        "created_at": "2021-08-20T16:35:05.218000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "i will ask LH now",
        "created_at": "2021-08-20T16:35:16.313000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I'm interested in https://pyrmont.beaconcha.in/validator/101277",
        "created_at": "2021-08-20T16:35:19.553000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "mostly want to know if it was in the first sync committee",
        "created_at": "2021-08-20T16:35:34.604000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "```\n      \"index\": \"101277\",\n      \"balance\": \"30455601069\",\n```",
        "created_at": "2021-08-20T16:35:53.311000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ah we probably didn't change since the first two are repeated",
        "created_at": "2021-08-20T16:35:54.434000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ok, those balances match the site",
        "created_at": "2021-08-20T16:36:05.459000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "if the latter index was/is in the sync committee that'd explain it perhaps, but still is shocking",
        "created_at": "2021-08-20T16:36:32.542000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "yeah we need to show which validators are in the committee",
        "created_at": "2021-08-20T16:36:52.683000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "one sec i try to find the endpoints in the api",
        "created_at": "2021-08-20T16:37:18.351000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "there's still the issue of the \"last attestation\" but that I suppose is a bug in the dbase",
        "created_at": "2021-08-20T16:37:39.947000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "yeah there must be some issue with something, cant think of it on top of my head",
        "created_at": "2021-08-20T16:38:32.824000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "hm, i am getting `\"code\": 405, \"message\": \"METHOD_NOT_ALLOWED\",` from lighthouse for `/eth/v1/states/1981399/sync_committees`",
        "created_at": "2021-08-20T16:44:41.272000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "how about `/eth/v1/states/1981399/committees` ?",
        "created_at": "2021-08-20T16:49:19.405000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "same",
        "created_at": "2021-08-20T16:51:47.297000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "alright, anyway I'll go with the theory that these validators are in the sync committee and are leaking. The penalty is 10 times stiffer than being merely offline regularly. So for a validator that was essentially offline since launch (as these were) it makes sense than in just a day they'll leak more than the difference with my own validators",
        "created_at": "2021-08-20T16:56:19.797000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "This validator in particular was activated in epoch 639 and attested until epoch 670, so that's just a few hours, and was active just 2 days after genesis",
        "created_at": "2021-08-20T16:57:14.409000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "so with one day of leaking at the committee she's leaked more than the difference to my genesis leaking vals",
        "created_at": "2021-08-20T16:57:35.503000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "it's alright now I guess",
        "created_at": "2021-08-20T16:57:43.384000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "i will try to get deep knowledge about why which validator got what reward/penalty onto our explorer, right now its not optimal",
        "created_at": "2021-08-20T16:57:43.707000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "will get to you if I do not understand something ðŸ˜„",
        "created_at": "2021-08-20T16:58:49.289000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "but first i want to mark rpl-validators and show some of their metrics",
        "created_at": "2021-08-20T16:59:21.142000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "jim or proto here may have tooling already to confirm the above. Sorry to raise an alarm, didn't think about the sync committee penalty before",
        "created_at": "2021-08-20T16:59:36.964000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "its fine! super nice that you look into these things and call out people about it",
        "created_at": "2021-08-20T17:00:09.767000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "yes your validator is part of a sync_committee",
        "created_at": "2021-08-20T17:10:56.335000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "oh no that I hope is not",
        "created_at": "2021-08-20T17:15:34.566000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I think you meant 101277 right?",
        "created_at": "2021-08-20T17:15:48.498000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "right",
        "created_at": "2021-08-20T17:15:52.769000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ah perfect! confirmed then",
        "created_at": "2021-08-20T17:15:59.764000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "i used a invalid endpoint",
        "created_at": "2021-08-20T17:16:13.746000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "thats why I got the error",
        "created_at": "2021-08-20T17:16:29.303000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "what's the right one?",
        "created_at": "2021-08-20T17:16:44.982000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "`/eth/v1/beacon/states/1981300/sync_committees`",
        "created_at": "2021-08-20T17:16:59.591000+00:00",
        "attachments": null
    },
    {
        "author": "ppf.",
        "category": "Testing",
        "parent": "",
        "content": "will put this onto my todo-list before other things, showing the committees (historic up to the upcoming)",
        "created_at": "2021-08-20T17:19:02.510000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "FYI there is an 'altair' branch of `chaind` that gathers sync committee information as well as other altair-related bits and pieces (e.g. timeliness for attestations).",
        "created_at": "2021-08-20T22:25:08.135000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "And you can also pull `ethdo` from master and run `ethdo synccommittee members` to obtain the current sync committee.",
        "created_at": "2021-08-20T23:09:41.058000+00:00",
        "attachments": null
    }
]