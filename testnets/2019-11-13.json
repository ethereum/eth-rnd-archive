[
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Seeing as our testnet deposit contracts are likely to have an `owner` address for refunds, perhaps we could configure these two lines (link below) to permit `owner` to provide zero eth but still be assigned `MIN_DEPOSIT_AMOUNT` in the deposit log. That is, allow free deposits for the `owner` on testnet deposit contracts.\n\nhttps://github.com/ethereum/eth2.0-specs/blob/03fb0979485a204890053ae0b5dcbbe06c7f1f5c/deposit_contract/contracts/validator_registration.v.py#L75-L76",
        "created_at": "2019-11-13T01:51:10.275000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@361447803194441738\u003e I'd be wary of making changes to the deposit function's logic. In this case, you'd have to tweak deposit data to provide a false value of Ether and that could cause knock-on problems. And if you have a drain function you can obtain the Ether back very simply anyway with a separate call so nothing is lost",
        "created_at": "2019-11-13T07:13:02.974000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Testing",
        "parent": "",
        "content": "pretty sure we have enough test ether to not need refunding though ðŸ˜„",
        "created_at": "2019-11-13T07:15:35.249000+00:00",
        "attachments": []
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "To be clear, Iâ€™m only taking about testnet contracts. I certainly wouldnâ€™t suggest this for mainnet.\n\nIt seems a trivial to change to me. Thereâ€™s no actual need for the Eth to be in the contract.",
        "created_at": "2019-11-13T07:22:32.844000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "It's useful for testing deposit tooling, though.  Leaving the `deposit()` function as will be on mainnet makes the testing more real-world, and given it's just gETH I don't see the problem of using it (and returning it if required with a drain)",
        "created_at": "2019-11-13T07:27:10.496000+00:00",
        "attachments": []
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I think youâ€™re taking about real-world testing and Iâ€™m talking about edge-case testing",
        "created_at": "2019-11-13T07:50:54.287000+00:00",
        "attachments": []
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "We already have several deposit contracts deployed that we use for testing. Making these as far-out as we can is very useful for unit testing.",
        "created_at": "2019-11-13T07:55:53.693000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, I'm very much thinking about the tooling and real-world usage",
        "created_at": "2019-11-13T07:57:06.866000+00:00",
        "attachments": []
    }
]