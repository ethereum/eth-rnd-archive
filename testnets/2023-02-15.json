[
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "Curious if anyone knows the hardware requirements to support/run an empty-state 100 validator devnet? \n\nAssuming the 100 validators are on one machine, supported by a couple beacon chain + execution layer nodes. Appreciate any thoughts, thx!",
        "created_at": "2023-02-15T00:38:19.477000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "its quite lightweight to run small devnets. even 2 core 4gb machines should be able to handle it.\nYou can also run the devnets locally all on one machines, ive had 3 testnets each with 10 nodes and 64 validators running on my laptop at the same time. Ran it using kurtosis.",
        "created_at": "2023-02-15T13:37:50.736000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "thanks for the clarity! that's good news, but ya something is wrong with my devnet setup then. \n\nCurrently I run `out of memory` over a timespan of a few days of the devnet running - on a single EC2 instance with **32GB of RAM**. I've bumped my instance up to** 64GB of RAM** now, hasn't `OOM`'ed yet but looks like its on that trajectory",
        "created_at": "2023-02-15T18:49:54.302000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "I'm running 100 validators, 1 beacon node, and 1 execution client on the one instance. Memory slowly and continuously runs out so I'm guessing as my devnet runs/produces blocks it's storing the chain in-memory?\n\nIs this a known flag to enable/disable, or any suggestions on what's wrong? Thanks",
        "created_at": "2023-02-15T18:50:01.155000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "uhh hard to say without knowing more about the setup. but 32gb of ram is plenty for any el/cl. There's no flag to enable/disable that causes this - which client are you using?",
        "created_at": "2023-02-15T20:01:08.178000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "ah fair, I'm currently using geth for EL and prysm for CL",
        "created_at": "2023-02-15T22:14:05.860000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "please let me know if there's anything I can measure or flags to enable that may help debug the cause, or feel free to ask whatever about the current setup",
        "created_at": "2023-02-15T22:15:57.882000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'm not sure what kind of private devnet you are trying to run, but have you check out our configs? https://github.com/ethpandaops/withdrawals-testnet/tree/master/withdrawal-devnet-7/inventory/group_vars Here we have all the params we are running the different devnets with, and you might be able to use some of them.",
        "created_at": "2023-02-15T22:17:28.264000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "currently I'm doing a devnet that starts pre-merge running clique/poa, closed validator set (working of the model used for sepolia) that goes through the merge. \n\nIt runs through the merge fine and switches to PoS but after running for a few days it crashes\n\nI haven't seen these devnet configs yet - awesome thank you, I'll try using these params to run the clients and see if that helps",
        "created_at": "2023-02-15T22:23:00.396000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "all clients now support merged state genesis. any reason you wanna go through the merge?",
        "created_at": "2023-02-15T22:23:56.878000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "not at this point (was fun originally to experiment and learn), as long as I can have a closed validator set from merged state genesis then starting post-merge would be ideal",
        "created_at": "2023-02-15T22:25:04.890000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "i'd recommend using our latest version of https://github.com/ethpandaops/ethereum-genesis-generator",
        "created_at": "2023-02-15T22:26:15.483000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "should get you up and running in no time.",
        "created_at": "2023-02-15T22:26:23.032000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "are you trying to also configure shanghai fork on your devnet? if so, that would be rather difficult to trigger with the merge and poa network.",
        "created_at": "2023-02-15T22:27:40.578000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have done it a few times already just in the beginning of december but it was a major pain in the ass with the timing",
        "created_at": "2023-02-15T22:28:18.612000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "ah this looks useful, I'll dig into this today üôè - hopefully it fixes whatever resource issues I'm running into with my setup",
        "created_at": "2023-02-15T22:28:59.464000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "I'm not trying to config for the shanghai fork yet, but will eventually. Ideal setup is to get a stable PoS impl with a private validator set and clean EL genesis state (that I seed with some custom `alloc`)\n\nI figure it'll be easier to add in the support for the shanghai fork testing after I get to that first step ^",
        "created_at": "2023-02-15T22:30:35.463000+00:00",
        "attachments": null
    },
    {
        "author": "gweigod_",
        "category": "Testing",
        "parent": "",
        "content": "hah nice, yea the timing is \"fun\" lol. But I'm going to switch my setup to your links here so I start post-Merge",
        "created_at": "2023-02-15T22:31:19.385000+00:00",
        "attachments": null
    }
]