[
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If there's high demand for a 5.0-5.1 frankenstein bootnode, I can hack one together",
        "created_at": "2020-10-15T00:16:46.252000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Same",
        "created_at": "2020-10-15T00:17:09.003000+00:00",
        "attachments": []
    },
    {
        "author": "prestonvanloon",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that might tbe the only way to migrate medalla (or other testnets) from discv5 to discv5.1",
        "created_at": "2020-10-15T00:17:23.747000+00:00",
        "attachments": []
    },
    {
        "author": "prestonvanloon",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "at least it would be the least amount of issues, hopefully",
        "created_at": "2020-10-15T00:17:54.855000+00:00",
        "attachments": []
    },
    {
        "author": "prestonvanloon",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "üòÑ",
        "created_at": "2020-10-15T00:17:55.912000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've heard mixed demand. If \u003c@!194432762315407360\u003e \u003c@!498009160982724610\u003e think it's good for medalla, I'll get started, or Piper can take this up if he has more time",
        "created_at": "2020-10-15T00:19:05.705000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ideal path here IMHO is for v5 to just die and be replaced",
        "created_at": "2020-10-15T00:19:17.060000+00:00",
        "attachments": []
    },
    {
        "author": "prestonvanloon",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Agreed, just trying to think about how to do it over several days as users update their clients",
        "created_at": "2020-10-15T00:20:13.952000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm not familiar enough with how v5 is being used in eth2 to be able to have an informed opinion on how best to migrate",
        "created_at": "2020-10-15T00:20:51.916000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll support whatever you all think is the right way forward",
        "created_at": "2020-10-15T00:21:55.082000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I agree that we should just kill v5. Medalla is having issues at the moment. I think we do a co-ordinated release, encourage people to update to 5.1. And if someone can build a 5.0 - 5.1 bootnode I think that will help minimize the chaos",
        "created_at": "2020-10-15T00:24:05.635000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What does the timing look like for writing this 5-5.1 bootnode? I.e. when do we plan to migrate?",
        "created_at": "2020-10-15T00:25:07.946000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think most of us are relatively good with 5.1. So we could aim for next week?",
        "created_at": "2020-10-15T00:25:48.327000+00:00",
        "attachments": []
    },
    {
        "author": "prestonvanloon",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For Prysm, we can target next week if we update master by Friday (weekly release cut off is Friday EOD, release uploaded on the following Monday)",
        "created_at": "2020-10-15T00:26:41.842000+00:00",
        "attachments": []
    },
    {
        "author": "prestonvanloon",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we can delay a few days if necessary",
        "created_at": "2020-10-15T00:26:54.477000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This works for us.",
        "created_at": "2020-10-15T00:27:37.348000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We might do a few quick tests once you have it in prysm to ensure both our bootnodes are compatible üòÖ",
        "created_at": "2020-10-15T00:28:23.965000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And I can think of different ways to implement a frankenstein-bootnode; what do you all think?\n- run v5.0 on one port, v5.1 on another (Or is there some new work around to share the port and split traffic?)\n- different identities per version\n- copy ENRs between tables (or use the same table, I don't think that code changed, although tricky with two different revalidation routines running)",
        "created_at": "2020-10-15T00:31:57.143000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, so I guess it comes down to the implementation. Does the implementation allow you insert non-contactable ENR's into your local routing table? Like if you inject an ENR you found in 5.0, your 5.1 node doesn't try to ping it before adding it? You can just add misc ENRs and send them out on request?",
        "created_at": "2020-10-15T00:33:25.226000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "My original plan was to inject all past known ENR's of lighthouse nodes into the 5.1 table (this would happen automatically), but we dont advertise them if we can't connect to them ourselves (which will be the case with 5.1)",
        "created_at": "2020-10-15T00:34:01.728000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yea, revalidation of ENRs is tricky. I don't want to implementations fighting over what's valid in the table or not",
        "created_at": "2020-10-15T00:34:46.655000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, so you might have to hack away any kind of validation. And just allow misc inserts",
        "created_at": "2020-10-15T00:35:10.634000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll give it a try then",
        "created_at": "2020-10-15T00:35:44.976000+00:00",
        "attachments": []
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "awesome, thanks üôè",
        "created_at": "2020-10-15T00:35:54.120000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Sharing a table between the two won't work nicely if they run different identities, since the table is organized by distance to the identity. So I'm going to run two tables, and whenever something is written, copy it over. Same for deletes, but change revalidation to try both v5 and v51.",
        "created_at": "2020-10-15T01:42:45.113000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Finished a proof of concept bootnode, will test tomorrow",
        "created_at": "2020-10-15T04:03:25.243000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "nice, do you have a public branch for it ?",
        "created_at": "2020-10-15T04:03:50.099000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Untested, this is essentially a mini hackathon product; https://github.com/protolambda/discv5-catdog\nHave fun with it if you like to toy with it. Will work on testing/stability tomorrow. You can find usage and approach in readme.",
        "created_at": "2020-10-15T04:05:22.495000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "great, this is good enough to play around with",
        "created_at": "2020-10-15T04:10:11.319000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I like that you already have a catdog pic for this lol",
        "created_at": "2020-10-15T04:11:35.087000+00:00",
        "attachments": []
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ü§£",
        "created_at": "2020-10-15T08:03:19.359000+00:00",
        "attachments": []
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "amazing work Proto!",
        "created_at": "2020-10-15T08:03:31.803000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Update:\n- Backported the v5.0 fix for Go 1.15\n- Nice logging with v5.0 and v5.1 labels\n- Some initial testing. It successfully does 5.0 with the prysm zinken bootnode, and then later on it lands in the v5.1 table, and v5.1 logs it as being \"revalidated\", while in reality it revalidated by trying both v5.0 and v5.1 pings",
        "created_at": "2020-10-15T14:23:34.566000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Made some more minor improvements + dockerfile",
        "created_at": "2020-10-15T15:08:37.788000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll start this on some cloud node, and others can play with it. See if we can discover v5.1 nodes from v5.0, and vice versa",
        "created_at": "2020-10-15T15:09:36.085000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\nCATDOG enrs:\n\nv5.0: \nenr:-Ku4QKYN_qSG6WnGMs33F4STy8canm2X7vLaz0MB6bA84YJ-GtT5CeUvkuYvMUX-mwuU3Ju14-2wZj7rjwx7eAthAL4Dh2F0dG5ldHOIAAAAAAAAAACEZXRoMpDaNQiCAAAAA___________gmlkgnY0gmlwhBK4vdCJc2VjcDI1NmsxoQNYtv_PfWUWNRo99-21Y4dXl5Z-XGalHp-bJmDHod4x14N1ZHCCI1o\n\nv5.1: \nenr:-Ku4QJmPsyq4lmDdFebMKXk7vdt8WsLWkArYT2K8eN057oFudm2tITrZJD9sq1x92-bRmXTyAJgb2FD4ior-KHIU3KcDh2F0dG5ldHOIAAAAAAAAAACEZXRoMpDaNQiCAAAAA___________gmlkgnY0gmlwhBK4vdCJc2VjcDI1NmsxoQMWAsR84_ETgq4-14FV2x00ptmI-YU3tdkZV9CUgYPEnIN1ZHCCI1s\n```\n\nBootstrapped it on the prysm zinken bootnode",
        "created_at": "2020-10-15T15:34:28.653000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Now someone into v5.1, see if you can find zinken v5.0 enrs by querying the v5.1 endpoint. I'll try later by modding rumor to new discv5 version. But need to log off now",
        "created_at": "2020-10-15T15:35:16.996000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ports of the catdog are 9050 and 9051 respectively, or try https://enr-viewer.com",
        "created_at": "2020-10-15T15:37:28.017000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Quick question about `FINDNODES` and the distance values.  Valid distances are: 0-255 inclusive (uint8) or 0-256?",
        "created_at": "2020-10-15T22:07:39.089000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "some of this is just from some awkward inconsistencies that I'm noticing in my codebase where in some context we refer to buckets from 1-256 which actually get normalized to 0-255 internally.",
        "created_at": "2020-10-15T22:09:34.353000+00:00",
        "attachments": []
    }
]