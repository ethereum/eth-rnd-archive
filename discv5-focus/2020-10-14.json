[
    {
        "author": "deme1744",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, in the Nim implementation you can't run both at the same time right now, it is only possible to select one or the other at compile time (with a flag). I didn't want to do the effort for supporting both at runtime unless it is really needed.  But it is possible of course.",
        "created_at": "2020-10-14T07:10:16.961000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So, what's the plan then?",
        "created_at": "2020-10-14T08:55:36.907000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I just checked and Zinken testnet was just launched.",
        "created_at": "2020-10-14T08:56:01.198000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Maybe we could try to perform the upgrade in flight on that one?",
        "created_at": "2020-10-14T08:56:37.950000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We could although Zinken is only planned to last for a few days, and most nodes are already up and peered with most of the network so it might not be the most effective to test it out. We could start introducing it medalla, although would have to be a co-ordinated release by all clients",
        "created_at": "2020-10-14T09:26:19.776000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What kinds of nodes are people running on Medalla?",
        "created_at": "2020-10-14T09:48:51.198000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And how many?",
        "created_at": "2020-10-14T09:49:01.697000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's a public testnet, I know, but if it's only a hundred nodes with responsive operator, we can do the upgrade in one day",
        "created_at": "2020-10-14T09:49:47.259000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If it's many more nodes and people aren't checking them constantly, there will be some disruption.",
        "created_at": "2020-10-14T09:50:13.497000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I would estimate roughly about 500 -660 nodes right now, although there are many responsive operators. There are also a subset who arent really checking on them.",
        "created_at": "2020-10-14T09:59:38.154000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We could get those running large amount of validators to upgrade first to v5.1",
        "created_at": "2020-10-14T10:00:25.538000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "*amounts",
        "created_at": "2020-10-14T10:00:29.568000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the disruption would be minimal if the impact on finality is muted",
        "created_at": "2020-10-14T10:01:12.345000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, I agree with a coordinated update.",
        "created_at": "2020-10-14T10:13:59.103000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "OK",
        "created_at": "2020-10-14T10:19:05.121000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I will merge my implementation in go-ethereum today",
        "created_at": "2020-10-14T10:19:16.997000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i.e. v1.9.23 will have it, and will be incompatible with 5.0",
        "created_at": "2020-10-14T10:19:34.816000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh cool",
        "created_at": "2020-10-14T10:19:54.489000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think it won't be a problem for prysm because you have it pinned anyway",
        "created_at": "2020-10-14T10:20:03.244000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Teku also has it merged already",
        "created_at": "2020-10-14T10:20:19.801000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, I can add it into lighthouse whenever, I'm just waiting till I'm more confident that I'm to spec and interoperable. Your tests gave some fails :(",
        "created_at": "2020-10-14T10:21:33.352000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Sounds good to me, upgrading prysm for it will be simple.",
        "created_at": "2020-10-14T10:32:12.048000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Has anyone thought about the upgrade path for medalla with discv5? We are exploring whether or not it is possible to switch from discv5 to discv5.1 automatically at runtime at a given timestamp, in prysm. This would probably be the most effective way to coordinate a switchover with minimal collateral damage to the network. What do you all think about that idea?",
        "created_at": "2020-10-14T17:54:47.616000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For us switching at runtime would require a bit more engineering. \nI think it semi depends on how implementations are storing enrs in their routing table. If some store non contactable enrs, then current versions will run fine and may still connect to newer versions (via old enrs in the DHT). But these peers would gradually stop finding peers and force an update, imagine. \nNew peers I guess will still be segregated and discover new peers, but we may have an overlap in connectivity. \nUnless someone wants to build a bootnode that combines the two dhts",
        "created_at": "2020-10-14T23:40:28.479000+00:00",
        "attachments": null
    }
]