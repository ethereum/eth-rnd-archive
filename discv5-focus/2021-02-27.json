[
    {
        "author": "levi.korg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Happy Saturday from Denver! Iâ€™m trying to understand the status of they Go implementation of discv5. Iâ€™m getting the impression there was a prototype implementation in go-ethereum thatâ€™s been removed. \n\nSpecifically, this package seems to have changed course:\nhttps://pkg.go.dev/github.com/ethereum/go-ethereum@v1.9.25/p2p/discv5\n\nNot sure if it was reorganized or simply dropped. Any pointers would be helpful.",
        "created_at": "2021-02-27T16:43:08.493000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There are multiple different discovery packages in geth",
        "created_at": "2021-02-27T16:55:00.498000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The one you're looking at is indeed a prototype/legacy kind of thing",
        "created_at": "2021-02-27T16:55:13.971000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The package you're looking for is `discover`, it has both discv4 and discv5 in it. See https://github.com/ethereum/go-ethereum/tree/master/p2p/discover",
        "created_at": "2021-02-27T16:56:04.466000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!514629735339261993\u003e if it helps, here's some example code (error handling is up to you):\n```go\nimport (\n    geth_log \"github.com/ethereum/go-ethereum/log\"\n    \"github.com/ethereum/go-ethereum/p2p/discover\"\n    \"github.com/ethereum/go-ethereum/p2p/enode\"\n)\nfunc example() {\n    localNodeDB, err := enode.OpenDB(dbPath)  // storage (empty path == in-memory db)\n    localNode := enode.NewLocalNode(localNodeDB, priv)  // your own ENR contents\n    udpAddr := \u0026net.UDPAddr{IP: net.ParseIP(\"0.0.0.0\"), Port: 9000}\n    conn, err := net.ListenUDP(\"udp\", udpAddr)\n    log := geth_log.New()\n    log.SetHandler(geth_log.StdoutHandler)\n    cfg := discover.Config{\n        PrivateKey:   priv,\n        NetRestrict:  nil,\n        Bootnodes:    bootnodes,  // list of enodes (parsed ENRs)\n        Unhandled:    nil, // Not used in dv5\n        Log:          gethLogger,\n        ValidSchemes: enode.ValidSchemes,\n    }\n    udpV5, err := discover.ListenV5(conn, localNode, cfg)\n}\n```",
        "created_at": "2021-02-27T17:03:38.503000+00:00",
        "attachments": []
    },
    {
        "author": "levi.korg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Very helpful, thank you!",
        "created_at": "2021-02-27T17:04:16.130000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Are you building something fun with discv5?",
        "created_at": "2021-02-27T17:04:29.480000+00:00",
        "attachments": []
    },
    {
        "author": "levi.korg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hopefully â€” Iâ€™m preparing to tackle state gossip within the stateless Ethereum roadmap that Piper has been roadmapping. My current status though is simply trying to catalog and vaguely understand some  of the moving pieces",
        "created_at": "2021-02-27T17:09:16.388000+00:00",
        "attachments": []
    },
    {
        "author": "levi.korg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ie: reading specs, locating implementations, figuring out how to operate them a bit",
        "created_at": "2021-02-27T17:10:13.860000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That's going to be challenging. Yea, reading the discv5 specs would be good. Link: https://github.com/ethereum/devp2p/blob/master/discv5/discv5.md",
        "created_at": "2021-02-27T17:11:23.611000+00:00",
        "attachments": []
    },
    {
        "author": "levi.korg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks for that and agreed, lots to learn. I started with that doc this morning and ended up needing to learn what RLP was. Thankfully itâ€™s all making sense, just no idea how deep the rabbit hole goes for me yet.",
        "created_at": "2021-02-27T17:15:41.924000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I donâ€™t think the rabbit hole ever ends but itâ€™s one heck of a good journey. ðŸ™‚",
        "created_at": "2021-02-27T21:02:22.391000+00:00",
        "attachments": []
    }
]