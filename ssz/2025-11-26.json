[
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "Updated the tests serialization / hashing. there is one test that fails `    assert tx_data.gas \u003e= calculate_base_gas_usage(tx)` if you run it",
        "created_at": "2025-11-26T21:27:54.393000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "so I guess there's still something wrong somewhere",
        "created_at": "2025-11-26T21:28:12.408000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@735470118577897474\u003e if you need to regenerate, just put\n\n```python\n    assert tx.payload.selector() == test.tx_payload_selector\n    print(tx.encode_bytes().hex())     # \u003c-- \n    assert tx.encode_bytes() == test.ssz_tx_bytes\n\n    assert compute_sig_hash(tx) == test.sig_hash\n    assert compute_tx_hash(tx) == test.rlp_tx_hash\n    print(tx.hash_tree_root().hex())   # \u003c-- \n    assert tx.hash_tree_root() == test.ssz_tx_root\n```\n\nthe two prints here, into `convert_tests.py`, then copy paste the values into the test case and see whether it makes sense",
        "created_at": "2025-11-26T21:28:57.119000+00:00",
        "attachments": null
    },
    {
        "author": "txtiger",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ok, thanks for the info.\n\nRegarding the failed test case, it seems there is a test case with a gas limit of `5`... The original tests did not check if gas was valid, so this may be the cause of the issue",
        "created_at": "2025-11-26T21:32:23.780000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah, have commented in the EIP.\ngenerally, as long as it could be included in a payload in theory it should work. but I'm not sure if a tx with such a low gas limit is even acceptable into any payload (even if force included by the builder). would have to look up if there is a minimum gas that is required to even start execution (and then running into out-of-gas error)",
        "created_at": "2025-11-26T21:39:40.406000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "sorry for the slow processing on this one. devconnect was quite busy",
        "created_at": "2025-11-26T21:43:12.243000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "regarding the gas check, maybe another one to move out?",
        "created_at": "2025-11-26T21:44:27.893000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "like, separate it from structural valiation",
        "created_at": "2025-11-26T21:44:33.668000+00:00",
        "attachments": null
    },
    {
        "author": "txtiger",
        "category": "Cross-layer",
        "parent": "",
        "content": "Should it be a completely separate function then? e.g. `calculate_transaction_intrinsic_gas(tx) -\u003e int`",
        "created_at": "2025-11-26T21:46:58.810000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think that would be cleanest",
        "created_at": "2025-11-26T21:48:30.332000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "Like, the test case shouldn't just fail because we move some portion into another EIP xD",
        "created_at": "2025-11-26T21:48:55.702000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "and also, in STEEL tests, there are a couple synthetic tests that have valid form but also not enough gas etc",
        "created_at": "2025-11-26T21:49:12.116000+00:00",
        "attachments": null
    },
    {
        "author": "txtiger",
        "category": "Cross-layer",
        "parent": "",
        "content": "That makes sense, I don't think the STEEL team would like it if we broke half their test cases.",
        "created_at": "2025-11-26T21:50:33.039000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "it's only a handful, if I recall correctly",
        "created_at": "2025-11-26T21:58:33.346000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "but yeah, splitting it makes it cleaner ðŸ™‚",
        "created_at": "2025-11-26T21:58:40.883000+00:00",
        "attachments": null
    },
    {
        "author": "txtiger",
        "category": "Cross-layer",
        "parent": "",
        "content": "Luckily, I had the code already pretty separate so it was as simple as remove / rework a couple lines; https://github.com/ethereum/EIPs/pull/10755/commits/e1e85bea252e6fa19ca6433f6a0213e078644f0e",
        "created_at": "2025-11-26T21:59:19.870000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "thanks!",
        "created_at": "2025-11-26T22:03:43.605000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah tests are green ðŸ™‚",
        "created_at": "2025-11-26T22:04:45.010000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "alright, you can mark it as ready for review and I'll give it a +1",
        "created_at": "2025-11-26T22:04:59.441000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "the TX_BASE_FEE can be figured out lateron",
        "created_at": "2025-11-26T22:05:11.698000+00:00",
        "attachments": null
    },
    {
        "author": "txtiger",
        "category": "Cross-layer",
        "parent": "",
        "content": "Nice, I'll mark it ready",
        "created_at": "2025-11-26T22:06:40.060000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Cross-layer",
        "parent": "",
        "content": "approved it, thanks for the contribution!",
        "created_at": "2025-11-26T22:08:37.668000+00:00",
        "attachments": null
    },
    {
        "author": "txtiger",
        "category": "Cross-layer",
        "parent": "",
        "content": "Awesome, it was my pleasure to contribute.",
        "created_at": "2025-11-26T22:12:20.807000+00:00",
        "attachments": null
    }
]