[
    {
        "author": "eccentricexit",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Gasper related question:\nSuppose an adversary with 2/3 + 1 of stake builds 2 forks A and B, publishes only A and after both are finalized, publishes B.\n\nAt this point the adversaryâ€™s stake will be slashed on both chains.\n\nWhich chain will clients pick? I'd assume A since it has the votes from the minority (so a higher \"weight\") but I wanted to confirm.",
        "created_at": "2022-07-20T16:37:16.120000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "likely you end up with implicit or explicit preference over first seen chain",
        "created_at": "2022-07-20T18:01:22.392000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "but at this point it is a client implementation detail",
        "created_at": "2022-07-20T18:01:33.856000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "if an attack like this happened then the social consensus currently has us executing a manual intervention, so we don't really need to enshrine any particular policy in code",
        "created_at": "2022-07-20T18:02:17.108000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "lmd-ghost only discriminates unfinalized chains, so in this event the additional stake weight from attestations wouldn't really be relevant",
        "created_at": "2022-07-20T18:03:35.444000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The clients would pick the chain they saw finalize first - any chain that doesn't descend from the same finalized block is invalid and would be rejected.",
        "created_at": "2022-07-20T21:26:19.688000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "To cause a chain split you'd have to be able to finalize two chains while splitting the network so they didn't see your conflicting votes (and if they saw them you'd be slashed and your votes wouldn't count and so the chains wouldn't finalize).",
        "created_at": "2022-07-20T21:27:00.236000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Prysm doesn't even import a block if it's not a descendant of the finalized checkpoint",
        "created_at": "2022-07-20T23:26:33.951000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Indeed - it would fail gossip rules and never make it to the block importer in most cases.  And even if it did get that far all clients should reject it as invalid and not actually import it.",
        "created_at": "2022-07-20T23:35:17.853000+00:00",
        "attachments": null
    }
]