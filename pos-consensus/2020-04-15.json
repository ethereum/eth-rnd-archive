[
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "How are clients handling the uncertainty about whether the node is in sync at startup?  For example, if I start a fresh node syncing to an existing testnet I might be half a million slots behind.  When a validator client asks for the duties for that epoch, I'd like to reject the request as not in sync but since I also don't have any peers I can't know how many of those slots were empty.  However processing half a million slots is really quite expensive.",
        "created_at": "2020-04-15T06:56:12.321000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "If I wait for peers, then I consider myself not in sync correctly when I'm the only node (e.g local development) so potentially the chain never gets started.",
        "created_at": "2020-04-15T06:56:46.924000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "And if I just refuse to process more than `x` slots then if the chain ever does miss that many blocks it will be permanently stalled.",
        "created_at": "2020-04-15T06:57:20.160000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "My inclination is that there's some upper bound on the number of slots to process (ie you can't securely sync from more than the weak subjectivity period behind).  But that's probably still a lot of slots so potentially a heuristic around waiting for some number of peers with an upper limit on how long to wait?",
        "created_at": "2020-04-15T06:59:10.566000+00:00",
        "attachments": []
    }
]