[
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I have two \"dumb\" beacon chain questions. Hopefully this is the right place to ask them ðŸ˜… \n1. In every slot, what exactly do validators vote on? \n2. On beaconcha.in, there is the concept of \"blocks\" which seems absent from the spec. Are they just using \"block\" as a synonym for a slot within an epoch (cc: \u003c@!97774605351010304\u003e)?",
        "created_at": "2021-03-29T20:49:58.662000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://kb.beaconcha.in/glossary",
        "created_at": "2021-03-29T20:50:31.031000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "all you need :p",
        "created_at": "2021-03-29T20:50:44.288000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So, the glossary says \"Each slot may or may not have a block in it.\", but then the spec shows this:\n\u003e class BeaconBlock(Container):\n\u003e     slot: Slot\n\u003e     proposer_index: ValidatorIndex\n\u003e     parent_root: Root\n\u003e     state_root: Root\n\u003e     body: BeaconBlockBody\n\nDoes this mean that each slot maps to a specific BeaconBlock (which includes extra data aside from the body), and that the body may be empty (as per the glossary)?",
        "created_at": "2021-03-29T20:52:59.563000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Each block has a slot, but not every slot has a block.",
        "created_at": "2021-03-29T20:53:41.407000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So slots are periods of 12 seconds, which may or may not contain a block, and if a block is included in that slot, then it must have a `body`, correct?",
        "created_at": "2021-03-29T20:55:07.978000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes",
        "created_at": "2021-03-29T20:55:16.309000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Perfect, this is helpful",
        "created_at": "2021-03-29T20:55:21.968000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and the case where a slot has no block is because the block proposer was offline/didn't propose one, right?",
        "created_at": "2021-03-29T20:55:35.544000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yep",
        "created_at": "2021-03-29T20:55:45.081000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Got it. Thank you!",
        "created_at": "2021-03-29T20:55:53.810000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "(or it was proposed late, and it wasn't included in the chain)",
        "created_at": "2021-03-29T20:56:02.846000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "And, AIUI, there's no ommer mechanism in the beacon chain to partially reward those \"late blocks\", correct?",
        "created_at": "2021-03-29T20:56:32.400000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "no ommer/uncle mechanism indeed",
        "created_at": "2021-03-29T20:57:05.604000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "No, because there is 0 probability of there being more than 1 block in a given slot.",
        "created_at": "2021-03-29T20:57:29.798000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks ðŸ˜„ Finally making my way through Vitalik and Ben's annotated specs, so I'll likely have more questions over the next few days. Is this the right channel to post them? Don't want to spam it, but it seemed fairly inactive.",
        "created_at": "2021-03-29T20:58:03.251000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes, in case of a short forking distance (same epoch), the same validator will be assigned the proposer role for that slot, and it would be slashable to produce multiple blocks for that same slot.",
        "created_at": "2021-03-29T20:58:31.808000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Think this is as good as anywhere.  \u003c#598292067260825641\u003e is more active but that's probably due to it being in the general category.  Either would work, I'm sure.",
        "created_at": "2021-03-29T20:59:58.820000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes, we use blocks instead of slots, because a missing block is a missing-block, so still a \"block\"",
        "created_at": "2021-03-29T21:01:02.642000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e  In every slot, what exactly do validators vote on? \nTo answer the rest of your question: They vote on the head of the chain, as well as some special checkpoints (source and target) for FFG purposes. Every active validator participates in an epoch (32 slots), and shuffled into one of the committees. At full capacity, there would be 64 of them each slot, to be used for shards later. Attestations cannot be included in a block until the slot after they happen, but may take up to 2 epochs to be included on-chain.",
        "created_at": "2021-03-29T21:07:38.583000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks \u003c@!203220829473996800\u003e. One clarification: is the \"head of the chain\" the most recent slot, block, or epoch a validator has seen?",
        "created_at": "2021-03-29T21:16:21.607000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "block",
        "created_at": "2021-03-29T21:22:15.377000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I _think_ there's going to be some changes to the fork-choice rule that allows \"voting\" for empty slots, but not quite sure how that works yet",
        "created_at": "2021-03-29T21:23:12.047000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That change has been deferred, possibly abandoned.  It had a bunch of unfortunate effects - both in terms of being difficult for implementations to do without using a lot of memory when there is a long period of non-finality and some more fundamental issues with synchronicity requirements (I think - I can't recall the exact details).",
        "created_at": "2021-03-29T21:27:46.879000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I think there's still a general desire to fix the issue with a late block causing attesters to be penalised for getting the head wrong but it doesn't look like it can be that as the fix.",
        "created_at": "2021-03-29T21:28:36.207000+00:00",
        "attachments": null
    }
]