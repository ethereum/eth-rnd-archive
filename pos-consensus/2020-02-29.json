[
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "is there a test cases that tests invalid proposer signatures in block header?",
        "created_at": "2020-02-29T09:50:18.065000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I think we have one in the sanity tests",
        "created_at": "2020-02-29T12:35:21.797000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah we do \nhttps://github.com/ethereum/eth2.0-spec-tests/tree/master/tests/mainnet/phase0/sanity/blocks/pyspec_tests/invalid_block_sig",
        "created_at": "2020-02-29T12:37:03.050000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "If you're having trouble with BLS then double check how you're combining the domain and message root into a signing root. It changed in v0.10 because of the BLS standardization direction",
        "created_at": "2020-02-29T12:38:55.827000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "And get the root of the contents, without the zeroed signature in there. Should be clear from the spec, but let me know if there's something to debug for interop",
        "created_at": "2020-02-29T12:40:34.739000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Also is there any reason the genesis fork version is `0x00000001` instead of `0x00000000` for minimal config ?",
        "created_at": "2020-02-29T12:40:57.683000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "We don't want reused testnet keys, but if someone makes a mistake, the domain difference protects from putting it on the other network",
        "created_at": "2020-02-29T12:42:07.100000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Similarly to minimal config, for larger client testnets you shouldn't use mainnet domain either",
        "created_at": "2020-02-29T12:43:03.207000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Gotcha, thanks for explaining",
        "created_at": "2020-02-29T13:58:26.664000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "thanks \u003c@!203220829473996800\u003e \u003c@!476250636548308992\u003e was looking for them in the block header tests (https://github.com/ethereum/eth2.0-spec-tests/tree/master/tests/minimal/phase0/operations/block_header/pyspec_tests)",
        "created_at": "2020-02-29T14:23:14.234000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ok, I found out why it was weird - our signature check is broken, so the test should fail, but it was passing -  turns out we're failing applying the block because of a randao mismatch rather than invalid signature, so it looks like the test is successful, the block fails to apply",
        "created_at": "2020-02-29T15:26:00.929000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "haven't investigated yet if the randao value in the test is actually correct or not - it has to be correct for the test to do what it's intended to do",
        "created_at": "2020-02-29T15:26:24.368000+00:00",
        "attachments": []
    }
]