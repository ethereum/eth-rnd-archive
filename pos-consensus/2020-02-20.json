[
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "higher or equal source epoch, no?",
        "created_at": "2020-02-20T11:07:22.398000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That's the bit I'm unsure about.  It feels like it should be higher, because otherwise you could vote `(e,e+1)` and then later vote `(e,e+2)` potentially excising `e+1` from the chain, but that could just be my misunderstanding something",
        "created_at": "2020-02-20T11:12:55.442000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "source epoch is the justified checkpoint.  justification doesn't necessarily happen every epoch - the first two epochs are a good example.",
        "created_at": "2020-02-20T11:29:01.631000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "also, if there's a fork, I wonder  if it's possible that the new fork has an earlier justified epoch (which would render the whole check invalid)",
        "created_at": "2020-02-20T11:30:40.598000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "haven't looked at it in detail, but if there's a half/half split I imagine one of the chains might justify something the other didn't - then when they reconcile, it'll take a few votes to justify the new point, meaning validators on the less viable fork could be voting for earlier source epochs.. but maybe there's some condition that prevents this..",
        "created_at": "2020-02-20T11:32:25.164000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Internally I'm tracking each attesatation with a fork version as well, so different fork versions would be treated individually.\n\nSo what is the protection against the situation I outlined above, where a validator could vote twice for different target epochs but same source?",
        "created_at": "2020-02-20T11:35:59.789000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "why do you need protection in that case?",
        "created_at": "2020-02-20T11:36:49.551000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@!291925846556540928\u003e source would in this case be increasing, but not strictly so?",
        "created_at": "2020-02-20T11:38:19.864000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ie monotonically increasing, but not strictly monotonically",
        "created_at": "2020-02-20T11:38:44.641000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@144468805697929216\u003e and I'm not referring to fork versions, I'm referring to the ordinary forks that happen, and the subsequent chain reorgs",
        "created_at": "2020-02-20T12:18:28.509000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ah okay, in that case let me think on around that and see what I come up with",
        "created_at": "2020-02-20T12:19:56.566000+00:00",
        "attachments": []
    },
    {
        "author": "arnetheduck",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "to clarify, my intuition is that source should be monotonically increasing on a single fork, but may decrease between forks even if target increases.. but perhaps there's something in the fork choice that prevents the latter",
        "created_at": "2020-02-20T15:38:52.054000+00:00",
        "attachments": []
    }
]