[
    {
        "author": "albusdompeldorius",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I just read the proposal here: https://ethresear.ch/t/simplified-active-validator-cap-and-rotation-proposal/9022\n\nWouldn't a better and simpler approach be to adjust the staking rewards in a way similar to EIP1559, where we decrease the rewards when the total number of validators are above a hard coded target, and increase them when the number of validators are below? This seems 1) simpler and 2) more economically efficient since we would pay stakers just enough to cover the operating costs of running a validator, which is a variable cost that is hard to quantify a priori.",
        "created_at": "2021-08-17T09:23:09.197000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Once you have a few validators the cost of adding more is essentially zero.",
        "created_at": "2021-08-17T10:17:26.655000+00:00",
        "attachments": null
    },
    {
        "author": "albusdompeldorius",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Except for the expected penalties,  which increases linearly with the staking amount ( or actually more than linearly due to the quadratic effects )",
        "created_at": "2021-08-17T10:23:16.775000+00:00",
        "attachments": null
    },
    {
        "author": "albusdompeldorius",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The point still stands, that higher rewards incentivices more participation, lower rewards incentivices less participation.",
        "created_at": "2021-08-17T10:25:22.697000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That is already included in the current spec, that each individual validator gets less rewards with increased validator count. You're suggesting making that function discontinuous",
        "created_at": "2021-08-17T10:26:25.875000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I believe that this whole issue is a non-issue cause the  system as is should already dissentivize too large validator count, either by the lower returns or by the possibly larger rotation times.",
        "created_at": "2021-08-17T10:28:37.324000+00:00",
        "attachments": null
    },
    {
        "author": "albusdompeldorius",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It's true that in the current system each validator gets less rewards when there are more validators. However, there is no guarantee  that the current reward scheme causes the validator count to stabilise at a desired level, since the equilibrium depends on a lot of factors that could change over time and be hard to predict.",
        "created_at": "2021-08-17T10:37:14.450000+00:00",
        "attachments": null
    },
    {
        "author": "albusdompeldorius",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So, in other words, instead of fixing the reward as a function of the number of validators and hope that the validator count stabilises at a desired level, we instead target a validator count and adjusts the rewards to reach that target.",
        "created_at": "2021-08-17T10:44:20.201000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I somehow suspect this (and Buterin's proposal) just move the problem to deciding what is the right number of validators to target. This is something variable and at the current entry churn it will take several years to start approaching an untenable level (if it ever gets there).  Forcing clients to implement extra logic that may cause bugs (even if it's highly unlikely as this case) seems unnecessary to me at least",
        "created_at": "2021-08-17T10:50:08.062000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e decrease the rewards when the total number of validators are above a hard coded target, and increase them when the number of validators are below?",
        "created_at": "2021-08-17T10:52:04.336000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "This is actually really dangerous for a subtle game theoretic reason",
        "created_at": "2021-08-17T10:52:14.153000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://raw.githubusercontent.com/ethereum/research/master/papers/discouragement/discouragement.pdf",
        "created_at": "2021-08-17T10:52:15.392000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It's equivalent to \"p=âˆž\" in this paper",
        "created_at": "2021-08-17T10:52:24.863000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "And my recommendation there was to prefer p \u003c 1/2",
        "created_at": "2021-08-17T10:52:36.659000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So.... it's extremely vulnerable to griefing/discouragement attacks",
        "created_at": "2021-08-17T10:52:51.420000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "BTW if you want a fixed-validation-cost design I recommend looking into this design that I've been thinking about recently",
        "created_at": "2021-08-17T10:53:54.636000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://ethresear.ch/t/a-model-for-cumulative-committee-based-finality/10259",
        "created_at": "2021-08-17T10:53:55.324000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "maybe I'm confused but \"However, there is no guarantee  that the current reward scheme causes the validator count to stabilise at a desired level\"  ... does the rate of return not massively flatline around 5/6 % ?",
        "created_at": "2021-08-17T10:55:28.445000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "tips not considered",
        "created_at": "2021-08-17T10:55:43.208000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Isn't the assumption in that paper that validators only earn when they propose and not continuously? How does that attack work when attestations are the majority of the reward?",
        "created_at": "2021-08-17T10:56:07.565000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Why so? How does the existing mechanism favor 5-6% specifically?",
        "created_at": "2021-08-17T10:56:07.820000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "No, the paper doesn't really assume anything about reward structure",
        "created_at": "2021-08-17T10:56:25.414000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Beyond that you get no rewards if you're offline or if you get censored",
        "created_at": "2021-08-17T10:56:33.739000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "But the very intro of the attack is that the scheme is that you get R/N when is your turn to sign",
        "created_at": "2021-08-17T10:57:09.313000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "However here we're signing every epoch",
        "created_at": "2021-08-17T10:57:28.869000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "But you only get 1/N of the rewards",
        "created_at": "2021-08-17T10:57:40.867000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ive been staking since genesis, and the APR graph on the launch pad was a solid linear line regarding # of stakers then it went flat at a certain number (that graph no longer exists) but it was when returns were around 5%",
        "created_at": "2021-08-17T10:57:49.662000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So whether it's probabilistic or deterministic the effect is the same",
        "created_at": "2021-08-17T10:57:53.465000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e and the APR graph on the launch pad was a solid linear line regarding # of stakers then it went flat at a certain number (that graph no longer exists) but it was when returns were around 5%",
        "created_at": "2021-08-17T10:58:10.015000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "hmm, if the graph goes flat then the graph is wrong",
        "created_at": "2021-08-17T10:58:17.134000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "can't comment more without seeing the specific graph ðŸ˜„",
        "created_at": "2021-08-17T10:58:26.633000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "it WAS on the launchpad, give me a sec",
        "created_at": "2021-08-17T10:58:39.837000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "still there actually, so 22% for 500k, 15% for 1million ... 10 mill is the last expressed value at 4.9% but one would expect based on the curve 20 mill would be 4% or just under... it does flatline",
        "created_at": "2021-08-17T11:00:34.351000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "But the attack itself requires a bad actor that has the power to not include these \"signed messages\" if by these messages it means both attestations and proposals I don't see how that works",
        "created_at": "2021-08-17T11:00:51.199000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes it does",
        "created_at": "2021-08-17T11:01:03.401000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Without the attacker already controlling the network",
        "created_at": "2021-08-17T11:01:04.535000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "But 50% always have the ability to not include signed messages",
        "created_at": "2021-08-17T11:01:12.941000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The goal is precisely to not introduce a low-intensity but profitable form of 51% attack",
        "created_at": "2021-08-17T11:01:48.896000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "so it does stabilize at at a desired level, it seems 4-5% is the desired....",
        "created_at": "2021-08-17T11:03:33.391000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "of course when the network is lacking the desired members the rewards are massively increased.... seems good as it is IMHO",
        "created_at": "2021-08-17T11:04:52.574000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Right, but that 4-5% equilibrium depends on contingent economic factors that are true today",
        "created_at": "2021-08-17T11:05:12.580000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "But may change next year",
        "created_at": "2021-08-17T11:05:16.230000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "perhaps im not understanding the prediction, but does that refer to increased validation actor centralization ? if so I agree completely, staking services are a massive issue. The actual network (not relying on third party) needs to support (API perhaps) a mechanism to allow non technical folk to stake on their own accord. This sending of ETH to massive third party staking services needs to go (for \u003c 32). I assume your comment about today vs tomorrow references the increasing trend of managed  staking due to the price of ETH increasing",
        "created_at": "2021-08-17T11:07:12.827000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "i may have misinterpreted and derailed the conversation prior to my comments, i apologize,  but as a staker who doesn't contribute to development this is my biggest worry. The 32 ETH limit is CAUSING centralization, it's clear. Let's hope all of the amalgamating entities are trustworthy... I don't like to hope, I like defined rules... let's bypass those services ever having private keys in some fashion, via API",
        "created_at": "2021-08-17T11:17:47.057000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "PKs and literally being sent the ETH of course",
        "created_at": "2021-08-17T11:20:21.458000+00:00",
        "attachments": null
    },
    {
        "author": "efault__",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "what was the motivation for the 32 ETH limit? I guess it encouraged deposit amounts (good thing)... but if it was lessened what would be the harm to the network? It looks like the number of participants would increase without issue ( the penalty system would function as is and keep them in check)",
        "created_at": "2021-08-17T11:23:13.262000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e what was the motivation for the 32 ETH limit\n\nhttps://github.com/ethereum/annotated-spec/blob/master/phase0/beacon-chain.md#gwei-values",
        "created_at": "2021-08-17T14:05:00.126000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "btw one nice property of https://ethresear.ch/t/a-model-for-cumulative-committee-based-finality/10259 is that it could let us cut the deposit size down quite a bit safely",
        "created_at": "2021-08-17T14:05:56.381000+00:00",
        "attachments": null
    },
    {
        "author": "bitmexresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hi all\n\nI hope this is the right place to ask. I am trying to learn about staking rewards. As part of this I am trying to stake. I have my 32 ETH, Iâ€™m running  Prysm and am trying now.\n\nThe first thing I want to understand is the producer reward I should get. I notice that a producer gets a reward of around 0.005 ETH. I was trying to check this number by reading the spec and calculating it. The number I get from doing the calculation, using the 6.7m staked figure is around 0.034 ETH, a totally different number. Can anyone show me a calculation as to how to get the 0.005 ETH by calculating it? \n\nMy basic maths:\n\n(6.7m * 64 * 6576) / ( 8 * 4 * sqrt 6.7m) = 0.034 ETH",
        "created_at": "2021-08-17T22:07:07.851000+00:00",
        "attachments": null
    },
    {
        "author": "bitmexresearch",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "sorry if im being really dumb",
        "created_at": "2021-08-17T22:13:35.563000+00:00",
        "attachments": null
    }
]