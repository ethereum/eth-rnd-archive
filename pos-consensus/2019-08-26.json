[
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hey all, should these items have the same ssz marshalings?\n```go\nblk := \u0026block{\n   Slot: 5,\n   Body: nil,\n}\n\nblk2 := \u0026block{\n   Slot: 5,\n   Body: \u0026blockBody{},\n}\n```",
        "created_at": "2019-08-26T20:05:37.652000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "SSZ doesn't have a notion of `nil` object other than an instantiation of an object filled entirely with default values for each field.\nEmpty `blockBody` would represent an actual `blockBody` with default values for all fields\n\nSo if your parser fills `nil` with an empty blockBody, then it would be the same, otherwise I'd say the top is undefined",
        "created_at": "2019-08-26T20:08:13.696000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ah great \u003c@291925846556540928\u003e so every time we see a nil we should treat it as instantiates object of a type with 0 values",
        "created_at": "2019-08-26T20:08:50.408000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the opposite, treating an object full of 0 values as nil seems wrong and incorrect, right?",
        "created_at": "2019-08-26T20:09:17.692000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "See `nil` in what context?\nWe don't have any `nil` in the spec or tests\n\nYou could llocally decide that is what it means internally,  but not entirely sure what the value would be there",
        "created_at": "2019-08-26T20:09:52.400000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So in Go if we just do something like\n```\nblk := \u0026block{\n   Slot: 5,\n}\n```",
        "created_at": "2019-08-26T20:10:25.128000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003e the opposite, treating an object full of 0 values as nil seems wrong and incorrect, right?\n\nYes, an object full of zero values is actually an object and not `nil` so I wouldn't treat it as such",
        "created_at": "2019-08-26T20:10:25.778000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the rest of the fields will be treated as `nil` in Go",
        "created_at": "2019-08-26T20:10:33.819000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "but we should just treat them as instantiated, zero-valued items then",
        "created_at": "2019-08-26T20:10:52.892000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I see. If the `block` is known as an SSZ type, then you would want to instantiate it with the default values of the unspecified fields",
        "created_at": "2019-08-26T20:11:20.608000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "great",
        "created_at": "2019-08-26T20:11:26.391000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "that clarifies things, thanks so much Danny",
        "created_at": "2019-08-26T20:11:41.920000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "if you are following the way we use defaults in the spec. Otherwise, you'd want to be verbose and explicitly instantiate those nil fields",
        "created_at": "2019-08-26T20:11:48.335000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah, no problem",
        "created_at": "2019-08-26T20:11:50.250000+00:00",
        "attachments": []
    }
]