[
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Other Eth2 question: can you be ejected by simply being inactive? Is the only way for that to happen for your validator to be inactive until its balance is \u003c16ETH? If so, roughly how long would that take (I understand this can vary, but I wonder if it's hours/days/weeks)?",
        "created_at": "2021-03-31T21:24:42.136000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes it can be ejected due to inactivity. Inactivity results in leaking balance (small penalties, about as much as you would have earned if you were online). It depends on the performance of the rest of the network as well. If the network stops finalizing, penalties increase to leak out the bad validators more quickly. When the network performs well like it does now, I'm not sure about the exact numbers, but leaking to 16 ETH should take a long time (at least a month, probably much longer).",
        "created_at": "2021-03-31T21:27:51.957000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ok got it üëç",
        "created_at": "2021-03-31T21:28:44.568000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Other question about slashed validators: AIUI, when you get slashed, you are still expected to perform your duties until you exit. Does that include block generation? Also, if you do something bad while waiting to exit (which until the merge is still many months), I assume you get slashed again, right? And in the very worst case you could get a validator down to 0 ETH, correct?",
        "created_at": "2021-03-31T21:30:19.272000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Slashed just means completely out of the game. Your task/assignment is not immediately replaced by someone else, since the shuffling needs to be stable. But next epoch there won't be a task. And even if still assigned within the same epoch for a block proposal, blocks of slashed proposers are ignored (iirc).",
        "created_at": "2021-03-31T21:34:42.550000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Slashing penalties happen in two steps: an initial penalty when you get marked as \"slashed\", and at a later stage in the future, you get the rest of your slashing. The idea here is that there's a buffer of time that tracks contextual slashings. Whenever you are half-way through that buffer, the remainder of your slashing is calculated based on how many other slashings are in the buffer (i.e. 50% of the buffer period happened before yours, and 50% after yours). The more others get slashed, the higher your slashing will be. Be different and you reduce risk!",
        "created_at": "2021-03-31T21:37:49.058000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You can get slashed to 0, but it would require a huge amount of contextual slashing events to get that far.",
        "created_at": "2021-03-31T21:38:28.350000+00:00",
        "attachments": []
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "you can exit now - you just can't withdraw",
        "created_at": "2021-03-31T21:38:58.973000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Leaking during finality is very slow",
        "created_at": "2021-03-31T21:39:53.804000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes, note there's a difference between exits and withdrawals",
        "created_at": "2021-03-31T21:39:58.357000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Roughly the same % you could have made in a year",
        "created_at": "2021-03-31T21:40:05.858000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So call it 10% or ~3 eth per year",
        "created_at": "2021-03-31T21:40:09.995000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So it would take years to leak to 16 eth while chain is finalizing",
        "created_at": "2021-03-31T21:40:29.309000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ah, that helps!",
        "created_at": "2021-03-31T21:47:46.037000+00:00",
        "attachments": []
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "if I understand correctly, inactive validators get their balances decreased by get_base_reward 3 times per epoch?",
        "created_at": "2021-03-31T22:09:00.428000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There are 4 base rewards per epoch. 3 for FFG related things, 1 for attestation inclusion delay (and partially for proposer work). Being inactive would mean losing them all (= not getting the reward, but also getting penalized as much)",
        "created_at": "2021-03-31T22:12:35.340000+00:00",
        "attachments": []
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "get_inclusion_delay_deltas doesn't penalise inactive validators though",
        "created_at": "2021-03-31T22:14:29.214000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You only get penalised for 3 of them - inclusion distance goes to 0 but doesn't ever apply a penalty.",
        "created_at": "2021-03-31T22:14:38.314000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So you can earn 3 full base rewards and 7/8ths of a base reward for inclusion distance (1/8th goes to the block producer that included the attestation) and you can be penalised up to 3 base rewards.",
        "created_at": "2021-03-31T22:15:40.145000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There's the leak edge case for losing another base reward. But yea, 3 for regular inactivity",
        "created_at": "2021-03-31T22:16:28.471000+00:00",
        "attachments": []
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "then it would take at least 10 years to go from 32 to 16 ETH if my calculations are correct",
        "created_at": "2021-03-31T22:22:07.779000+00:00",
        "attachments": []
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "by the way, where can I read about the theory behind the 4 base rewards?",
        "created_at": "2021-03-31T22:29:20.808000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There is a design rationale linked in the eth2 specs readme, it's older, but goes into detail about base rewards: https://notes.ethereum.org/@vbuterin/rkhCgQteN?type=view#Base-rewards",
        "created_at": "2021-03-31T23:23:26.404000+00:00",
        "attachments": []
    }
]