[
    {
        "author": "terencechain",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "theoretically speaking, can finalized epoch from a beacon node's perspective ever decrease?",
        "created_at": "2019-11-23T16:16:47.999000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "say the following example",
        "created_at": "2019-11-23T16:16:54.903000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "* At slot X, received a block with pre state of slot Y. The pre state has finalized epoch Z\n* Few skip slots\n* At slot X+8, received block with pre state of slot Y-2. The pre state has finalized epoch Z-1\n\nAfter running fork choice, head state's finalized epoch decreased to Z - 1",
        "created_at": "2019-11-23T16:16:59.639000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The fork choice first narrows down the block tree by finality, then narrows it down by latest justified. In the above scenario, the block at slot `x+8` should not even be considered in the fork choice",
        "created_at": "2019-11-23T21:09:53.891000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks. That makes sense. Happy we caught this bug in the wild ðŸ™‚",
        "created_at": "2019-11-23T21:20:15.407000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Ah I see. That block at X+8 shouldn't have been accepted because it's not a descendant of the finalized block.",
        "created_at": "2019-11-23T21:29:39.441000+00:00",
        "attachments": null
    }
]