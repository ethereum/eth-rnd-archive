[
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hi. I'm trying to understand the design rationale for Altair. Was just wondering if anyone could explain where these values for the [incentivization weights](https://github.com/ethereum/annotated-spec/blob/master/altair/beacon-chain.md#incentivization-weights) come from?\n```\nIncentivization weights\nName     Value\nTIMELY_HEAD_WEIGHT    uint64(12)\nTIMELY_SOURCE_WEIGHT  uint64(12)\nTIMELY_TARGET_WEIGHT  uint64(24)\nSYNC_REWARD_WEIGHT    uint64(8)\nPROPOSER_WEIGHT       uint64(8)\nWEIGHT_DENOMINATOR    uint64(64)\n```",
        "created_at": "2021-07-24T11:39:39.126000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "e.g. why is the target worth twice as much as the source or head, and why are the sync and proposer rewards worth 2/3 of the source/head?",
        "created_at": "2021-07-24T11:39:57.409000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@!466048602326695938\u003e Hi, thanks for looking deeper into the specs. There is this PR which changed some of those things: https://github.com/ethereum/eth2.0-specs/pull/2276\nAnd more research happened outside of the specs repo, \u003c@!486501030046203915\u003e can maybe point you to the right resources",
        "created_at": "2021-07-24T12:05:56.484000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks \u003c@!203220829473996800\u003e. The other issue I was a little unclear about was the rationale for removing the delay reward and instead moving to a system where the head, target and source rewards have different deadlines. I can see that in one sense it's simpler as there are fewer rewards to calculate. But I've got a vague recollection that there was something about the old system which incentivised validators to submit attestations later and could reduce stability of the chain / increase the chance of reorgs. Is that right? I can't seem to find any discussion on github or elsewhere that makes it clear.",
        "created_at": "2021-07-24T13:05:25.228000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There are still \"very timely\" and \"timely\" rewards, which replicate the function of a delay reward (they have max-delay reqs of 1 and 5 slots, respectively)",
        "created_at": "2021-07-24T16:33:02.602000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So you lose some granularity, but not much",
        "created_at": "2021-07-24T16:33:17.008000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and since the head reward is the \"very timely\" one, you only actually get that reward if you provide that information early enough to the network to be useful - if it's more than a slot late then it's of no use to other nodes trying to work out what the current head is",
        "created_at": "2021-07-24T16:41:54.026000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "right?",
        "created_at": "2021-07-24T16:41:55.623000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "right",
        "created_at": "2021-07-24T16:42:11.482000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The point of coupling the two is that there's no point in providing very accurate information about the tip if the network only gets it like 5 slots late",
        "created_at": "2021-07-24T16:42:34.139000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "makes sense",
        "created_at": "2021-07-24T16:42:56.052000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the target reward is worth much more than the others. Is the rationale there that as long as the target is available, the chain can still finalise so it's more important than the others? Or something more nuanced?",
        "created_at": "2021-07-24T16:44:04.528000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "right",
        "created_at": "2021-07-24T16:47:27.567000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "one side effect of Altair is that validator rewards will become much more variable - previously 97% of the rewards were allocated for attestations (i.e. per-epoch and dependable for each validator), now only 75% of rewards are allocated that way, with the rest coming from rare and randomly-allocated duties, so there'll be much more variation in validator rewards due to luck. I realise you'll all be well aware of that but I suspect most validators aren't",
        "created_at": "2021-07-24T16:50:15.959000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Oooh this is my mistkae",
        "created_at": "2021-07-24T16:52:57.580000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/eth2.0-specs/blob/dev/specs/altair/beacon-chain.md#incentivization-weights",
        "created_at": "2021-07-24T16:52:58.612000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The sync reward weight is 2 and not 8",
        "created_at": "2021-07-24T16:53:06.482000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So only 10/64 (~15.6%) is randomly allocated",
        "created_at": "2021-07-24T16:53:16.571000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ah right",
        "created_at": "2021-07-24T16:53:21.491000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah I failed to update the annotated spec, my fault",
        "created_at": "2021-07-24T16:53:32.530000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The proposer reward *had to* go up imo; setting it to only 1/32 was a mistake",
        "created_at": "2021-07-24T16:53:49.008000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah, I remember Danny said that previously",
        "created_at": "2021-07-24T16:54:02.676000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "From those weights the only one that I could never find a rationale was for the source timely vote that requires 5 slots to be counted. I asked a few times, the only explanation that I can think of is \"to not give source for free\" but in my mind timeliness makes more sense (or at least the same) for the target vote than the source one",
        "created_at": "2021-07-24T21:15:35.402000+00:00",
        "attachments": []
    },
    {
        "author": "pintail_xyz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I agree that timeliness for target vote seems more important than source. Does the network actually get anything useful from the source vote on its own? I thought that, since an incorrect source vote means the attestation cannot be included at all, the source reward was more like a reward for inclusion rather than rewarding a vote that in itself contributes to consensus. From that perspective it would make more sense to allow 32 slot delay rather than 5 slots for source and use the 5 slot delay for target, since an earlier target vote allows for earlier finalisation, right?",
        "created_at": "2021-07-24T22:37:41.103000+00:00",
        "attachments": []
    }
]