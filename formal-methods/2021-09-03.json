[
    {
        "author": "wolflo_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm curious to know a bit about how the new Act release, and specifically the Haskell backend, compares to the original approach of translation to K. Have any old Act specs been proven using the new backend? Are K-style lemmas still supported or necessary?",
        "created_at": "2021-09-03T18:07:15.494000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hey üôÇ\n\nThe new hevm backend is still in quite of a proof of concept state atm. There is a mismatch between the act level and hevm level encodings (Integers vs Bitcectors) that makes life very hard for the solvers and means that we currently can‚Äôt prove e.g. safeMath down to the bytecode.",
        "created_at": "2021-09-03T18:41:14.034000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The old act language admitted arbitrary inline K expressions and so both k-dss and k-uniswap-v2 are currently not compatible with the new language (which is a lot more principled).",
        "created_at": "2021-09-03T18:42:57.016000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "In the future as we expand the hevm backend, we may add something like k style lemmas, or at least some way for users to define trusted simplifications over an act AST, but right now nothing like that is in place.",
        "created_at": "2021-09-03T18:45:17.305000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It would be nice if we could perhaps be a bit stricter than K is with user supplied lemmas, and require some form of proof to be attached before they are admitted.",
        "created_at": "2021-09-03T18:45:45.108000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I wrote a little bit about our future plans for the hevm backend in the blog post as well: \n\nhttps://fv.ethereum.org/2021/08/31/act-0.1/#automated-spec-generation",
        "created_at": "2021-09-03T18:47:40.401000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Basically we would want to be able to decompile the EVM representation into an Act AST (or perhaps some intermediate form), where we can apply a bunch of simplification / normalisation steps before attempting to prove equivalence with the user defined specification.",
        "created_at": "2021-09-03T18:49:51.453000+00:00",
        "attachments": null
    },
    {
        "author": "wolflo_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Interesting, thanks. I didn't fully understand this section actually. But basically you are saying that the bytecode itself defines a specification in relation to the rules of the evm, and you could automatically generate from this an AST that allows you to bring the bytecode \"up\" a level as opposed to further refining the Act specification down to the bytecode level?",
        "created_at": "2021-09-03T18:57:54.792000+00:00",
        "attachments": null
    },
    {
        "author": "wolflo_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Would this generation be possible for arbitrary bytecode?",
        "created_at": "2021-09-03T18:58:13.140000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah this section could have been a little clearer maybe, but perhaps its because these plans are not completely fully formed yet hehe",
        "created_at": "2021-09-03T19:00:55.665000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I‚Äôm not sure what you mean by a ‚Äúspecification in relation to the rules of the EVM‚Äù?",
        "created_at": "2021-09-03T19:01:29.764000+00:00",
        "attachments": null
    },
    {
        "author": "wolflo_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I think what I'm getting at is that you are just trying to prove that two specifications are equivalent, and you can do that either by refining one or by going in the opposite direction",
        "created_at": "2021-09-03T19:02:21.530000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ah yes",
        "created_at": "2021-09-03T19:02:49.024000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I think in the end we would try to bring both the user written and machine generated specs as close as possible by running them through the same normalisation stages",
        "created_at": "2021-09-03T19:03:48.757000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "but I‚Äôm just guessing, none of this exists yet",
        "created_at": "2021-09-03T19:04:05.384000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "or well, only in a very rudimentary form",
        "created_at": "2021-09-03T19:04:29.147000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "we already have an AST representation of the currently executed EVM in hevm that we use to perform some simplifications related to overflow checking.",
        "created_at": "2021-09-03T19:05:42.533000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://github.com/dapphub/dapptools/blob/master/src/hevm/src/EVM/Types.hs#L201",
        "created_at": "2021-09-03T19:05:54.429000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and we simplify here: \n\nhttps://github.com/dapphub/dapptools/blob/master/src/hevm/src/EVM/Symbolic.hs#L271",
        "created_at": "2021-09-03T19:06:38.034000+00:00",
        "attachments": null
    },
    {
        "author": "wolflo_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm curious also about the Economic Analysis mentioned. I'm not very familiar with agent-based modelling frameworks, but it seems like you could use this to translate the possible states that you would consider system failures but are forced to accept in the bytecode proof, and use a model to show that these states are either impossible or unlikely under reasonable economic assumptions.",
        "created_at": "2021-09-03T19:11:22.551000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes that would be very nice",
        "created_at": "2021-09-03T19:14:11.266000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I‚Äôm also not very familiar with agent based simulation frameworks",
        "created_at": "2021-09-03T19:14:29.484000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "but it‚Äôs one of the potential applications of act that I‚Äôm most excited about üòÖ",
        "created_at": "2021-09-03T19:15:14.615000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There‚Äôs just a lot of work to do before we can start working on that I think üòï",
        "created_at": "2021-09-03T19:15:58.190000+00:00",
        "attachments": null
    },
    {
        "author": "wolflo_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'd imagine so. It's quite the ambitious project. Would be really cool to be able to tie all of these things together with a common language though",
        "created_at": "2021-09-03T19:24:35.434000+00:00",
        "attachments": null
    },
    {
        "author": "d.x.o",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes ‚ò∫Ô∏è",
        "created_at": "2021-09-03T19:29:14.061000+00:00",
        "attachments": null
    }
]