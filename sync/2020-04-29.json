[
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "state is 40.5GB -\u003eI see that someone was asking",
        "created_at": "2020-04-29T15:52:53.869000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "/// \u003csummary\u003e\n        /// Size in bytes, daily growth rate and the date of manual update\n        /// \u003c/summary\u003e\n        public static Dictionary\u003cint, SizeInfo\u003e ChainSize = new Dictionary\u003cint, SizeInfo\u003e\n        {\n            {ChainId.Goerli,  new SizeInfo(878.MB(), 2.MB(), new DateTime(2020, 4, 24))},\n            {ChainId.Rinkeby,  new SizeInfo(13700.MB(), 8.MB(), new DateTime(2020, 4, 23))},\n            {ChainId.Mainnet,  new SizeInfo(40700.MB(), 40.MB(), new DateTime(2020, 4, 23))},",
        "created_at": "2020-04-29T15:53:06.885000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this is from nethermind",
        "created_at": "2020-04-29T15:53:11.635000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!211091239112671234\u003e I have this super simple idea that may address something that Felix mentiones as a problem of high request size to response size ration in GetNodeData",
        "created_at": "2020-04-29T16:03:28.726000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I mentioned that to him at 2018 DevCon but I think I did not understand that enough to convince him that it works but I still think it is viable",
        "created_at": "2020-04-29T16:03:57.165000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it puts a minimal effort on the servind node - much less effort than any other discussion that we discuss here",
        "created_at": "2020-04-29T16:04:19.997000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "when sending GetNodeData we can send:",
        "created_at": "2020-04-29T16:04:27.051000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hash and count",
        "created_at": "2020-04-29T16:04:32.364000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "then what we expect is that the server loads the hash and deserializes it and then traverses the trie in the preagreed mode (depth first preferably)",
        "created_at": "2020-04-29T16:05:17.044000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "as long as it fills the count",
        "created_at": "2020-04-29T16:05:25.448000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "then it sends back response",
        "created_at": "2020-04-29T16:05:28.829000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it would help both the beam sync and fast sync",
        "created_at": "2020-04-29T16:05:35.987000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and is sooooo much simpler than any other thing",
        "created_at": "2020-04-29T16:05:43.525000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and I kept trying to tell myself that it is not a solution but the more we discuss everything the more I believe this is the lightest solution to out problems",
        "created_at": "2020-04-29T16:06:12.709000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "am I wrong here?",
        "created_at": "2020-04-29T16:06:28.437000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it works with the current network state because if you have the node you are obliged to have full count of nodes (you may stop at traversal to sibling but this will be rare)",
        "created_at": "2020-04-29T16:07:32.501000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "also any fast synced node can serve it",
        "created_at": "2020-04-29T16:07:45.490000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the only additional effort is having to parse the nodes to serve (so no longer able to serve without CPU / IO only)",
        "created_at": "2020-04-29T16:08:05.021000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but this can be super optimized without allocating as you only need a very small memory cache for this and a few basic RLP decoding operations)",
        "created_at": "2020-04-29T16:08:38.269000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it should be very very light",
        "created_at": "2020-04-29T16:08:42.168000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!364458974906548225\u003e have you entirely dropped the research into the sync mode where you can download parts of the state trie by issuign GetNodeData(account_address)?",
        "created_at": "2020-04-29T16:11:13.674000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "as for the merry-go-round sync, my intuition says it is not a viable option so I will most likely not be researching or testing it - are you guys really convinced it is useful?",
        "created_at": "2020-04-29T16:14:59.918000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this is how I feel the merry go round sync would end:",
        "created_at": "2020-04-29T16:15:09.925000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "",
        "created_at": "2020-04-29T16:15:12.578000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "unknown.png",
                "content": "c646ee539c234d8e82e8f7fb575d8eeb41c152ad1068454cdee7078be44f8c9c"
            }
        ]
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "endless adjusting on who syncs what and what state can be server, very manual",
        "created_at": "2020-04-29T16:15:28.264000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but I will definitely hop on if I am proven wrong",
        "created_at": "2020-04-29T16:15:46.371000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am definitely not convinced that it will work, but I am also not convinced that it won't work ðŸ™‚",
        "created_at": "2020-04-29T16:16:14.300000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you see - the beam sync was a clear, simple idea, based on existing primitives, and it has some great self-protecting properties",
        "created_at": "2020-04-29T16:16:14.898000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am not saying I am convinced - my intuition tells me it will not work",
        "created_at": "2020-04-29T16:16:40.960000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that's fine - we do not have to all research everything and have same opinions",
        "created_at": "2020-04-29T16:17:11.808000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "or rather - that it will lead to significant problems with network stability",
        "created_at": "2020-04-29T16:17:12.214000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, totally agree",
        "created_at": "2020-04-29T16:17:18.867000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I do not want to discourage you any more than to mention that this is my opinion now",
        "created_at": "2020-04-29T16:17:34.991000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and this is the thing of research - if nobody goes that route we will not know",
        "created_at": "2020-04-29T16:17:53.212000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and we may learn a lot by going there",
        "created_at": "2020-04-29T16:18:00.725000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we will keep you updated as our research/development continues",
        "created_at": "2020-04-29T16:18:04.433000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I will listen carefully - this is to explain why I will not be very active on the swarm/merry go round sync",
        "created_at": "2020-04-29T16:18:34.548000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@456226577798135808\u003e I will be definitely interested to learn how to get the turbo geth capabilities available in Nethermind",
        "created_at": "2020-04-29T16:19:03.006000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and how it will affect nodes ability to fast sync in the current form",
        "created_at": "2020-04-29T16:19:57.895000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the thing is, if turbo geth offers archive node capability and is not cloned anywhere then we have a single client network (whether it is good or bad)",
        "created_at": "2020-04-29T16:20:37.426000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so we want to know whether the effort in turbo geth was more of a research but easy to reimplement or more of an implementation",
        "created_at": "2020-04-29T16:21:10.371000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "as this tells us whether it is viable option for us to add it to the client",
        "created_at": "2020-04-29T16:21:22.849000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "would you have time to jump on a call to explain how exactly you arrange accounts/ structure the db and regenerate the state roots?",
        "created_at": "2020-04-29T16:22:12.099000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am trying to finalise our first release at the moment, and at the very least freeze the db format. There is one remaining issue left before we can do that, and after that I will be happy to have a call and explain",
        "created_at": "2020-04-29T16:23:50.532000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "great, looking forward to it and good luck with the effort",
        "created_at": "2020-04-29T16:27:11.658000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!489256758989029405\u003e I respect your skepticism.  We've starting the very basics of some work to start prototyping a version of MGR in trinity.   Currently it is just work support the concepts we need for things like how we traverse the trie, but I expect we'll continue to evolve it into a full prototype to demonstrate viability and do some gathering of real data from the real network.",
        "created_at": "2020-04-29T17:32:57.952000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that sounds very exciting",
        "created_at": "2020-04-29T17:41:31.039000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "are you going to implement beam sync or you are dropping it from Trinity?",
        "created_at": "2020-04-29T17:42:37.348000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e when sending GetNodeData we can send: hash and count\n\n\u003c@!489256758989029405\u003e maybe I'm missing something... but I don't see how that fundamentally changes anything. I see it as a slider, on one end there's a lot of work for the requestor, on the other end the server does all the work. That change pushes the slider a bit towards the \"server does all the work\" side, but it doesn't really lower the amount of total \"work\". Sure, a bit lower traffic going upstream, but that's about it. And since the \"server\" is the scarce resource, I'm not sure that it's a good change. But again, maybe I just don't understand; if you write it up more properly it'd be easier to discuss (and also share with others)",
        "created_at": "2020-04-29T18:27:50.685000+00:00",
        "attachments": null
    },
    {
        "author": "jason.carver",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e are you going to implement beam sync or you are dropping it from Trinity?\n\nYup, beam sync is staying! In fact, I think it would be a critical cooperative component of MGR. MGR spins to a new state root at every epoch. A high-level goal of MGR is to allow clients to serve data from a previously-downloaded range of keys. Beam Sync is the best approach I can think of to enable that goal of client-serving. (I guess patching up the old key range via `GetNodeData` would be the runner-up). Also, MGR doesn't serve the high-level goal of a startup time within a few minutes. So I don't see any reason to drop beam sync, for now.",
        "created_at": "2020-04-29T18:36:54.576000+00:00",
        "attachments": null
    },
    {
        "author": "jason.carver",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Another goal of MGR is to eventually drop `GetNodeData`, but since MGR relies beam sync (which currently relies on GND), it seems that we haven't quite designed our way to meeting that goal yet.",
        "created_at": "2020-04-29T18:38:51.605000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@211091239112671234\u003e I mainly wanted to ask Geth team as Felix mentioned the upstream traffic was the biggest issue with fast sync (and he sounded like he represented Geth team's opinion)",
        "created_at": "2020-04-29T20:32:47.631000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I couldn't find Felix here on the list \u003c@194432762315407360\u003e",
        "created_at": "2020-04-29T20:33:19.277000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah ok",
        "created_at": "2020-04-29T20:33:21.521000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "here he is",
        "created_at": "2020-04-29T20:33:23.593000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, I check this channel sometimes but sync is not my main interest TBH",
        "created_at": "2020-04-29T20:46:26.466000+00:00",
        "attachments": null
    }
]