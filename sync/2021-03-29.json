[
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How does \u003c@\u0026595686066309169185\u003e implement the parallel account fetcher for beam sync? If I naively implement it my node starts spamming other nodes with only single node requests, does trinity somehow batch this?",
        "created_at": "2021-03-29T20:51:13.932000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We are working at beam sync here; https://github.com/ethereumjs/ethereumjs-monorepo/pull/1171. Just ran and verified a block ðŸ˜„",
        "created_at": "2021-03-29T20:51:33.981000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, roughly speaking it walks down the trie one level at a time for each batched request. So obviously the root node is still a single node, but the next one down is 16, then the next is 256, then you hit the request limit pretty quickly, anyway.",
        "created_at": "2021-03-29T20:53:29.328000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Here's the step where we gather the missing trie node hashes for the next request: https://github.com/ethereum/trinity/blob/b83677e491ece266e5b719c8e017a78e0be8d8fa/trinity/sync/beam/state.py#L249-L268",
        "created_at": "2021-03-29T20:55:32.388000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Great ðŸ˜„",
        "created_at": "2021-03-29T20:59:32.131000+00:00",
        "attachments": []
    }
]