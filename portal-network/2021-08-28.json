[
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I know nothing of the portal network but the beacon client will not know how to verify execution blocks neither before nor after the merge",
        "created_at": "2021-08-28T00:25:54.445000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Unless you're counting the execution engine as part of the beacon node, but I suppose it's this very engine that you want to avoid",
        "created_at": "2021-08-28T00:26:38.155000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The beacon node will have some info though",
        "created_at": "2021-08-28T00:27:15.805000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Verification of execution won't be in scope for portal supported use cases since state retrieval will be orders of magnitude too slow. I think it will definitely be an active area of research since things like  access lists and some amount of cooperative coordination may be capable of making timely retrieval viable.\n\nI believe what carver was referring to is that post merge, portal clients will still need a \"header oracle\" to track the tip of the chain. The naive way to do that would embedding a beacon light client. I'm guessing there are a variety of ways we can accomplish this requirement",
        "created_at": "2021-08-28T17:33:37.406000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah thank you, that's right if you only need the header then certainly it can be done with a light beacon client.",
        "created_at": "2021-08-28T18:32:36.452000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\"How long does a node need to be online in order to be useful?\" is a question I've been thinking/reasoning about as well. Also: how often can a node not respond to queries before it is a net drain on the network? I've been researching a few methods for running in the background on iOS, though I have yet to do some experiments to find out things relevant to the above questions, like what the usual max execution time of a background task in iOS (where we could be responding to requests), and how often you can run a background task before iOS says \"woah you're getting carried away\" and terminates you. Apple's documentation is vague in terms of these questions (it's just up to the OS at any given time to decide), but definitely promising for the case of when the phone is on a charger: https://developer.apple.com/documentation/backgroundtasks",
        "created_at": "2021-08-28T21:10:23.848000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This doesn't consider the (in my opinion) larger issue of whether this peer-to-peer functionality will be allowed through Apple's App review process. From my past experience with this process, they might find issue with the censorless-ness of the network.",
        "created_at": "2021-08-28T21:14:02.853000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Apple has no way to test the p2p functionality",
        "created_at": "2021-08-28T21:14:24.172000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "They test it more at face value",
        "created_at": "2021-08-28T21:14:51.593000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes, but that's relying on them to never find out what it's doing.",
        "created_at": "2021-08-28T21:15:18.447000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've submitted apps that got approved, and then I change one minor UI thing and submit an upgrade and all of a sudden I must have had a new reviewer because they grilled things that had already been in the app and it denied me.",
        "created_at": "2021-08-28T21:15:43.794000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I submitted Bitcoins p2p code and it was fine, which is just a basic TCP connection",
        "created_at": "2021-08-28T21:16:01.042000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh cool that's good to know",
        "created_at": "2021-08-28T21:16:12.717000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "what's the url to that app?",
        "created_at": "2021-08-28T21:16:31.801000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I would agree about the UI thing though",
        "created_at": "2021-08-28T21:16:51.187000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "My main point is: yes I agree we'll probably get in, but in that case is it because of their own ignorance that they will eventually correct? Or they're actually cool with it?",
        "created_at": "2021-08-28T21:17:28.122000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't remember if the app is open sourced yet",
        "created_at": "2021-08-28T21:17:46.143000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i mean the link on the app store",
        "created_at": "2021-08-28T21:17:58.805000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "if it's up there",
        "created_at": "2021-08-28T21:18:03.474000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh it got removed later because the people didn't want to add moderation",
        "created_at": "2021-08-28T21:18:42.726000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "exactly my main worry",
        "created_at": "2021-08-28T21:19:12.343000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Fair fair",
        "created_at": "2021-08-28T21:19:21.459000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "More generally, it's just scary that in order to have most of the phones on earth able to support the portal net, we have to hope that we don't piss off 2 companies. Which makes me wonder whether it's unwise to try.",
        "created_at": "2021-08-28T21:20:08.951000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Google at least doesn't give a rip",
        "created_at": "2021-08-28T21:20:50.274000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't even think they review apps on android",
        "created_at": "2021-08-28T21:21:27.258000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Also at least on android you can easily side load",
        "created_at": "2021-08-28T21:22:12.862000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think a side-loadable android app that someone could simply run on an old android phone that is plugged into a charger is an interesting way for someone to contribute to the network using an outdated device...",
        "created_at": "2021-08-28T21:31:13.786000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah I didn't think of it like that, sounds like a pretty good way to prevent some ewaste",
        "created_at": "2021-08-28T21:32:05.641000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I believe that this will be in interesting metric to simply measure and observe in the live network.  Boot a new node, collect metrics, look at graphs that show things 1: like requests that the node could not satisfy vs requests that they could, 2: how fast the storage of the node fills up  and maybe most interestingly 3: inbound vs outbound units of content (content the node serves vs content the node consumes (probably both from gossip and direct requests).   \n\nOnce we can observe these trends, we can do some analysis on where the opportunities are for the node to more quickly become useful...",
        "created_at": "2021-08-28T21:34:49.481000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "they don't mention the exact time, because they don't want you to count on it; The idea in iOS is that when the app is sent to background (or screen is locked), they send your app a signal to clean-up as quick as possible (to avoid corrupt state), after a few seconds the OS halts it to save battery and there's nothing the app can do about it. Actual allowed background time won't go for more than 30 seconds from my experience.",
        "created_at": "2021-08-28T21:53:48.880000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Now that I know more about portal-network design, we can forget about it running on mobile phones. Except for edge cases like the one piper mentioned, that somehow you want to leave some old phone running continuously like an old laptop; though not sure how long such setup would last.",
        "created_at": "2021-08-28T21:54:47.845000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm pretty sure that the cleaning up background tasks is distinct from the entire BGTask framework in iOS 13: https://developer.apple.com/documentation/backgroundtasks",
        "created_at": "2021-08-28T21:56:30.848000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh yeah, that API you refer to is for something else: long-running downloads, or small update operations (like fetching the latest tweets)",
        "created_at": "2021-08-28T21:56:53.317000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "to the best of my knowledge, that also can't be used for portal because when it starts and stops executing is decided by the OS",
        "created_at": "2021-08-28T21:57:26.958000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you may use that api to download some data from infura for instance, but not to run a serious portal client",
        "created_at": "2021-08-28T21:58:30.351000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It can be used by portal despite start/stop being decided by the OS, if the answers to the questions that I listed above turn out to be favorable.",
        "created_at": "2021-08-28T21:58:43.767000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "which questions?",
        "created_at": "2021-08-28T21:59:17.080000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "1.) How long does a node need to be online at a given time in order to be useful? \n2.) how often can a node not respond to queries before it is a net drain on the network?",
        "created_at": "2021-08-28T22:00:04.433000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "both basically aiming to find thresholds for when a node is leeching vs contributing to the network",
        "created_at": "2021-08-28T22:00:33.101000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Those are likely not the best fundamental metrics to be looking at, but that's the idea",
        "created_at": "2021-08-28T22:01:01.670000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I highly doubt for the portal to function, random phones popping up while powered cable and the OS randomly deciding this background process can run, will be enough to sustain a useful portal client",
        "created_at": "2021-08-28T22:01:07.197000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I will defer my doubt or lack of doubt until after we have the numbers",
        "created_at": "2021-08-28T22:01:23.807000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "all that said, portal network may be a stepping stone to develop let's call them \"ultra light clients\" that are actually meant for mobile devices",
        "created_at": "2021-08-28T22:01:43.453000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sure. I'm just saying from my experience this has very little chance of working with this background api",
        "created_at": "2021-08-28T22:02:29.802000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the churn would be waaay high",
        "created_at": "2021-08-28T22:02:44.454000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we will definetly need a complementary solution, maybe we can check what other folks are doing .. I've been reading for instance this article: https://diyhpl.us/wiki/transcripts/stanford-blockchain-conference/2020/celo-ultralight-client/",
        "created_at": "2021-08-28T22:03:28.825000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't think that this statement is consistent with this documentation: https://developer.apple.com/documentation/backgroundtasks",
        "created_at": "2021-08-28T22:03:47.793000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i'm not sure about that. \"Longer tasks can optionally require a powered device and network connectivity.\"",
        "created_at": "2021-08-28T22:04:07.375000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "my understanding is that \"Longer\" in that context is being used in contrast with \"minutes\" in the prior sentence",
        "created_at": "2021-08-28T22:04:50.847000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Leading me to believe that the background task can run for hours on power, and minutes not on power. Depending on the results of our experiments to answer the above questions, some amount of minutes on the network may be a net contribution.",
        "created_at": "2021-08-28T22:05:26.162000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "what I'm basically trying to say is, these OS'es are design to be extremelly efficient in terms of battery , and they are designed to operate in the client/server model: the client makes a request, server responds, done. Trying to do something different will be a fight where we're set to loose.",
        "created_at": "2021-08-28T22:06:26.171000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sure, I agree. If for portal to work it is enough that the device fully synced 10 hours ago, yet it can jump to the head of the chain in 3 seconds and operate quickly from there, then there might be chance. But then again this is still mostly a \"leechy\" device that is 97% of the time not contributing to the network. Which, from what I understood, is not the base assumption for the portal network as a whole.",
        "created_at": "2021-08-28T22:07:56.040000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yea, that was one of the directions I was thinking when I wrote this message a bit ago: \"More generally, it's just scary that in order to have most of the phones on earth able to support the portal net, we have to hope that we don't piss off 2 companies. Which makes me wonder whether it's unwise to try.\"",
        "created_at": "2021-08-28T22:12:03.893000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and, I didn't event start to mention the issues with these mobile networks; recently I tried to operate my beacon node behind such celular network, and I could get zero peer connections, since the ports used by these modems are usually closed by default for all inbound connections.",
        "created_at": "2021-08-28T22:12:20.800000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Interesting, noted",
        "created_at": "2021-08-28T22:13:20.418000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "one of the plans it was possible to open a port, but you had to pay extra for that and go through a painful configuration- and this was with an actual 3g router, for mobile phones they didnt even offer it",
        "created_at": "2021-08-28T22:13:31.364000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "unfortunately I don't see much options in such environment. Probably the best that can be done is have a sort a few \"trustless infura servers\", i.e., that provides that latest data (using stateless clients + perhaps data from portal network), in a way that the app can be rasonably sure about validity of it , from a certain checkpoint (weak subjectivity should play a big role here). Maybe with some zero-knowledge proof magic it could be done. Then for the issue of \"leechy clients\", I'm not sure how to solve, probably some form of payment would have to be involved here for each request (I don't see how else to do this)",
        "created_at": "2021-08-28T22:23:01.721000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "meaning: ethereum stateless protocols + some recent subjectivity gets the app quickly to know about the canonical head of the  chain. Assuming this is super cheap, then (or in parallel) send a request to a few centralised servers (infura) - paying them through some other channel, and when receiving the response, make use of portal's data / cryptographic proofs to check also the payload coming from \"infura\" .",
        "created_at": "2021-08-28T22:29:24.980000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "if no one does this, probably some company would fill the gap, but if we could figure the payment part maybe there's a chance it could be an open protocol one day",
        "created_at": "2021-08-28T22:30:06.824000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Take a look at https://github.com/ethereum/stateless-ethereum-specs/issues/71 for an idea of how we might get browsers onboard",
        "created_at": "2021-08-28T22:30:11.671000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!403636673914863626\u003e ^",
        "created_at": "2021-08-28T22:30:17.240000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@364458974906548225\u003e  I highly recommend checking this out: https://docs.celo.org/celo-codebase/protocol/plumo . The approach in your link above is nice and can work for browsers, but it would be really cool to have some idea how to feed these more \"parasitic\" mobile devices. If this is sorted out (the most extreme case), then probably it could be used in addition to the browser approach mentioned (even in browser environment)",
        "created_at": "2021-08-28T22:51:46.706000+00:00",
        "attachments": null
    },
    {
        "author": "jacobkaufmann",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I was looking at Celo as well, but I didn't have the time to investigate too deeply",
        "created_at": "2021-08-28T22:58:00.483000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "“We show that the SNARK proof spanning 6 months worth of blockchain validator updates are quite feasible: proving costs about USD $12 worth of computation on modern cloud infrastructure, and verification can be done in about 6 seconds on a low-end smart phone.” Yes, this looks quite good .. https://docs.zkproof.org/pages/standards/accepted-workshop3/proposal-plumo_celolightclient.pdf",
        "created_at": "2021-08-28T23:29:54.891000+00:00",
        "attachments": null
    },
    {
        "author": "thiago_crowdtainer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Maybe people at EF are aware of it, but were waiting for proof of stake, so that the approach  is viable.",
        "created_at": "2021-08-28T23:30:23.039000+00:00",
        "attachments": null
    }
]