[
    {
        "author": "__lithp__",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the erigon team has a tool somewhere in their repo which exports graphviz diagrams, could be a good starting place: https://github.com/ledgerwatch/erigon/blob/devel/cmd/pics/pics.go",
        "created_at": "2021-08-16T05:49:56.148000+00:00",
        "attachments": null
    },
    {
        "author": "konrads1315",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks for answers! I have a little follow up:\n1. If there can be now two nodes with the same distance to the piece of content, doesn't that mean that lookup may not converge to precise set of closest nodes ? (checkout this so answer about swapping distance function in kademlia: https://stackoverflow.com/questions/40217741/changing-kademlia-metric-unidirectional-property-importance)\n2. What is main rationale for swapping distance function ? I mean `xor` is pretty nice metric for the data we are going to store in state network. Leafs in state trie which have longer common prefix lies closer to each other in trie structure, and are closer to each other according to `xor` metric. Which means we could define radius as a function of common prefix and leave `xor` as distance function.",
        "created_at": "2021-08-16T06:24:24.398000+00:00",
        "attachments": null
    },
    {
        "author": "konrads1315",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "One more thing I am not sure in new state network scheme is key structure. \nCurrently in all specs and networks we in `FindContent` message, we are sending `content-key`\nand the receivier is supposed to derive `content-id` from it to decide if he have the content or not.\nhttps://notes.ethereum.org/h58LZcqqRRuarxx4etOnGQ#Account-Trie defines `content-key` for state leafs as  `keccak(address)` and `content-id` as equal to `content-key`.\nhttps://notes.ethereum.org/h58LZcqqRRuarxx4etOnGQ#Contract-Storage-Tries defines `content-key` forstorage leafs as `keccac(slot)` but `content-id` as `get_content_id` function.\nThe one thing I am not sure of, is that there is no way for the receiver to discern\nif he received storage or state key, as both as just keccak hashes, so there is no way\nto compute `content-id`\nThe way I see it:\n1. We either define `FindContent` in state network as having `content-id` instead of\n`content-key`, so the burden of deriving `content-id` is on the sender\n2. Or have `content-key` for state leaf as it defined, and for storage leafs as\n`kaccak(slot) || slot.toBytesBigEndian` (where `||` is byte concatenation). So if\nkey is larger than 32 bytes then it is obvious it is request for storage data.",
        "created_at": "2021-08-16T10:18:44.689000+00:00",
        "attachments": null
    },
    {
        "author": "newweiv",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "is portal cdap group planning to have a meeting today at 11am ET?",
        "created_at": "2021-08-16T13:50:34.217000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes",
        "created_at": "2021-08-16T15:00:34.082000+00:00",
        "attachments": null
    },
    {
        "author": "mike.ferris",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "CDAP Sync: https://zoom.us/j/93222307608?pwd=UW9aUEJkSjUzeWtYdGYvTndPMlQ4dz09",
        "created_at": "2021-08-16T15:00:44.043000+00:00",
        "attachments": null
    },
    {
        "author": "jacobkaufmann",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is there an implementer's call tomorrow? IIRC \u003c@!364458974906548225\u003e is doing a retreat with his team so there will not be a call this week",
        "created_at": "2021-08-16T15:39:02.532000+00:00",
        "attachments": null
    },
    {
        "author": "newweiv",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so i was having trouble understanding the purpose of offer/accept/store when we already have findcontent/foundcontent. but my understanding of it now is that if some node requests content with `findcontent` and successfully retrieves that content from some other node, it \"gives back\" to the network by then sending an `Offer` message to the closest node that did not return a content during the previous lookup, but is interested in the content. and in this way the original requesting node is getting and giving back, like tit-for-tat in bittorrent. is this why we are implementing these msgs?",
        "created_at": "2021-08-16T17:12:45.511000+00:00",
        "attachments": null
    },
    {
        "author": "newweiv",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "for the portal network, if part of the purpose if making lightclients and letting people make txns without having to proxy to infura, instead just doing it through their portal client, will they have to be online all the time? since i am assuming most people probably won't be online all the time with their wallets.",
        "created_at": "2021-08-16T17:17:42.147000+00:00",
        "attachments": null
    },
    {
        "author": "jacobkaufmann",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The mechanism you are describing is a way to distribute content items close to nodes who don't have it. More fundamentally though, findcontent/foundcontent are messages that allow nodes to retrieve content from nodes who already possess it whereas offer/accept/store are messages that allow nodes to distribute content to other nodes in the network. The mechanics are similar to get/insert for a traditional hash table",
        "created_at": "2021-08-16T18:58:45.069000+00:00",
        "attachments": null
    }
]