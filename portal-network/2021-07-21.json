[
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Can anyone give this avowed non-rust dev a brief splainer on how to build/run trin?  Note, I'm running Ubuntu 20.04 if that matters.  I've cloned the repo, done this bit `TRIN_INFURA_PROJECT_ID=\"YoUr-Id-HeRe\" cargo run` and rust throws a bunch errors like `error[E0658]: const generics are unstable` and then dies with `error: build failed`",
        "created_at": "2021-07-21T15:09:28.059000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I saw several stackoverflow conversations about needing to switch to a rust nightly compiler version and tried what was suggested here https://github.com/paritytech/substrate/issues/8590 with no luck",
        "created_at": "2021-07-21T15:10:08.527000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`rustup show` gives the following output for compiler versions that I'm using:",
        "created_at": "2021-07-21T15:10:37.796000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\nDefault host: x86_64-unknown-linux-gnu\nrustup home:  /home/jim/snap/rustup/common/rustup\n\nnightly-x86_64-unknown-linux-gnu (directory override for '/home/jim/development/trin')\nrustc 1.55.0-nightly (b41936b92 2021-07-20)\n```",
        "created_at": "2021-07-21T15:10:43.633000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "trin's compiling on my laptop, here's my `rustup show` output \n```\nDefault host: x86_64-apple-darwin\nrustup home:  /Users/nickgheorghita/.rustup\n\nstable-x86_64-apple-darwin (default)\nrustc 1.53.0 (53cb7b09b 2021-06-17)\n```",
        "created_at": "2021-07-21T15:13:46.785000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "maybe try switching to stable rather than nightly? i believe it's `rustup default stable`",
        "created_at": "2021-07-21T15:14:22.913000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hmm, must be my setup then. I switched to stable and it's still throwing the same errors",
        "created_at": "2021-07-21T15:16:34.054000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "did you try unplugging and plugging your laptop back in?",
        "created_at": "2021-07-21T15:17:16.998000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "jk, yeah i'm not sure but at this point maybe uninstall/reinstall rust seems like the next step to try",
        "created_at": "2021-07-21T15:17:44.097000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok, will give that a shot.  And I'll give it the old reboot just for the heck of it.  You never know on a box as old as mine.  Could be a bad circuit that just hates rust (both the physical and the programming language kind)",
        "created_at": "2021-07-21T15:18:34.027000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I implemented very very primitive support for TALKREQ/TALKRESP messaging in the typescript discv5 library and got 2 instances of ultralight to exchange messages successfully but whatever I did also broke connectivity support with fluffy, so one step forward, two steps back as it were",
        "created_at": "2021-07-21T15:20:58.931000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What's the output of `which rustc`?",
        "created_at": "2021-07-21T15:24:09.190000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And `rustc --version`.",
        "created_at": "2021-07-21T15:24:24.921000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\njim@MungoBungo:~/development/trin$ which rustc\n/usr/bin/rustc\njim@MungoBungo:~/development/trin$ rustc --version\nrustc 1.47.0\n```",
        "created_at": "2021-07-21T15:24:44.385000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, okay. You have a global rust installed as well as the version from `rustup`",
        "created_at": "2021-07-21T15:25:03.827000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So you'll want to uninstall that, or fix your path so that the `rustup` version is found first.",
        "created_at": "2021-07-21T15:25:25.792000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think I installed it from snap rather than the install script so maybe that's the issue?",
        "created_at": "2021-07-21T15:25:25.944000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That certainly could be it.",
        "created_at": "2021-07-21T15:25:41.221000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ugh, package management, there to make sure we don't get anything else done",
        "created_at": "2021-07-21T15:26:02.309000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Heh, yep. ðŸ˜¦",
        "created_at": "2021-07-21T15:26:10.021000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it's almost as bad as dependency management in JS/TS ðŸ™‚",
        "created_at": "2021-07-21T15:26:14.231000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Whoa, nothing's that bad.",
        "created_at": "2021-07-21T15:26:26.266000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Well, that solved the install problem but now trin is complaining about not being able to create a ROCKSDB directory.  I specified a path and then did `chmod 777 /path/to/db` and it's still throwing this error:  ```\nthread 'tokio-runtime-worker' panicked at 'called Result::unwrap() on an Err value: Error { message: \"Failed to create RocksDB directory: Os { code: 13, kind: PermissionDenied, message: \\\"Permission denied\\\" }.\" }', src/portalnet/protocol.rs:234:46\n```",
        "created_at": "2021-07-21T16:54:42.358000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Sorry, I can take this to DM or some dedicated Trin discord channel/server or something if this is clogging up this channel",
        "created_at": "2021-07-21T16:55:12.419000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you'll need to have rocksdb installed on your system",
        "created_at": "2021-07-21T16:55:27.982000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sorry - should probably update the readme to include that",
        "created_at": "2021-07-21T16:55:37.982000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hah, no worries.  I can submit a PR.  There were a couple of others I had to install too, clang, openssl, etc.",
        "created_at": "2021-07-21T16:56:02.865000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!439193900096290816\u003e Looks like I've already got `librocksdb-dev` installed.  Do I need any of these others?  - https://packages.ubuntu.com/search?searchon=sourcenames\u0026keywords=rocksdb  I'm on focal",
        "created_at": "2021-07-21T17:03:52.020000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm not sure tbh - is trin still complaining? These are the instructions I use to install it on my ubuntu cloud instance",
        "created_at": "2021-07-21T17:11:51.168000+00:00",
        "attachments": null
    },
    {
        "author": "nick.ghita",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://pyrocksdb.readthedocs.io/en/v0.2.1/installation.html#building-rocksdb",
        "created_at": "2021-07-21T17:11:52.147000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, it's still throwing the same error so I dunno.  I'll come back to it later and hopefully not clog this channel up anymore",
        "created_at": "2021-07-21T17:13:16.078000+00:00",
        "attachments": null
    }
]