[
    {
        "author": "torfbolt",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "wow, finality ðŸ¥³",
        "created_at": "2020-06-16T08:10:05.540000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Awesome",
        "created_at": "2020-06-16T08:16:40.282000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@557201004060213248\u003e did you bring your validators online ?",
        "created_at": "2020-06-16T08:17:00.704000+00:00",
        "attachments": null
    },
    {
        "author": "handelaar2",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "He did: https://witti.beaconcha.in/validators/eth1deposits?q=0xeef4aB970751CA4F315FB1D9c61729949aBD29E7",
        "created_at": "2020-06-16T08:25:58.392000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes, after the stack overflow patch from teku, we have finality again",
        "created_at": "2020-06-16T08:28:25.108000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Nice",
        "created_at": "2020-06-16T08:28:55.105000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Also let's ask \u003c@!97774605351010304\u003e to clarify what the epoch % is in the block explorer\n\u003c@!291925846556540928\u003e  it's the participation rate of the whole epoch",
        "created_at": "2020-06-16T08:42:32.324000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "",
        "created_at": "2020-06-16T08:43:51.334000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "unknown.png",
                "content": "5ecf044ef5817ca7e85c4395b309ff5f1a68be6e344c33a18308ac1a71664b31"
            }
        ]
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!557201004060213248\u003e is this art?",
        "created_at": "2020-06-16T08:43:54.393000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "boring ðŸ™‚",
        "created_at": "2020-06-16T08:51:19.240000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that long unfinalized period was a nice stress test",
        "created_at": "2020-06-16T08:51:46.112000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Personally I appreciate the break so we can go apply the things weâ€™ve learnt without discovering new things for a bit.",
        "created_at": "2020-06-16T08:57:10.858000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But I think it would be worth having a testnet run for long enough for finality to be restored just through inactivity penalties.",
        "created_at": "2020-06-16T08:57:59.635000+00:00",
        "attachments": null
    },
    {
        "author": "torfbolt",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Nimbus seems to sync \u0026 keep in sync now on witti, no problems or excessive memory usage while syncing through the unfinalized period. Haven't tested validating yet though.",
        "created_at": "2020-06-16T11:43:57.967000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think we should discuss the inactivity penalty.",
        "created_at": "2020-06-16T12:29:04.956000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It takes too long to kick inactive validators.",
        "created_at": "2020-06-16T12:29:13.847000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "They should be booted after 4 weeks.",
        "created_at": "2020-06-16T12:29:32.302000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't think we have the patience to run such a testnet for a couple of months",
        "created_at": "2020-06-16T12:29:50.272000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Doesn't the time required to kick them indirectly correlate with number of validators? Wouldn't it be much slower the more validators we have?",
        "created_at": "2020-06-16T12:31:06.538000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It takes about 2.5 weeks to reduce those offline to 60% of their balance. This means that if 50% remain offline, then it takes about 2.5 weeks for the 50% online to become a 66% and start finalizing. If the amount offline is less than 50% then it takes less than the 2.5 weeks to get there",
        "created_at": "2020-06-16T12:34:08.538000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The kick isn't what matters here it is the leak of funds",
        "created_at": "2020-06-16T12:34:17.928000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "in the 50% scenario, no one even has to get kicked (becuase the offline lost 40%, rather than the 50% (16 total ETH) required to kick them)",
        "created_at": "2020-06-16T12:35:02.616000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "when vals do get kicked for low balance, they do enter into the exit queue so if a lot of them get kicked at once, they won't quickly get out. But if there is still an inactivity leak, they will still continue to quadraticly increasingly lose capital",
        "created_at": "2020-06-16T12:35:41.540000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e I don't think we have the patience to run such a testnet for a couple of months\nI think we can and should run some of these types of tests on the side rather than on user facing nets. In some of the stress tests we want to run, we want to reduce slot time aggressively (say 3 seconds), this would make the leak we are looking for happen in 4 or 5 days without adjusting constants.",
        "created_at": "2020-06-16T12:37:36.058000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "aha",
        "created_at": "2020-06-16T12:38:19.079000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "where do you get 2.5 weeks from?",
        "created_at": "2020-06-16T12:38:24.238000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/ethereum/eth2.0-specs/blob/dev/specs/phase0/beacon-chain.md#rewards-and-penalties",
        "created_at": "2020-06-16T12:38:34.511000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "On witti we didn't see any exits and it's more than 3 weeks now",
        "created_at": "2020-06-16T12:38:36.180000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The INACTIVITY_PENALTY_QUOTIENT equals INVERSE_SQRT_E_DROP_TIME**2 ...",
        "created_at": "2020-06-16T12:38:47.758000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this validator never validated and his balance is 30 https://witti.beaconcha.in/validator/7",
        "created_at": "2020-06-16T12:38:58.002000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah, so when there is no finality, penalties increase more and more",
        "created_at": "2020-06-16T12:39:00.786000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "offline penalties*",
        "created_at": "2020-06-16T12:39:15.370000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "well, we only lost finality for two days",
        "created_at": "2020-06-16T12:39:30.733000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "right",
        "created_at": "2020-06-16T12:39:38.819000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so the \"quadratic leak\" was still ramping up",
        "created_at": "2020-06-16T12:39:46.233000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`get_inactivity_penalty_deltas` this function serves to increasingly penalize those offline during a period of non-finality",
        "created_at": "2020-06-16T12:40:44.859000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "when there is finality and you are offline, you only stand to lose about as much as you could have made (if could make +10% over the course of a year, you could make -10%)",
        "created_at": "2020-06-16T12:41:24.690000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok.",
        "created_at": "2020-06-16T12:41:27.778000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll continue observing this.",
        "created_at": "2020-06-16T12:41:36.525000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I feel many were distracted by the Onyx launch this weekend. I'm happy we got back to 70% pariticipation.",
        "created_at": "2020-06-16T12:42:20.331000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we can make a net with one node but just 50% of the vals and observe just to trigger this consensus path",
        "created_at": "2020-06-16T12:42:28.996000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "or make a net with 3-4 nodes (one each client) and 50% vals",
        "created_at": "2020-06-16T12:42:44.764000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok",
        "created_at": "2020-06-16T12:45:09.639000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "well, at least we should keep witti around even after altona launch",
        "created_at": "2020-06-16T12:45:20.597000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "continue to run a few nodes as users drop off",
        "created_at": "2020-06-16T12:45:42.247000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "each node that has vals that can continue forward will eventually finalize. I expect some optimizations for this scenario coming soon on some (e.g. teku) so not all of them will necessarily make it on v0.11",
        "created_at": "2020-06-16T12:46:29.653000+00:00",
        "attachments": null
    },
    {
        "author": "tobiwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "On some resource I read about that you guys are plan to setup specific testnet(s) for trying to break the chain? Sounds like such a testnet would be good for the issue you discussing. As \u003c@!291925846556540928\u003e wrote with low slottime. I don't know if it adds value (because you can off course setup in a small team or between implementers) but if those are public maybe some coordinated attacks (e.g. going offline) could be organized (on which ever vector).",
        "created_at": "2020-06-16T13:10:11.003000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "once we have testnets that we manage _not_ to break ... ðŸ™‚",
        "created_at": "2020-06-16T14:42:31.533000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Interestingly some of the things we learnt for teku in this round weren't just about the long non-finalization period but also about peer and REST API requests and the impact their demands had on resources.  We wouldn't have hit those issues just syncing through the non-finalized period - you had to really live through it.",
        "created_at": "2020-06-16T23:33:09.472000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So would be good to have a busy testnet that we deliberately break finality on at some point in the future.  Based on current experience I suspect that may be unavoidable anyway...",
        "created_at": "2020-06-16T23:34:15.046000+00:00",
        "attachments": null
    }
]