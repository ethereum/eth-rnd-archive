[
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "although this part is wierd:\n\u003e fyi, it's using Prysm default ports of 12000 and 13000. I can gather more evidence, but when the node is using a valid public ip, the udp port is 1024\nthinking it might be a bug with our endpoint predictor",
        "created_at": "2020-05-09T00:02:06.568000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Probably as an easy solution to this I can disable the endpoint prediction for node's which have specified a public ip",
        "created_at": "2020-05-09T00:05:26.409000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e If you pull the latest teku docker image and specify `--metrics-host-whitelist=*` you'll be able to access metrics from any host rather than being blocked by the dns spoofing protection.  If the port isn't hidden inside a docker network and you care if the metrics are kept secret or not you may want to whitelist specific domains (it takes a list). `TEKU_METRICS_HOST_WHITELIST=*` is the equivalent env var because docker folk seem to love their env vars. üôÇ",
        "created_at": "2020-05-09T00:16:30.509000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm using aws security groups to manage incoming connections to ports like metrics, but cool that teku also offers that functionality! Decentralization of security features!",
        "created_at": "2020-05-09T00:18:28.595000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It was one of the few things the initial Pantheon (now besu) security audit pinged us for.  We're using the metrics server from besu so inherited the fix.",
        "created_at": "2020-05-09T00:19:46.174000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Nice üëç",
        "created_at": "2020-05-09T00:20:20.557000+00:00",
        "attachments": null
    },
    {
        "author": "adiasg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Syncing Schlesi using the pyspec, on RPi4",
        "created_at": "2020-05-09T00:21:19.223000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "Screenshot_from_2020-05-08_17-11-09.png",
                "content": "84e32ba42670c51ba6a97a0f84e06e80fb3f199932091cb1fdc66b1c0f783868"
            }
        ]
    },
    {
        "author": "adiasg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "",
        "created_at": "2020-05-09T00:21:31.242000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "photo_2020-05-08_17-19-08.jpg",
                "content": "f7e62eb9e1d6730be038b3d52610351a2ae059ffcc18174f23f9481ab2cbd8c0"
            }
        ]
    },
    {
        "author": "adiasg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "~ 36 slots/sec, with BLS disabled",
        "created_at": "2020-05-09T00:22:10.939000+00:00",
        "attachments": null
    },
    {
        "author": "adiasg",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(Proto has been down this path before with fastspec, getting much better sync speeds üôè)",
        "created_at": "2020-05-09T00:23:56.831000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It may be slow, but very cool to see it run on rpi4 though Aditya! üëè",
        "created_at": "2020-05-09T00:24:43.084000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e although this part is wierd:\n\u003e thinking it might be a bug with our endpoint predictor\n\u003c@476250636548308992\u003e \n\nJust finished up dinner.  Do u need that csv?",
        "created_at": "2020-05-09T00:42:05.625000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Another interesting thing (assuming I am remembering correctly) most if not all are validating nodes",
        "created_at": "2020-05-09T00:43:20.182000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah that would be great üôÇ",
        "created_at": "2020-05-09T00:44:53.694000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/prysmaticlabs/prysm/pull/5788",
        "created_at": "2020-05-09T00:47:17.926000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "also opened this up, so it should stop the issue you saw from happening in prysm for now",
        "created_at": "2020-05-09T00:47:36.862000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Should be sorted by node_id \u0026 seq_no if I remember correctly.  These are the node-ids in topaz (as of like an hour ago) that are associated with enrs with bad ips",
        "created_at": "2020-05-09T00:51:40.830000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "foo.csv",
                "content": "fa7c850ecee3125400ba9ee0da94927f52c086e9689d63207d2f53aef9f9d862"
            }
        ]
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e also opened this up, so it should stop the issue you saw from happening in prysm for now\n\u003c@!476250636548308992\u003e wow....you are fast",
        "created_at": "2020-05-09T00:52:18.571000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "awesome, thanks for collecting all this data. \nhaha its morning here, so figured it wouldn't be a bad thing to start the day on.",
        "created_at": "2020-05-09T00:54:15.993000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh should i add it to the PR instead of here?",
        "created_at": "2020-05-09T00:54:19.097000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that would be fine too üëç",
        "created_at": "2020-05-09T00:54:32.928000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e awesome, thanks for collecting all this data. \n\u003e haha its morning here, so figured it wouldn't be a bad thing to start the day on.\n\u003c@!476250636548308992\u003e \n\nhappy to help üôÇ",
        "created_at": "2020-05-09T00:54:36.668000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok will do",
        "created_at": "2020-05-09T00:54:43.414000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "how do you collect all this data ?",
        "created_at": "2020-05-09T00:54:43.801000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Using a little network crawler I wrote.  It's still in development, but it's starting to be more useful.  A lot of the code is based on \u003c@!498009160982724610\u003e's stuff",
        "created_at": "2020-05-09T00:56:28.819000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/prrkl/imp",
        "created_at": "2020-05-09T00:56:50.599000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "awesome",
        "created_at": "2020-05-09T00:58:00.735000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Nice \u003c@544848504078598144\u003e! Glad we have a canonical pi keeping an eye on things...\nPyspec: the way, the truth",
        "created_at": "2020-05-09T01:08:26.299000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Here's a snapshot of the distribution of persistent committee subscriptions on schlesi. Looks good at a glance",
        "created_at": "2020-05-09T01:11:22.169000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "2020-05-08_20.10.41.jpg",
                "content": "e5995c498abb0288de6d70c6ddb319e1315c6380511590a7d5e8aa55d38f0e69"
            }
        ]
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "nice",
        "created_at": "2020-05-09T01:11:58.614000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "how many peers is that accounting for?",
        "created_at": "2020-05-09T01:13:22.416000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i ran it a couple of hours ago....i believe it was 49 peers",
        "created_at": "2020-05-09T01:15:14.790000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "nice, seems like schlesi is growing now",
        "created_at": "2020-05-09T01:16:49.002000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e ya it went from an 87.18..xxxxx ip address with an seq_no of 309 to this 192.168 with a seq_no of 394\n\u003c@604062686623432740\u003e that's probably one of my nodes according to the IP. I'm running Prysm, Lighthouse, Teku, and Nimbus. I can check once I get back home.",
        "created_at": "2020-05-09T10:02:24.659000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Also, there are use cases where you want the local IP",
        "created_at": "2020-05-09T10:04:34.280000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "In my case, I run around 16 nodes in a local network",
        "created_at": "2020-05-09T10:04:59.693000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "where as the public ip is not really accessible and changes daily",
        "created_at": "2020-05-09T10:05:26.222000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Also, there are use cases where you want the local IP\n\u003c@557201004060213248\u003e \n\nIt doesn't seem like the best idea to have your local IP in the ENR.  Your 16 nodes can talk, but it seems like it will just cause problems for everyone else.  It seems like there should be a better way to configure this.  I think you can just feed these nodes the multiaddresses with the local IP to get them talking and let them use discovery to find external nodes.... I'm pretty sure I've done this with prysm, teku (although it's been awhile) and lighthouse.",
        "created_at": "2020-05-09T15:10:54.458000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e where as the public ip is not really accessible and changes daily\n\u003c@557201004060213248\u003e \n\nThat's kind of a bummer, but the good news is that it is a great test",
        "created_at": "2020-05-09T15:11:58.108000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e It doesn't seem like the best idea to have your local IP in the ENR.\n\nWhy don't we put both in the ENR and let the node check public, private, and local IP for the best way to reach the node and stick to the one that works?",
        "created_at": "2020-05-09T15:17:44.648000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm a big fan of multi-address but keep getting told that it's bad to use and won't help with discovery.",
        "created_at": "2020-05-09T15:18:27.287000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e I'm a big fan of multi-address but keep getting told that it's bad to use and won't help with discovery.\n\u003c@557201004060213248\u003e \n\nI don't know the context of the convo, but I would argue that there will be people that want to statically peer like this and seems appropriate in your case.  That being said, if several supernodes decide to statically peer like this and don't accept any other peers....this could lead to a network partition ....maybe that's what they meant by \"bad\"?",
        "created_at": "2020-05-09T15:31:00.745000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Felix is probably the best person to explain it to you, but TLDR is that multi-addrs are not signed like the ENR is, and discovery would be a mess if anyone can combine any peer id with any address. Multi addresses are great, but simply for a different more static use case",
        "created_at": "2020-05-09T15:37:00.612000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Felix is probably the best person to explain it to you, but TLDR is that multi-addrs are not signed like the ENR is, and discovery would be a mess if anyone can combine any peer id with any address. Multi addresses are great, but simply for a different more static use case\n\u003c@203220829473996800\u003e \n\nIf it's my node I don't need to worry about  it though, right?  Or is there another reason?",
        "created_at": "2020-05-09T15:39:27.417000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Also, another problem is that the peer id in the multi address is not the same thing as a raw pubkey, or a node Id as used in discovery.",
        "created_at": "2020-05-09T15:41:09.850000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, for your own nodes, when you statically peer, it doesn't matter. All you need is the libp2p peer id and address",
        "created_at": "2020-05-09T15:41:56.105000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Regarding public and private ip in the same ENR; interesting idea, but there can be more layers of ips. Example; container localhost\u003edocker ip\u003elocalhost\u003etypical lan\u003eexternal IP. And with cloud providers and virtual networks it gets even worse",
        "created_at": "2020-05-09T15:45:03.739000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Using just the most external IP should work, and best practice in a public setting. Should also resolve fine, although with a little extra step, when connecting nodes in the same network",
        "created_at": "2020-05-09T15:47:11.529000+00:00",
        "attachments": null
    },
    {
        "author": "somer112",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Took a bit of messing around but I'm finally live! ^^ (Prysm)\nhttps://schlesi.beaconcha.in/validator/99cbb03047c8e8a3b885e53f11d8bfb031557cff7513518092798fda08d77b6f0d17391da7916888e72abd79498ca14d",
        "created_at": "2020-05-09T16:46:25.397000+00:00",
        "attachments": null
    }
]