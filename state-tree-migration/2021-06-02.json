[
    {
        "author": "peter.davies",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hi everyone, I'm currently investigating whether the possibility of implementing a prototype of verkle tries in a client would make a good \u003c#843176491386667018\u003e project.\n\nFrom what I've read so far it seems that the overall design of verkle tries is basically agreed upon and the remaining questions are details that can be worked out as we develop a prototype or that would benefit from benchmarking with a real implementation (e.g. 256 vs 1024 degree trees).\n\nDoes this seem reasonable? Do you know if anyone is working on anything that might clash with this?",
        "created_at": "2021-06-02T13:58:18.893000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So there is a real implementation and we're in the process of getting some \"real benchmarks\" at least for abstract key/value reads/writes",
        "created_at": "2021-06-02T18:59:09.987000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Making a next step of plugging that into an ethereum client would definitely make sense!",
        "created_at": "2021-06-02T19:01:11.354000+00:00",
        "attachments": null
    },
    {
        "author": "albusdompeldorius",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm trying to understand the proposal here: https://ethereum-magicians.org/t/proposed-verkle-tree-scheme-for-ethereum-state/5805\n\nIt seems that the second line here:\n```\ndef get_basic_data_tree_key(address, i):\n    assert 0 \u003c= i \u003c 256\n    return address[:3] + hash(address + b'\\x00')[:27] + \ni.to_bytes(2, 'big')\n```\nshould really be\n\n```assert 0 \u003c= i \u003c 65536```\n\nor am I misunderstanding something?",
        "created_at": "2021-06-02T19:08:32.215000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Aaah yes it should be",
        "created_at": "2021-06-02T19:09:03.687000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You are right",
        "created_at": "2021-06-02T19:09:11.374000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So one thing that we are thinking right now is whether to do width=8 or width=10. If we do width=10, then we don't need these depth-2 subtrees, as 32 * 1024 is big enough to fit a full header and code and a few subtrees",
        "created_at": "2021-06-02T19:09:58.354000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, even if we do width=8, there's a chance we may want to move to a depth-1 subtree model where the code is still split across a few pieces",
        "created_at": "2021-06-02T19:10:34.631000+00:00",
        "attachments": null
    },
    {
        "author": "peter.davies",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I presume you are referring to https://github.com/ethereum/research/tree/master/verkle_trie",
        "created_at": "2021-06-02T19:25:42.554000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!243183686562873344\u003e there is also https://github.com/gballet/go-verkle and https://github.com/crate-crypto/rust-verkle",
        "created_at": "2021-06-02T19:33:22.104000+00:00",
        "attachments": null
    },
    {
        "author": "hugo_delacruz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sharing this here : https://notes.ethereum.org/@ipsilon/code-chunk-cost-analysis\nthis is an analysis of the impact  of charging 350/330 gas for accessing individual code chunks, the analysis shows the increase in block level, and also in transaction level for the most gas-consuming contracts. there is also a relevant conversation on the \u003c#706868829900505180\u003e channel",
        "created_at": "2021-06-02T19:51:53.687000+00:00",
        "attachments": null
    }
]