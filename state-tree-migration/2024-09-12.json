[
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What do we know about verkle performance vs mpt for computing new state roots and general database io? The only bench I can find is in go-verkle and I think meant to simulate migration",
        "created_at": "2024-09-12T16:30:44.318000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e go-verkle is only concerned with the tree, so whatever benches you find are related to state root computation. They don't paint the right picture, though, because MPT and verkle recompute their state roots in a very different way.\n\nWe had some internal benchmarks that put verkle at ~30% slower than MPT, but that is before the rebase on top of the latest database improvements in geth, that would make verkle really shine. This is a slow process, so benchmarks for this are still a few months away.",
        "created_at": "2024-09-12T16:35:56.429000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I assume it would be different for erigon and reth as well",
        "created_at": "2024-09-12T16:38:29.421000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I’m curious because if we’re exploring using a binary trie instead, it shouldn’t be difficult to get a considerable speed up there",
        "created_at": "2024-09-12T16:42:26.620000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e no, there's no such guarantee: a lot of the performance hit is writing the DB, and binary tries would write more data to the DB.",
        "created_at": "2024-09-12T16:45:48.693000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e it is also possible to increase the speed of verkle trees by using a standard hash function like sha256",
        "created_at": "2024-09-12T16:46:30.020000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think most teams exploring binary tries for performance use addressable ones based on jellyfish. I’m not sure whether that would work with geth at the moment though",
        "created_at": "2024-09-12T16:49:44.661000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e what team would that be? I'm not aware of any team exploring binary tries",
        "created_at": "2024-09-12T16:50:14.556000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e except for geth, precisely",
        "created_at": "2024-09-12T16:50:19.929000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah. So I’m most familiar with Sovereign SDK, but I think also Avalanche and Cosmos are exploring it",
        "created_at": "2024-09-12T16:51:26.301000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e also, not sure how Jellyfish would solve the amount of nodes issue that I described?",
        "created_at": "2024-09-12T16:51:51.277000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it just allows you to better cache both reads and writes",
        "created_at": "2024-09-12T16:53:04.561000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Rob and I worked together at parity so I was following this: https://www.rob.tech/blog/introducing-nomt/",
        "created_at": "2024-09-12T16:54:19.185000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e the scale of benchmark is a bit small compared to today's Ethereum, but that'll be a good reference point when we output our benchmarks. Thanks for the link.",
        "created_at": "2024-09-12T17:01:42.690000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Actually now that I’m looking into it, seems the new avalanche trie is still hexary: https://github.com/ava-labs/avalanchego/tree/master/x/merkledb",
        "created_at": "2024-09-12T17:03:41.730000+00:00",
        "attachments": null
    },
    {
        "author": "sophia_24798",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Btw, what are the geth db improvements? Switching to a path-based scheme or something else?",
        "created_at": "2024-09-12T17:04:55.984000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e yes the path-based scheme and some API stuff",
        "created_at": "2024-09-12T17:05:29.675000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003casqyzeron\u003e verkle plays very nicely with them",
        "created_at": "2024-09-12T17:06:13.091000+00:00",
        "attachments": null
    }
]