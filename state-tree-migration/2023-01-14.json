[
    {
        "author": "jsign",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1. This is also mentioned in the doc, quoting: \"The results aren’t a full walk of all the trie, but that isn’t necessary. The results converge pretty fast just some minutes after start walking the tree. This happens because the keys in the trie are hashes results, so despite doing DFS, the leaves are a (logical) random sample of the whole trie.\"\nTo explain it differently if helps: you can imagine that because the keys are mapped using a hashing function, that will produce a balanced tree (on average). So you don't need to analyze many branches to already converge to the \"true result\". There's some variance because technically speaking the current tree is a \"random sample\" of 200m accounts... but it's quite minimal, and even after 1m accounts you already converge to the \"true depth\". The idea of walking even more accounts its to get more data about variance in extension node lengths and related. The hashing function (keccak) is also a cryptographic hashing function; that's necessary to avoid DoS vectors if somebody want's to artificially create \"long branches\".\n2. Yes. That extension node is part of N accounts, so those N accounts share those nibbles at some point of their key. There's some interesting effects around where those extension node happen in branches, since after X number of accounts, the more and more nibbles (prefix) of keys are \"fully explored\" leading to branch nodes (e.g: as a extreme case, if you take 200m accounts, it's pretty clear that the first nibble won't be shared, etc)",
        "created_at": "2023-01-14T14:42:13.076000+00:00",
        "attachments": []
    }
]