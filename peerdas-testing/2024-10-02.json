[
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "are you requesting it with DataColumnsByRoot?",
        "created_at": "2024-10-02T01:19:01.677000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "I think the problem is it's possible to generate a valid proof for an empty `kzg_commiments` list",
        "created_at": "2024-10-02T05:47:48.010000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "not entirely sure, that seems to be why we' missed this check",
        "created_at": "2024-10-02T05:48:14.759000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "I'm not sure how we can revive devnet-2, given that nodes on the network serve the invalid columns over RPC, so it's not possible to sync. Any ideas?",
        "created_at": "2024-10-02T06:09:28.410000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "I've added a fix in Lighthouse, but feels like something that should be in the gossip rules too -  doesn't look like it's covered by verifying the inclusion proof?",
        "created_at": "2024-10-02T06:16:50.090000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "This one posted by \u003c@531934490826768418\u003e seems to have passed the check\nhttps://discord.com/channels/595666850260713488/1252403418941624532/1290770184876982433",
        "created_at": "2024-10-02T06:24:08.213000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Sorry even with the inclusion proof being verified, shouldn't the kzg proof be invalid ?",
        "created_at": "2024-10-02T06:24:23.981000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "yes same for Nimbus, it passed",
        "created_at": "2024-10-02T06:24:24.227000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "There is no Kzg Proof",
        "created_at": "2024-10-02T06:24:37.044000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "we passed empty inputs to KZG lib, kzg library returns true or Ok",
        "created_at": "2024-10-02T06:24:50.273000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "ok that seems like a/the bug",
        "created_at": "2024-10-02T06:25:09.737000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "yeah it was a good bug found early lol",
        "created_at": "2024-10-02T06:25:30.367000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "i think we could relaunch once this bug is fixed by all clients other than Prysm?",
        "created_at": "2024-10-02T06:26:39.483000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "we've got a fix in LH",
        "created_at": "2024-10-02T06:26:53.044000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@531934490826768418\u003e is this log specific to root or range as well?",
        "created_at": "2024-10-02T06:49:30.902000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "3a6ccc81a2b91c990313c51ee1f876e7f97f6c805eed154ef41b199a68ef2a83"
            }
        ]
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e please use this LH branch when/if we relaunch devnet-2\nhttps://github.com/ethpandaops/eth-client-docker-image-builder/pull/200\n\nNot sure if we can recover - unless we manually fix the datebase ðŸ™ˆ  or add a some logic to ignore invalid sidecars during sync.\n\nWill wait for \u003c@531934490826768418\u003e though, I think he said he wants to look into something on the current devnet-2",
        "created_at": "2024-10-02T07:13:38.377000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'm happy to do a relaunch if everyone is onboard.",
        "created_at": "2024-10-02T07:14:07.529000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "This log happens when prysm requested a data column by root RPC request, and when it received the response.",
        "created_at": "2024-10-02T07:41:14.590000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "thanks",
        "created_at": "2024-10-02T07:41:27.698000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Why do you think we can't recover?\nYesterday Prysm was able to resync from scratch 2 full nodes.\nIn the current version deployed on the devnet, there is still a random bug that should be quickly fixed (that's why the third full node is still not synced).\n\nAbout super nodes, it *seems* some data columns are not retrievable at all from other super nodes peers.\n(I would like to have a solid proof the issue does not come from Prysm.)\n\nI'm not against restarting a new devnet from scratch, but I think that, if it is possible to recover, we really should try to recover it.",
        "created_at": "2024-10-02T07:44:38.851000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "\u003e unless we manually fix the datebase ðŸ™ˆ  or add a some logic to ignore invalid sidecars during sync.\nAbout Grandine's block, why do you need to check for sidecars if a block has no commitment at all?",
        "created_at": "2024-10-02T07:46:34.686000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "I think the issue is we don't accept invalid sidecars during sync and most nodes other than Prysm serves invalid sidecars.",
        "created_at": "2024-10-02T07:46:56.654000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "does Prysm just ignore invalid sidecars from RPC responses?",
        "created_at": "2024-10-02T07:47:20.743000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "Because we get them back on RPC responses - if a peer returns any invalid sidecar, we discard the entire response and penalise the peer",
        "created_at": "2024-10-02T07:48:14.939000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "I see. So we do downscore the peer. (But we de-activated the peers ban due to RPC bad response ATM.)\nYes, in this case, we filter out invalid sidecars from RPC responses.\n\nAnd in this case, because Grandine's blocks do not have commitments at all, we do not need to use these invalid sidecars.",
        "created_at": "2024-10-02T07:50:04.801000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "(Grandine's blocks are actually totally valid.)",
        "created_at": "2024-10-02T07:50:31.532000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "Damn, we shouldn't gossip what we got by req/resp, still more questions than answers",
        "created_at": "2024-10-02T08:00:19.851000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Is it possible your case is the same as lighthouse ? Where an inclusion proof of 0 commitments was verified and the same for kzg",
        "created_at": "2024-10-02T08:01:22.431000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "You could technically generate a valid inclusion proof for non-existent commitments",
        "created_at": "2024-10-02T08:01:52.136000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "I wrote the test with this DataColumnSidecar, it doesn't pass inclusion verification",
        "created_at": "2024-10-02T08:02:00.276000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "that was guess, but it doesn't answer all questions now",
        "created_at": "2024-10-02T08:03:34.460000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "verify == true??",
        "created_at": "2024-10-02T08:10:23.906000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "What's wrong with my DataColumnSidecar?",
        "created_at": "2024-10-02T08:11:15.243000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "damn, I hoped support desk could help me",
        "created_at": "2024-10-02T08:11:26.058000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "yeah, please\ndo I need to provide all validator private keys to solve it?",
        "created_at": "2024-10-02T08:12:56.594000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "We have found a bug in our inclusion proof test with this real fixture \nWe were using minimal configuration which has probably different generalized index (or maybe other difference)\nWith mainnet spec it passes verification in Teku too. So we just need a rule of \u003e0 commitments in gossip validator.",
        "created_at": "2024-10-02T08:47:52.975000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Given how many clients ran into this, we should have some sort of spec test for it. Not sure how to do it since this is purely used in gossip validation. cc \u003c@415109946682769408\u003e",
        "created_at": "2024-10-02T08:50:23.379000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "does it make sense to add assert before this line?\nwhat could go wrong?\nit could be tested in reference tests if we add it in inclusion proof verification function \nhttps://github.com/ethereum/consensus-specs/blob/dev/specs/_features/eip7594/p2p-interface.md?plain=1#L96",
        "created_at": "2024-10-02T08:52:46.372000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Not against it, since we are specifically verifying data columns in the method rather than a generic inclusion proof of a field in the block",
        "created_at": "2024-10-02T08:56:03.172000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "but it's correct empty list inclusion proof to be honest",
        "created_at": "2024-10-02T08:59:38.860000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "I'd be happy with separate validator rule, we always cover it with tests. But there will be no reference tests in this case",
        "created_at": "2024-10-02T09:00:51.500000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Its not a generic method but ` verify_data_column_sidecar_inclusion_proof` . I think its valid to assert that a column has a non-zero number of commitmenets",
        "created_at": "2024-10-02T09:01:13.153000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "does there exist any external libp2p tool that helps in testing req/resp ðŸ™‚",
        "created_at": "2024-10-02T09:02:02.582000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "maybe something in the wishlist",
        "created_at": "2024-10-02T09:02:08.758000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "we have internal tools to test this but no formal network testing infrastructure for all clients",
        "created_at": "2024-10-02T09:03:43.692000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "EIP-7742",
        "created_at": "2024-10-02T09:52:04.334000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "95cwly.png",
                "content": "1c790bc5227c0fb4bb2ae2872c959fe458dc9abf740c4d2ca57a83a43371dc0c"
            }
        ]
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "I try to sync from genesis the 3 Prysm super nodes.\nAll 3 nodes are stuck are the same spot:\n\nReason: These 3 nodes cannot get from any peer data column `96` of slot `22347`.",
        "created_at": "2024-10-02T11:28:45.035000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "a22f91154ae2508bf197999087c96d59c38e45f8e8b56cab4e26dc3074ea7a9a"
            }
        ]
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "`nimbus-geth-1`:\n```\n[2024-10-02 10:57:46.42] DEBUG initial-sync: Peer did not return all requested data columns missingColumns=[96] peer=16Uiu2HAmD9YcFpZtCMi26W22odX5oDjEeagRuELSFz49njzfZ1xF requestedColumns=all requestedCount=4 requestedStart=22347 root=0x1026245406550ebe69d7f0ee62cdb2f5b91cc987faea2bde115d0d480a790a78 slot=22347\n```\n\n`nimbus-geth-3`:\n```\n[2024-10-02 10:57:46.90] DEBUG initial-sync: Peer did not return all requested data columns missingColumns=[96] peer=16Uiu2HAkvUg7k6CzKZbidxD9vn5UqffkYZEs7ZU4R2KnJwT84uGB requestedColumns=all requestedCount=4 requestedStart=22347 root=0x1026245406550ebe69d7f0ee62cdb2f5b91cc987faea2bde115d0d480a790a78 slot=22347\n```\n\n`nimbus-geth-5`:\n```\n[2024-10-02 10:57:50.52] DEBUG initial-sync: Peer did not return all requested data columns missingColumns=[96] peer=16Uiu2HAm8D4RoWPbyTMU396VcqqDfGvmwthL2fBtJcL8NHiCpWLq requestedColumns=all requestedCount=4 requestedStart=22347 root=0x1026245406550ebe69d7f0ee62cdb2f5b91cc987faea2bde115d0d480a790a78 slot=22347\n```",
        "created_at": "2024-10-02T11:28:55.108000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "`lighthouse-geth-1`:\n```\n[2024-10-02 10:56:15.03] DEBUG initial-sync: Data columns by range - peer did not returned any data columns columns=all count=4 items=512 peer=16Uiu2HAmM1dyjaACfAJ5c1rQQV2jBtMuu1z2jLsWdmh97fgEJARq start=22347\n```\n\n`lighthouse-geth-5`:\n```\n[2024-10-02 10:57:51.55] DEBUG initial-sync: Peer did not return all requested data columns missingColumns=[96] peer=16Uiu2HAm5opVzT6qyAVoas6bVJzbuRyvWG7XKSFt9xdYzXoMZmrH requestedColumns=all requestedCount=4 requestedStart=22347 root=0x1026245406550ebe69d7f0ee62cdb2f5b91cc987faea2bde115d0d480a790a78 slot=22347\n```",
        "created_at": "2024-10-02T11:29:03.811000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "`teku-geth-1`:\n```\n[2024-10-02 10:56:13.39] DEBUG initial-sync: Peer did not return all requested data columns missingColumns=[96] peer=16Uiu2HAmD9YcFpZtCMi26W22odX5oDjEeagRuELSFz49njzfZ1xF requestedColumns=all requestedCount=4 requestedStart=22347 root=0x1026245406550ebe69d7f0ee62cdb2f5b91cc987faea2bde115d0d480a790a78 slot=22347\n```\n\n`teku-geth-3`:\n```\n[2024-10-02 10:57:46.89] DEBUG initial-sync: Peer did not return all requested data columns missingColumns=[96] peer=16Uiu2HAkwvLhVBWiB1JQ811tQWVrhrHmwMNFsd2T4H7bwSZUtTvG requestedColumns=all requestedCount=4 requestedStart=22347 root=0x1026245406550ebe69d7f0ee62cdb2f5b91cc987faea2bde115d0d480a790a78 slot=22347\n```\n\n`teku-geth-5`:\n```\n[2024-10-02 10:57:44.62] DEBUG initial-sync: Peer did not return all requested data columns missingColumns=[96] peer=16Uiu2HAkvg3E4eRhkWH24XnYvsd5LmqBtKUBZdiu5mS18Ewo1ZBX requestedColumns=all requestedCount=4 requestedStart=22347 root=0x1026245406550ebe69d7f0ee62cdb2f5b91cc987faea2bde115d0d480a790a78 slot=22347\n```\n\n(All other super nodes are down according to dora).\n\nI'll double check if the issue does not come from Prysm, but if LH, teku and nimbus team have an easy way to check if they effectively have these columns in DB, it would be great ðŸ™‚",
        "created_at": "2024-10-02T11:29:09.770000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "\u003e I'll double check if the issue does not come from Prysm, but if LH, teku and nimbus team have an easy way to check if they effectively have these columns in DB, it would be great \nhopefully the fix is building now",
        "created_at": "2024-10-02T11:30:02.615000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i noticed a check that Nimbus skipped checking before persisting head block + sidecars in the db",
        "created_at": "2024-10-02T11:31:15.320000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "that is implemented now, not sure if the net 2 is recoverable",
        "created_at": "2024-10-02T11:31:31.954000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Are you talking about Grandine's invalid gossip messages?",
        "created_at": "2024-10-02T11:32:31.867000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2024-10-02T11:32:39.777000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i think it is linked to that",
        "created_at": "2024-10-02T11:32:47.077000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "else all 3 clients won't mess up range serving the the same column",
        "created_at": "2024-10-02T11:33:05.268000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "at the same slot",
        "created_at": "2024-10-02T11:33:20.823000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "is there a way we can verify that the invalid gossip messages gonna be dropped?",
        "created_at": "2024-10-02T11:33:39.506000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "literally the validation rules",
        "created_at": "2024-10-02T11:33:53.948000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "that was being discussed above",
        "created_at": "2024-10-02T11:34:01.270000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "All grandine's block are valid actually.\nOnly gossiped messages are not.\n\n==\u003e If a client serves an invalid data column RPC message, just ignore it.\nAnd grandine's block do not have commitemnts, so invalid data columns are not needed at all",
        "created_at": "2024-10-02T11:34:07.735000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I mean is there a way we can repro the issue and validate that client impl is correct?",
        "created_at": "2024-10-02T11:34:36.537000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "or just an additional consensus spec test would cover all these?",
        "created_at": "2024-10-02T11:34:50.595000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "It is on my todolist to add a hidden prysm flag that produces invalid data columns. (A little bit like `--withdraw-data-columns`)",
        "created_at": "2024-10-02T11:35:16.202000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "==\u003e Clients should reject the columns.",
        "created_at": "2024-10-02T11:35:29.134000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "it might be possible that the block grandine produced was valid, but column 96 at that slot, wasn't any column at all, but as we all validated it and persisted it we 3 claim it's a column, which is why prysm thinks it is an actual column as well while syncing, and asks for it, and we return an empty container?",
        "created_at": "2024-10-02T11:37:17.857000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "correct me if i'm wrong",
        "created_at": "2024-10-02T11:37:28.786000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i don't see a way other than this where 8 images can't serve the column",
        "created_at": "2024-10-02T11:38:40.216000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I think it might be very difficult to recover from this error",
        "created_at": "2024-10-02T11:38:48.323000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "For column 96, Slot 22237 is a LH block, not the same issue",
        "created_at": "2024-10-02T11:39:22.450000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "ohhhh",
        "created_at": "2024-10-02T11:39:55.603000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "https://dora.peerdas-devnet-2.ethpandaops.io/slot/22347\n\nThis one has blobs ðŸ™‚",
        "created_at": "2024-10-02T11:40:17.022000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Is this `hopefully the fix is building now` still relevant?",
        "created_at": "2024-10-02T11:41:03.879000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "nope, i don't think so ðŸ™‚",
        "created_at": "2024-10-02T11:41:39.265000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "if it's not grandine",
        "created_at": "2024-10-02T11:41:40.937000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": ":))))",
        "created_at": "2024-10-02T11:41:50.124000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "lh might have some issue extracting dc sidecars",
        "created_at": "2024-10-02T11:42:23.817000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "but if it perfectly does so for other slots",
        "created_at": "2024-10-02T11:42:36.149000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "the issue in itself is a mystery",
        "created_at": "2024-10-02T11:42:48.045000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "let me see what's in the db",
        "created_at": "2024-10-02T12:24:38.611000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "have fixed the issue and updated the logs to be more meaning ful in debuggings in latest peerdas image, if anyone is interesed to spin it up for testing/debugging",
        "created_at": "2024-10-02T12:38:25.618000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "So I looked at the logs of `lighthouse-geth-2`, it sent out column 96 successfully during proposal. However the node itself is a fullnode so it doesnt store that column locally. I suspect the peers that received them may no longer be on the same chain?",
        "created_at": "2024-10-02T12:53:26.430000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I can roll it out to devnet 2",
        "created_at": "2024-10-02T12:53:54.888000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "I try to sync from genesis the 3 Prysm",
        "created_at": "2024-10-02T12:54:15.219000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "couldn't you do reconstruction of that column?",
        "created_at": "2024-10-02T12:55:43.311000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Yeah definitly. Prysm currently does not reconstruct during initial sync.\nBTW, during initial sync for supernodes, requesting only 64 columns and reconstruct the 64 others may be more efficient than requesting 128 columns.",
        "created_at": "2024-10-02T12:57:10.393000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "whatâ€™s the cost of reconstruction in terms of cpu cycles ?",
        "created_at": "2024-10-02T13:04:02.736000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "around 200ms for 1 blob i think? similar to computation IIRC",
        "created_at": "2024-10-02T13:04:32.205000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "that feels expensive",
        "created_at": "2024-10-02T13:04:51.026000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "unless you can parallelize it nicely",
        "created_at": "2024-10-02T13:06:24.326000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "That's with a single core. You can reconstruct data/proofs for multiple blobs in parallel. So for a system with 16 cores, you could reconstruct 16 blobs in 200ms too. The rust KZG lib has better parallelization support though \u0026 can reconstruct 1 blob's data/proofs in ~70ms (on my system with 16 cores) with parallelization.",
        "created_at": "2024-10-02T13:15:00.296000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "yes you can",
        "created_at": "2024-10-02T13:15:22.713000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "....70ms now!?? is this with default precomputation config?",
        "created_at": "2024-10-02T13:15:57.064000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "we only need one supernode in the network, your machine",
        "created_at": "2024-10-02T13:16:13.329000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "could you do bulk reconstruction of a whole epoch in parallel for example? 192 blobs worst case.",
        "created_at": "2024-10-02T13:16:37.874000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Ha keep in mind this is for a single row. And yes, default precomp (wbits=8).",
        "created_at": "2024-10-02T13:16:59.131000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-10-02T13:17:00.441000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "d8f92ffc0950020fe426af1d196dff1511b3cfef3d0fc91dfb84bd9dc0cbf3e8"
            }
        ]
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Yes, I believe so. Each reconstruction is independent of each other.",
        "created_at": "2024-10-02T13:18:26.106000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "is compute proof from blob still 150ms? or has it been brought further down too?",
        "created_at": "2024-10-02T13:19:18.791000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "For me, it's 145ms. But that's probably because my CPU core is at a slightly higher clock.",
        "created_at": "2024-10-02T13:20:33.708000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-10-02T13:20:36.668000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "4e972109d155d6f2999dfb0d27efa3aef2213e25cc33b96043cb8e4d26caa1fa"
            }
        ]
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "(ignore the regression, I tested wbits=15 previously)",
        "created_at": "2024-10-02T13:20:49.339000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "To be clear, I think a `DataColumnSidecar` with zero length column/commitments/proofs should be considered invalid. But we should also add an `assert len(sidecar.kzg_commitments) \u003e 0` check to `verify_data_column_sidecar_inclusion_proof`. I'm going to work on a spec PR with these fixes today.",
        "created_at": "2024-10-02T13:47:53.819000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "`lighthouse-geth-5` and `teku-geth-3`, you'r the only super nodes live on the devnet.\nBe strong!",
        "created_at": "2024-10-02T14:42:55.203000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "eb7f20442cc5321a74c991c1976044c1189f59a0633b9aebb22246f70a1aeca8"
            }
        ]
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "The whole future of Ethereum is on your shoulders.",
        "created_at": "2024-10-02T14:44:05.838000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "Is it still worth reviving it now we've identified the main issue (missing invalid sidecar check)? \nThe database of those nodes storing the invalid sidecars are kinda corrupted, i'm not sure if it's worth adding logic to ignore invalid sidecars to revive the devnet, thoughts?",
        "created_at": "2024-10-02T23:17:26.266000+00:00",
        "attachments": null
    }
]