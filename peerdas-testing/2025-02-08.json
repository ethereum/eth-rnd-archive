[
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "Does this seem ok as the mempool change to the EIP? https://hackmd.io/@fradamt/mempool-change",
        "created_at": "2025-02-08T07:23:47.007000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "\u003e The KZG commitments match the corresponding blobs and cell_proofs. This requires computing the extension cells for all blobs , and verifying the respective cell proofs (Note: the verification can be optimized using verify_cell_kzg_proof_batch to verify all cell proofs for all blobs at once)\nMaybe not a change, but `verify_cell_kzg_proof_batch` is the only public API exposed in regard to cell proof verification for `c-kzg-4844` and most likely same for the rust implementation",
        "created_at": "2025-02-08T07:34:04.461000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Yes it is the only verification function. But the key information there is that everything should be verified together, rather than each blob at a time. Maybe it should be rephrased a bit.",
        "created_at": "2025-02-08T14:09:06.529000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "Exactly",
        "created_at": "2025-02-08T14:10:17.282000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Should we enforce a blob limit for these transactions? I recall someone at devcon suggesting we limit blob txs to one blob. I think that would be a good idea. Looking ahead to when we have more blobs (say 64 blobs), it will take a decent amount of time to verify large txs. On my three year old system, it takes ~600ms to verify 64 blobs worth of cell proofs on a single thread. If split across 8 threads, it takes 95ms. If split across 16 threads, it takes 56ms. With 1 blob, it takes 16ms. For reference, in Electra it takes ~10ms to verify 9 blob KZG proofs in batch.",
        "created_at": "2025-02-08T15:40:35.038000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "The problem is OP and Arbitrum already post batches of 5-6 blobs, so we would be going after an established use case.  And they will push back. There is compression and block overhead in the blob, and they need the blob groupings to be atomic.  This may force them to put all compression and checksum overhead in each blob, reducing efficiency.",
        "created_at": "2025-02-08T16:12:37.756000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Hmm good point. Verification of 64 blobs together is more efficient together too (~600ms together vs ~1000ms individually). Would the mempool be okay with these verifications taking so long? It's not exactly time sensitive, right?",
        "created_at": "2025-02-08T16:26:37.347000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "64?  yikes.  Sounds like we need a limit, just make sure it's 6 or higher. Perhaps the L2s should be made aware of the upper limit sooner rather than later so they can code it into their batchers.",
        "created_at": "2025-02-08T16:27:54.755000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "I'm not sure what the ideal limit is. Maybe 16?",
        "created_at": "2025-02-08T16:41:59.411000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "We definitely need a limit, I think we should clearly tell L2s that even if they use batches \u003e 6 after Pectra, we might set the limit to 6 eventually",
        "created_at": "2025-02-08T17:12:52.361000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Could we make it a power of two, 8?",
        "created_at": "2025-02-08T17:29:38.607000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "perhaps float the notion of a limit  \u003c#829412277782315008\u003e ?",
        "created_at": "2025-02-08T19:34:08.476000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "they may already be coding 9 in",
        "created_at": "2025-02-08T19:34:19.205000+00:00",
        "attachments": null
    }
]