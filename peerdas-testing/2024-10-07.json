[
    {
        "author": "hangleang.eth",
        "category": "Testing",
        "parent": "",
        "content": "looks like some grandine peers decided",
        "created_at": "2024-10-07T07:29:45.164000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Fork party ðŸŽ‰",
        "created_at": "2024-10-07T09:28:53.433000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "I continue the https://discord.com/channels/595666850260713488/1292591633782800385/1292964305079369809 discussion here, since it's the main issue of the devnet.",
        "created_at": "2024-10-07T22:03:02.172000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "I have a very interesting case:\nAt slot [15341](https://dora.peerdas-devnet-3.ethpandaops.io/slot/15341), `prysm-geth-2-arm`  (Full node) proposed a block.\nIt broadcasted all the data columns, but received 8 invalid data columns, for the same slot, from Nimbus and Lodestar.\nLogs: https://gist.github.com/nalepae/4a0b9a2c71402235d11ef90150eb7691",
        "created_at": "2024-10-07T22:06:46.010000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i suspect the messages from nimbus has been generated during broadcasting reconstructed columns. but can this cause so many multiple forks?",
        "created_at": "2024-10-07T22:26:33.255000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i have been a bit weary about it for a while",
        "created_at": "2024-10-07T22:27:14.894000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "because if it were from proposed ones, the clients would have complained way earlier",
        "created_at": "2024-10-07T22:27:59.680000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Well, even if nimbus broadcasts invalid messages, the rest of the network should be resilient to these messages.\n(At least rejecting them, and possibly disconnect nimbus peers)",
        "created_at": "2024-10-07T22:28:07.249000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "exactly",
        "created_at": "2024-10-07T22:28:16.562000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Actually I'm wondering if Prysm (which seems to be the only one fully live and fully in one fork client) is not the only client which did not do something correctly.",
        "created_at": "2024-10-07T22:29:17.571000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "(like accepting invalid stuffs)",
        "created_at": "2024-10-07T22:29:43.777000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i think the length mismatch is not checked by some of the clients while checking rpc responses",
        "created_at": "2024-10-07T22:29:49.687000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i think the length checks should be independently included as a part of `inclusion proof check` as well, if it is not yet cc \u003c@592004585506340885\u003e",
        "created_at": "2024-10-07T22:30:25.050000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "or, all clients should verify inclusion proof as well as verify dc sidecar kzg proof in checking responses from rpc",
        "created_at": "2024-10-07T22:31:16.242000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "that's because if incorrect dcs are reconstructed then they might just be persisted to db as well, and if they are persisted to db as well, they might as well be collected as an rpc response via some other client, and ignored/ not-so-satisfactorily verified",
        "created_at": "2024-10-07T22:34:00.735000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "this plan might hurt the latency tho",
        "created_at": "2024-10-07T22:37:32.352000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Hum interesting. The specification of  [by root](https://github.com/ethereum/consensus-specs/blob/dev/specs/_features/eip7594/p2p-interface.md#datacolumnsidecarsbyroot-v1) only requests to check `verify_data_column_sidecar_kzg_proofs` and not `verify_data_column_sidecar_inclusion_proof`.\n\n(But Prysm verifies both on `byRoot` RPC response. That *could* explain why Prysm is still alive.)",
        "created_at": "2024-10-07T22:48:52.726000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "exactly",
        "created_at": "2024-10-07T22:49:34.160000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "ðŸ™‚",
        "created_at": "2024-10-07T22:49:38.419000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "well atleast the bug helps refine the spec ðŸ™‚",
        "created_at": "2024-10-07T22:52:16.185000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Well I spoke a little bit too fast, the spec exactly tells:\n\u003e Before consuming the next response chunk, the response reader SHOULD verify the data column sidecar is well-formatted, **has valid inclusion proof**, and is correct w.r.t. the expected KZG commitments through verify_data_column_sidecar_kzg_proofs.\n\n==\u003e `has valid inclusion proof` is what we translated in prysm by \"run the `verify_data_column_sidecar_inclusion_proof` function\"",
        "created_at": "2024-10-07T23:01:58.983000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "In that case the spec is indeed accurate",
        "created_at": "2024-10-07T23:03:19.451000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Should the `SHOULD` be replaced by a `MUST`?",
        "created_at": "2024-10-07T23:03:42.313000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/pull/3963",
        "created_at": "2024-10-07T23:10:01.724000+00:00",
        "attachments": null
    }
]