[
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@363800010518822915\u003e noticed that the Prysm implementation of `get_custody_groups` is broken when dealing with the (not likely but still possible) `if current_id == UINT256_MAX` case.\n\nSurprisingly, all spectests are OK with this bug.\nAfter looking at spectests, it turns out all tests dealing with max node ID, namely:\n- `get_custody_groups__max_node_id_max_custody_group_count` , \n- `get_custody_groups__max_node_id_max_custody_group_count_minus_1` , and\n- `get_custody_groups__max_node_id_min_custody_group_count`\n\nuse either the maximum cgc (128), or the minimum one (0).\n\nFor the test with 0 cgc, we trivially get the expected result.\nFor tests with 128 cgc, we also get the expected result, because the only possible solution is all possible groups.\n\nThe Prysm bug would have been caught by the spec tests if at least one test using the maximum node ID had used a custody group between 1 and 127.\n\nWould it be possible to change tests `get_custody_groups__max_node_id_max_custody_group_count` and `get_custody_groups__max_node_id_max_custody_group_count_minus_1` to use cgc 4 instead of 128 (or to keep existing tests and add at least one test implying the max node ID with a cgc 4)?\n\nAlso nit: `get_custody_groups__max_node_id_max_custody_group_count_minus_1` title makes the reader think it uses the max custody group count minus one, whereas it actually uses the max node id minus one.",
        "created_at": "2025-04-27T21:44:28.444000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "cc \u003c@303930231066984449\u003e",
        "created_at": "2025-04-27T21:44:52.368000+00:00",
        "attachments": null
    }
]