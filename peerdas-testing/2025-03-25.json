[
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "IMO this feels like a clear choice - bumping the max straight to a high blob count on mainnet is pretty risky and unlikely (even with thorough testnet testing), and there seems to be strong demand for higher blob counts. If we want that before the Glamsterdam fork, we should include this now and have spec finalised soon so implementations can start.",
        "created_at": "2025-03-25T01:17:16.802000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "Oh \u003c@554799849288105986\u003e  has got a PR to PFI this EIP into Fusaka\nhttps://github.com/ethereum/EIPs/pull/9525",
        "created_at": "2025-03-25T01:27:16.950000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "Testing",
        "parent": "",
        "content": "1000% agreed. Jumping straight to the max blob count for PeerDAS feels careless when we can do BPO forks.\n\nObviously we'll try to gain as much confidence as possible through the testing and devnet cycle but we can only go so far given how different mainnet is.",
        "created_at": "2025-03-25T01:41:45.486000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "Testing",
        "parent": "",
        "content": "We now have 65 community nodes from 26 countries contributing their mainnet block/blob timing to the Xatu project. These are home users running on a diverse set of clients and hardware, and this number will hopefully continue to climb.\n\nI feel very confident that we now have enough data to create a tight feedback loop to do BPO forks safely and aggressively.\n\n1. Release PeerDAS with sensible params\n\n2. Plan BPO fork\n  - Observe data via Xatu public contributors\n  - Derive next target/max params\n  - Rollout\n  - Repeat",
        "created_at": "2025-03-25T01:50:41.635000+00:00",
        "attachments": null
    },
    {
        "author": "mininny",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouse column computation logic",
        "created_at": "2025-03-25T06:34:37.513000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Blob txs with new proof type and more blobs as they are sent via eth_sendRawTransaction, if someone wants to crosscheck",
        "created_at": "2025-03-25T09:26:44.574000+00:00",
        "attachments": [
            {
                "type": "application/zip",
                "origin_name": "tx_rlp.zip",
                "content": "665c1a1b94fc6571d99d33fccb2576c04c72a865daec96e2c7e65bb9640c15b6"
            }
        ]
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Call link for peerDAS call: https://ethereumfoundation.zoom.us/j/81645423396?pwd=hL37Lys5NdrKNUxgE13OAUqihgXaTP.1",
        "created_at": "2025-03-25T10:01:51.305000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@\u0026595681804422479873\u003e ^ anyone from nimbus could join the call ?",
        "created_at": "2025-03-25T10:13:33.917000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "joining",
        "created_at": "2025-03-25T10:16:47.931000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "Hi \u003c@425907307621122049\u003e I've responded to your comment on this PR - would love to hear any more thoughts on this, and hopefully finalise / merge this soon üôè \nhttps://github.com/ethereum/consensus-specs/pull/4183",
        "created_at": "2025-03-25T11:35:54.323000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "lighthouse-geth-2 and grandine-geth-1 seem to be both stuck.",
        "created_at": "2025-03-25T13:37:55.016000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Tried to restart them but they can't seem to make any progression",
        "created_at": "2025-03-25T13:38:07.682000+00:00",
        "attachments": null
    },
    {
        "author": "mininny",
        "category": "Testing",
        "parent": "",
        "content": "Hi all, here's another update from Sunnyside Labs for peerDAS devnet testing!\nhttps://testinprod.notion.site/Sunnyside-Devnet-Updates-03-25-Internal-1c08fc57f54680339b2fe2dbc8232b6d\n\nWe ran a series of tests to identify the root cause of peerDAS‚Äôs blob limitation and we identified blob limits for the following client pairs:\n- lighthouse/prysm with geth: 20 blobs/block\n- lighthouse/prysm with All EL: 17 blobs/block\n- lighthouse/prysm/lodestar + geth: 12 blobs/block\n- lighthouse/prysm/teku + geth: 25 blobs/block\n- lighthouse/prysm/grandine + geth: 9 blobs/block\n- lighthouse/prysm/nimbus + geth: N/A, see below\n\nOf the above results, our finding is:\n- currently, some execution clients have txpool limits that cannot handle high blob counts \u0026 have good getBlobsV1 performance\n- more analysis is needed into why certain clients has yields in lower blobs/block throughput compared to other clients\n\nI will follow up with more details and action items for the individual client from the above report tomorrow! \nAs always, we'd really appreciate any feedbacks or thoughts on the tests we are doing üôÇ",
        "created_at": "2025-03-25T17:26:29.890000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "what‚Äôs the experiment here? we just scaled up the blob count, and ran devnets until something broke?",
        "created_at": "2025-03-25T18:37:42.134000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "it would be nice to know what issues are due to mempool perf and what are intrinsic limits in other parts of the software",
        "created_at": "2025-03-25T18:38:16.305000+00:00",
        "attachments": null
    },
    {
        "author": "mininny",
        "category": "Testing",
        "parent": "",
        "content": "Yes that's right. The exact testing methodology can be found in the previous tests: [1](https://testinprod.notion.site/Sunnyside-Devnet-Updates-03-11-Internal-1b38fc57f54680a9a409d639a8a45bdd?pvs=74), [2](https://testinprod.notion.site/Sunnyside-Devnet-Updates-03-18-Internal-1b98fc57f54680d991c3f7a4fefa590b)\n\u003e it would be nice to know what issues are due to mempool perf and what are intrinsic limits in other parts of the software\nDefinitely agreed! It's quite difficult to exactly attribute specific issue to the performance given the number of clients \u0026 combinations, but we're planning to run more tests with less number of clients (so that performance factors are isolated) in the future üôÇ",
        "created_at": "2025-03-25T18:44:55.272000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "has anyone thought about how the `getBlobs` DA check technique will work under PeerDAS?",
        "created_at": "2025-03-25T21:26:24.910000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "what you mean by \"getBlobs DA check technique\"?",
        "created_at": "2025-03-25T21:27:43.849000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "the complication will be going from a local blob to some column (and possibly providing that column for custody), although i guess otherwise it will still work just fine",
        "created_at": "2025-03-25T21:27:46.290000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "we have `getBlobsV{1,2}` methods to avoid having to download blobs from a remote peer in the event they are already in the mempool",
        "created_at": "2025-03-25T21:28:17.478000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "I know what is getBlobs, just wonder what you mean by \"DA check technique\" here",
        "created_at": "2025-03-25T21:28:42.325000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "it doesn't directly map to the DA unit under peerdas and wondering if we expect any issues there",
        "created_at": "2025-03-25T21:28:42.831000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "oh just that you can verify DA for yourself w/o having to do the remote download",
        "created_at": "2025-03-25T21:29:00.265000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, so\n- we always said DA check is (almost) independent of the source of the data.\n- getBlobs is indended to be used if you have all blobs from the block",
        "created_at": "2025-03-25T21:29:54.126000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "Except if we have cell-level messaging on the column.",
        "created_at": "2025-03-25T21:30:18.076000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "If we have cell-level messaging, you can use getBlobs to get partial column, and get the rest from other nodes.",
        "created_at": "2025-03-25T21:30:49.045000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "The end result is that you don't need nodes that has all the blobs, which becomes more and more important when we start increasing the blob count",
        "created_at": "2025-03-25T21:31:16.474000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "But I remember writing this already a few times. The fact that we have like 5 different channels discussing this does not help üôÇ",
        "created_at": "2025-03-25T21:32:18.539000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "when you say cell do you mean the 2d coordinate of the \"matrix\" of blobs, or here with fusaka peerdas we just mean the column",
        "created_at": "2025-03-25T21:32:47.564000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "when I say cell, I mean 2D coordinates, or in other words the intersections of an RS extended blob and a column",
        "created_at": "2025-03-25T21:33:38.663000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "i dont think there is any intention to have cell-level messaging in fusaka though, and this discrepancy prompted my question",
        "created_at": "2025-03-25T21:34:32.913000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "For columns, I think we want to use getBlobs only if we have all blobs. Another possible techniques mentioned was to bump the priority of the blob in the blob mempool, making more peers be in the situation where they have all blobs needed.",
        "created_at": "2025-03-25T21:35:52.512000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "The probabilistic reasoning does not work very well if you only have parts of the column, since there is no erasure code protecting in the vertical dimension.",
        "created_at": "2025-03-25T21:37:04.132000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "yeah, i guess that's a key question -- at what blob count do we expect to not have ~100% saturation of the public mempool",
        "created_at": "2025-03-25T21:37:19.468000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "For that we've started a research thread, and ProbeLab is working on implementing that.",
        "created_at": "2025-03-25T21:37:53.235000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "right, if you needed a column in peerdas and didn't have one blob out of N in the block, you'd need to grab the entire column under consideration",
        "created_at": "2025-03-25T21:37:56.689000+00:00",
        "attachments": null
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "Here is my slide about the blob mempool exploration, but atm. it is more ProbeLab working on it than me because of my recent role changes.",
        "created_at": "2025-03-25T21:42:30.410000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "d293514ae5540c9a8b96d8c8be70cd8ac139b1fa390569b4d8fda78534f5b5af"
            }
        ]
    },
    {
        "author": "cskiraly",
        "category": "Testing",
        "parent": "",
        "content": "Anyway, once we get to the level where the mempool is saturated and thus not everyone has all the blobs, the probability of a node having all the blobs will start to decrease fast. Especially with many blobs (see the exponent in point 4 above). Fortunately:\n- we only need a handsome of nodes with all the blobs to help the publisher\n- the above simplistic model is for a homogeneous scenario, but our network is largely heterogeneous. We do have strong nodes that will have all the blobs.\n\nSo overall, I think there is space for a large blob count bump, even if we require all the blobs to be present for getBlobs to be useful.\n\nAnd then, we can add cell-level messaging and do another bump, simply by sharing on the column.\n\nAnd then comes 2D encoding üôÇ",
        "created_at": "2025-03-25T21:47:04.935000+00:00",
        "attachments": null
    },
    {
        "author": "corcoranwill",
        "category": "Testing",
        "parent": "",
        "content": "I‚Äôve seen ProbeLab mentioned a couple of times now (I‚Äôm new here) - can someone intro me to a team member so I can learn more?  Thanks",
        "created_at": "2025-03-25T22:26:03.819000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "We have removed all this code including lossy sampling. Less code - less bugs. As no extra security is added, it's just a source of bugs üòÄ",
        "created_at": "2025-03-25T22:27:05.233000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "As I understand if we try to publish all, we will publish all 128 columns to the smaller mesh, but we could voluntary limit number of published columns to the size of our custody as \u003c@592004585506340885\u003e mentioned https://github.com/ethereum/consensus-specs/pull/4183#discussion_r2012325743\nIf we clarify this in spec, I think it could be ok",
        "created_at": "2025-03-25T22:31:12.777000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "right, this will work for the initial phase of peerdas, and i think a prudent decision for clients to take so we can get to more scale sooner\n\nfuture R\u0026D designs do have more flexible sampling schemes, but we can cross that bridge when we get there üôÇ",
        "created_at": "2025-03-25T22:42:18.159000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "As we discuss on interop more complex sampling doesn't give extra secuirty. May be other way is needed to check DA and it's not just about sampling, I don't know. My hopes are on research.",
        "created_at": "2025-03-25T22:44:54.309000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "it wouldn't necessarily enhance security but it could support fewer samples or more bandwidth-efficiency for the same security level which lets us scale the data layer even more",
        "created_at": "2025-03-25T22:57:34.531000+00:00",
        "attachments": null
    }
]