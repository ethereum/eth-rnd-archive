[
    {
        "author": "yperbasis",
        "category": "general",
        "parent": "",
        "content": "Erigon stores all blocks.",
        "created_at": "2022-03-20T15:16:31.323000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "So there's a mistake in one of the computations cause from 5gb/day to 1gb/week",
        "created_at": "2022-03-20T15:57:24.823000+00:00",
        "attachments": null
    },
    {
        "author": "juliantg",
        "category": "general",
        "parent": "",
        "content": "maybe that is the difference between a continuously pruned node and a non-pruned node",
        "created_at": "2022-03-20T17:30:32.881000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "fyi, it doesnt sound like the 2x+y applies for teku (or probably other clients).  see this comment from teku channel:",
        "created_at": "2022-03-20T21:00:03.559000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "https://discord.com/channels/697535391594446898/697539289042649190/955165087700758639",
        "created_at": "2022-03-20T21:00:06.059000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "not in the server could you post the argument?",
        "created_at": "2022-03-20T21:16:34.035000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "or an invite to the server",
        "created_at": "2022-03-20T21:16:43.201000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "sure: https://discord.gg/6SqMCxxX",
        "created_at": "2022-03-20T22:17:16.913000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "tldr as I understand is that only the eth1 block data is duplicated at a cost of ~50gb/year",
        "created_at": "2022-03-20T22:17:43.787000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "the eth1 state itself is not duplicated",
        "created_at": "2022-03-20T22:17:58.900000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I did not say this: I was very explicit about x and y being the daily growth, not the current size, I'm talking about the derivative of db growth here and not the size of db. As I understand it, most of it is due to blocks",
        "created_at": "2022-03-20T22:19:12.221000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "if db growth is just block size how do you get to 5Gb/day?",
        "created_at": "2022-03-20T22:27:21.526000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I didn't",
        "created_at": "2022-03-20T22:27:53.773000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "I'll let someone better versed in EL state chime in if they want, but by my math duplicating the EL blocks will not double the storage growth as compared to a validator running geth pre-merge",
        "created_at": "2022-03-20T22:32:24.485000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I also didn't say 2 (x+y), I said that an upper bound was x +2y, there are errors in this, as the CL can actually Prune the blocks after a while and the such, but the context of my sentence was in replying to Micah whom I trust got the point. And indeed dbase growth is something to take very seriously by home stakers after the merge. Believing that it will stay the same is a mistake and it can be a costly one",
        "created_at": "2022-03-20T23:04:38.339000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "probably its better not to say 2x since the x will vary greatly depending on your EL client/setup",
        "created_at": "2022-03-20T23:05:57.840000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "i agree it is good to get the message out that storage needs will grow",
        "created_at": "2022-03-20T23:09:16.373000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Tried to read the comments but for some reason the bot sends me to connect a wallet to join",
        "created_at": "2022-03-20T23:13:21.516000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "benjaminion\n â€” \nToday at 11:05 AM\nIt's a bit more nuanced than that. There are multiple types of storage on both the execution (Eth1) and consensus (Eth2/Teku) side. Basically both sides store both (a) their own block history and (b) their own internal state. For Eth1 both of these are enormous. For Eth2 currently the block history is about 25GB, and the state is around 150MB, and (for non-archive nodes) we only store state back to the last finalised checkpoint - generally just 64 slots worth, for a total of ~10GB.\n\nPost-Merge, the only thing that changes with this picture is that Eth2 blocks also include the Eth1 block data, so the block history storage will get bigger on the Eth2 side. That's all. We do not have access to the Eth1 state - that's what the Eth1 client is for.\n\nYou might notice that this means that both the Eth1 and Eth2 side will be storing the Eth1 block history post-Merge, and this is true - it's a duplication. We've looking at ways to deduplicate this but haven't agreed anything yet.\n\nAlso note that eventually we will be able to discard much of the block history if we wish due to \"weak subjectivity\", but again we haven't agreed the parameters of this yet.\n\nSo, be prepared for your Teku databases to grow quicker post-Merge, but it will not be dramatic. Average Eth1 block size rn is about 20kB, so that will add about 50GB per year to the storage.",
        "created_at": "2022-03-20T23:15:06.508000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Ah thanks!",
        "created_at": "2022-03-20T23:19:19.624000+00:00",
        "attachments": null
    }
]