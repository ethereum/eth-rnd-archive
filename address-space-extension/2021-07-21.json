[
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "One more benefit of the bridge contract path occurred to me based on the conversation on https://ethereum-magicians.org/t/types-of-resurrection-metadata-in-state-expiry/6607:\n\nWith the bridge contracts, ASE is actually fully decoupled from state expiry, as there is no need to consider how state expiry rules affect such contracts, unlike the translation map, which may need/warrant its own state expiry rules.",
        "created_at": "2021-07-21T13:33:37.719000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So it can be really introduced in order to provide the benefit of larger collision resistance, and is forward compatible with state expiry.",
        "created_at": "2021-07-21T13:35:23.374000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "When we bring ASE to the core devs, it is probably worth having a very pithy document that explains both options (bridge and translation map) and include the major pros and cons of each (along with perhaps an appendix with minor pros/cons).",
        "created_at": "2021-07-21T13:45:42.022000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have found that the more you can distill the tradeoffs to the core devs, the easier it is to get their attention and get them focused on discussing the pieces that matter and not getting distracted by things we have already been over.",
        "created_at": "2021-07-21T13:46:08.179000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Even if we *don't* go with the bridge, I think it gives a good idea of what a viable alternative might look like so the core devs can appropriately decide which of the two options is \"better\" overall.",
        "created_at": "2021-07-21T13:46:34.491000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Bringing the translation map up seems to be only good for using it as a \"what not do\" option ðŸ™Š",
        "created_at": "2021-07-21T13:47:04.231000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\"Interop between new and old\" vs \"design simplicity and fewer edge cases\".",
        "created_at": "2021-07-21T13:47:08.528000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is where you are at with the translation map now?  I'm *close* to that, but not quite.",
        "created_at": "2021-07-21T13:47:30.800000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Well, I *am* there if we can't fix the problems, but I'm still holding out hope that \u003c@415548822983278593\u003e can fix the problems.  ðŸ˜¬",
        "created_at": "2021-07-21T13:47:50.643000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To be fair I have not spent time on this topic after pushing out the bridge contract writeup, and up until that point we were not able to solve the many questions raised by the translation map.",
        "created_at": "2021-07-21T13:48:10.987000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I really dislike the lack of new/old interop, but:\n1. We **NEED** longer addresses.\n2. The options are translation map, bridge contract, new blockchain/execution shard.",
        "created_at": "2021-07-21T13:49:01.887000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Given those two assertions, bridge seems better than a new execution environment entirely, and translation map may not be pragmatically possible.",
        "created_at": "2021-07-21T13:49:26.488000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The \"easy\" solutions to the translation hinge on having distinguishable compressed addresses. We were able to find plenty (thousands) of unused 3-byte prefixes, so some kind of a prefix + checksum could work, but that seems to be eating quite a bit into the collision resistance.",
        "created_at": "2021-07-21T13:50:10.160000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, I personally don't think that is viable from a security standpoint.  Too much entropy loss in a space where we are already short on entropy (one of the driving forces for pushing this change forward).",
        "created_at": "2021-07-21T13:50:55.497000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And 3 bytes is still (I think) within the realm of users being able to accidentally land on it, so I'm not convinced that 3 bytes is enough (without redoing a _lot_ of ecosystem tooling to deal with it when creating accounts).",
        "created_at": "2021-07-21T13:51:24.540000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Well 3-byte prefix + 2-byte checksum, that is 5-bytes already.",
        "created_at": "2021-07-21T13:52:47.898000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Interestingly there is a parallel we can draw with other past changes, where we changed the system in a backwards compatible way in order to save old/existing contracts, only for them to be replaced anyway with never versions, more suiting the needs of the time.",
        "created_at": "2021-07-21T13:54:14.648000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not in the camp of 100% backward compatibility for all time, and I do think we need a way to ditch some technical debt (like this) eventually.",
        "created_at": "2021-07-21T13:54:53.066000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But I don't think all core devs agree on how much backward compatibility we actually should have.",
        "created_at": "2021-07-21T13:55:10.600000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So perhaps something similar could happen, where we go all the way of providing this complex translation map system to make it \"easy\" for everyone, only to learn that due to (maybe currently unforeseen benefits/reasons) people will migrate to the new system anyway.",
        "created_at": "2021-07-21T13:55:26.322000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Of course I am a bit biased with the bridge contract idea, so looking for more feedback in the coming weeks ðŸ™‚",
        "created_at": "2021-07-21T13:57:03.971000+00:00",
        "attachments": null
    },
    {
        "author": "peter.davies",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "5 bytes of entropy loss is 2^60 hashes required to find a collision. The bitcoin network does that many hashes every 11.5 milliseconds. Chopping 5 bytes off the address length turns collisions from a theoretical attack vector to one that actual one.",
        "created_at": "2021-07-21T14:03:18.065000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What would be the cost to do 2^60 hashes on a cloud provider?",
        "created_at": "2021-07-21T14:04:37.173000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Like what is the rough estimate cost I wonder if compromising that \"right now\" without any complex hardware aquisition/setup.",
        "created_at": "2021-07-21T14:04:54.718000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just spinning up some commodity cloud hardware and crunching numbers for a day.",
        "created_at": "2021-07-21T14:05:12.419000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2021-07-21T14:39:52.206000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2021-07-21_at_15.39.45.png",
                "content": "30ef44ec0e6d40a7788edf6bb26f6e9d9cd13f24ddd42f5aa077ff3d706e7ebc"
            }
        ]
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For a quick comparison table, do you have better metrics? Does it makes sense separating complexity vs risk? i.e. complexity = how hard is it to implement, risk = how likely it is we missed something and it can be broken",
        "created_at": "2021-07-21T14:40:24.842000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(Also missing the prefix option)",
        "created_at": "2021-07-21T14:41:27.388000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So perhaps collision risk is another good metric for the table.",
        "created_at": "2021-07-21T14:41:41.541000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2021-07-21T14:45:22.335000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2021-07-21_at_15.45.17.png",
                "content": "d7f5a4ae10b6da354713bef8b159d0b42fc53315c6138b5f4be63903de97848b"
            }
        ]
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What is Contract Migration?",
        "created_at": "2021-07-21T15:39:05.863000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e The idea here is that the code of existing contracts could be upgraded with a new one, which is capable of understanding long addresses. The means of upgrade is yet to be determined.\n\nOr some kind of storage cloning facility.",
        "created_at": "2021-07-21T15:44:18.542000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh, is that actually viable?",
        "created_at": "2021-07-21T15:45:48.349000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I feel like for any plan in the list we should have an *idea* of how to implement it.",
        "created_at": "2021-07-21T15:45:57.120000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I thought that one isn't realistic to do generally?",
        "created_at": "2021-07-21T15:46:07.772000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Don't think it is viable but good for comparison completeness?",
        "created_at": "2021-07-21T15:52:16.218000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I do have an idea, i.e. allow the creator to replace code. It is not a good idea though ðŸ˜…",
        "created_at": "2021-07-21T16:58:46.501000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If we do include it and things like it, maybe include a column for \"has unsolved problems\" or something?",
        "created_at": "2021-07-21T18:10:51.957000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To make it clear that we don't actually know how to solve this problem, but it is something we thought about and couldn't figure out.",
        "created_at": "2021-07-21T18:11:10.285000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Huge +1 for this. I've been trying to follow the ASE stuff and with London + The Merge going on, it's been hard (and I don't even write code!!), so the simpler the better ðŸ™‚",
        "created_at": "2021-07-21T20:39:29.925000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This was super good in a similar vein: https://ethereum-magicians.org/t/types-of-resurrection-metadata-in-state-expiry/6607",
        "created_at": "2021-07-21T20:39:52.533000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We planned such a document when we started the calls, but it was more fuzzy back then what the content will be, wether new ideas come up, etc. You can see the comparison chart a few messages above, that is from the  WIP document.",
        "created_at": "2021-07-21T21:27:39.802000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok yeah, I think that's very useful ðŸ™‚",
        "created_at": "2021-07-21T22:13:05.937000+00:00",
        "attachments": null
    }
]