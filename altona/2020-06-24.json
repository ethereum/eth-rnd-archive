[
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://altona.beaconcha.in/",
        "created_at": "2020-06-24T08:23:22.582000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we're waiting üëº",
        "created_at": "2020-06-24T08:23:34.612000+00:00",
        "attachments": null
    },
    {
        "author": "alex.g.t",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "grpc.altona.eth2stats.io endpoint is also ready, will enable the UI after we have a genesis times üöÄ",
        "created_at": "2020-06-24T11:12:54.608000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Genesis is happening around Friday Jun-26-2020 16:30pm UTC",
        "created_at": "2020-06-24T12:45:05.560000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Waiting for clients to see the deposits and announce an actual genesis time.",
        "created_at": "2020-06-24T12:45:24.750000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Will publish the spec now",
        "created_at": "2020-06-24T12:45:36.481000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(assuming all deposits are valid)",
        "created_at": "2020-06-24T12:46:59.299000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/goerli/altona",
        "created_at": "2020-06-24T12:52:28.097000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n[2020-06-24 20:54:23]  INFO powchain: Processing deposits from Ethereum 1 chain deposits=512 genesisValidators=241\n```\nI think we have to wait longer",
        "created_at": "2020-06-24T12:57:17.103000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "nearly half the deposits are invalid",
        "created_at": "2020-06-24T12:57:29.695000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "wow",
        "created_at": "2020-06-24T12:57:45.139000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that's a lot",
        "created_at": "2020-06-24T13:08:57.376000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so, altona is already a full success ü•≥",
        "created_at": "2020-06-24T13:12:13.220000+00:00",
        "attachments": null
    },
    {
        "author": "zahary.",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oops, do the invalid deposits having invalid Merkle proofs? This could be us",
        "created_at": "2020-06-24T13:14:50.247000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll try and check all deposits now",
        "created_at": "2020-06-24T13:15:11.116000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "from what i could see these were all with bad signatures",
        "created_at": "2020-06-24T13:16:07.508000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Got 386 bad deposits. Here's a full debug dump of the processing, incl tx details, bad deposits list and current registry contents: https://gist.github.com/protolambda/e47c1adc0bd8c4d42e438d1815587d35",
        "created_at": "2020-06-24T13:25:22.142000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!557201004060213248\u003e",
        "created_at": "2020-06-24T13:25:28.669000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am going to guess all those with invalid depoists have a genesis fork version of\n```\n0x00000000\n```",
        "created_at": "2020-06-24T13:26:15.687000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll try that version and see if they are valid with that",
        "created_at": "2020-06-24T13:27:10.932000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hmm, nope, still 386 bad deposits",
        "created_at": "2020-06-24T13:28:30.032000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hmm just spit-balling\nIf that is _the_ problem with deposits, we could just make a **constant** (rather than a **config var**) called `DEPOSIT_FORK_VERSION` that is not configurable across different chains",
        "created_at": "2020-06-24T13:28:34.157000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah",
        "created_at": "2020-06-24T13:28:35.763000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll try witti fork version",
        "created_at": "2020-06-24T13:28:36.946000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hmm",
        "created_at": "2020-06-24T13:28:53.340000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "genesis_val_root and current_fork still give sig domain isolation across chains for any important (slashable) messages",
        "created_at": "2020-06-24T13:29:25.965000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "in that case they may have been using the old bls spec",
        "created_at": "2020-06-24T13:29:27.011000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "possible",
        "created_at": "2020-06-24T13:29:41.920000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "although 386 deposits failing with that is odd, I would assume everyone is updated to the latest BLS spec",
        "created_at": "2020-06-24T13:30:27.284000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "wait, it's 386 still, but different ones",
        "created_at": "2020-06-24T13:30:43.474000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Wow",
        "created_at": "2020-06-24T13:30:45.236000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that's strange..",
        "created_at": "2020-06-24T13:31:05.714000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "even more bizarre",
        "created_at": "2020-06-24T13:31:12.740000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "lol",
        "created_at": "2020-06-24T13:31:13.670000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "implies some set are due to fork and some set are broken with both forks",
        "created_at": "2020-06-24T13:31:19.640000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "raise your hand if you own pubkeys in the original failed list",
        "created_at": "2020-06-24T13:31:45.011000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Here are the different bad-deposit lists: https://gist.github.com/protolambda/54d0090b73be8c94b5a97cda77c74347",
        "created_at": "2020-06-24T13:33:19.695000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll make a version with only the valid ones per fork version now.",
        "created_at": "2020-06-24T13:33:39.734000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh no, there are also common bad deposits between the two",
        "created_at": "2020-06-24T13:35:20+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So there's at least 3 different signature methods",
        "created_at": "2020-06-24T13:35:35.651000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "there has to be",
        "created_at": "2020-06-24T13:35:40.518000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "given 386*2 is greater than the amount of deposits üôÇ",
        "created_at": "2020-06-24T13:36:10.479000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so there are altona fork versions, 0x00 fork versions, and ones bad on both",
        "created_at": "2020-06-24T13:36:35.020000+00:00",
        "attachments": null
    },
    {
        "author": "zahary.",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm finding our deposits in the invalid set. We currently have compile-time flags for specifying the BLS version, so I'll double what ended up being used.",
        "created_at": "2020-06-24T13:38:06.680000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "jacek shared a pubkey of nimbus and it looks like one of the many bad deposits",
        "created_at": "2020-06-24T13:38:59.470000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e raise your hand if you own pubkeys in the original failed list\nüôã‚Äç‚ôÇÔ∏è The prysm deposits are bad. Will have to resend them. We used the onyx config for sending them deposits. Internally we'll improve how we load these configs",
        "created_at": "2020-06-24T13:39:01.685000+00:00",
        "attachments": null
    },
    {
        "author": "zahary.",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We are supposed to target the new 12.x spec, right?",
        "created_at": "2020-06-24T13:39:02.781000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes",
        "created_at": "2020-06-24T13:39:12.482000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And custom fork version, see config of afri",
        "created_at": "2020-06-24T13:39:23.530000+00:00",
        "attachments": null
    },
    {
        "author": "zahary.",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We should be using this value `GENESIS_FORK_VERSION: 0x00000121`",
        "created_at": "2020-06-24T13:40:34.247000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah I just saw the config. I was under the impression it's the same config as mainnet",
        "created_at": "2020-06-24T13:40:46.578000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Deposits 0 through 127 are the Teku ones I believe - looking OK if I'm reading things right.",
        "created_at": "2020-06-24T13:45:00.054000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "running a script now to run through all deposits with each version, and bucket them by version.",
        "created_at": "2020-06-24T13:48:49.309000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "By version: https://gist.github.com/protolambda/17aa67b1aae7feaa009bbcd62590c4dc",
        "created_at": "2020-06-24T13:50:10.173000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "deposit #450 is one of mine and has a correct version. And the first 128 are correct too, so Teku is correct as well",
        "created_at": "2020-06-24T13:51:44.723000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The pubkey of Jacek is listed under unknown version",
        "created_at": "2020-06-24T13:52:15.536000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "TLDR: 256 with 0 version (likely Prysm, same as Onyx. Maybe lighthouse too?), 256 with altona version (Teku + EF), 130 with unknown version (Nimbus + 2 extra?)",
        "created_at": "2020-06-24T14:07:03.184000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Prysm are the ones with 0 version but only 128. I'll resend the deposits with correct version in an hour",
        "created_at": "2020-06-24T14:13:47.212000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Lighthouse deposits are from address `0x8fa35b1ff7320b7b1dc24ef1bc711f699dd0623b`",
        "created_at": "2020-06-24T14:41:29.806000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "let me check",
        "created_at": "2020-06-24T14:41:32.222000+00:00",
        "attachments": null
    },
    {
        "author": "donschoe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes that are lighthouse deposits starting at 128 cc \u003c@!361447803194441738\u003e",
        "created_at": "2020-06-24T14:42:58.571000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Goerli has not implemented the Berlin EIPs yet, correct?",
        "created_at": "2020-06-24T15:41:46.963000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "if the BLS precompiles were in place we could add the deposit contract proxy to catch some of the invalid signature stuff higher upstream",
        "created_at": "2020-06-24T15:42:21.765000+00:00",
        "attachments": null
    },
    {
        "author": "zahary.",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think I've found the problem with our deposits and I've just made a single test one here:\nhttps://goerli.etherscan.io/tx/0xc7c4cc014d9cebd46c8dfdfe1d69e48a21e59392a70354d38fc848291187232e\n\nCan someone please verify whether it's accepted?",
        "created_at": "2020-06-24T17:09:50.207000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!553610810652622860\u003e signature seems valid, checked with a script here (change details to match your tx if you use it): https://github.com/protolambda/eth2-val-tools/blob/master/check_deposit.py",
        "created_at": "2020-06-24T17:23:25.959000+00:00",
        "attachments": null
    },
    {
        "author": "zahary.",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes, I used your script to find the problem",
        "created_at": "2020-06-24T17:23:53.289000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I highly recommend you make a signature check through some extra tool part of the process of making deposits, to avoid problems in the future",
        "created_at": "2020-06-24T17:24:01.075000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep, looks like ours were invalid too. Not sure how, perhaps I just didn't save the config file before I used it or something.",
        "created_at": "2020-06-24T20:33:26.026000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh, I forgot to pass the `--testnet-dir` flag ü§¶‚Äç‚ôÇÔ∏è",
        "created_at": "2020-06-24T20:36:03.593000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ha üôÇ",
        "created_at": "2020-06-24T20:36:42.846000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I have re-sent the 128 for Prysm. The last 128 deposits (sender: 0xa70c) were from us",
        "created_at": "2020-06-24T20:37:21.604000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And checked them \u003c@!363800010518822915\u003e ?",
        "created_at": "2020-06-24T20:38:00.913000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e yep üëç",
        "created_at": "2020-06-24T20:43:39.740000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@203220829473996800\u003e how do you run this? https://github.com/protolambda/eth2-val-tools/blob/master/build_deposits.sh",
        "created_at": "2020-06-24T20:52:40.173000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sorry, this: https://github.com/protolambda/eth2-val-tools/blob/master/check_deposit.py",
        "created_at": "2020-06-24T20:52:58.911000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh right `eth2spec` is on pip now",
        "created_at": "2020-06-24T20:53:43.069000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's on pip. Just create a venv (`python -m venv venv`), go into it (`. venv/bin/activate`), install latest spec (`pip install eth2spec`), and run while still in the venv (`python check_deposit.py`). (I know you know python, just documenting steps for anyone else who wants to give this a try)",
        "created_at": "2020-06-24T20:56:21.476000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Alrighty, my deposits are in from address `0x8fa35b1fF7320B7B1DC24ef1Bc711F699Dd0623b`. I checked one of them with Proto's tool and it was good.",
        "created_at": "2020-06-24T20:59:22.633000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`GOOD`, even.. not just lowercase good.",
        "created_at": "2020-06-24T20:59:38.018000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I only had the \"BAD\" case first, and decided to print \"GOOD\" for good measure. And never refactored the if arms. Debug scripting be like that. But at least it's quick to script anything with spec üôÇ",
        "created_at": "2020-06-24T21:01:01.090000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The caps works for me. Nothing like a good, firm response!",
        "created_at": "2020-06-24T21:01:25.794000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e I highly recommend you make a signature check through some extra tool part of the process of making deposits, to avoid problems in the future\n\u003c@!203220829473996800\u003e We do a check to ensure that the amount supplied is consistent with the deposit root, but we don't check the signature at deposit time. We could pretty easily do this, considering we store the voting keypair alongside the deposit data file. Still not protected against user error of failing to supply flags though. I guess that will be less of a problem when we're not running use disparate specs.",
        "created_at": "2020-06-24T21:03:34.320000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!550420431744794624\u003e and \u003c@!415109946682769408\u003e and others have been working on python deposit tooling, which can function as a more mainnet-grade deposit check you could integrate.",
        "created_at": "2020-06-24T21:04:26.976000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For now the import spec + that short script will work though",
        "created_at": "2020-06-24T21:04:52.257000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So did we hit min genesis deposits?",
        "created_at": "2020-06-24T22:22:42.090000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "42% have reached the follow distance from my view.  But there's a bunch still too close to head I think.",
        "created_at": "2020-06-24T22:23:48.359000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So likley genesis will be in the middle of night for afri again üòÇ",
        "created_at": "2020-06-24T22:26:21.879000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Matters less this time with the distribution of vals across all the client teams",
        "created_at": "2020-06-24T22:26:46.965000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I have to admit, that makes me quite happy. üôÇ  Sorry Afri.",
        "created_at": "2020-06-24T22:28:43.117000+00:00",
        "attachments": null
    }
]