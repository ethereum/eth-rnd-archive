[
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hey all, for slashing protection migration I would prefer to support Lighthouse's native format, which is the list of all attestations + blocks signed, but I think we could wire something up to support the minimal format for this temporary emergency.\n\nThe minimal approach is safe, but identifies false positives that our scheme does not",
        "created_at": "2020-08-18T00:12:41.959000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How does everyone feel about this conversion from the minimal/Teku format to a Lighthouse slashing DB?\n\n1. Create \"synthetic\" (fake) block entries for all slots from 0 to `lastSignedBlockSlot`\n2. Create one synthetic attestation with `source: 0, target: lastSignedAttestationTargetEpoch`, this surrounds almost all votes that a val would make, but doesn't catch potentially slashable attestations with `source: 0` (because they aren't surrounded)",
        "created_at": "2020-08-18T00:16:18.540000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!602753420033785856\u003e are you thinking a fairly agnostic YAML format that contains the minimum required info?",
        "created_at": "2020-08-18T00:25:14.056000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "versuses something tightly tied to our schema?",
        "created_at": "2020-08-18T00:25:29.065000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, I'm drafting a JSON spec now",
        "created_at": "2020-08-18T00:25:50.166000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't like YAML particularly, but we could also go with that",
        "created_at": "2020-08-18T00:26:02.502000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh yeah cool, i'm easy. we seem to have a delicious mix of both formats in eth2",
        "created_at": "2020-08-18T00:26:29.944000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "maybe you could do TOML, mix it up a bit ðŸ˜›",
        "created_at": "2020-08-18T00:26:48.962000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I haven't seen XML in a while",
        "created_at": "2020-08-18T00:27:00.246000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We've pushed towards YAML everywhere in Teku because the spec already uses that for network definitions. I think JSON only appears in the REST API for us so would be nice to stick with YAML for this.  We originally did use TOML for our config file...",
        "created_at": "2020-08-18T00:33:45.624000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If we go with YAML I'll need to brush up, I'm not confident writing a YAML spec off the top of my head",
        "created_at": "2020-08-18T00:36:02.356000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e Are you suggesting that lighthouse would take the \"minimal\" and fill in the \"maximal\" locally? or that teku should output that?",
        "created_at": "2020-08-18T01:03:38.857000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we'll fill it locally",
        "created_at": "2020-08-18T01:04:00.981000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it's a bit dodgy though",
        "created_at": "2020-08-18T01:04:08.998000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "in which respect?",
        "created_at": "2020-08-18T01:04:34.919000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The 0-\u003elast_signed_target does prevent surround in all cases if you are tracking maximal surround in your slashing protections",
        "created_at": "2020-08-18T01:05:03.064000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "at, I see",
        "created_at": "2020-08-18T01:05:42.037000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sorry",
        "created_at": "2020-08-18T01:05:43.280000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hmm so because the protocol should never wrt source epoch (this is fundamentally against the fork choice and is the source of clear equivocations), it is very reasonable to have a rule in VC to never vote with a source earlier than your latest vote\n\ndo you have reasons that you want support this functionality (voting for earlier source than latest vote)? \u003c@!602753420033785856\u003e",
        "created_at": "2020-08-18T01:09:03.354000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!291925846556540928\u003e I think we could support that in a straight-forward way, yeah. I'll add that check when updating",
        "created_at": "2020-08-18T01:23:28.748000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How does this look as an interchange format?\n\nhttps://hackmd.io/@sproul/Bk0Y0qdGD\n\nCC \u003c@!311971895828283393\u003e \u003c@!399309815517544451\u003e \u003c@!118185622543269890\u003e, do you think Prysm could export its slashing protection database in the complete format? What incompatibilities (if any) do you see?\n\n\u003c@!340345049063882753\u003e it's in JSON for now, sorry",
        "created_at": "2020-08-18T01:34:29.863000+00:00",
        "attachments": null
    },
    {
        "author": "kiwi.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hey sproul, looking",
        "created_at": "2020-08-18T01:35:07.932000+00:00",
        "attachments": null
    },
    {
        "author": "kiwi.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Prysm's slashing protection is currently very simple, we only record the source and target epochs of attestations we've made, and the slots we've proposed for",
        "created_at": "2020-08-18T01:35:54.236000+00:00",
        "attachments": null
    },
    {
        "author": "kiwi.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It could be an easy addition to add more data like the attestation and block  signing roots, we could do that",
        "created_at": "2020-08-18T01:36:36.854000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Teku would only be able to export the minimal format but it would be simple enough to be able to import from either that or the complete format.",
        "created_at": "2020-08-18T01:36:43.959000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!602753420033785856\u003e is the signing root used for anything?",
        "created_at": "2020-08-18T01:37:07.811000+00:00",
        "attachments": null
    },
    {
        "author": "kiwi.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "as for the format, complete works better for us",
        "created_at": "2020-08-18T01:37:42.388000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the signing root is only necessary for allowing the same attestation to be republished",
        "created_at": "2020-08-18T01:39:09.538000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we could make it optional and just set it to all zeroes in LH's internal DB",
        "created_at": "2020-08-18T01:39:23.969000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I see",
        "created_at": "2020-08-18T01:39:25.476000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I suggest standards make their way to EIP ERCs to get better adoption over time\nThat said, don't worry about it right now, loose agreement here is sufficient to get moving ðŸ™‚",
        "created_at": "2020-08-18T01:47:04.677000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, I was thinking it needs a better home than my HackMD",
        "created_at": "2020-08-18T01:54:34.620000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "OK, I'm working on import/export for Lighthouse now, if y'all do the same, we can interop!",
        "created_at": "2020-08-18T02:25:59.685000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The signing_roots are optional",
        "created_at": "2020-08-18T02:26:11.435000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is everyone OK if I de-quote the integers in the spec?",
        "created_at": "2020-08-18T04:23:42.265000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Did my best to implement import/export today, but didn't get as far as making a CLI. WIP PR is here https://github.com/sigp/lighthouse/pull/1544",
        "created_at": "2020-08-18T09:11:59.266000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "",
        "created_at": "2020-08-18T10:22:28.304000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "unknown.png",
                "content": "9ed98eae33b43ac677160ea75ecec31bc1d594f53379f9e76905fcd58a6c1148"
            }
        ]
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!584920944762552346\u003e  32gb mem usage?",
        "created_at": "2020-08-18T10:22:35.347000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It uses what you give it. ðŸ™‚ My nodes are keeping up with 13Gb at the moment, but I've explicitly let it have a lot of RAM and haven't tried tweaking it down yet.  Main focus is on reducing CPU usage at the moment.",
        "created_at": "2020-08-18T10:44:24.250000+00:00",
        "attachments": null
    },
    {
        "author": "ansgar.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e \u003c@!584920944762552346\u003e  32gb mem usage?\nthe node seems to not be on the majority fork btw ðŸ™‚",
        "created_at": "2020-08-18T10:54:21.643000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We have a PR Iâ€™m testing out overnight that fixes some more issues. But which fork you wind up on does depend a lot on which peers you follow first. Teku is spending a lot of time syncing different forks at the moment. Itâ€™s getting there though - I have non validating nodes tracking well and nodes with 256 validators starting to get some attestations out but sometimes falling behind.",
        "created_at": "2020-08-18T11:16:08.179000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Got a few more improvements in the work which should help a lot. All just has to happen one step at a time rather than rushing and making things worse.",
        "created_at": "2020-08-18T11:16:49.171000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Published our detailed account from Prysmatic Labs of everything that happened to the Medalla testnet this past weekend, along with root cause analysis and our detailed plans moving forward: https://medium.com/prysmatic-labs/eth2-medalla-testnet-incident-f7fbc3cc934a",
        "created_at": "2020-08-18T15:36:08.410000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!311971895828283393\u003e thanks!",
        "created_at": "2020-08-18T15:43:25.754000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Shows the participation rate per epoch, takes 2minutes per epoch though \nhttps://beaconcha.in/epochs",
        "created_at": "2020-08-18T17:59:42.113000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!573787335796326400\u003e are Teku validators down?",
        "created_at": "2020-08-18T20:53:28.663000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "according to eth2stats teku nodes are down, we need you ðŸ˜„",
        "created_at": "2020-08-18T20:53:40.585000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!340345049063882753\u003e decided to reboot them to take advantage of a couple of updates - should be back in a few mins! (I'm doing the same with mine)",
        "created_at": "2020-08-18T20:54:41.647000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks \u003c@!573787335796326400\u003e !",
        "created_at": "2020-08-18T20:55:13.331000+00:00",
        "attachments": null
    }
]