[
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am currently getting StateRoot mismatch while trying to insert first test block:  `expected: 0x007b54c20187b01cb2caad4dd377234b591ffc3502590d7b05ef2949785542b2, found: 0x057ee220b17a5a0ada5aaf554d9c311913774b9796b88699c4b076699167e3e5`. Will need to dig deeper to see what's the issue.",
        "created_at": "2021-01-25T09:07:59.587000+00:00",
        "attachments": []
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Okay, got it working by copying config from berlin_test. Execution of all test blocks are passing now.",
        "created_at": "2021-01-25T10:53:57.224000+00:00",
        "attachments": []
    },
    {
        "author": "holgerd77",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hi everyone, we are in the process of implementing `EIP-2718`  (typed txs) and `EIP-2930` (optional access lists) for EthereumJS https://github.com/ethereumjs/ethereumjs-monorepo/pull/1048 in TypeScript (respectively \u003c@!508125616940515329\u003e is doing the implementation, I am currently reading up a bit on the EIPs for review).\n\nOne meta question which arises on our side when thinking about the implementation: while the tx types are meant to be *opaque*  by EIP (so - as far as I understand: they can contain all sorts of properties and functionality) in practice the new `EIP-2930` and the legacy transactions still share a lot of common functionality and properties.\n\nWould it eventually make sense to define more narrowly what this common ground currently is? E.g. it might be useful to have something similar to an ERC-20 specification for (a set of) transaction types? Or is something like this is already in the works or has been discussed somewhere, happy to be given a reference here?\n\n(from the implementation perspective this question materialized in the question if we should actually do a shared base transaction class with the shared functionality for `EIP-2930`  and legacy txs or do two distinct implementations (where we would copy a lot of code).\n\nCurious on some answers here! ðŸ˜„",
        "created_at": "2021-01-25T11:38:32.752000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Would it eventually make sense to define more narrowly what this common ground currently is? E.g. it might be useful to have something similar to an ERC-20 specification for (a set of) transaction types?\nThis is the thing we are explicitly trying to get away from.  Right now we have an ultra specific \"standard\" for transactions, which is what makes it hard to actually build new things.",
        "created_at": "2021-01-25T11:47:34.077000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The idea with 2718 is explicitly that transactions can do anything they want as long as the first byte is the transaction type.  New signature schemes, new serialization mechanisms, new fields, etc.",
        "created_at": "2021-01-25T11:48:06.713000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "2930 is fairly simple, though it does get rid of some tech debt like the chain ID stuff and it adds a new field.  1559 is *probably* the next new transaction type and it removes `gasPrice` and introduces two new fields, and also adds a new field to the receipt.",
        "created_at": "2021-01-25T11:49:08.743000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There are other transaction type proposals floating around that are bigger moves away from the legacy structure and Account Abstraction potentially could mean transactions without a signature at all.  Plus there is talk about using SSZ instead of RLP for transaction encoding going forward.",
        "created_at": "2021-01-25T11:49:49.998000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!429719902363058177\u003e that's great! If \u003c@!213672586264051717\u003e gets it to work on Besu, then I think we might aswell spin up a yolov3.",
        "created_at": "2021-01-25T11:52:13.241000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!429719902363058177\u003e \u003c@!213672586264051717\u003e \u003c@!301186049323958275\u003e \u003c@!543900561460822016\u003e Do any of you want some pre-allocated funds in the yolov3 genesis? Paste some addresses here, in that case, and I can add it. Otherwise you'll have to use the faucet, and faucets are sometimes flaky",
        "created_at": "2021-01-25T12:10:28.375000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I almost certainly won't use it, but since the cost is literally the 10 seconds it takes you to add a line to genesis file... `0x799D329e5f583419167cD722962485926E338F4a`",
        "created_at": "2021-01-25T12:11:27.525000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yup",
        "created_at": "2021-01-25T12:12:16.402000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And if someone else needs some for testing I can always use it for that.",
        "created_at": "2021-01-25T12:12:46.927000+00:00",
        "attachments": []
    },
    {
        "author": "ricmoo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you are adding genesis things, I always need ether for random testnets if youâ€™re poking around there anyways; thanks! 0x8ba1f109551bD432803012645Ac136ddd64DBA72",
        "created_at": "2021-01-25T12:23:19.672000+00:00",
        "attachments": []
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yep, glad to have it: `0x0e89E2AedB1cFcDb9424D41A1f218f4132738172`",
        "created_at": "2021-01-25T12:57:41.506000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes please: `0x60AdC0F89a41AF237ce73554EDe170D733ec14E0`",
        "created_at": "2021-01-25T13:53:45.660000+00:00",
        "attachments": []
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`0x7cF5b79bfe291A67AB02b393E456cCc4c266F753`",
        "created_at": "2021-01-25T15:12:56.869000+00:00",
        "attachments": []
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm getting a transaction root mismatch at `acl_block_1`. Here are the bytes for the access list transaction in that block: \n```\n0xb8c101f8be01010a8301e24194000000000000000000000000000000000000aaaa8080f85bf859940000000000000000000000000000000000000000f842a00000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000080a082dc119130f280bd72e3fd4e10220e35b767031b84b8dd1f64085e0158f234dba072228551e678a8a6c6e9bae0ae786b8839c7fda0a994caddd23910f45f385cc0\n```\n\nWhat do you guys have? \u003c@!429719902363058177\u003e \u003c@!211091239112671234\u003e",
        "created_at": "2021-01-25T15:22:33.471000+00:00",
        "attachments": []
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes this seems like acl transaction from block. Just a note, I had problem when i did it, when you calculate transaction trie root you need to abandon rlp size prefix `0xb8c1` and do processing only on raw tx `01f8be01...5f385cc0`.",
        "created_at": "2021-01-25T16:14:22.098000+00:00",
        "attachments": []
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, that's probably the discrepancy then",
        "created_at": "2021-01-25T16:21:43.905000+00:00",
        "attachments": []
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would using the bytes wrapped form in the transaction trie make your guys' code cleaner? As I have it written now, I would have to break my transaction encoding function up further in order to use use the version without the bytes wrapping. cc: \u003c@!301186049323958275\u003e",
        "created_at": "2021-01-25T16:26:49.720000+00:00",
        "attachments": []
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If we wrap it with the byte string then I can just use the same function that encodes the txs for the wire.",
        "created_at": "2021-01-25T16:29:25.534000+00:00",
        "attachments": []
    }
]