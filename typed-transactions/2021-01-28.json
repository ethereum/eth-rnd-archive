[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To be explicit:\n\u003e The parity (0 for even, 1 for odd) of the y-value of a secp256k1 signature.",
        "created_at": "2021-01-28T03:21:54.402000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Does someone have some EIP2930 sample transactions? I want to check if the hash of my transaction and the signature is correct. A test block would be fine too.",
        "created_at": "2021-01-28T10:13:15.843000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We should try to get some test cases into the EIP at this point I think.",
        "created_at": "2021-01-28T10:40:39.203000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So once you *do* find some, it would be valuable to format them in an easy to re-use way and get them included.",
        "created_at": "2021-01-28T10:41:01.592000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`{ \u003ctransaction_object\u003e } =\u003e \u003ctransaction_hash\u003e` or something?",
        "created_at": "2021-01-28T10:41:23.690000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Where `transaction_object` is a JSON structure perhaps?",
        "created_at": "2021-01-28T10:41:33.459000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The goal being to make sure everyone is going all the way from JSON =\u003e RLP =\u003e hash the same way.",
        "created_at": "2021-01-28T10:41:55.489000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes or some ethereum/tests cases in general, that'd be great",
        "created_at": "2021-01-28T12:39:03.572000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Especially Blockchain tests",
        "created_at": "2021-01-28T12:39:18.595000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Does your PR in Geth have blockchain test cases \u003c@543900561460822016\u003e ?",
        "created_at": "2021-01-28T12:58:07.824000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(For EIP2930)",
        "created_at": "2021-01-28T12:58:23.582000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e I am slightly confused about `TransactionType || TransactionPayload`. Your EIP (2718) states that `TransactionType` is a byte, and `TransactionPayload` is a byte array. If I concatenate those, do I get a byte *array* or a byte? This depends on how this byte(-array) concatenation operation is defined. I'm assuming this should return bytes?",
        "created_at": "2021-01-28T13:36:15.859000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, you get a byte array out.",
        "created_at": "2021-01-28T13:46:44.567000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "```\n0x5 || [0x1, 0x2, 0x3, 0x253, 0x254] =\u003e [0x5, 0x1, 0x2, 0x3, 0x253, 0x254]\n```",
        "created_at": "2021-01-28T13:47:19.858000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In JS this would be presented as the spread operator:\n```ts\n[TransactionType, ...TransactionPayload]\n```",
        "created_at": "2021-01-28T13:47:45.320000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!508125616940515329\u003e : Yes, \u003c@!211091239112671234\u003e made some block tests in `core/testdata` and there some individual tx tests in `core/types/transaction_test.go`:\n* https://github.com/ethereum/go-ethereum/tree/ac8e5900e6d38f7577251e7e36da9b371b2e5488/core/testdata\n* https://github.com/ethereum/go-ethereum/blob/ac8e5900e6d38f7577251e7e36da9b371b2e5488/core/types/transaction_test.go#L118",
        "created_at": "2021-01-28T13:55:11.114000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Great, thanks ðŸ˜„",
        "created_at": "2021-01-28T13:55:32.989000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e if I take the RLP of https://github.com/ethereum/go-ethereum/blob/ac8e5900e6d38f7577251e7e36da9b371b2e5488/core/testdata/acl_block_1.json, and decode it, I get the first transaction (so the access list one), which is of type Byte, and the second transaction (legacy) is of type ByteArray. Doesn't this violate \u003c@!301186049323958275\u003e's spec? Shouldn't the access list tx be encoded as `[0x01, RLP(EIP2930Transaction)]` ?\n\nOn the other hand, I guess this makes more sense, otherwise you could have typed transactions which have a byte array of length of the legacy transaction, and then you don't know what transaction it is (since first field of legacy transaction is nonce)",
        "created_at": "2021-01-28T14:08:38.689000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in the block, the typed txs should be encoded `rlp(type || rlp(payload)`",
        "created_at": "2021-01-28T14:17:10.229000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "are you seeing something different?",
        "created_at": "2021-01-28T14:17:26.658000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If I RLP decode the block, then the transaction at index 0 is a Byte array for me which starts with 0x01. I cannot RLP decode that one",
        "created_at": "2021-01-28T14:18:53.677000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sorry, it is actually a bytes type, but I should be able to decode that if it should be encoded `rlp(type || rlp(payload))`",
        "created_at": "2021-01-28T14:19:58.530000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think the bytes type you're seeing is already the outer `rlp` byte array, so to decode the rest i assume you'll need to pop off the type then use that to choose a decoder for the `payload` (not much of a choice atm)",
        "created_at": "2021-01-28T14:22:04.002000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah that would work, I'm just wondering if this violates the spec or not. It doesn't really matter if it violates the spec, but if it does, then the spec should be updated ðŸ™‚",
        "created_at": "2021-01-28T14:22:49.413000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just checked, can indeed decode it if I pop off the first byte",
        "created_at": "2021-01-28T14:23:22.049000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "okay great",
        "created_at": "2021-01-28T14:23:34.301000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "since tx lists are not \"consensus\" items, the EIP doesn't specify how they should appear in a list",
        "created_at": "2021-01-28T14:26:57.334000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i'm not sure what EIP specifies this, but there was a decision a while back to wrap typed txs in rlp byte strings when they were in lists: https://github.com/ethereum/pm/issues/231#issuecomment-739998185",
        "created_at": "2021-01-28T14:27:27.640000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Okay great, thanks for the reference ðŸ˜„",
        "created_at": "2021-01-28T14:29:20.329000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://eips.ethereum.org/EIPS/eip-2976",
        "created_at": "2021-01-28T14:41:32.542000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Aren't we supposed to have a `yolov3block` or `berlinblock` field?",
        "created_at": "2021-01-28T16:15:36.654000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yup, most def. My bad (doesn't affect the hash though)",
        "created_at": "2021-01-28T16:54:22.849000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok, I added\n```\n    \"yolov3Block\": 0,\n```",
        "created_at": "2021-01-28T17:04:39.548000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I've updated the gist now. I'll try to get this (https://github.com/ethereum/go-ethereum/pull/22213) merged first, then rebase the 2718-PR on top of it, and then I can run yolov3 off the 2718-PR. Hoping to get something up tomorrow",
        "created_at": "2021-01-28T20:14:50.410000+00:00",
        "attachments": null
    }
]