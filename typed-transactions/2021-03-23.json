[
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!135612611923279872\u003e does MetaMask plan to support EIP-2930 access lists with Berlin? Curious what it would take for them to be the default (or \"smart default\", i.e. only use it if it lowers gas costs) in the wallet.",
        "created_at": "2021-03-23T16:49:27.262000+00:00",
        "attachments": null
    },
    {
        "author": "danfinlay",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Not currently planned. My impression is the expected savings are very small, and we're already working to deliver things that we expect will provide more significant savings.",
        "created_at": "2021-03-23T17:12:58.838000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Got it. I think for things like swaps the savings could actually be significant because of the number of state accesses, but definitely haven't run the numbers myself ðŸ˜…",
        "created_at": "2021-03-23T17:28:56.985000+00:00",
        "attachments": null
    },
    {
        "author": "danfinlay",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We'll run the numbers ðŸ™‚",
        "created_at": "2021-03-23T18:43:16.726000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "TY!",
        "created_at": "2021-03-23T18:46:25.460000+00:00",
        "attachments": null
    },
    {
        "author": "danfinlay",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Do you know if there's a way to detect which type of transactions a node supports? (Related to https://ethereum-magicians.org/t/rfc-signer-feature-detection-over-json-rpc/5773 )",
        "created_at": "2021-03-23T18:51:07.466000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not aware of it, no. Maybe \u003c@!574864862338088960\u003e or \u003c@!213672586264051717\u003e would know how Besu handles 1559 vs. legacy vs. 2930",
        "created_at": "2021-03-23T18:52:10.502000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is maybe a dumb approach, but couldn't we just add a JSON RPC call that returns the list of supported transaction types ðŸ¤” ?",
        "created_at": "2021-03-23T18:52:59.132000+00:00",
        "attachments": null
    },
    {
        "author": "danfinlay",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think that's dumb, I think it's a totally credible solution to this immediate problem, an approach just needs to be chosen and standardized, basically asap if we want signers that can hop between evm chains and support all these features.",
        "created_at": "2021-03-23T18:54:42.508000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess the problem I could see with that is you only get the info once, and need to assume the node behind didn't change?",
        "created_at": "2021-03-23T18:55:07.674000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But that's perhaps something the wallet can detect?",
        "created_at": "2021-03-23T18:55:22.271000+00:00",
        "attachments": null
    },
    {
        "author": "danfinlay",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It's not the worst thing. Worst case the node adds features during a session. As long as the wallet checks on boot what features are supported, it should support adding new chain features \"within a day\" or so, which I think would be fine.",
        "created_at": "2021-03-23T19:00:35.566000+00:00",
        "attachments": null
    },
    {
        "author": "danfinlay",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Could poll if it really cared.",
        "created_at": "2021-03-23T19:00:48.365000+00:00",
        "attachments": null
    },
    {
        "author": "danfinlay",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "One debate on that thread is whether the features should be identified by EIP number or feature name, just little things like that have to just get chosen and executed.",
        "created_at": "2021-03-23T19:01:07.756000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm pretty sure i'd be much simpler at the EIP level for clients. I understand this may not work well for \"non-Ethereum\" EVM chains but frankly it's not a use case I think we should overly optimize for",
        "created_at": "2021-03-23T19:43:17.674000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "EIP-level would work for all Ethereum networks (testnets + mainnet), and I think would also work for Ethereum-based private networks",
        "created_at": "2021-03-23T19:43:48.262000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Personally I think it's ok if the capability payload is called something like `{\"supportsEIP1559\": true}`.  As I suggested on the E-M thread we might want to just stick to transaction-format discovery for now rather than trying to get all the clients to agree on a general capabilities format in time for London (but would totally support either effort).",
        "created_at": "2021-03-23T22:22:35.522000+00:00",
        "attachments": null
    }
]