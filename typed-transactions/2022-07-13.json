[
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "hi everyone! I'd like to propose a new EIP for transaction bundles, however it's my first EIP so I'd love some feedback on it!",
        "created_at": "2022-07-13T17:21:22.422000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "you have a draft?",
        "created_at": "2022-07-13T17:22:56.461000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I do, https://github.com/Theo-/EIPs/blob/master/EIPS/eip-draft_tx_bundles.md",
        "created_at": "2022-07-13T17:23:04.491000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and have you reviewed the previous proposals?",
        "created_at": "2022-07-13T17:23:05.958000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes I have",
        "created_at": "2022-07-13T17:23:10.443000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sidenote: I tried signing up for the ethereum magician forum but never got the confirmation email, do I need to do anything to get approved?",
        "created_at": "2022-07-13T17:23:45.116000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "are you thinking of some proposals in particular I should look at?",
        "created_at": "2022-07-13T17:24:48.218000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "can you explain the purpose of the `next`? why not just have a list of tx calls?",
        "created_at": "2022-07-13T17:24:55.230000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "mainly 2711 and 2733 i think",
        "created_at": "2022-07-13T17:25:07.233000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That's another way to do it, I just chose to keep the transaction object relatively unchanged, with just two new fields, instead of listing all the transactions in one transaction",
        "created_at": "2022-07-13T17:25:29.122000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but the other reason is that, a bundle can have transaction with different senders",
        "created_at": "2022-07-13T17:25:41.265000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what username did u sign up under?",
        "created_at": "2022-07-13T17:26:02.975000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "theos",
        "created_at": "2022-07-13T17:26:08.033000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see, 2733 and 2711 implemented a \"transaction package\", I'm more suggesting a linked list or transactions",
        "created_at": "2022-07-13T17:27:01.724000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "which I believe is easier to implement",
        "created_at": "2022-07-13T17:27:14.673000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i resent the activation email",
        "created_at": "2022-07-13T17:27:43.050000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "easier to implement in what sense? i think it creates a lot of unnecessary complexity",
        "created_at": "2022-07-13T17:28:25.563000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "can you elaborate?",
        "created_at": "2022-07-13T17:28:38.081000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "you need logic to validate the tx graph",
        "created_at": "2022-07-13T17:29:47.585000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "a tx in the bundle may not be referenced by any other txs as next",
        "created_at": "2022-07-13T17:30:05.756000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so it adds complexity, but i don't see any benefit from it - you can just order the txs to your liking before you send",
        "created_at": "2022-07-13T17:30:32.833000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "also its unnecessary imo to sign each tx in the bundle - you should just sign over the bundle",
        "created_at": "2022-07-13T17:30:57.846000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what do you mean? if a tx0 has a index field that is different from 0, then it will be references by another transaction tx1, as long as tx1 is unknown the the node, we can keep the tx0 in pending state",
        "created_at": "2022-07-13T17:33:11.981000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "let's say you submit 3 transaction with exact same gas price hoping they will land in the order that you want, it's not easily done. Nodes have to receive all your transactions in the same order, and mine them in the same block.",
        "created_at": "2022-07-13T17:34:28.363000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the use cases for tx bundles are clear: token retrieval when a sweeper bot in on you, multi-step protocol interactions and others",
        "created_at": "2022-07-13T17:34:58.606000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it is necessary because transactions in a bundle don't have to come from the same sender",
        "created_at": "2022-07-13T17:35:25.969000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i didn't say bundles aren't useful, i said i don't understand the need for the hash mechanism",
        "created_at": "2022-07-13T17:35:36.420000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it's just to be able to create a linked list of transactions, the alternative is create a new transaction type with children, but that failed twice already",
        "created_at": "2022-07-13T17:36:05.950000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what is functionally different to a linked list of txs vs. a sequential list?",
        "created_at": "2022-07-13T17:36:59.656000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the difference of senders",
        "created_at": "2022-07-13T17:37:19.490000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "a sequential list contained in one transaction need to have the same msg.sender for all transactions",
        "created_at": "2022-07-13T17:37:33.525000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "they don't though, you can also include the signature for each bundled tx",
        "created_at": "2022-07-13T17:37:51.133000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if you drop the `next` and `index` field, you essentially have this",
        "created_at": "2022-07-13T17:38:13.918000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if you do that, then what information does the bundle actually keep? would it just be an empty shell",
        "created_at": "2022-07-13T17:38:18.382000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "not sure i understand your question?",
        "created_at": "2022-07-13T17:39:17.580000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "being able to submit partial bundles might be a good use case too",
        "created_at": "2022-07-13T17:39:20.161000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "how would you build the sequential list?",
        "created_at": "2022-07-13T17:39:32.943000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`0x03 | rlp([tx1, tx2, tx3, ..., txN])`  where the inner txs are just eip 1559 bodies (minus prefix)",
        "created_at": "2022-07-13T17:40:22.901000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "execute them in order left to right",
        "created_at": "2022-07-13T17:40:31.104000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but then you can \"steal\" someone else's transaction for your bundle",
        "created_at": "2022-07-13T17:41:16.717000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ah because you are relying on atomicity?",
        "created_at": "2022-07-13T17:42:07.581000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think you could just drop `next` then and say \"sign these three sequential indexes so you i as your relay can't break it up\"",
        "created_at": "2022-07-13T17:42:55.657000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "actually no, because then the relay can just sub out one of the calls",
        "created_at": "2022-07-13T17:44:25.904000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the `next `and `index` verify the intent of the sender",
        "created_at": "2022-07-13T17:45:02.359000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "okay i understand the reason for this mechanism, but i think the linked list is overly complex for this behavior",
        "created_at": "2022-07-13T17:45:06.823000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes a bundle is atomic, if a tx reverts, the entire bundle reverts",
        "created_at": "2022-07-13T17:45:43.185000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "imo single sender batches or sub bundles are simpler",
        "created_at": "2022-07-13T17:45:43.480000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "is it because those fields pollute the tx object?",
        "created_at": "2022-07-13T17:46:02.973000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "why did those previous EIPs fail?",
        "created_at": "2022-07-13T17:46:12.457000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "too complex?",
        "created_at": "2022-07-13T17:46:14.640000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "tx bundling is not considered to be a big enough win to merit a bespoke solution",
        "created_at": "2022-07-13T17:47:04.446000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "single sender tx bundling is very simple",
        "created_at": "2022-07-13T17:47:26.829000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "multi sender tx bundling is a bit harder due to nonce tracking, but i think still pretty doable",
        "created_at": "2022-07-13T17:47:51.362000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ethereum also has a preference of moving towards a world where everyone uses smart contract wallets, in which case you can design whatever batching mechanism you fancy",
        "created_at": "2022-07-13T17:48:36.668000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what about EIP-3074, does this have traction?",
        "created_at": "2022-07-13T17:48:43.702000+00:00",
        "attachments": []
    },
    {
        "author": "atoulme",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "just say yes lightclient",
        "created_at": "2022-07-13T17:49:06.961000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes",
        "created_at": "2022-07-13T17:49:12.005000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but mainly no",
        "created_at": "2022-07-13T17:49:14.569000+00:00",
        "attachments": []
    },
    {
        "author": "atoulme",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok back to work",
        "created_at": "2022-07-13T17:49:28.116000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this is mainly the state of 3074 https://ethereum-magicians.org/t/we-should-be-moving-beyond-eoas-not-enshrining-them-even-further-eip-3074-related/6538",
        "created_at": "2022-07-13T17:50:25.316000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "seems like a no then",
        "created_at": "2022-07-13T17:54:14.490000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "currently, there is no leading EIP for adding more complexity to transactions?",
        "created_at": "2022-07-13T17:54:29.592000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think 3074 is the only eip with some traction and potential to do what you want",
        "created_at": "2022-07-13T17:54:48.007000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if i were in your position and wanted to make noise and push for something, i would direct it towards 3074 rather than an incremental improvement to transactions",
        "created_at": "2022-07-13T17:55:49.469000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I need to read it to make sure I agree with it fully",
        "created_at": "2022-07-13T17:56:22.901000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but it seems in the right direction",
        "created_at": "2022-07-13T17:56:28.335000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "actually one alternative approach would be to look into eoa migration techniques than fit into the 4337 worldview",
        "created_at": "2022-07-13T17:56:47.393000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that looks complicated",
        "created_at": "2022-07-13T17:57:36.473000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "migration or 4337?",
        "created_at": "2022-07-13T17:57:46.632000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "4337",
        "created_at": "2022-07-13T17:57:59.689000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c:troll:688452927005786222\u003e",
        "created_at": "2022-07-13T17:58:33.248000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm still going to push for my EIP because I believe it can unlock a ton of use cases until a solution for complex transactions can be figured out",
        "created_at": "2022-07-13T17:59:10.325000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "has there been any EIP around making the `destination, amount, data, access_list, signature_y_parity, signature_r, signature_s` arrays?",
        "created_at": "2022-07-13T17:59:50.424000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "not that i am aware of",
        "created_at": "2022-07-13T18:00:07.349000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "would it be better to make the internals arrays or make a linked list",
        "created_at": "2022-07-13T18:00:31.195000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "imo arrays are better",
        "created_at": "2022-07-13T18:04:18.810000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i don't mean to be harsh here as i appreciate your interest in this area and wholeheartedly agree with you that the situation is suboptimal, but i want to warn you (as someone who has authored a few eips in this area of the last few years) that your chances of success are extremely low and you could be more impactful in other aspects of improving tx flow. As I said above, core devs have generally decided that tx bundling is not something they are open to doing, so it will be several years before that might be reconsidered",
        "created_at": "2022-07-13T18:12:09.216000+00:00",
        "attachments": []
    },
    {
        "author": "the0x",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "appreciate the candor, it never hurts to try, worse that can happen is EIP is forgotten",
        "created_at": "2022-07-13T18:28:34.027000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "gl!",
        "created_at": "2022-07-13T18:30:25.117000+00:00",
        "attachments": []
    }
]