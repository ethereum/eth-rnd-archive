[
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I _thought_ I had but I must've left something as now when I fully deleted it this time I get a different error (`panic: impossible case: address was not present in access list during sstore op`) a couple blocks in:  https://gist.github.com/ryanschneider/f5e489ed1cb25c0fc501454717453dea",
        "created_at": "2021-02-14T03:31:42.541000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "message.txt",
                "content": "SU5GTyBbMDItMTN8MTk6Mjg6MzUuOTUwXSBJbXBvcnRlZCBuZXcgY2hhaW4gc2VnbWVudCAgICAgICAgICAgICAgIGJsb2Nrcz02OCB0eHM9MCBtZ2FzPTAuMDAwIGVsYXBzZWQ9MjEuMzk5bXMgICAgbWdhc3BzPTAuMDAwIG51bWJlcj02OCBoYXNoPSIyZTBkN2HigKZlN2Q5OWUiIGFnZT05aDhtNDdzICAgZGlydHk9MC4wMEIKSU5GTyBbMDItMTN8MTk6Mjg6MzYuMDg4XSBJbXBvcnRlZCBuZXcgY2hhaW4gc2VnbWVudCAgICAgICAgICAgICAgIGJsb2Nrcz00ICB0eHM9NSBtZ2FzPTAuMTQ2IGVsYXBzZWQ9NS40NjVtcyAgICAgbWdhc3BzPTI2LjgwNiBudW1iZXI9NzIgaGFzaD0iNzZmODA54oCmZDQwZGY4IiBhZ2U9OWg3bTQ4cyAgIGRpcnR5PTUuMTZLaUIKcGFuaWM6IGltcG9zc2libGUgY2FzZTogYWRkcmVzcyB3YXMgbm90IHByZXNlbnQgaW4gYWNjZXNzIGxpc3QgZHVyaW5nIHNzdG9yZSBvcAoKZ29yb3V0aW5lIDEwNjUgW3J1bm5pbmddOgpnaXRodWIuY29tL2V0aGVyZXVtL2dvLWV0aGVyZXVtL2NvcmUvdm0uZ2FzU1N0b3JlRUlQMjkyOSgweGMwMDE0MzRhODAsIDB4YzAwMDBjYTljMCwgMHhjMDAxNDdhMWEwLCAweGMwMDE0N2ExODAsIDB4MCwgMHgwLCAweDAsIDB4MCkKCWdpdGh1Yi5jb20vZXRoZXJldW0vZ28tZXRoZXJldW0vY29yZS92bS9vcGVyYXRpb25zX2FjbC5nbzo2NiArMHg5YzUKZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlL3ZtLigqRVZNSW50ZXJwcmV0ZXIpLlJ1bigweGMwMDEzNzMyMDAsIDB4YzAwMDBjYTljMCwgMHhjMDAxNDcyMzIwLCAweDQ0LCAweDQ0LCAweGMwMDE0NzgxMDAsIDB4MCwgMHgwLCAweDAsIDB4MCwgLi4uKQoJZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlL3ZtL2ludGVycHJldGVyLmdvOjI3MSArMHg5MmYKZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlL3ZtLnJ1bigweGMwMDE0MzRhODAsIDB4YzAwMDBjYTljMCwgMHhjMDAxNDcyMzIwLCAweDQ0LCAweDQ0LCAweGVlMjNjYzhlZTA4Yjc3MDAsIDB4MCwgMHgwLCAweDAsIDB4MCwgLi4uKQoJZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlL3ZtL2V2bS5nbzo4OCArMHgyMjQKZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlL3ZtLigqRVZNKS5DYWxsKDB4YzAwMTQzNGE4MCwgMHg1MjQzMDQwLCAweGMwMDE0NzgxNjAsIDB4MTE2MGZjNjZmMjAyM2FjZCwgMHgxYzE0Mjc2MGE3NGZjNWExLCAweDJlNTc3MjA2LCAweGMwMDE0NzIzMjAsIDB4NDQsIDB4NDQsIDB4NTc2ZiwgLi4uKQoJZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlL3ZtL2V2bS5nbzoyNzMgKzB4NmE1CmdpdGh1Yi5jb20vZXRoZXJldW0vZ28tZXRoZXJldW0vY29yZS4oKlN0YXRlVHJhbnNpdGlvbikuVHJhbnNpdGlvbkRiKDB4YzAwMTJkODg1MCwgMHg1MjZiZDAwLCAweGMwMDEyZDg3ZTAsIDB4YzAwMTJlNTFkMCkKCWdpdGh1Yi5jb20vZXRoZXJldW0vZ28tZXRoZXJldW0vY29yZS9zdGF0ZV90cmFuc2l0aW9uLmdvOjI2OSArMHg1NTIKZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlLkFwcGx5TWVzc2FnZSgweGMwMDE0MzRhODAsIDB4NTI2YmQwMCwgMHhjMDAxMmQ4N2UwLCAweGMwMDEyZTUxZDAsIDB4NTQxM2Y1MmY1YmMxNThkYywgMHg3ZDIxOGFmZiwgMHg1MGI0MzUpCglnaXRodWIuY29tL2V0aGVyZXVtL2dvLWV0aGVyZXVtL2NvcmUvc3RhdGVfdHJhbnNpdGlvbi5nbzoxNzEgKzB4NTcKZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlLnByZWNhY2hlVHJhbnNhY3Rpb24oMHg1YjViNzAwLCAweDUyNGU4ZTAsIDB4YzAyMDcxMDAwMCwgMHgwLCAweGMwMDEyZTUxZDAsIDB4YzAwMTgzODY4MCwgMHhjMDAxNDc1NDQwLCAweGMwMDE0NWExMjAsIDB4MCwgMHgwLCAuLi4pCglnaXRodWIuY29tL2V0aGVyZXVtL2dvLWV0aGVyZXVtL2NvcmUvc3RhdGVfcHJlZmV0Y2hlci5nbzo5MyArMHgzNjUKZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlLigqc3RhdGVQcmVmZXRjaGVyKS5QcmVmZXRjaCgweGMwMjA2OTI1YTAsIDB4YzAwMTQ5NWI5MCwgMHhjMDAxODM4NjgwLCAweDAsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHgwLCAweDAsIC4uLikKCWdpdGh1Yi5jb20vZXRoZXJldW0vZ28tZXRoZXJldW0vY29yZS9zdGF0ZV9wcmVmZXRjaGVyLmdvOjY1ICsweDNhNQpnaXRodWIuY29tL2V0aGVyZXVtL2dvLWV0aGVyZXVtL2NvcmUuKCpCbG9ja0NoYWluKS5pbnNlcnRDaGFpbi5mdW5jMigweGMwMjA3MTAwMDAsIDB4YzAwMTg0ODE3MCwgMHhjMDAyNDQxOTBmYWU0ODQwLCAweDMxOWNlY2Q2YSwgMHg1YjhlZjAwLCAweGMwMDE0OTViOTAsIDB4YzAwMTgzODY4MCwgMHhjMDAxODQ4MTcwKQoJZ2l0aHViLmNvbS9ldGhlcmV1bS9nby1ldGhlcmV1bS9jb3JlL2Jsb2NrY2hhaW4uZ286MTg4MCArMHhkYQpjcmVhdGVkIGJ5IGdpdGh1Yi5jb20vZXRoZXJldW0vZ28tZXRoZXJldW0vY29yZS4oKkJsb2NrQ2hhaW4pLmluc2VydENoYWluCglnaXRodWIuY29tL2V0aGVyZXVtL2dvLWV0aGVyZXVtL2NvcmUvYmxvY2tjaGFpbi5nbzoxODc5ICsweDJmYjM="
            }
        ]
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok now that's weird I didn't get the panic the second time, it started on block 120 and seems to now be sync'ed with head:\n\n```\nINFO [02-13|19:32:04.789] Loaded most recent local fast block      number=120 hash=\"f79949…86e93f\" td=241 age=8h59m16s\nWARN [02-13|19:32:04.789] Head state missing, repairing            number=120 hash=\"f79949…86e93f\" snaproot=\"18fe57…9e35e3\"\n```",
        "created_at": "2021-02-14T03:34:04.403000+00:00",
        "attachments": []
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "block 120 doesn't have any txs though so the panic must've been from a different block, lemme see how reproducible this seems to be.",
        "created_at": "2021-02-14T03:35:14.572000+00:00",
        "attachments": []
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it _seems_ to happen for me every time I start a full sync from an empty db, same panic with same log messages right before it",
        "created_at": "2021-02-14T03:37:27.810000+00:00",
        "attachments": []
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I might not be available much more this weekend but I'll leave my client in this current state in case there's more data you want me to get, in the mean time might be worth it for someone else to try to full sync the same geth version to see if it's somehow just me",
        "created_at": "2021-02-14T03:38:46.903000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@388751025789468672\u003e thanks, that should be sufficient info - it's the prefetcher acting up",
        "created_at": "2021-02-14T06:39:52.054000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Fixed the panic, looking into what the fast-sync issue can be",
        "created_at": "2021-02-14T13:21:35.167000+00:00",
        "attachments": []
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Cool confirmed the panic is fixed for me as well.",
        "created_at": "2021-02-14T16:32:38.371000+00:00",
        "attachments": []
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!489256758989029405\u003e this is the new genesis I referred to in reply to your message in \u003c#745077610685661265\u003e",
        "created_at": "2021-02-14T19:21:18.383000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the chain seems inconsistent with our Clique validator:",
        "created_at": "2021-02-14T22:14:45.555000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if (parent.Timestamp + _cliqueConfig.BlockPeriod \u003e header.Timestamp)\n            {\n                if (_logger.IsWarn) _logger.Warn($\"Incorrect block timestamp ({header.Timestamp}) - should have big enough difference with parent\");\n                return false;\n            }",
        "created_at": "2021-02-14T22:14:46.688000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "your spec says 30 seconds period",
        "created_at": "2021-02-14T22:14:55.119000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "checking more",
        "created_at": "2021-02-14T22:15:48.497000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it is 15 seconds apart",
        "created_at": "2021-02-14T22:16:21.138000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "with 15 seconds we crash at block 69 (probably because we do not yet have the change from Micah",
        "created_at": "2021-02-14T22:17:42.226000+00:00",
        "attachments": []
    }
]