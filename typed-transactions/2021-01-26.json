[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Request: Can we stop calling access lists ACLs please?  ðŸ˜„  An ACL is an Access Control List, which is completely unrelated to the thing we are including in 2930 transactions.",
        "created_at": "2021-01-26T04:21:24.414000+00:00",
        "attachments": null
    },
    {
        "author": "eyeconforever",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Or in our knee",
        "created_at": "2021-01-26T04:21:52.308000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What do you mean by \"bytes wrapped form\"?",
        "created_at": "2021-01-26T04:23:11.986000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The transaction trie should already be `rlp(index) =\u003e transaction_bytes`.",
        "created_at": "2021-01-26T04:23:49.640000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e i assume he means the format they are sent over the wire, e.g. `rlp(1 || payload)`",
        "created_at": "2021-01-26T05:27:46.870000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "currently, the spec specifies that the byte representation of a 2930 tx is `1 || payload` - so that is what `transaction_bytes` would be in the transaction trie, rather than the wrapped version",
        "created_at": "2021-01-26T05:28:53.620000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah.",
        "created_at": "2021-01-26T05:35:05.440000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the correct change would be the other way around, and in fact we sort of tried this but it didn't go over well on the Berlin timeline so we dropped it.",
        "created_at": "2021-01-26T06:24:10.635000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Actually, I don't think it is `rlp(1 || payload)` over devp2p right now?",
        "created_at": "2021-01-26T06:24:33.091000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it is `rlp([1 || payload, 1 || payload, legacy, legacy, 1 || payload])`",
        "created_at": "2021-01-26T06:24:56.450000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!213672586264051717\u003e I'm not 100% sure what you mean either. Could you make a concrete example of exactly what you would rather do, in which context?",
        "created_at": "2021-01-26T07:42:26.951000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm. As I understood it from https://github.com/ethereum/pm/issues/231#issuecomment-739998185, _each_ transaction is has the byte string prefix. Does that align with what others were thinking? \u003c@!543900561460822016\u003e \u003c@!429719902363058177\u003e \n\nhere's what I'm talking about concretely, \u003c@!211091239112671234\u003e\n*Opaque Bytes* (used for the wire)\n```\n0xb8c101f8be01010a8301e24194000000000000000000000000000000000000aaaa8080f85bf859940000000000000000000000000000000000000000f842a00000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000080a082dc119130f280bd72e3fd4e10220e35b767031b84b8dd1f64085e0158f234dba072228551e678a8a6c6e9bae0ae786b8839c7fda0a994caddd23910f45f385cc0\n```\n*What You Guys Have For Transaction Trie Values*\n```\n0x01f8be01010a8301e24194000000000000000000000000000000000000aaaa8080f85bf859940000000000000000000000000000000000000000f842a00000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000080a082dc119130f280bd72e3fd4e10220e35b767031b84b8dd1f64085e0158f234dba072228551e678a8a6c6e9bae0ae786b8839c7fda0a994caddd23910f45f385cc0\n```\n(The only difference is the byte string prefix at the front I believe)\n\nIf my understanding above is correct in my response to \u003c@!301186049323958275\u003e  that _each_ transaction is byte string prefixed for the wire, I think it might be more elegant to have that be the value inserted into the transaction trie as well.",
        "created_at": "2021-01-26T15:29:52.557000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!206016661470314496\u003e any thoughts on the matter?",
        "created_at": "2021-01-26T15:35:44.145000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!213672586264051717\u003e in your example, where we 'wrap'  transaction going into the trie... What would a legacy-transaction going into the trie look like? Would it also be wrapped into a list?",
        "created_at": "2021-01-26T15:38:28.920000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It would look like the legaxy tx here: https://github.com/ethereum/pm/issues/231#issuecomment-739998185",
        "created_at": "2021-01-26T15:39:24.157000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So legacy txs would be inserted into the trie how they've always been",
        "created_at": "2021-01-26T15:43:02.004000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The thing lightclient posted is correct I believe, but that doesn't align with what I'm interpreting you to be saying.",
        "created_at": "2021-01-26T15:47:40.974000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I suspect I'm misinterpreting what you are saying.",
        "created_at": "2021-01-26T15:47:54.513000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is correct. My thought about matter is that wrap bytes (in this case `0xb8c1`) are needed for wire transfer and that is why we use them, but are not needed in calculating trie root and can be omitted.",
        "created_at": "2021-01-26T15:49:21.262000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If we want in future to use ssz or other format, using rlp wrap here is one more downside",
        "created_at": "2021-01-26T15:50:06.557000+00:00",
        "attachments": null
    }
]