[
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://ethereum-magicians.org/t/eip-5793-eth-68-add-transaction-type-to-tx-announcement/11364/2\nFound the eth/68 spec, and have put a comment here re 0-blobs idea",
        "created_at": "2023-02-13T21:48:35.134000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also drew the SSZ merkle tries for all the transaction types (minus 0-blob special case), with both union/onion format (right side) and normalized tx format (left side).\nSwitch PDF viewer to \"Single page\", then is easier to spot the differences by jumping 1 page back / forth.",
        "created_at": "2023-02-13T21:52:32.510000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, for normalized tx approach, one more note regarding signatures.\nI was thinking, to just make the sig an opaque `ByteList`.  I can't see a usecase that is interested in only a single item of the signature, so don't see a point in making this a named list of fields. The interesting portion (`chain_id`) is already extracted in the normalized tx. The `ByteList` would still get merkleized into chunks, so that property would still hold. Making the sig a `ByteList` with reasonable future-proof capacity allows forward compatibility with future signature schemes.\nAs for transaction data itself, I still see a value in locking `GeneralizedIndex` for shared fields across tx types, and for providing default values for any fields not present in a particular tx type. To be discussed in https://github.com/ethereum/pm/issues/721",
        "created_at": "2023-02-13T22:00:09.692000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(The union/onion approach can still go with a named list of fields for signatures, as it essentially defines a new `Signature` type for each tx type)",
        "created_at": "2023-02-13T22:00:51.002000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2023-02-13T22:03:50.478000+00:00",
        "attachments": [
            {
                "type": "application/pdf",
                "origin_name": "SSZTX.pdf",
                "content": "b0395dfe729d7aca2d257fd87a737610aaafc43b20935021121eee94f98d9695"
            }
        ]
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The primary consumer of this tree are applications building on top of Ethereum. The tree format is irrelevant for consensus, and doesn't affect execution networking. devp2p networking could (optionally) be bumped as an optimization to avoid some back and forth conversions, that's the case regardless of the union vs normalized tx debate.",
        "created_at": "2023-02-13T22:11:39.047000+00:00",
        "attachments": null
    },
    {
        "author": "wemeetagain",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so normalized is more useful bc it has stable tree structure? vs ssz union sadness? and chain consumers need proofs to do anything so proof stability is paramount?",
        "created_at": "2023-02-13T22:24:51.233000+00:00",
        "attachments": null
    },
    {
        "author": "wemeetagain",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "maybe not paramount, but it can make verification logic a lot simpler",
        "created_at": "2023-02-13T22:42:18.954000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, imagine zk users (some schemes lack good support for if-statements), or IoT devices (flash size nightmare), or smart contracts (not necessarily written by folks with in-depth knowledge, so best to kill the complexity earlier)",
        "created_at": "2023-02-13T22:45:14.573000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Wouldn't say unions are strict sadness, they may offer more flexibility, but historically, whenever that was needed (withdrawals / deposits), new trees were introduced instead of using a new tx type. Vitalik has an interesting post here in favor of unions: https://notes.ethereum.org/@vbuterin/transaction_ssz_refactoring\nhttps://github.com/ethereum/pm/issues/721 There is a discussion on union/onion vs normalized tx on wednesday, feel free to join",
        "created_at": "2023-02-13T22:47:04.493000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the drawing essentially compares the normalized tx approach vs the union approach",
        "created_at": "2023-02-13T22:47:38.756000+00:00",
        "attachments": null
    }
]