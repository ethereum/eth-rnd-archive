[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Hi all!\n\nWhile we are working on perfnet2 which was stuck a little bit because of infra provider (but we have it now and kicking it off soon) we have something new to share (but work still in progress but with very valuable insights).\n\nhttp://172.233.96.208:8084/d/fel9iensrsdtsa/gas-limit-monitoring?orgId=1\u0026from=now-7d\u0026to=now\u0026timezone=browser\u0026var-ClientName=$__all\u0026var-TestTitle=$__all\n\nHere are some of our tests for opcodes analysis (basically stress with blocks full of specific opcodes execution) - we already executed that in past but now we are reworking it + added Grafana + DB to store results and make data analysis on them.\n\nData still may have some flaws and we are working on making scenarios to avoid client caches but there are some interesting insights already.\n\n7 days ago we used official versions of ELs and now we swapped to develop branches\nClient version mapping\n\nClient     -\u003e Old version -\u003e New version\nbesu    -\u003e 25.4.1-\u003e  develop\nerigon -\u003e  erigon v3.0.3 -\u003e main\ngeth -\u003e geth v1.15.11 -\u003e master\nnethermind -\u003e 1.31.10  -\u003e master\nreth -\u003e reth v1.3.12 -\u003e main\n\nVery interesting insights especially around performance regression:\n\nNethermind - about 50% drop on *Origin* opcode\nReth - about 45% drop on *SelfBalance* opcode\nReth - around 20% on all *Keccak* tests\nGeth and Besu are fluctuating results much more on dev branches than on stable ones\n\nOn the other hand we have big improvements:\nNethermind - Gas (129%), Caller (100%), GasPop/GasLimit - 60%\nReth - GasLimit (18%), Identity (15%)\nGeth - ECRecovery - 5%\n\nNote:\nErigon for some reason does not work for us yet - working on that\nNethermind have precompiles caching enabled - we need to work on non cachable scenarios (in progress).\n\nPLEASE take a look on that - seems like some regressions are very major but maybe not yet released (Nethermind and Reth mostly).",
        "created_at": "2025-05-26T10:17:57.111000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e BTW - the infra behind is executing tests, then pull latest development images and then reruns the tests and so on 24/7.\n\nThis way \u003c@316280621783580673\u003e already noticed some very interesting improvements, pushed PR, waited for it to be reviewed and merged, hopped into the dashboard and was able to view the improvement \"live\" - encouraging anyone out there to do the same - no effort needed, just PR and merge to your develop/main/master after proper internal testing.",
        "created_at": "2025-05-26T10:32:53.431000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e re: **@KamilChNethermind**\n\u003e BTW - the infra behind is executing tests, then pull latest development images and then reruns the tests and so on 24/7.\n\nThis way \u003c@316280621783580673\u003e already noticed some very interesting improvements, pushed PR, waited for it to be reviewed and merged, hopped into the dashboard and was able to view the improvement \"live\" - encouraging anyone out there to do the same - no effort needed, just PR and merge to your develop/main/master after proper internal testing.\nthis is a very good setup, thx. Do you have any alerts set up to help identify regressions quicker?",
        "created_at": "2025-05-26T10:35:25.109000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Not yet - but good point and we will add that - still working on proper Dashboard and deciding on infra (for now running on \"average local builder machine\") - thinking if we shouldn't use a bit weaker one to treat it more from \"worst-case\" scenario point of view.",
        "created_at": "2025-05-26T10:36:26.466000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e \u003e basically stress with blocks full of specific opcodes execution\n\nfor selfbalance, that would mean that it's always requesting the balance for the same address?",
        "created_at": "2025-05-26T10:37:08.664000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e also, any plans to make it open source? So that teams can easier see how a certain test is set up, etc.",
        "created_at": "2025-05-26T10:37:21.452000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e All tests should be here\nhttps://github.com/NethermindEth/gas-benchmarks",
        "created_at": "2025-05-26T10:38:03.088000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e We have more on side repo which we plan to push there - some of them are already executed",
        "created_at": "2025-05-26T10:38:58.310000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e re: **@KamilChNethermind**\n\u003e Hi all!\n\nWhile we are working on perfnet2 which was stuck a little bit because of infra provider (but we have it now and kicking it off soon) we have something new to share (but work still in progress but with very valuable insights).\n\nhttp://172.233.96.208:8084/d/fel9iensrsdtsa/gas-limit-monitoring?orgId=1\u0026from=now-7d\u0026to=now\u0026timezone=browser\u0026var-ClientName=$__all\u0026var-TestTitle=$__all\n\nHere are some of our tests for opcodes analysis (basically stress with blocks full of specific opcodes execution) - we already executed that in past but now we are reworking it + added Grafana + DB to store results and make data analysis on them.\n\nData still may have some flaws and we are working on making scenarios to avoid client caches but there are some interesting insights already.\n\n7 days ago we used official versions of ELs and now we swapped to develop branches\nClient version mapping\n\nClient     -\u003e Old version -\u003e New version\nbesu    -\u003e 25.4.1-\u003e  develop\nerigon -\u003e  erigon v3.0.3 -\u003e main\ngeth -\u003e geth v1.15.11 -\u003e master\nnethermind -\u003e 1.31.10  -\u003e master\nreth -\u003e reth v1.3.12 -\u003e main\n\nVery interesting insights especially around performance regression:\n\nNethermind - about 50% drop on Origin opcode\nReth - about 45% drop on SelfBalance opcode\nReth - around 20% on all Keccak tests\nGeth and Besu are fluctuating results much more on dev branches than on stable ones\n\nOn the other hand we have big improvements:\nNethermind - Gas (129%), Caller (100%), GasPop/GasLimit - 60%\nReth - GasLimit (18%), Identity (15%)\nGeth - ECRecovery - 5%\n\nNote:\nErigon for some reason does not work for us yet - working on that\nNethermind have precompiles caching enabled - we need to work on non cachable scenarios (in progress).\n\nPLEASE take a look on that - seems like some regressions are very major but maybe not yet released (Nethermind and Reth mostly).\nwe can also disable precompiles caching for those tests",
        "created_at": "2025-05-26T11:03:23.651000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@KamilChNethermind**\n\u003e BTW - the infra behind is executing tests, then pull latest development images and then reruns the tests and so on 24/7.\n\nThis way \u003c@316280621783580673\u003e already noticed some very interesting improvements, pushed PR, waited for it to be reviewed and merged, hopped into the dashboard and was able to view the improvement \"live\" - encouraging anyone out there to do the same - no effort needed, just PR and merge to your develop/main/master after proper internal testing.\nInteresting setup indeed, how can we check which load is applied when without looking into the transactions ? to check the improvements you need to apply the same load after installing the improvements. How other clients can know that the load before is the same as the load after ? \nIt would be nice to see which load is applied when ?\nEx. \nModexp load testing : from xx/xx to xx/xx\n7702 tx load testing : from xx/xx to xx/xx",
        "created_at": "2025-05-26T11:03:25.688000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@lrozmej**\n\u003e we can also disable precompiles caching for those tests\nFor sure - but it is quite valuable addon to have for all clients - and have tests which are trying to avoid it at any costs so we can see cachable and noncacheable tests",
        "created_at": "2025-05-26T11:04:52.038000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@amezianehamlat**\n\u003e Interesting setup indeed, how can we check which load is applied when without looking into the transactions ? to check the improvements you need to apply the same load after installing the improvements. How other clients can know that the load before is the same as the load after ? \nIt would be nice to see which load is applied when ?\nEx. \nModexp load testing : from xx/xx to xx/xx\n7702 tx load testing : from xx/xx to xx/xx\nNot yet possible - but we are trying to figure it out now + add EL metrics for that as for now only perfnet ones are there but this is like separate thing but reusing same Grafana",
        "created_at": "2025-05-26T11:05:33.937000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@KamilChNethermind**\n\u003e All tests should be here\nhttps://github.com/NethermindEth/gas-benchmarks\nAre the tests related to EVM performance from https://github.com/NethermindEth/gas-benchmarks done on the devnet ? I believe the test needs to run its own docker containers multiple times when we configured multiple runs. Have you modified the setup to make the test from gas-benchmarks run on the devnet ?",
        "created_at": "2025-05-26T11:24:50.859000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@amezianehamlat**\n\u003e Are the tests related to EVM performance from https://github.com/NethermindEth/gas-benchmarks done on the devnet ? I believe the test needs to run its own docker containers multiple times when we configured multiple runs. Have you modified the setup to make the test from gas-benchmarks run on the devnet ?\nAlso working on that ðŸ˜†Currently we tried with one which was deploying contracts, now working on spamoor improvement to easily deploy and call such ones (there are some small problems with that but eventually each and every scenario from gas-benchmarks should be executable on live network).",
        "created_at": "2025-05-26T11:26:55.038000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cjustindrake\u003e re: **@justindrake**\n\u003e \nEthrex crossed 1 gigagas/sec this week :)",
        "created_at": "2025-05-26T15:31:14.229000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e we just could sync with holesky using our levm (we were using revm until recently)",
        "created_at": "2025-05-26T15:33:01.739000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e performance can be improved quite a bit, we need to solve some issues with state management. our priority was to have a small vertically integrated codebase (less than 60k lines of code for l1, l2, evm and all the dependencies we reimplemented). performance is our top notch priority now that things are working",
        "created_at": "2025-05-26T15:33:48.395000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e adding our team leads that are focusing on performance",
        "created_at": "2025-05-26T15:34:10.450000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e That sounds great!\n\nWhat tools or methods you used to measure that gigagas performance? Was that on some specific kind of load or some reprocessing of blocks?",
        "created_at": "2025-05-26T15:36:39.564000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e reprocessing of blocks, we still need to do a lot of work",
        "created_at": "2025-05-26T15:37:15.392000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e don't want to be overly optimistic, we did a few tests. we will be sharing things so that they are easily reproducible. we are still slower than reth by 2 or 3 on long running benchmarks",
        "created_at": "2025-05-26T15:37:48.889000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@fede_intern**\n\u003e reprocessing of blocks, we still need to do a lot of work\nWas it while syncing some archival ones or on tip? Or it was some engineAPI calls?",
        "created_at": "2025-05-26T15:38:01.603000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@fede_intern**\n\u003e don't want to be overly optimistic, we did a few tests. we will be sharing things so that they are easily reproducible. we are still slower than reth by 2 or 3 on long running benchmarks\nOh this is really useful! We collect here quite a lot of various ideas or tests to put it into single place",
        "created_at": "2025-05-26T15:38:26.239000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e but we are super happy with the results. security, minimalism are the priorities for us, performance will be next. i am sure others will be able to always be faster than us because of the design principles we chose",
        "created_at": "2025-05-26T15:38:32.736000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e re: **@KamilChNethermind**\n\u003e Was it while syncing some archival ones or on tip? Or it was some engineAPI calls?\nlet me ask, don't want to lie. i just got the news on friday night and shared with justin hehe. as soon as we have everything done we will share a blog post with all the data",
        "created_at": "2025-05-26T15:38:57.987000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e https://blog.lambdaclass.com/celebrating-a-year-of-ethrex/",
        "created_at": "2025-05-26T15:39:04.430000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cjustindrake\u003e re: **@fede_intern**\n\u003e we just could sync with holesky using our levm (we were using revm until recently)\nWhat is the TLDR of levm?\n\n1) Is it a from-scratch implementation written in Rust?\n2) Can it be used as an alternative to revm in the context of zkVMs and EVM snarkification? (The de facto monopoly of revm/reth is a little scary.)\n3) Is it faster than revm? Can you share benchmarks?",
        "created_at": "2025-05-26T15:39:05.597000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e 1) yes, scratch implementation written in rust\n2) yes, it can\n3) it's slower yet",
        "created_at": "2025-05-26T15:39:22.847000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e the way we do engineering work in lambda is always the same: for us simplicity is the top notch priority, security next and performance last. we believe you can achieve top notch performance long term by having a small surface to optimize",
        "created_at": "2025-05-26T15:39:55.701000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e \"We are very opinionated about how to write Rust code. While we love the language for its mix of high performance, memory safety guarantees and high level language constructs, we believe it is easy to get carried away with its features and overcomplicate codebases; having a rich and expressive type system does not mean one should take every opportunity to reify every problem into it through a trait. This obfuscates code for newcomers and makes it more complex at very little benefit.\nFor developers, all this has an impact not only on readability and ease of use, but also on compilation times. Complex code architectures with many traits and macros add to compile times, which hurts developer experience. It is not uncommon to see Rust projects take multiple minutes to compile on modern machines, and code complexity plays a big part in that.\nHowever, simplicity and minimalism is not just about making developer experience easier. The fewer the lines of code, the easier it is to maintain the code, to find bugs or vulnerabilities, and to spot possible performance bottlenecks and improvements. It also reduces the attack surface for security vulnerabilities to be there in the first place.\"",
        "created_at": "2025-05-26T15:40:21.309000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e we have been keeping up with all the great work teams are doing in performance, it's pretty impressive",
        "created_at": "2025-05-26T15:40:44.392000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e we have been checking geth and nethermind codebase mostly, they are great",
        "created_at": "2025-05-26T15:41:03.205000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e particularly taking into account how old the codebases are",
        "created_at": "2025-05-26T15:41:26.275000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e super bullish on ethereum",
        "created_at": "2025-05-26T15:41:32.775000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@KamilChNethermind**\n\u003e Hi all!\n\nWhile we are working on perfnet2 which was stuck a little bit because of infra provider (but we have it now and kicking it off soon) we have something new to share (but work still in progress but with very valuable insights).\n\nhttp://172.233.96.208:8084/d/fel9iensrsdtsa/gas-limit-monitoring?orgId=1\u0026from=now-7d\u0026to=now\u0026timezone=browser\u0026var-ClientName=$__all\u0026var-TestTitle=$__all\n\nHere are some of our tests for opcodes analysis (basically stress with blocks full of specific opcodes execution) - we already executed that in past but now we are reworking it + added Grafana + DB to store results and make data analysis on them.\n\nData still may have some flaws and we are working on making scenarios to avoid client caches but there are some interesting insights already.\n\n7 days ago we used official versions of ELs and now we swapped to develop branches\nClient version mapping\n\nClient     -\u003e Old version -\u003e New version\nbesu    -\u003e 25.4.1-\u003e  develop\nerigon -\u003e  erigon v3.0.3 -\u003e main\ngeth -\u003e geth v1.15.11 -\u003e master\nnethermind -\u003e 1.31.10  -\u003e master\nreth -\u003e reth v1.3.12 -\u003e main\n\nVery interesting insights especially around performance regression:\n\nNethermind - about 50% drop on Origin opcode\nReth - about 45% drop on SelfBalance opcode\nReth - around 20% on all Keccak tests\nGeth and Besu are fluctuating results much more on dev branches than on stable ones\n\nOn the other hand we have big improvements:\nNethermind - Gas (129%), Caller (100%), GasPop/GasLimit - 60%\nReth - GasLimit (18%), Identity (15%)\nGeth - ECRecovery - 5%\n\nNote:\nErigon for some reason does not work for us yet - working on that\nNethermind have precompiles caching enabled - we need to work on non cachable scenarios (in progress).\n\nPLEASE take a look on that - seems like some regressions are very major but maybe not yet released (Nethermind and Reth mostly).\nincredible work and incredible data! this approach basically pro \u003cclipped message\u003e",
        "created_at": "2025-05-26T15:45:23.929000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cMarekM25\u003e re: **@notnotstorm_p**\n\u003e incredible work and incredible data! this approach basically produces the godmode dataset for a lot of end-to-end pricing+optimization challenges\nNow, very important goal will be to standardize the format for benchmarks",
        "created_at": "2025-05-26T15:47:23.502000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cMarekM25\u003e so that many teams can generate vectors",
        "created_at": "2025-05-26T15:47:46.070000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e absolutely",
        "created_at": "2025-05-26T15:49:12.808000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e would love to move toward a world where every performance related EIP is accompanied by the relevant empirical performance data",
        "created_at": "2025-05-26T15:49:38.609000+00:00",
        "attachments": null
    }
]