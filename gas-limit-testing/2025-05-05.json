[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e I've noticed with recent blocks on the devnet that percentage of transaction parallelization is much higher than before or current mainnet. In the block below, it is more than 98% (32 GiB VM, 8 vCores)\n```\n\nImported #424,176  (7737c.....84d15)|  361 tx ( 98.1% parallel)| 16 ws|  0 blobs|      7 wei bfee| 1,575,842,615 ( 39.4%) gas used| 0.198s exec| 7958.80 Mgas/s| 12 peers```",
        "created_at": "2025-05-05T09:11:21.601000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e What kind of load are you testing currently @KamilChNethermind ? I see much higher throughput than before. Are testing precompiles ?\n```\n\nImported #424,510  (b6bff.....f9c47)|  385 tx ( 77.7% parallel)| 16 ws|  0 blobs|      7 wei bfee| 1,680,607,775 ( 42.0%) gas used| 0.165s exec| 10185.50 Mgas/s| 10 peers```",
        "created_at": "2025-05-05T09:26:54.491000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Yeah I was experiemtning on friday looking for some nice possibilities to increase state and also got interesting contarct (4MGas+ using modexp) and it is running very well over whle weekend producing huge blocks but state is not that much affected (it grew 3x but it means from 2.1 to 6.5 GB while entire DB in nethermind is already 75gbs)",
        "created_at": "2025-05-05T10:27:09.289000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@amezianehamlat**\n\u003e What kind of load are you testing currently @KamilChNethermind ? I see much higher throughput than before. Are testing precompiles ?\n\nImported #424,510  (b6bff.....f9c47)|  385 tx ( 77.7% parallel)| 16 ws|  0 blobs|      7 wei bfee| 1,680,607,775 ( 42.0%) gas used| 0.165s exec| 10185.50 Mgas/s| 10 peers\nInteresting that you were getting different parallelization results - what I was doing was simply deploying SAME contract through last 3 days over and over again - so should be more less on the same level?",
        "created_at": "2025-05-05T10:51:50.156000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Seeking for opinion\n\nIf we will make exactly same scenario which we can reproduce on 5 different envs:\n1. Empty state\n2. Hoodi state\n3. Holesky state\n4. Sepolia state\n5. Mainnet state\n\nAnd make some measurements and compare those 5 and get some conclusions from here do you consider it a valuable insight which we could potentially scale to reflect \"moreless\" what will happen if mainnet will grow 2x/3x?\n\nOf course it is only some sort of estimate but at least we can make a real comparison and see how does it look like while we are working on state bloat.\n\nBy exact same scenario I mean getting EL backup, executing some dummy withdrawals and execute identical scenario on each chain.\n\nThis of course checks only EL side.",
        "created_at": "2025-05-05T12:07:43.007000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@KamilChNethermind**\n\u003e Interesting that you were getting different parallelization results - what I was doing was simply deploying SAME contract through last 3 days over and over again - so should be more less on the same level?\nThat's actually an interesting case, we can see that all the transactions are not conflicting as the account that is deploying the contract is different for each transaction : http://172.233.96.208:8082/block/424176?tab=txs",
        "created_at": "2025-05-05T12:40:26.240000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@KamilChNethermind**\n\u003e Seeking for opinion\n\nIf we will make exactly same scenario which we can reproduce on 5 different envs:\n1. Empty state\n2. Hoodi state\n3. Holesky state\n4. Sepolia state\n5. Mainnet state\n\nAnd make some measurements and compare those 5 and get some conclusions from here do you consider it a valuable insight which we could potentially scale to reflect \"moreless\" what will happen if mainnet will grow 2x/3x?\n\nOf course it is only some sort of estimate but at least we can make a real comparison and see how does it look like while we are working on state bloat.\n\nBy exact same scenario I mean getting EL backup, executing some dummy withdrawals and execute identical scenario on each chain.\n\nThis of course checks only EL side.\nDo you mean based on size of each state and then extrapolate from there on what would happen if we would increase mainnet state by 2 or 3x ?",
        "created_at": "2025-05-05T12:46:56.227000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Yeah - holesky is like 3-4x smaller than mainnet- sepolia around 2x smaller so we can make some assumptions based on that probably",
        "created_at": "2025-05-05T12:47:27.280000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e But of course those are \"Different\" - but artificially built state also will be different - but trying to be close to real one",
        "created_at": "2025-05-05T12:47:54.261000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@KamilChNethermind**\n\u003e Yeah - holesky is like 3-4x smaller than mainnet- sepolia around 2x smaller so we can make some assumptions based on that probably\nIn this case, we don't even need make any scenario as we already have them running on real world use cases, so we can even compare EL execution performance on Sepolia/Holesky/Hoodi and mainnet and try to find correlations.",
        "created_at": "2025-05-05T12:52:28.762000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Yeah but here I wanted to make EXACTLY the same - same account, same scenario, same load",
        "created_at": "2025-05-05T12:52:58.058000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e So is easier to compare",
        "created_at": "2025-05-05T12:53:19.736000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e I like personnally the idea, but how can we make sure that the produced blocks will have exactly the same number of transactions, or will more focus on mgas/s metric ?",
        "created_at": "2025-05-05T12:56:07.617000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Valid point - But if we will capture enough data (assuming constant spam on same hardware for 24h for example) we can get some average\n\nOn the other hand we can just \"Generate\" newPayloads and make it sort of reproducible\n\nIf one newpayload (or 100 identical ones which will not be colliding) are giving you 50ms in average on empty state vs 75 on sepolia vs 150 on mainnet you can make some assumptions already.",
        "created_at": "2025-05-05T13:06:04.168000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Trying to understand if state increase will affect our implementations more in linear way (2x state means 2x block processing) or more logarithmic where it is either speeding up (2x state 4x time) or slowing down (2x state, 1.5x time) - just to understand how it moves rather than getting very specific numbers and very correct assumptions for now",
        "created_at": "2025-05-05T13:07:47.866000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e At least if we won't manage to make something better short term - we will have real data based on other chains to know how this behaves",
        "created_at": "2025-05-05T13:08:31.353000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cCPerezz\u003e re: **@KamilChNethermind**\n\u003e Seeking for opinion\n\nIf we will make exactly same scenario which we can reproduce on 5 different envs:\n1. Empty state\n2. Hoodi state\n3. Holesky state\n4. Sepolia state\n5. Mainnet state\n\nAnd make some measurements and compare those 5 and get some conclusions from here do you consider it a valuable insight which we could potentially scale to reflect \"moreless\" what will happen if mainnet will grow 2x/3x?\n\nOf course it is only some sort of estimate but at least we can make a real comparison and see how does it look like while we are working on state bloat.\n\nBy exact same scenario I mean getting EL backup, executing some dummy withdrawals and execute identical scenario on each chain.\n\nThis of course checks only EL side.\nI thoought that one thing could be to start post-merge and simply duplicate/triplicate/whatever each tx of each block (with new sender/receiver). Funding new accounts from some faucet to perform such txs \"on the go\". The throughput of state-growth wouldn't be as much (txs to fund wallets dont' take much space in state). But in return you get a realistic scenario with: the hacks, the forks, bull\u0026bear markets etc..\n\nThat should not be crazy complex to do. And would avoid needing to \"engineer\" all these situations we've had on mainnet.\nBecause mainnet is almost never worst case",
        "created_at": "2025-05-05T13:13:30.448000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@KamilChNethermind**\n\u003e Valid point - But if we will capture enough data (assuming constant spam on same hardware for 24h for example) we can get some average\n\nOn the other hand we can just \"Generate\" newPayloads and make it sort of reproducible\n\nIf one newpayload (or 100 identical ones which will not be colliding) are giving you 50ms in average on empty state vs 75 on sepolia vs 150 on mainnet you can make some assumptions already.\nI agree, the statistical approach can be sufficient in this case",
        "created_at": "2025-05-05T13:13:50.564000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cterencechain\u003e re: **@KamilChNethermind**\n\u003e http://172.233.96.208:8084/d/service_logs_dashboard/services-logs?orgId=1\u0026from=now-15m\u0026to=now\u0026timezone=browser\u0026var-instance=perfnet-geth-ps-0-val\u0026viewPanel=panel-4\ntwo quick notes from studying the logs\n- the EL is optimistic: `Called new payload with optimistic block`\n- the EL returns the following error to the EL at the new payload call: `\"received an undefined execution engine error\" error=\"beacon syncer reorging: client error while processing request\"`\n- will be good to have `--verbosity=debug` for prysm node",
        "created_at": "2025-05-05T13:46:38.623000+00:00",
        "attachments": null
    }
]