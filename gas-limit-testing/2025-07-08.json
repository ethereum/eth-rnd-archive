[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e re: **@gas_limit_testing_bot**\n\u003e \u003cparithosh\u003e Please push this change to your performance branches, we'd like to benchmark the change and observe modexp performance: https://github.com/ethereum/EIPs/pull/9969\nshould be pushed to reth performance-modexp now",
        "created_at": "2025-07-08T01:29:39.233000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cparithoshj\u003e Crossposting for visibility:\nBloatne is now up!\nhttps://dora.perf-devnet-2.ethpandaops.io/ (https://dora.perf-devnet-2.ethpandaops.io/)\n\nThe geth DB is 1.3TB, so ~1.5x mainnet (1.3T ./geth (tg://bot_command?command=geth)). I'm starting to sync up all other clients now, so that we have a \nbaseline at 1.5x mainnet. Once that's done, we can start state bloating again and observe access pattern degradations as well as sync related degradations.\n\nAnd just to explain the naming scheme and purpose:\n- perf-devnet-1: Compute related bottlenecks with existing state size\n- perf-devnet-2: State bloat research and bottlenecks",
        "created_at": "2025-07-08T10:19:27.447000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cCPerezz\u003e Forwarding this also for Geth, Erigon, Besu and Reth as we would love to have this metrics taken for the first sync test run üôè",
        "created_at": "2025-07-08T10:25:21.646000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cCPerezz\u003e Forwarded from CPerezz: Hey everyone. We will start the first round of sync tests within the next few days (likely tomorrow or even today). For that, I wanted to make sure that all clients have some way to record the following data points for a follow-up study:\n- Healing phase duration (if snapsync is supported)\n- Overall sync duration\n- Start-End DB size\n- R/W performance for all ops.\n\n@KamilChNethermind @mlnfltv @s1nam \u003c@486477492434239488\u003e @kt2am  can you confirm if you have ways to collect this kind of data and if so, do we need to enable anything special?  (Sina I know for geth @delweng had a ton of markers in his grafana panel. so we should just need to reuse it probably).",
        "created_at": "2025-07-08T10:25:21.841000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e Heya,\nWe might have found a bug in besu with the following kurtosis config:\n```\nparticipants_matrix:\n  el:\n    - el_type: geth\n      el_image: ethpandaops/geth:performance\n    - el_type: reth\n      el_image: ethpandaops/reth:performance\n    - el_type: besu\n      el_image: ethpandaops/besu:performance\n  cl:\n    - cl_type: lighthouse\nnetwork_params:\n  electra_fork_epoch: 0\n  preset: mainnet\n  gas_limit: 100000000\n  genesis_gaslimit: 100000000\nsnooper_enabled: true\nadditional_services:\n  - spamoor\n  - dora\nspamoor_params:\n  image: ethpandaops/spamoor:master\n  spammers:\n  - scenario: gasburnertx\n    config:\n      throughput: 1\n      max_pending: 2\n      opcodes: \"PUSH1 0x60\\nPUSH1 0x00\\nPUSH1 0x60\\nPUSH1 0x00\\nPUSH1 0x00\\nPUSH1 0x05\\nPUSH2 0x4E20\\nCALL\\nPOP\"```\n\n\nbesu reliably splits out after the first few slots. the transaction simply calls the modexp precompile without valid calldata (all 0)",
        "created_at": "2025-07-08T11:48:36.801000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e (it does not break with the latest release,  so probably a bug on the performance branch)",
        "created_at": "2025-07-08T12:00:10.114000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e @marcin_d_s üëÜ- seems like a scenario to be added to gas-benchmarks as a new category? As for now we test \"valid scenarios\" but probably we should think about invalid scenarios as well so how nodes will handle calls with invalid data and if it will not make nodes to get into some weird loop of being unresponsive or responding to engine calls for very long time.\n\nmore as an idea to think about rather than straight away implementing it",
        "created_at": "2025-07-08T12:44:56.364000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e Has anyone started working on finding multi opcode sequences which argmax cpu time/gas?\n\nhttps://arxiv.org/abs/1909.07220\n\nThis is the really important type of attack to take care of, beyond the precompiles in a loop.",
        "created_at": "2025-07-08T15:19:59.328000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@pk910**\n\u003e (it does not break with the latest release,  so probably a bug on the performance branch)\nThanks @pk910, we will look into this. Do you have logs to share ?",
        "created_at": "2025-07-08T15:21:05.461000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e re: **@amezianehamlat**\n\u003e Thanks @pk910, we will look into this. Do you have logs to share ?\n```\n2025-07-08 15:25:05.060+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineNewPayload | Imported #3  (bb2df.....bb49a)|    1 tx|  0 ws|  0 blobs| 670.75 mwei bfee|      63,101 (  0.1%) gas used| 0.003s exec|  21.03 Mgas/s|  2 peers\n2025-07-08 15:25:05.067+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineForkchoiceUpdated | FCU(VALID) | head: bb2df.....bb49a | safe: 00000.....00000 | finalized: 00000.....00000\n2025-07-08 15:25:17.121+00:00 | vert.x-worker-thread-0 | ERROR | AbstractBlockProcessor | failed persisting block due to stateroot mismatch; expected 0xbd5d0013bc0983877f81badd73916edadd162ea63dd32780ebfef8c62eed9c7b, actual 0x980dbf58e67763224d77ab7170e23177c2052c470869cfbe0dc1ec247ebf446e\n2025-07-08 15:25:17.122+00:00 | vert.x-worker-thread-0 | INFO  | MainnetParallelBlockProcessor | Parallel transaction processing failure. Falling back to non-parallel processing for block #4 (0x867da228bb8fd03d954fe36570e57e1297708815341addf08eaebff79ec5e7aa)\n2025-07-08 15:25:17.167+00:00 | vert.x-worker-thread-0 | ERROR | AbstractBlockProcessor | failed persisting block due to stateroot mismatch; expected 0xbd5d0013bc0983877f81badd73916edadd162ea63dd32780ebfef8c62eed9c7b, actual 0x980dbf58e67763224d77ab7170e23177c2052c470869cfbe0dc1ec247ebf446e\n2025-07-08 15:25:17.168+00:00 | vert.x-worker-thread-0 | INFO  | MainnetBlockValidator | Invalid block 4 (0x867da228bb8fd03d954fe36570e57e1297708815341addf08eaebff79ec5e7aa): Optional[World State Root does not match expected value, header 0xbd5d0013bc0983877f81badd73916edadd162ea63dd32780ebfef8c62eed9c7b calculated 0x980dbf58e67763224d77ab7170e23177c2052c470869cfbe0dc1ec247ebf446e]\n2025-07-08 15:25:17.169+00:00 | vert.x-worker-thread-0 | WARN  | AbstractEngineNewPayload | Invalid new payload: number: 4, hash: 0x867da228bb8fd03d954fe36570e57e1297708815341addf08ea \u003cclipped message\u003e",
        "created_at": "2025-07-08T15:30:42.698000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e The broken meter paper is a classic, and is what drove the sstore access list gas EIPs (EIP-2929 and EIP-2930) exposed not the opcode sequences but the underlying i/o of the operations.  That's what the performance work since pre-covid has all been working on.\n\n4 years ago I looked at opcode pairs and briefly triples (too many combination) executed in loops.  That's what besu used to help tune it's EVM. Apart from one besu-specific construct (addresses wrapped bytes) there were no real stinkers on the level of what precompiles can break. I expect similar findings for other chains.",
        "created_at": "2025-07-08T15:33:02.922000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e https://github.com/shemnon/cartevm",
        "created_at": "2025-07-08T15:33:11.636000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@pk910**\n\u003e 2025-07-08 15:25:05.060+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineNewPayload | Imported #3  (bb2df.....bb49a)|    1 tx|  0 ws|  0 blobs| 670.75 mwei bfee|      63,101 (  0.1%) gas used| 0.003s exec|  21.03 Mgas/s|  2 peers\n2025-07-08 15:25:05.067+00:00 | vert.x-worker-thread-0 | INFO  | AbstractEngineForkchoiceUpdated | FCU(VALID) | head: bb2df.....bb49a | safe: 00000.....00000 | finalized: 00000.....00000\n2025-07-08 15:25:17.121+00:00 | vert.x-worker-thread-0 | ERROR | AbstractBlockProcessor | failed persisting block due to stateroot mismatch; expected 0xbd5d0013bc0983877f81badd73916edadd162ea63dd32780ebfef8c62eed9c7b, actual 0x980dbf58e67763224d77ab7170e23177c2052c470869cfbe0dc1ec247ebf446e\n2025-07-08 15:25:17.122+00:00 | vert.x-worker-thread-0 | INFO  | MainnetParallelBlockProcessor | Parallel transaction processing failure. Falling back to non-parallel processing for block #4 (0x867da228bb8fd03d954fe36570e57e1297708815341addf08eaebff79ec5e7aa)\n2025-07-08 15:25:17.167+00:00 | vert.x-worker-thread-0 | ERROR | AbstractBlockProcessor | failed persisting block due to stateroot mismatch; expected 0xbd5d0013bc0983877f81badd73916edadd162ea63dd32780ebfef8c62eed9c7b, actual 0x980dbf58e67763224d77ab7170e23177c2052c470869cfbe0dc1ec247ebf446e\n2025-07-08 15:25:17.168+00:00 | vert.x-worker-thread-0 | INFO  | MainnetBlockValidator | Invalid block 4 (0x867da228bb8fd03d954fe36570e57e1297708815341addf08eaebff79ec5e7aa): Optional[World State Root does not match expected value, header 0xbd5d0013bc0983877f81badd73916edadd162ea63dd32780ebfef8c62eed9c7b calculated 0x980dbf58e67763224d77ab7170e23177c2052c470869cfbe0dc1ec247ebf446e]\n2025-07-08 15:25:17.169+00:00 | vert.x-worker-thread-0 | WARN  | AbstractEngineNewPayload | Invalid new payload: number: 4, hash: 0x867da228bb8fd03d954fe36570e57e1297708815341addf08eaebff79ec5e7aa, parentHash: 0xbb2df7f0d8aa98c75f899aa4f13705de1a222455e59a0db4614 \u003cclipped message\u003e",
        "created_at": "2025-07-08T20:48:41.249000+00:00",
        "attachments": null
    }
]