[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e I've created a `xentoken` scenario for spamoor that mimics the pattern that we've seen on that mainnet tx.\nIt's actually not a regular feature of the xen token. This is a sybil attack against xen, creating claims from as many minimal proxy contracts as possible.\n\nFor local devnets the scenario deploys the xen token contract in behind,  for shadowforks (like perfnet) we can hook it up to the existing xen token contract, so it writes to that giant xen state.\nI have a instance of it running on the perfnet-1 spamoor. But doesn't look too bad on the graphs.",
        "created_at": "2025-06-18T01:01:23.085000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e here's the other type of Xen mining tx https://etherscan.io/tx/0xc38b1433d1e79d151fcb618c7abd70f1cb01719083c5c208185f286a1f9b6bbd",
        "created_at": "2025-06-18T05:02:33.465000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e ok profiled XEN, takes 1,1s on my machine - Zen 3 + https://shop.sandisk.com/products/ssd/internal-ssd/sandisk-ultra-3d-sata-iii-ssd?sku=SDSSDH3-4T00-G26\n\nSo ok hardware but not cutting edge.\nBottleneck is state reads, and I think we are mostly paying here for not having a snapshot-like flat datastructure.",
        "created_at": "2025-06-18T08:18:55.027000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e I think 30mln gas cap on tx makes it mostly fine as we can parallelize other reads",
        "created_at": "2025-06-18T08:19:49.765000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e but maybe one can craft a block where that would be a problem.... dynamicly load based on previous transaction in an unpredictable way",
        "created_at": "2025-06-18T08:20:38.317000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e re: **@lrozmej**\n\u003e I think 30mln gas cap on tx makes it mostly fine as we can parallelize other reads\nit's possible to craft a series of txs that depend on each other via one storage slot, and each reads a lot of storages, right?",
        "created_at": "2025-06-18T08:20:40.991000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e yes. the parallelization benefits dont come until we also have BAL's",
        "created_at": "2025-06-18T08:21:06.075000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e yeah might be, you would have to do it dynamically",
        "created_at": "2025-06-18T08:21:15.129000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e re: **@lrozmej**\n\u003e ok profiled XEN, takes 1,1s on my machine - Zen 3 + https://shop.sandisk.com/products/ssd/internal-ssd/sandisk-ultra-3d-sata-iii-ssd?sku=SDSSDH3-4T00-G26\n\nSo ok hardware but not cutting edge.\nBottleneck is state reads, and I think we are mostly paying here for not having a snapshot-like flat datastructure.\nis this a problem specifically with storage tries of multiple contracts?",
        "created_at": "2025-06-18T08:21:16.838000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e that would be 100% attack though, I can't imagine use case for it",
        "created_at": "2025-06-18T08:21:37.052000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@lrozmej**\n\u003e that would be 100% attack though, I can't imagine use case for it\nAn attack with a token to monetise it :)",
        "created_at": "2025-06-18T08:30:44.678000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Historically we have designed the protocol under attack scenarios, especially after Shanghai attacks.  The system needs to be robust in the face of an active attacker spending money to try to break things, not only when people do normal looking things.",
        "created_at": "2025-06-18T08:38:45.018000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@pk910**\n\u003e I've created a xentoken scenario for spamoor that mimics the pattern that we've seen on that mainnet tx.\nIt's actually not a regular feature of the xen token. This is a sybil attack against xen, creating claims from as many minimal proxy contracts as possible.\n\nFor local devnets the scenario deploys the xen token contract in behind,  for shadowforks (like perfnet) we can hook it up to the existing xen token contract, so it writes to that giant xen state.\nI have a instance of it running on the perfnet-1 spamoor. But doesn't look too bad on the graphs.\nWe need to figure out today why is it fast, why Jochem one is much slower but why still much faster than 30M tx from mainnet as ≈Åukasz mentioned it is for him 1.1 sec",
        "created_at": "2025-06-18T09:30:28.165000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e update 7934 with 2MiB margin\n\nhttps://github.com/ethereum/EIPs/pull/9907",
        "created_at": "2025-06-18T11:49:30.305000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e re: **@lrozmej**\n\u003e ok profiled XEN, takes 1,1s on my machine - Zen 3 + https://shop.sandisk.com/products/ssd/internal-ssd/sandisk-ultra-3d-sata-iii-ssd?sku=SDSSDH3-4T00-G26\n\nSo ok hardware but not cutting edge.\nBottleneck is state reads, and I think we are mostly paying here for not having a snapshot-like flat datastructure.\nThat's interesting.  Is it actually state read that slows it down?\n\nI've noticed that this xen attack tx did 20 random reads to check the status of previously deployed proxies before deploying new ones.\nIn my case, I don't know of any address that already exists before the attack,  so I'm just doing 20 random reads to non existing slots.\nI'll try to replicate the read part too :)",
        "created_at": "2025-06-18T12:01:46.575000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Xen is not an attack",
        "created_at": "2025-06-18T12:02:02.705000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Why are we calling it an attack? It is a legitimate use of the chain i would even say",
        "created_at": "2025-06-18T12:02:19.830000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e that tx pattern is kinda a attack against xen,   to game their address based sybil protection",
        "created_at": "2025-06-18T12:02:52.889000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Ah ok but it is not an attack against Ethereum",
        "created_at": "2025-06-18T12:03:19.315000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e it's not a usual xen feature ;)\nyea üëç",
        "created_at": "2025-06-18T12:03:33.042000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Anyway I think BAL/7825 fixes this so no need to worry",
        "created_at": "2025-06-18T12:04:58.924000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cCPerezz\u003e re: **@FunnyGiulio**\n\u003e Anyway I think BAL/7825 fixes this so no need to worry\nBAL will fix this yes. The question is how much cache warming capacity you have when we start increasing Gas limit and filling it with random reads. \n\nI don't think 60M will be any issue. But Unsure what will happen with 300M or stuff like that.",
        "created_at": "2025-06-18T12:07:55.935000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@CPerezz**\n\u003e BAL will fix this yes. The question is how much cache warming capacity you have when we start increasing Gas limit and filling it with random reads. \n\nI don't think 60M will be any issue. But Unsure what will happen with 300M or stuff like that.\nOk i'd say to not worry too much about XEN then",
        "created_at": "2025-06-18T12:08:45.449000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@lrozmej**\n\u003e ok profiled XEN, takes 1,1s on my machine - Zen 3 + https://shop.sandisk.com/products/ssd/internal-ssd/sandisk-ultra-3d-sata-iii-ssd?sku=SDSSDH3-4T00-G26\n\nSo ok hardware but not cutting edge.\nBottleneck is state reads, and I think we are mostly paying here for not having a snapshot-like flat datastructure.\nAre those reads related to gas calculation for sstore ?",
        "created_at": "2025-06-18T12:09:21.665000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e re: **@amezianehamlat**\n\u003e Are those reads related to gas calculation for sstore ?\nover 50% of them yes",
        "created_at": "2025-06-18T12:22:51.814000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e however, 7907 wont make it  if we freeze scope this week üôÅ\nquick question on this - who here are the main people opposed to shipping 7907 / 7954 (contract code size increase) in Fusaka? Can you react with an angry emoji or something so I can reach out? want to be prepared for hosting acd tomorrow",
        "created_at": "2025-06-18T12:23:38.471000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e maybe better to ask in acd chat",
        "created_at": "2025-06-18T12:24:46.040000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e re: **@adietrichs**\n\u003e quick question on this - who here are the main people opposed to shipping 7907 / 7954 (contract code size increase) in Fusaka? Can you react with an angry emoji or something so I can reach out? want to be prepared for hosting acd tomorrow\nI'm opposed in a sense that no benchmark numbers were provided, not in principal",
        "created_at": "2025-06-18T12:25:12.781000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e over 50% of them yes\n30% normal SLOADS\n10% loading accounts on CREATE",
        "created_at": "2025-06-18T12:28:13.719000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_49.jpg",
                "content": "058fa9d02ba53d7bf9887b25d744fe33b4ed80d46c61bfe6c6f3b6c491d66af5"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e main concern is loading a bunch of code from disk, could become a bottleneck if the code is large now?",
        "created_at": "2025-06-18T12:35:35.021000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e quick question on this - who here are the main people opposed to shipping 7907 / 7954 (contract code size increase) in Fusaka? Can you react with an angry emoji or something so I can reach out? want to be prepared for hosting acd tomorrow\nafaik 7907 is still grossly underdeveloped in every client. 7954 is okayish because it is just a 2x and the considerations are easy. this is mostly the gist of it in berlininterop",
        "created_at": "2025-06-18T12:35:57.576000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e Are they though?",
        "created_at": "2025-06-18T12:36:17.698000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e 2x ram, 2x seqs reads?",
        "created_at": "2025-06-18T12:36:30.421000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e neither are significant",
        "created_at": "2025-06-18T12:36:35.409000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e It feels like no one has seriously worked on benchmarks what that would mean",
        "created_at": "2025-06-18T12:36:42.961000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e ok sure or neither",
        "created_at": "2025-06-18T12:36:53.934000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e Sure we can be handwavy about this, but I don't think this is the way we should develop ethereum.",
        "created_at": "2025-06-18T12:37:18.142000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e 10,5x ram 10,5x seq reads (probably least problem), 10,5x jumpdest (potentially covered by gas cost)",
        "created_at": "2025-06-18T12:37:33.323000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@vdWijden**\n\u003e Sure we can be handwavy about this, but I don't think this is the way we should develop ethereum.\nthe disk reads is measured",
        "created_at": "2025-06-18T12:37:44.717000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e the ram is up to clients but 2x on the code cache is very small for Erigon",
        "created_at": "2025-06-18T12:37:58.734000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e afaik 7907 is still grossly underdeveloped in every client. 7954 is okayish because it is just a 2x and the considerations are easy. this is mostly the gist of it in berlininterop\nlooking at 7954, looks like it doesn't only move to a more moderate max size increase, but it also eliminates the pricing changes? that seems problematic, no? because that would effectively make big contracts cheaper now",
        "created_at": "2025-06-18T12:38:35.141000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e ye it would but probably not too much",
        "created_at": "2025-06-18T12:38:59.604000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e seqs read are already properly measured and it is not an issue",
        "created_at": "2025-06-18T12:39:10.245000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e the only issue is ram",
        "created_at": "2025-06-18T12:39:13.765000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e but 2x ram is nothing. 10x is. anyway i do not have strong opinions here",
        "created_at": "2025-06-18T12:39:33.046000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e and I guess the deployment cost still scales with code size, right? (as it already does today)\n\nIt's just the read that would now keep the same static cost",
        "created_at": "2025-06-18T12:39:50.637000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e my impression is just that 7907 requires an extra index and no client have it",
        "created_at": "2025-06-18T12:39:55.088000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e and I guess the deployment cost still scales with code size, right? (as it already does today)\n\nIt's just the read that would now keep the same static cost\nyes but reads is not significantly higher in terms of overhead",
        "created_at": "2025-06-18T12:40:22.765000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e basically there are 2 phases in reading code. a random lookup + many sequential reads. with higher code size, you just increase the latter which is 100x faster than the former",
        "created_at": "2025-06-18T12:41:01.377000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e looking at 7954, looks like it doesn't only move to a more moderate max size increase, but it also eliminates the pricing changes? that seems problematic, no? because that would effectively make big contracts cheaper now\nidea is it addresses some devx pain; without being too problematic an increase that it needs the pricing changes (devs won't immediately be demanding 48kB+ contracts?)",
        "created_at": "2025-06-18T12:41:37.678000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e if it was just for read speed. i would even say no repricing is needed period. i recall that the difference beetwen the 256kb read and 24kb is basically non-existent even on large states. the issue is that you need to put it in a cache, so then you need to price ram",
        "created_at": "2025-06-18T12:42:11.884000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e if it was just for read speed. i would even say no repricing is needed period. i recall that the difference beetwen the 256kb read and 24kb is basically non-existent even on large states. the issue is that you need to put it in a cache, so then you need to price ram\nIs because how many reads can you do per block",
        "created_at": "2025-06-18T12:42:50.732000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e i think there is nothing handwavy here. if anything RAM requirements need to be voiced by each team. 2x is fine for everyone. 10x maybe not.",
        "created_at": "2025-06-18T12:43:08.227000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e Is because how many reads can you do per block\nmostly OS/Disk/Hardware is optimized for that",
        "created_at": "2025-06-18T12:43:18.989000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e the kernel will pre-cache for you sequentially",
        "created_at": "2025-06-18T12:43:55.881000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e and how realistic is it for people to be comfortable moving either of 7907 or 7954 to SFI tomorrow and include it into devnet-2?",
        "created_at": "2025-06-18T12:44:48.123000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e I don't think we can hold of from freezing scope for just this one extra feature, but on the other hand it does seem like it would be very disappointing for the community to have it dropped from the fork",
        "created_at": "2025-06-18T12:45:21.997000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e do people generally agree that 7954 would be a much more limited surface for testing vs 7907?",
        "created_at": "2025-06-18T12:45:57.530000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e do people generally agree that 7954 would be a much more limited surface for testing vs 7907?\nMario and Jochem said that 7954 is easier to test because it is simpler. Personally, I am neutral. I just think 7907 might not be ready for Fusaka.",
        "created_at": "2025-06-18T12:49:11.030000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e mostly OS/Disk/Hardware is optimized for that\nIf you need to read more than \u003e500MB in a block; then that starts to become an issue with disk speeds",
        "created_at": "2025-06-18T12:52:08.504000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e 500MB is a bit far :d",
        "created_at": "2025-06-18T12:52:33.097000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Maybe in the future",
        "created_at": "2025-06-18T12:52:37.037000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@lrozmej**\n\u003e ok profiled XEN, takes 1,1s on my machine - Zen 3 + https://shop.sandisk.com/products/ssd/internal-ssd/sandisk-ultra-3d-sata-iii-ssd?sku=SDSSDH3-4T00-G26\n\nSo ok hardware but not cutting edge.\nBottleneck is state reads, and I think we are mostly paying here for not having a snapshot-like flat datastructure.\n@lrozmej's disk here can only do 560MB/s; so would take more than a second just to read the contracts",
        "created_at": "2025-06-18T12:52:48.996000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e @lrozmej's disk here can only do 560MB/s; so would take more than a second just to read the contracts\nWait what? 500MB/s on 48KB?",
        "created_at": "2025-06-18T12:53:11.397000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e \u003c@543900561460822016\u003e please weigh in. you have a strong opinion on 7907",
        "created_at": "2025-06-18T12:54:08.459000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e 500MB is a bit far :d\naccount access+call/extcodesize = 2600gas",
        "created_at": "2025-06-18T12:54:22.359000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e Wait what? 500MB/s on 48KB?\nOh not on this :)",
        "created_at": "2025-06-18T12:54:34.168000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@ben_a_adams**\n\u003e account access+call/extcodesize = 2600gas\nso at 100M gas that's ~40k contract loads in a block\n\nat 24KB that's ~1GB, at 48KB that's ~2GB",
        "created_at": "2025-06-18T12:55:26.148000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e so at 100M gas that's ~40k contract loads in a block\n\nat 24KB that's ~1GB, at 48KB that's ~2GB\nSo 4 secs; is bumping around where we are looking for other things",
        "created_at": "2025-06-18T12:56:23.529000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e However would need metering as per 7907 to start going higher than that",
        "created_at": "2025-06-18T12:56:58.101000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e right, but obv we have high uncertainty around these numbers, I am generally uncomfortable changing anything in a way that could create a new worst case",
        "created_at": "2025-06-18T12:56:59.187000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e right, but obv we have high uncertainty around these numbers, I am generally uncomfortable changing anything in a way that could create a new worst case\nwould mean 100% of block is doing this",
        "created_at": "2025-06-18T12:57:41.142000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e We already tested the read speed, isn't it the same as 24KB code?",
        "created_at": "2025-06-18T12:57:43.894000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@ben_a_adams**\n\u003e So 4 secs; is bumping around where we are looking for other things\nso if we think that 7954 would get us to 4s, that would be a reason not to include it into Fusaka last minute",
        "created_at": "2025-06-18T12:57:50.933000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@ben_a_adams**\n\u003e would mean 100% of block is doing this\nright, all of this is protection against maliciously crafted blocks",
        "created_at": "2025-06-18T12:58:07.956000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e so if we think that 7954 would get us to 4s, that would be a reason not to include it into Fusaka last minute\nOn very weak validators",
        "created_at": "2025-06-18T12:58:21.762000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e and we can't just add a simple gas price change to 7954? double cost (warm or cold) if it's above 24KB?",
        "created_at": "2025-06-18T12:58:47.928000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e what about 7907 up to 48KB instead",
        "created_at": "2025-06-18T12:59:06.428000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e and we call it a day",
        "created_at": "2025-06-18T12:59:10.172000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e you dont even need to optimize anything this way anyway because it is very low. people can figure out the extra index later",
        "created_at": "2025-06-18T12:59:20.706000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e well 7907 still has this more complicated `largeContractCost = ceil32(excess_contract_size) * GAS_INIT_CODE_WORD_COST // 32`",
        "created_at": "2025-06-18T13:00:28.773000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e well 7907 still has this more complicated largeContractCost = ceil32(excess_contract_size) * GAS_INIT_CODE_WORD_COST // 32\nalso new warm, cold types + tracking",
        "created_at": "2025-06-18T13:01:10.778000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvb271828\u003e re: **@adietrichs**\n\u003e and we can't just add a simple gas price change to 7954? double cost (warm or cold) if it's above 24KB?\nthis is slightly more complicated than it seems\n\nyou have to charge the max cost and then immediately refund\n\nbecause otherwise you could call a max size contract with 2601 gas and it would reject but it would need to load 5200 gas worth of data to show that it rejects",
        "created_at": "2025-06-18T13:03:49.831000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e hm interesting.\n\nso before you wrote that, what I was thinking:\nmake it even simpler, we keep warm static in 7954 and only have the two cases for cold. so basically:\n\n```\n\nif is_warm_read:\n    return 100\nelse:\n    if contract_size \u003c= SMALL_LIMIT:\n        return 2600\n    else:\n        return 5200```",
        "created_at": "2025-06-18T13:05:06.249000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvb271828\u003e yeah the problem is that the contract_size variable implicitly assumes the read was already done",
        "created_at": "2025-06-18T13:05:37.328000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@vb271828**\n\u003e this is slightly more complicated than it seems\n\nyou have to charge the max cost and then immediately refund\n\nbecause otherwise you could call a max size contract with 2601 gas and it would reject but it would need to load 5200 gas worth of data to show that it rejects\nbut yes, agreed, we'd have to make cold read always 5200, and then refund 2600",
        "created_at": "2025-06-18T13:05:41.460000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@ben_a_adams**\n\u003e On very weak validators\nMy point on this; is if attack block only effects weakest validators then it ceases to be a liveness attack and just becomes a very expensive spend, so attack would become less likely?",
        "created_at": "2025-06-18T13:05:45.982000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@adietrichs**\n\u003e but yes, agreed, we'd have to make cold read always 5200, and then refund 2600\nor to not mess with refunds, we could just make the opcode fail if there is less than 5200 gas remaining",
        "created_at": "2025-06-18T13:06:13.245000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@vb271828**\n\u003e yeah the problem is that the contract_size variable implicitly assumes the read was already done\nwell but then you have the 21k tx overhead so it is not exactly an issue",
        "created_at": "2025-06-18T13:06:54.443000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e or to not mess with refunds, we could just make the opcode fail if there is less than 5200 gas remaining\nproblem with estimate gas, unless it overestimates by a chunk?",
        "created_at": "2025-06-18T13:07:00.552000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e well but then you have the 21k tx overhead so it is not exactly an issue\nno you can just have subcalls with just enough gas for a small read",
        "created_at": "2025-06-18T13:07:25.984000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e problem with estimate gas, unless it overestimates by a chunk?\ni think overestimate is the good approach",
        "created_at": "2025-06-18T13:07:26.500000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@ben_a_adams**\n\u003e problem with estimate gas, unless it overestimates by a chunk?\nmy understanding is the estimation just does a binary search anyway, for gas values that make the tx not fail? so shouldn't be an issue",
        "created_at": "2025-06-18T13:08:01+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e no you can just have subcalls with just enough gas for a small read\nFull EOF fixes this..\n\n.. too soon?",
        "created_at": "2025-06-18T13:08:39.062000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@adietrichs**\n\u003e or to not mess with refunds, we could just make the opcode fail if there is less than 5200 gas remaining\nany risk that any existing contracts with hard coded stipends or something break with this?",
        "created_at": "2025-06-18T13:12:46.909000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e There's always these risks with repricings. We have no data which protocols will run into issues with this",
        "created_at": "2025-06-18T13:13:54.328000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e as I see it\n\n- full 7907 is too untested to be added tomorrow\n- 7954 without changes has performance concerns\n- 7954 with pricing changes is too late to be sufficiently evaluated pre inclusion decision",
        "created_at": "2025-06-18T13:14:26.714000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e not sure that leaves us with any paths for having a code size increase in Fusaka, if we want to freeze scope tomorrow",
        "created_at": "2025-06-18T13:14:48.047000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e as I see it\n\n- full 7907 is too untested to be added tomorrow\n- 7954 without changes has performance concerns\n- 7954 with pricing changes is too late to be sufficiently evaluated pre inclusion decision\n7954 on other respects (like jumpdest) is same as current initcode; and initcode only gains 24kB (rather than doubling)",
        "created_at": "2025-06-18T13:15:47.707000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e to go bigger, you need the second index so you can check size on everything and check gas available before loading code (aka 7907); but it is significantly more complicated; and may immediately need to be repriced (don't have any benchmarks on it)",
        "created_at": "2025-06-18T13:17:31.799000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I dont think 7954 will be too problematic tbf. The only concern is a slight increase in RAM",
        "created_at": "2025-06-18T13:18:34.587000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e and dumb question, telling the db to only read up to X bytes is not possible?",
        "created_at": "2025-06-18T13:18:42.222000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e wait never mind, that would only help with this refund issue",
        "created_at": "2025-06-18T13:19:01.542000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e I dont think 7954 will be too problematic tbf. The only concern is a slight increase in RAM\nmain concern is the 2GB of state load as a 100M gas worst case",
        "created_at": "2025-06-18T13:19:29.541000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e and dumb question, telling the db to only read up to X bytes is not possible?\nNo :(\n\nMost of the dbs we use treat as complete atomic blobs (also don't have a length query ü§∑‚Äç‚ôÇÔ∏è)",
        "created_at": "2025-06-18T13:19:39.650000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@adietrichs**\n\u003e main concern is the 2GB of state load as a 100M gas worst case\nbut also the fact that this only came up today, meaning that we overall just don't have the metrics on this yet that would allow an informed decision",
        "created_at": "2025-06-18T13:19:58.997000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e main concern is the 2GB of state load as a 100M gas worst case\n2G is just a number. It is not that slow imo. We already measured that 24KB of seq reads vs 256 is not too much more time",
        "created_at": "2025-06-18T13:21:00.845000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e re: **@FunnyGiulio**\n\u003e 2G is just a number. It is not that slow imo. We already measured that 24KB of seq reads vs 256 is not too much more time\nDo you have a link to that",
        "created_at": "2025-06-18T13:21:28.672000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Yes it was the 7907 debate",
        "created_at": "2025-06-18T13:22:02.632000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e https://ethereum-magicians.org/t/eip-7907-meter-contract-code-size-and-increase-limit/23156/31",
        "created_at": "2025-06-18T13:22:48.568000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Random lookups is 99% of the overhead",
        "created_at": "2025-06-18T13:23:30.289000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e The extra bytes read do not stress the disk as much (not even close)",
        "created_at": "2025-06-18T13:23:55.325000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e https://ethereum-magicians.org/t/eip-7907-meter-contract-code-size-and-increase-limit/23156/31\nThis is repeated runs though so would be OS cached code? So not touch disk",
        "created_at": "2025-06-18T13:24:28.686000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e This is a flawed benchmark",
        "created_at": "2025-06-18T13:24:41.713000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e This is repeated runs though so would be OS cached code? So not touch disk\nUh right okay nvm then",
        "created_at": "2025-06-18T13:25:10.590000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Ig no contract size increase for Fusaka.",
        "created_at": "2025-06-18T13:25:37.810000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I still suspect it should be fine tho but I dont think we should push anything this handwavy probably",
        "created_at": "2025-06-18T13:27:31.531000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e as I see it\n\n- full 7907 is too untested to be added tomorrow\n- 7954 without changes has performance concerns\n- 7954 with pricing changes is too late to be sufficiently evaluated pre inclusion decision\nIf concerned 7954 doubling is too close to edge; go with +50%? Or 32kB\n\nEase some devx pain in Fusaka (as 24kB is a common hit)",
        "created_at": "2025-06-18T13:27:37.336000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e 32KB is a power of 2 too so it willd efinetely make some people happy",
        "created_at": "2025-06-18T13:28:09.576000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e re: **@adietrichs**\n\u003e as I see it\n\n- full 7907 is too untested to be added tomorrow\n- 7954 without changes has performance concerns\n- 7954 with pricing changes is too late to be sufficiently evaluated pre inclusion decision\nRespectfully this is really disappointing",
        "created_at": "2025-06-18T13:28:12.973000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e re: **@ben_a_adams**\n\u003e If concerned 7954 doubling is too close to edge; go with +50%? Or 32kB\n\nEase some devx pain\nYes at a minimum",
        "created_at": "2025-06-18T13:28:22.023000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@gakonst**\n\u003e Respectfully this is really disappointing\nI agree, this is why I was pushing to explore the options today, instead of waiting to see what happens on acd tomorrow",
        "created_at": "2025-06-18T13:28:59.050000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e re: **@adietrichs**\n\u003e I agree, this is why I was pushing to explore the options today, instead of waiting to see what happens on acd tomorrow\nI guess it's just disappointing that this is happening today and not the same week the EIP was added to devnets.",
        "created_at": "2025-06-18T13:29:29.353000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e Not to be a downer :/",
        "created_at": "2025-06-18T13:29:35.170000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e my understanding is no code size increase was ever in any devnet?",
        "created_at": "2025-06-18T13:29:50.600000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e devnet-2 scope on Monday at interop had it",
        "created_at": "2025-06-18T13:30:22.611000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e it's the one CFI EIP that didn't make it into berlinterop-devnet-2",
        "created_at": "2025-06-18T13:30:28.567000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e re: **@gakonst**\n\u003e Respectfully this is really disappointing\nIt is, the problem I see is that these EIPs were pushed without sufficient analysis into their performance. I hope that we will be better in the future at derisking these EIPs before they are CFI/SFI'd",
        "created_at": "2025-06-18T13:30:34.889000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@gakonst**\n\u003e devnet-2 scope on Monday at interop had it\nright, agreed, we should have made more progress on this last week.\n\nI was focused on scaling items instead, only looked into this now because I am filling in for Tim on acde tomorrow",
        "created_at": "2025-06-18T13:31:33.046000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e it's the one CFI EIP that didn't make it into berlinterop-devnet-2\nThink was because decided to try for 7907 rather than do 7954 as compromise; as wasn't enough time to get 7907 in during berlin so neither happened",
        "created_at": "2025-06-18T13:31:35.873000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e hm interesting.\n\nso before you wrote that, what I was thinking:\nmake it even simpler, we keep warm static in 7954 and only have the two cases for cold. so basically:\n\n\nif is_warm_read:\n    return 100\nelse:\n    if contract_size \u003c= SMALL_LIMIT:\n        return 2600\n    else:\n        return 5200\nWe could just do this",
        "created_at": "2025-06-18T13:32:41.082000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e We could just do this\nVitalik is right though, doesn't help unless you enforce code access only with the full 5200 gas left. which could break contracts",
        "created_at": "2025-06-18T13:34:37.328000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@ben_a_adams**\n\u003e Think was because decided to try for 7907 rather than do 7954 as compromise; as wasn't enough time to get 7907 in during berlin so neither happened\nDepends how comfortable everyone is with haggling with the exact pricing is during the devnets/testnets as we empirically discover what they are rather than having them up front",
        "created_at": "2025-06-18T13:34:50.611000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e Vitalik is right though, doesn't help unless you enforce code access only with the full 5200 gas left. which could break contracts\nwhat is the risk? we run out of gas and they need to spend 21k to continue the attack?",
        "created_at": "2025-06-18T13:35:09.614000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e 21k is much higher than 5k",
        "created_at": "2025-06-18T13:35:25.828000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e what is the risk? we run out of gas and they need to spend 21k to continue the attack?\ncall {gaslimit: 100}\n\nUnder gaslimit subcalls; force evm to do expensive loads that aren't paid for",
        "created_at": "2025-06-18T13:35:28.589000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e why cant we price after?",
        "created_at": "2025-06-18T13:35:46.372000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e whats the risk?",
        "created_at": "2025-06-18T13:35:49.319000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@ben_a_adams**\n\u003e If concerned 7954 doubling is too close to edge; go with +50%? Or 32kB\n\nEase some devx pain in Fusaka (as 24kB is a common hit)\nI could be convinced to just go for an even more modest 7954 though.\n\nmore just to make sure devs can extend their existing contracts with a few more lines, to bridge until the proper size increase in glamsterdam.\n\nand we just don't change read pricing, and accept that this might bite us as we try to scale to 100M later this year",
        "created_at": "2025-06-18T13:35:53.930000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think 32KB is better than nothing. still of the opinion it is fine either way but i think we are in this situation because the idea was pushed last minute (7907) if anything",
        "created_at": "2025-06-18T13:37:14.116000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e I think not increasing codesize in some way would be disappointing; even if its just a small bump to take edge off; then go hard in glamsterdam (with everyone making sure implementations of 7907 are ready very early and we can workout pricing with gastest/perfnet)",
        "created_at": "2025-06-18T13:42:34.811000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e i.e. again be in situation where we have a number of features for Glamasterdam ready before Fusaka ships; then they are easy ins for the fork",
        "created_at": "2025-06-18T13:44:55.094000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Or, could again use gastest/perfnet for pricing and try for Fusaka (depends on peoples unknown comfort)",
        "created_at": "2025-06-18T13:45:44.187000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e Not if we want to finalize Fusaka tomorrow",
        "created_at": "2025-06-18T13:46:17.763000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@vdWijden**\n\u003e Not if we want to finalize Fusaka tomorrow\nDepends if that means the EIPs have to be finalised; or which EIPs is being finalized",
        "created_at": "2025-06-18T13:47:25.458000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think the only thing that can go into Fusaka is 7954 with 32/48KB because it is easy to test",
        "created_at": "2025-06-18T13:49:58.445000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e if we find out it is bad, we can remove it",
        "created_at": "2025-06-18T13:50:09.358000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e 7907 is much harder to test. i suspect 7907 will also push back the fusaka timeline",
        "created_at": "2025-06-18T13:50:41.603000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e If the EIPs have to be (best effort) finalized, then we don't have the right pricing numbers for 7907 (are based on Shapella numbers which wasn't as empirical as we are doing now; which didn't matter too much then as was a lot of wiggle room in the low gaslimit vs 100M or 300M)",
        "created_at": "2025-06-18T13:50:50.342000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think state tests for 7954 are also kind of trivial and it is not on the edge anymore even on weak hardware (if we do the 32KB version)",
        "created_at": "2025-06-18T13:51:58.022000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think the question is:\n\n- no size increase in Fusaka\n- try 7954 and drop later",
        "created_at": "2025-06-18T13:52:34.776000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e I think the only thing that can go into Fusaka is 7954 with 32/48KB because it is easy to test\nI agree - I think you should change 7954 to these numbers. I would be in favor of officially replacing 7907 with it tomorrow and moving it to SFI for devnet-2",
        "created_at": "2025-06-18T13:53:34.452000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e re: **@FunnyGiulio**\n\u003e I think state tests for 7954 are also kind of trivial and it is not on the edge anymore even on weak hardware (if we do the 32KB version)\nBut statetests are not a way of testing this. Clients use in-memory databases",
        "created_at": "2025-06-18T13:54:11.789000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e what I would do is put 7954, test and drop it later like we do almost in any hard fork",
        "created_at": "2025-06-18T13:54:12.623000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@vdWijden**\n\u003e But statetests are not a way of testing this. Clients use in-memory databases\nwell, you can test it in other ways tbh",
        "created_at": "2025-06-18T13:54:27.399000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e re: **@FunnyGiulio**\n\u003e what I would do is put 7954, test and drop it later like we do almost in any hard fork\nBut this is something we should not do.",
        "created_at": "2025-06-18T13:54:29.845000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e in your case, you would fill pebbleDB with random data, then query a random 48KB val",
        "created_at": "2025-06-18T13:54:49.711000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@vdWijden**\n\u003e But this is something we should not do.\nI am just weighing our options. would you prefer doing nothing? (the answer can very well be yes, it would be totally understandable)",
        "created_at": "2025-06-18T13:55:23.213000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think it is clear 7907 won't make it. even if reduced",
        "created_at": "2025-06-18T13:55:50.957000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Is a while till fork; do we need the exact pricings now? (for 7907)",
        "created_at": "2025-06-18T13:56:38.847000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e Is a while till fork; do we need the exact pricings now?\nfor what?",
        "created_at": "2025-06-18T13:56:54.077000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e Is a while till fork; do we need the exact pricings now? (for 7907)\nProbably yes if we want to freeze it",
        "created_at": "2025-06-18T13:57:22.917000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@vdWijden**\n\u003e But this is something we should not do.\nI mean with conservative numbers (32KB) it seems okay to do in this case",
        "created_at": "2025-06-18T14:06:19.690000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e as a compromise",
        "created_at": "2025-06-18T14:06:22.019000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e given that we are very optimistic that we would be able to ship it in that form, even though we are making the decision lacking proper data support",
        "created_at": "2025-06-18T14:07:02.226000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clightclient\u003e Sorry I haven‚Äôt worked that much on 7907, i honestly have had some other projects I have been working on that have taken my attention.\n\nI‚Äôve been pushing for 7907 because it‚Äôs something I think is really important for developers. I‚Äôm honestly surprised there is so much push back. I was hoping people would be excited about a sound solution to this problem which has plagued ethereum for many years. Yeah bumping to 48k is easier in some ways but we still need to make sure it‚Äôs safe and that work has yet to be done. \n\nWe can hypothesize about the effects all day, but we will eventually need to benchmark and test these things. I understand everyone is busy and it‚Äôs not so easy to drop everything and do it. I wish I had more time right now to work on it, but honestly people seem pretty against the idea regardless of the results of some benchmarks and I honestly don‚Äôt want to pull a bunch of late nights to try and get this through when the odds seems quite low.\n\nAs I‚Äôve said before, glamsterdam is going to be very full of features and this is a good opportunity to do the work for 7907. Yeah it‚Äôs not as ready as some of the EIPs, but that‚Äôs why (I thought) we decided to put it into devnet-2. It solves a problem that is very important and sometimes we just need to put it in the spec and make it a goal for us to solve the problems. I feel like instead we trying to find the quickest wins everywhere. This strategy is fine in some instances, but for 7907 I think dynamically pricing code loads is the right thing to do and it is neither unsolvable nor particularly difficult to achieve. We just need to commit to doing it",
        "created_at": "2025-06-18T14:07:14.755000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e I mean with conservative numbers (32KB) it seems okay to do in this case\nI will update my EIP then and we can discuss it tmrw (32KB)",
        "created_at": "2025-06-18T14:08:13.585000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "This channel is currently bridged to Discord as gas-limit-testing, but conversations lately seem to be branching out into more broad ACD type discussions.  Is this just an accident, or should the Discord channel be renamed?",
        "created_at": "2025-06-18T14:33:57.205000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@gas_limit_testing_bot**\n\u003e \u003csky.cactus\u003e This channel is currently bridged to Discord as gas-limit-testing, but conversations lately seem to be branching out into more broad ACD type discussions.  Is this just an accident, or should the Discord channel be renamed?\nAccident. I just made the mistake to name 7907 and conversation ensued",
        "created_at": "2025-06-18T14:34:33.300000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e On my end: I don‚Äôt really mind which proposal goes in. But something must go in. We‚Äôll do whatever, and make sure it gets done excellently and on time. Just align on getting something in; eth/acc is nothing w/o being able to lift up the bytecode size limit.",
        "created_at": "2025-06-18T15:20:24.569000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e If we reduce tx gas limit to 10M, we also can do 48ish kb code size anyways",
        "created_at": "2025-06-18T15:28:37.522000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e 32KB is better than 24KB. 48KB is better, but it‚Äôs worse if it can‚Äôt get in for any reason. So I‚Äôll happily take anything over nothing.",
        "created_at": "2025-06-18T15:29:26.060000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Is it fair to say that Fulu's headliner is PeerDas and Osaka is \"unblocking the L1\"?",
        "created_at": "2025-06-18T18:30:38.765000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e (Maybe better asked in ACD chat)",
        "created_at": "2025-06-18T18:31:11.745000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e probably yes and probably yes",
        "created_at": "2025-06-18T18:52:28.951000+00:00",
        "attachments": null
    }
]