[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@notnotstorm_p**\n\u003e what is the timeline on the bloatnet efforts?\nWe tried various approaches and now we did a shadowfork of mainnet and bloating it via spammor - @CPerezz knows the current details on spamming",
        "created_at": "2025-06-17T06:14:20.910000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cCPerezz\u003e re: **@KamilChNethermind**\n\u003e We tried various approaches and now we did a shadowfork of mainnet and bloating it via spammor - @CPerezz knows the current details on spamming\nTrying to do an \"arcaic\" spam. Basically spamming keeping an eye on not to diverge too much from state distribution on mainnet. \n\nStill have to code a lot of scenarios. But at least we can go with syncing already.\n\nI hope by the end of this week, the whole setup is ready to start running syncs at various state sizes (increments of 100GB or so).\n\nAlso, wanted to abuse more ocntract storage as healing and syncing will take longer there as the tree is much bigger and accesses to random positions might make it harder for the cache to be useful. But still...\n\nOnce the whole thing is setup and running, will give access to another channel like this one",
        "created_at": "2025-06-17T08:41:46.741000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cCPerezz\u003e re: **@notnotstorm_p**\n\u003e what is the timeline on the bloatnet efforts?\nBTW, DM'd you some time ago asking for scenarios/attacks adn metrics that you thing would be interesting. \n\nYou have a ton of expertise on data analysis for the chain. And would be really valuable to have your takes on what could we measure and waht are we missing.",
        "created_at": "2025-06-17T08:42:45.110000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Wanted to ask Besu, Erigon and Geth teams about their Modexp libraries\n\nDid you recently experimented a bit to use faster ones or did some improvements in code itself to bump the numbers a bit here?\n\nSeems like Nethermind and Geth are doing pretty well here and afaik (not a dev - just testing here) both are using GMP + adjusted libraries used (for example today we played a bit with it and managed to get ~15% extra boost on it).\n\ncc @vdWijden @mlnfltv @amezianehamlat \u003c@341574016160497665\u003e",
        "created_at": "2025-06-17T13:13:21.702000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e re: **@KamilChNethermind**\n\u003e Wanted to ask Besu, Erigon and Geth teams about their Modexp libraries\n\nDid you recently experimented a bit to use faster ones or did some improvements in code itself to bump the numbers a bit here?\n\nSeems like Nethermind and Geth are doing pretty well here and afaik (not a dev - just testing here) both are using GMP + adjusted libraries used (for example today we played a bit with it and managed to get ~15% extra boost on it).\n\ncc @vdWijden @mlnfltv @amezianehamlat \u003c@341574016160497665\u003e\nDo you mind sharing the changes made for the 15% boost?",
        "created_at": "2025-06-17T17:01:07.397000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e If applicable to other clients",
        "created_at": "2025-06-17T17:01:21.185000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e I think this was it:\nhttps://github.com/NethermindEth/nethermind/commit/e2ce0769fa3687bdce2f1ebbd256e37be35e22cc",
        "created_at": "2025-06-17T17:01:57.597000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e what would need to happen to reach 60M pre fusaka?",
        "created_at": "2025-06-17T20:58:52.331000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Modexp client side improvements and XEN (both reproducible test cases to prove it being bad and fixes on top of it).",
        "created_at": "2025-06-17T21:01:08.725000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e I see",
        "created_at": "2025-06-17T21:04:20.492000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_46.jpg",
                "content": "0528f67040e5fdbce53bc11103f3d0496e49e3bae2a12f194d975a4c42e361f1"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e what is the state of modexp improvements at besu / geth / erigon?",
        "created_at": "2025-06-17T21:04:32.057000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Not sure why Erigon is so low. I wonder what neth/reth is doing",
        "created_at": "2025-06-17T21:05:21.837000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@KamilChNethermind**\n\u003e Modexp client side improvements and XEN (both reproducible test cases to prove it being bad and fixes on top of it).\nfor XEN, did anyone validate that the slow blocks were actually slow on a modern machine instead of a random machine with unknown hardware?",
        "created_at": "2025-06-17T21:05:26.938000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e re: **@FunnyGiulio**\n\u003e Not sure why Erigon is so low. I wonder what neth/reth is doing\ngmp",
        "created_at": "2025-06-17T21:05:48.471000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e these bindings are decent for go https://github.com/ncw/gmp",
        "created_at": "2025-06-17T21:06:44.224000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e if you're ok with using gmp etc",
        "created_at": "2025-06-17T21:07:05.353000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@rjected**\n\u003e these bindings are decent for go https://github.com/ncw/gmp\nCc \u003c@976542403269910539\u003e",
        "created_at": "2025-06-17T21:07:06.600000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e although not updated in a while",
        "created_at": "2025-06-17T21:07:24.766000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e then I guess we try them and we may attempt 60M? Is there anything else? I recall there is",
        "created_at": "2025-06-17T21:07:32.925000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Uh",
        "created_at": "2025-06-17T21:08:09.188000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Wait actually this GMP bindings might be problematic. Lots of stale issues",
        "created_at": "2025-06-17T21:08:32.566000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e you can write a minimal wrapper yourself only for the functions you need",
        "created_at": "2025-06-17T21:09:27.667000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@shekhirin**\n\u003e you can write a minimal wrapper yourself only for the functions you need\nYe exactly",
        "created_at": "2025-06-17T21:09:35.512000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e probably just need mpz_import, powm, export, a few other fns for the precompile",
        "created_at": "2025-06-17T21:10:01.856000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think we will need to reprice this regardless because 20 mgas is still bad relatively speaking",
        "created_at": "2025-06-17T21:10:52.017000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@KamilChNethermind**\n\u003e Modexp client side improvements and XEN (both reproducible test cases to prove it being bad and fixes on top of it).\nMy understanding is that XEN is not actually reproducible (at least at levels dangerous for 60M), and that the performance degradation observed came from other sources, like on the geth side a synchronous database flush triggered by a full cache (obv XEN txs cause large state diffs, so fill cache fast).",
        "created_at": "2025-06-17T21:11:16.631000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e Might still need to decide whether to wait for client release making that flush async, and to check that the situation in other clients is similarly benign",
        "created_at": "2025-06-17T21:11:18.622000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@adietrichs**\n\u003e My understanding is that XEN is not actually reproducible (at least at levels dangerous for 60M), and that the performance degradation observed came from other sources, like on the geth side a synchronous database flush triggered by a full cache (obv XEN txs cause large state diffs, so fill cache fast).\nOr is this understanding incorrect?",
        "created_at": "2025-06-17T21:11:29.474000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@FunnyGiulio**\n\u003e I think we will need to reprice this regardless because 20 mgas is still bad relatively speaking\n20 mgas = 60M blocks. so good enough for pre fusaka",
        "created_at": "2025-06-17T21:11:44.256000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e re: **@FunnyGiulio**\n\u003e I think we will need to reprice this regardless because 20 mgas is still bad relatively speaking\nMODEXP repricing already included in Fusaka",
        "created_at": "2025-06-17T21:11:57.891000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Nah too much on the verge i think. But probably not an issue",
        "created_at": "2025-06-17T21:12:05.416000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I am not against going to 60M  btw just because of this. I think even if some blocks get less attestations the network will be fine regardless",
        "created_at": "2025-06-17T21:12:21.748000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003clrozmej\u003e I have Nethermind stopped on the XEN block on my machine, will profile it tomorrow",
        "created_at": "2025-06-17T21:12:27.427000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003csomnergy\u003e re: **@FunnyGiulio**\n\u003e Wait actually this GMP bindings might be problematic. Lots of stale issues\nGMP has problems, we could re-implement a ton of things, but there are things like security to consider, i am not sure what those gains are going to be. The graph before for erigon seems to be a recent regression ( i am not aware)",
        "created_at": "2025-06-17T21:12:47.765000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e re: **@adietrichs**\n\u003e My understanding is that XEN is not actually reproducible (at least at levels dangerous for 60M), and that the performance degradation observed came from other sources, like on the geth side a synchronous database flush triggered by a full cache (obv XEN txs cause large state diffs, so fill cache fast).\nit's coming from XEN, we observed it in Reth on Base many times before",
        "created_at": "2025-06-17T21:12:53.484000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@somnergy**\n\u003e GMP has problems, we could re-implement a ton of things, but there are things like security to consider, i am not sure what those gains are going to be. The graph before for erigon seems to be a recent regression ( i am not aware)\nThis is not reimplementation tho",
        "created_at": "2025-06-17T21:13:26.773000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e re: **@adietrichs**\n\u003e My understanding is that XEN is not actually reproducible (at least at levels dangerous for 60M), and that the performance degradation observed came from other sources, like on the geth side a synchronous database flush triggered by a full cache (obv XEN txs cause large state diffs, so fill cache fast).\nyeah, it's an implementation detail that can be fixed, but the root cause are XEN transactions and what it does to the state / trie",
        "created_at": "2025-06-17T21:13:37.028000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Just do the bindings but yeah. It needs prioritization",
        "created_at": "2025-06-17T21:13:49.289000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e @KamilChNethermind it would be nice to have a XEN-like block regularly benchmarked on the perfnet",
        "created_at": "2025-06-17T21:13:51.102000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@notnotstorm_p**\n\u003e @KamilChNethermind it would be nice to have a XEN-like block regularly benchmarked on the perfnet\n+ in the dash for min gas/s",
        "created_at": "2025-06-17T21:14:06.273000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e re: **@somnergy**\n\u003e GMP has problems, we could re-implement a ton of things, but there are things like security to consider, i am not sure what those gains are going to be. The graph before for erigon seems to be a recent regression ( i am not aware)\nif there are real / concrete security concerns they should be brought up now because gmp is already in use for this precompile",
        "created_at": "2025-06-17T21:14:13.423000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@notnotstorm_p**\n\u003e @KamilChNethermind it would be nice to have a XEN-like block regularly benchmarked on the perfnet\nJochem working on that for perfnet now",
        "created_at": "2025-06-17T21:14:17.326000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cpk910\u003e what was the tx hash of that xen call on mainnet?",
        "created_at": "2025-06-17T21:14:43.517000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e For opcodes benchmarking it requires some changes as we need to run them on top of mainnet state (now we only have compute opcodes and empty state is sufficient)",
        "created_at": "2025-06-17T21:14:59.012000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@pk910**\n\u003e what was the tx hash of that xen call on mainnet?\nhttps://etherscan.io/tx/0x79510fa288a2d4d1bbe3794e3a079d2bcff0eb4550bc67e1ab6915b263979877",
        "created_at": "2025-06-17T21:15:05.493000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e But is something we want to explore more in coming days",
        "created_at": "2025-06-17T21:15:14.312000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@lrozmej**\n\u003e I have Nethermind stopped on the XEN block on my machine, will profile it tomorrow\nWould be ideal if we could confirm pre acde Thursday whether any client has an actual reproducible XEN tx at under 33 mgas (so blocker for 100M)",
        "created_at": "2025-06-17T21:15:17.745000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003csomnergy\u003e re: **@rjected**\n\u003e if there are real / concrete security concerns they should be brought up now because gmp is already in use for this precompile\nIdk, \u003c@583892532644151312\u003e tried it and it had a lot of dependency issues - not security concerns per se. Who's using Gmp tho?",
        "created_at": "2025-06-17T21:16:56.838000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@somnergy**\n\u003e Idk, \u003c@583892532644151312\u003e tried it and it had a lot of dependency issues - not security concerns per se. Who's using Gmp tho?\nReth and Neth",
        "created_at": "2025-06-17T21:17:11.518000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@adietrichs**\n\u003e Would be ideal if we could confirm pre acde Thursday whether any client has an actual reproducible XEN tx at under 33 mgas (so blocker for 100M)\nYeah seems like Jochem has something which is slow but not as slow as it was on the other transaction but maybe that is the actual speed (worst is Nethermind with 900ms on 100mgas block)",
        "created_at": "2025-06-17T21:17:12.725000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@KamilChNethermind**\n\u003e Yeah seems like Jochem has something which is slow but not as slow as it was on the other transaction but maybe that is the actual speed (worst is Nethermind with 900ms on 100mgas block)\nThat roughly matches geth numbers",
        "created_at": "2025-06-17T21:18:22.807000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@adietrichs**\n\u003e Would be ideal if we could confirm pre acde Thursday whether any client has an actual reproducible XEN tx at under 33 mgas (so blocker for 100M)\nit's very important to be able to support 100M blocks post fusaka without needing further repricings because those require hardforks. (it's easier if it just requires further client optimizations)",
        "created_at": "2025-06-17T21:19:00.814000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e Discussed with @vdWijden and @parithoshj today. If XEN turns out not to be a blocker for 100M, and the bn precompiles also have a path to 33 mgas without repricing, that would mean we might have a path to 100M post Fusaka without any last minute EIP additions, so we could freeze scope on Thursday.\n\nOne remaining concern is worst case block size (not for 10MB limit, just for propagation time \u003e 4s), but that might be addressable with builder logic adjustments (which are not possible for precompiles because of tx dos)",
        "created_at": "2025-06-17T21:20:55.943000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e I would really love to freeze Fusaka Thu (and on the call that I am filling in for Tim haha), just would hate to freeze something if we know it canâ€™t possibly get us to 100M. But as of right now it looks to me like no definite 100M blockers",
        "created_at": "2025-06-17T21:22:25.593000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e We do need eth/70 but it is off-protocol but still we need to agree on it. So I think it might be a bit wishful to freeze tommorow",
        "created_at": "2025-06-17T21:23:03.906000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e I would really love to freeze Fusaka Thu (and on the call that I am filling in for Tim haha), just would hate to freeze something if we know it canâ€™t possibly get us to 100M. But as of right now it looks to me like no definite 100M blockers\nYou mean 120M pretending to be 100M? https://eips.ethereum.org/EIPS/eip-7778",
        "created_at": "2025-06-17T21:23:57.273000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@ben_a_adams**\n\u003e You mean 120M pretending to be 100M? https://eips.ethereum.org/EIPS/eip-7778\nYes that is super annoying, nothing we can do there pre Glamsterdam. But we really need to ship 7778 in Glamsterdam",
        "created_at": "2025-06-17T21:26:16.287000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e And if thatâ€™s the reason we peak out at 90M or so before then, so be it. Still hopeful we can get to 100M even with that extra refund gas",
        "created_at": "2025-06-17T21:27:24.692000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e I think it should be fine; we'll just need to make some tests to confirm",
        "created_at": "2025-06-17T21:30:44.853000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@adietrichs**\n\u003e And if thatâ€™s the reason we peak out at 90M or so before then, so be it. Still hopeful we can get to 100M even with that extra refund gas\nLooking at the cost, an SSTORE that sets a non-zero cold slot back to zero:\n- costs 2900+2100 gas\n- creates a 4800 gas refund\n\nSo net cost of 200 for a cold read and write.\n\nSo I guess with the 20% refund cap a worst case tx would use 20% of gas on clearing storage slots, and then 80% on whatever the current bottleneck precompile is. Does that sound right?",
        "created_at": "2025-06-17T21:35:52.473000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e At least the refund is less than the cost, so it still on net consumes gas to do that - would be worse if it would actively free up additional gas",
        "created_at": "2025-06-17T21:36:44.856000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e Looking at the cost, an SSTORE that sets a non-zero cold slot back to zero:\n- costs 2900+2100 gas\n- creates a 4800 gas refund\n\nSo net cost of 200 for a cold read and write.\n\nSo I guess with the 20% refund cap a worst case tx would use 20% of gas on clearing storage slots, and then 80% on whatever the current bottleneck precompile is. Does that sound right?\nPop it in an access list also for warm access to bring down that net cost",
        "created_at": "2025-06-17T21:41:08.901000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e Good point (plus slightly slower propagation bc larger block).\n\nShouldnâ€™t make a big difference. But we definitely need to somehow benchmark this",
        "created_at": "2025-06-17T21:44:31.115000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Also in light of https://x.com/bertcmiller/status/1934657926272307332",
        "created_at": "2025-06-17T21:48:28.583000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Is 30M tx limit too high?",
        "created_at": "2025-06-17T21:48:41.682000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e re: **@ben_a_adams**\n\u003e Is 30M tx limit too high?\nYes, but its a limit we can quickly ship without having to do a bunch of onchain analysis",
        "created_at": "2025-06-17T21:50:07.663000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@vdWijden**\n\u003e Yes, but its a limit we can quickly ship without having to do a bunch of onchain analysis\nDid do it previously for last 3months and all but one tx over 5M were XEN ðŸ˜…\n\nThink there was also an OP 3x chain upgrade over longer period at 9M? (Though my memory fuzzy)",
        "created_at": "2025-06-17T21:52:25.658000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@vdWijden**\n\u003e Yes, but its a limit we can quickly ship without having to do a bunch of onchain analysis\ncan you give a detailed list of all the analysis you would like to see for this?",
        "created_at": "2025-06-17T21:53:19.909000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@ben_a_adams**\n\u003e Is 30M tx limit too high?\nHow would a lower limit help here?",
        "created_at": "2025-06-17T22:01:28.070000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e Is 30M tx limit too high?\nwait too high for what?",
        "created_at": "2025-06-17T22:03:02.413000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e you think there will less MEV with a lower limit? I think it might be the case but for veeery low limits like 5/10M",
        "created_at": "2025-06-17T22:03:24.455000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@adietrichs**\n\u003e How would a lower limit help here?\nIs back to parallization/prewarming; both XEN and on-chain searching are massive state access, so if they dominate with single txs then they take the slow path\n\nMultiple txs and pre-execute picks up slack",
        "created_at": "2025-06-17T22:03:56.433000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e you think there will less MEV with a lower limit? I think it might be the case but for veeery low limits like 5/10M\ndon't really care what people do; I care more that it is efficient to execute ðŸ˜…\n\nCould see ochain searching as good as it has lower state growth than most txs ðŸ¤£",
        "created_at": "2025-06-17T22:05:10.680000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e ah yes but we cannot do that because it breaks OP HFs",
        "created_at": "2025-06-17T22:06:10.416000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@ben_a_adams**\n\u003e Is back to parallization/prewarming; both XEN and on-chain searching are massive state access, so if they dominate with single txs then they take the slow path\n\nMultiple txs and pre-execute picks up slack\ncanâ€™t enjoy the parallelization benefits in the worst case until BALs come along. but I like the idea of limiting tx size now so that ppl donâ€™t grow dependent on it in the future",
        "created_at": "2025-06-17T22:06:21.902000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think there is lot of appetite for a lower limit. e.g see ZkEVM",
        "created_at": "2025-06-17T22:06:27.479000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshekhirin\u003e I wonder how Geth or Nethermind do on such txs https://basescan.org/tx/0xbd43b24a14246842fae4f0ae093de6e86f07b429c779dc2ffb727c4247b2ab2b",
        "created_at": "2025-06-17T22:06:56.914000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@FunnyGiulio**\n\u003e ah yes but we cannot do that because it breaks OP HFs\ncannot might be too strong a word. Op would have to rework some things but might still be possible",
        "created_at": "2025-06-17T22:07:16.055000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e I think there is lot of appetite for a lower limit. e.g see ZkEVM\nYeah is also tx memory size before unwind; larger txs more things held in memory for tx",
        "created_at": "2025-06-17T22:07:18.730000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Same issue",
        "created_at": "2025-06-17T22:08:28.317000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_47.jpg",
                "content": "4a8c661ea3592ee522cd87941b66355ada4e8f422c132e61faaa0ba9a0cefbbf"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e I think there is lot of appetite for a lower limit. e.g see ZkEVM\nSame rule to me though, letâ€™s just finalize Fusaka, sort this out for Glamsterdam.\n\nNot sure we could agree on a harder cap by Thursday.",
        "created_at": "2025-06-17T22:08:36.504000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e Long term I expect this to come down to something more like 10M",
        "created_at": "2025-06-17T22:09:31.189000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I dont think we can",
        "created_at": "2025-06-17T22:10:12.291000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e My opinion is to go for 30M first then ask OP/others if they really need 30M",
        "created_at": "2025-06-17T22:10:25.462000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@adietrichs**\n\u003e Same rule to me though, letâ€™s just finalize Fusaka, sort this out for Glamsterdam.\n\nNot sure we could agree on a harder cap by Thursday.\nE.g. have we talked to L2s? They might hate low caps for their own chains because it breaks their 4337 bundle based compression or something, and would also hate to have a custom cap different from mainnet (just an idea, not sure if this is the case).",
        "created_at": "2025-06-17T22:12:05.342000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e L2s can do whatever they want",
        "created_at": "2025-06-17T22:12:24.398000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e They can just set cap to infinity",
        "created_at": "2025-06-17T22:12:36.482000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e They happen to be madly in love with EVM equivalence",
        "created_at": "2025-06-17T22:12:55.337000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Note: example from other ecosystems 60M block; 1.4M tx cap https://www.helius.dev/blog/agave-v22-update--all-you-need-to-know",
        "created_at": "2025-06-17T22:12:57.919000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_48.jpg",
                "content": "0a89697701afa4f9569b336896f337119ab7e7a4a527dd937ab860ee3a4cf3ba"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@adietrichs**\n\u003e They happen to be madly in love with EVM equivalence\nYou are equivalent. You just use different params :)",
        "created_at": "2025-06-17T22:14:00.055000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Anyway, idk. I think the cap is needed regardless. Receipts worst case cap is based on top the tx cap",
        "created_at": "2025-06-17T22:14:15.283000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cadietrichs\u003e re: **@FunnyGiulio**\n\u003e You are equivalent. You just use different params :)\nFor the cap that could be fine, no idea. But e.g. the zk ones stick to our keccak pricing even though it causes massive headaches for them",
        "created_at": "2025-06-17T22:15:03.988000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e what is the likelihood of getting sufficient mod exp improvements from geth besu erigon to hit 60M pre fusaka?",
        "created_at": "2025-06-17T22:15:28.381000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@notnotstorm_p**\n\u003e what is the likelihood of getting sufficient mod exp improvements from geth besu erigon to hit 60M pre fusaka?\nI think we can figure it out",
        "created_at": "2025-06-17T22:15:50.963000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@shekhirin**\n\u003e I wonder how Geth or Nethermind do on such txs https://basescan.org/tx/0xbd43b24a14246842fae4f0ae093de6e86f07b429c779dc2ffb727c4247b2ab2b\nI think we could sync base mainnet and observe as we do not have any running instance for now",
        "created_at": "2025-06-17T22:16:26.189000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@FunnyGiulio**\n\u003e I think we can figure it out\nis there enough compatibility between erigon and geth codebases for geth to reuse your implementation?",
        "created_at": "2025-06-17T22:18:48.001000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@notnotstorm_p**\n\u003e is there enough compatibility between erigon and geth codebases for geth to reuse your implementation?\nyeah. i think they can even use our update secp bindings",
        "created_at": "2025-06-17T22:19:08.014000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e I dont think we can\n15M phishing tx https://etherscan.io/tx/0x2f5342fd7e4cf450f756eaea990c08bdd29ebd2116760a3a47e5fd351c736493",
        "created_at": "2025-06-17T22:19:08.939000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e yeah most txs \u003e25M are scam tokens mints",
        "created_at": "2025-06-17T22:19:34.686000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e yeah most txs \u003e25M are scam tokens mints\nThis one is thousands of 0 transfers for good tokens; to show in scan logs and cause address copypasta mistakes",
        "created_at": "2025-06-17T22:20:26.025000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e I believe generally the plan is to confirm how bad are we really on XEN txs.\n\n@lrozmej have a backup ready to be check on Nethermind side + Jochem having very promising scenarios and I'd sync similar spec machine as we used before for 1.6 sec block to confirm we reproduced it.\n\nTbh imo - if we aim aim at 100 RIGHT AFTER Fusaka we need to think how to get to 60-80 before not to make too big of a jump.",
        "created_at": "2025-06-17T22:20:45.069000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e honestly idk, lets ship 30M. it seems good etiquette and probably Solana does because there is a good reason behind it",
        "created_at": "2025-06-17T22:20:59.151000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e also L2s still need proper scaling infra. they probably should have such a cap themselves. bandwidth and computation is not cheap",
        "created_at": "2025-06-17T22:21:22.861000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e honestly idk, lets ship 30M. it seems good etiquette and probably Solana does because there is a good reason behind it\nthey like to parallelize things; but also only do it at tx level :)",
        "created_at": "2025-06-17T22:22:00.871000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@FunnyGiulio**\n\u003e yeah. i think they can even use our update secp bindings\nthis would be awesome\n\nthat just leaves besu then. is anyone from besu present that could elaborate on possible modexp plans?",
        "created_at": "2025-06-17T22:22:26.240000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e About tx cap my 2 cents - do it 30, do a research and in glamsterdam reduce to 20 if nothing blocks us",
        "created_at": "2025-06-17T22:22:30.895000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@KamilChNethermind**\n\u003e About tx cap my 2 cents - do it 30, do a research and in glamsterdam reduce to 20 if nothing blocks us\n* Reduce it as much as possible",
        "created_at": "2025-06-17T22:22:47.818000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e * which i suspect we cannot reduce at all",
        "created_at": "2025-06-17T22:23:17.894000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@FunnyGiulio**\n\u003e * Reduce it as much as possible\nYeah but leave a space for future interesting scenarios - I'd say highest seen between fusaka and scope lock for glamsterdam + 20%",
        "created_at": "2025-06-17T22:23:46.543000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e re: **@notnotstorm_p**\n\u003e this would be awesome\n\nthat just leaves besu then. is anyone from besu present that could elaborate on possible modexp plans?\nWe discussed it briefly - besu results are better when warmed so I think we can safely assume 20-30% better results for them - but of course will do my best to prove with data",
        "created_at": "2025-06-17T22:26:01.499000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e But @amezianehamlat \u003c@341574016160497665\u003e and rest of team will look at modexp and EC more",
        "created_at": "2025-06-17T22:26:31.046000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e btw since berlininterop devnet is good afaik. will we add 7934 and CLZ?",
        "created_at": "2025-06-17T22:26:54.383000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e i think we need 7934 *at least*",
        "created_at": "2025-06-17T22:27:09.534000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e i think we need 7934 *at least*\nthought that was in?",
        "created_at": "2025-06-17T22:27:46.612000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e it is CFId",
        "created_at": "2025-06-17T22:28:01.295000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e and in berlininterop",
        "created_at": "2025-06-17T22:28:16.309000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e but I think both should be in because they have been part of a devnet",
        "created_at": "2025-06-17T22:28:27.709000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e but I think both should be in because they have been part of a devnet\nCLZ is for ACDE; not here",
        "created_at": "2025-06-17T22:28:54.284000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e however, 7907 wont make it  if we freeze scope this week ðŸ™",
        "created_at": "2025-06-17T22:29:05.970000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e CLZ is for ACDE; not here\nyeah sorry",
        "created_at": "2025-06-17T22:29:32.767000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e BTW- can client teams prepare a \"dummy hardfork\" so some versions which will force enable repricing of modexp?\n\n@marcin_d_s did one for Nethermind and going to give it a shot to see if repricing will \"work\" but we could completely theoretically check if that was done well for other clients before we will do a proper fusaka opcodes testing",
        "created_at": "2025-06-17T22:34:08.743000+00:00",
        "attachments": null
    }
]