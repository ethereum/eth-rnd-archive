[
    {
        "author": "parithosh",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@194432762315407360\u003e , \u003c@687974325072035882\u003e and \u003c@519796549279023105\u003e , does it look like there are client optimisations that would get the ModExp performance better (post repricing?)\n\nThe graph here is the benchmark after the ModExp repricing and performance: https://grafana.observability.ethpandaops.io/d/feo4ronhsqv40e/opcodes-benchmarking-modexp-repricing?orgId=1\u0026from=now-3h\u0026to=now\u0026timezone=browser\u0026var-posgreSQL=benuragv7iuwwb\u0026var-ClientName=$__all\u0026var-TestTitle=$__all\u0026refresh=auto\u0026viewPanel=panel-3\n\nSo if there are no client optimisations that could get the number higher, then we should reprice ModExp and come up with a number by Thursday so we can freeze the Fusaka scope for the topic.",
        "created_at": "2025-07-01T16:32:03.434000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cfede_intern\u003e re: **@chfast**\n\u003e Can I get access to the dashboard?\nme too, could i get access?",
        "created_at": "2025-07-01T16:35:19.551000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e dashboard is just this one chart",
        "created_at": "2025-07-01T16:42:01.653000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_67.jpg",
                "content": "ca00909d3524c5aff59925593c5f4f29cff028a1aacd334fb0118df9db2d5f4a"
            }
        ]
    },
    {
        "author": "parithosh",
        "category": "Execution Layer",
        "parent": "",
        "content": "all the perf related dashboards are here: https://grafana.observability.ethpandaops.io/dashboards/f/cenuglw1iqtxca/?orgId=1",
        "created_at": "2025-07-01T16:44:39.333000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@notnotstorm_p**\n\u003e dashboard is just this one chart\nreth's modexp optimizations are not enabled in this dash",
        "created_at": "2025-07-01T16:45:12.115000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Execution Layer",
        "parent": "",
        "content": "ah, could the changes be pushed to the performance branch?",
        "created_at": "2025-07-01T16:45:36.285000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e @vdWijden wdyt about geth + erigon sharing an adapter to the GMP library for modexp?",
        "created_at": "2025-07-01T16:45:36.607000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e yeah we only have the modexp improvements on the performance branch right now, not on other branches, we'll get them there",
        "created_at": "2025-07-01T16:46:33.002000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e re: **@notnotstorm_p**\n\u003e @vdWijden wdyt about geth + erigon sharing an adapter to the GMP library for modexp?\nWe will not use gmp if possible. We did have it in the past and apparently it was a huge hassle for users. We might be trying to port some of the improvements from gmp to go",
        "created_at": "2025-07-01T16:46:55.350000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cparithoshj\u003e re: **@rjected**\n\u003e yeah we only have the modexp improvements on the performance branch right now, not on other branches, we'll get them there\nI'm confused then, the benchmarks run against the performance branch. So the posted dashboard has the performance after perf improvement + repricing right?",
        "created_at": "2025-07-01T16:47:55.615000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e Yes, there's a performance and a performance modexp branch",
        "created_at": "2025-07-01T16:48:25.145000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e we do not have the changes on the performance modexp branch yet",
        "created_at": "2025-07-01T16:49:55.781000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cparithoshj\u003e Would it be possible to do so soon? we want to make a decision on modexp as soon as possible",
        "created_at": "2025-07-01T16:50:22.835000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e yeah I can prio",
        "created_at": "2025-07-01T16:50:32.374000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@vdWijden**\n\u003e We will not use gmp if possible. We did have it in the past and apparently it was a huge hassle for users. We might be trying to port some of the improvements from gmp to go\ninteresting\n\n1. do you remember what issues users were running into?\n\n2. do you know of any other path toward significant modexp performance improvements?",
        "created_at": "2025-07-01T16:54:02.973000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e It was long before my time, but afaik it required users to have a certain version of gmp installed and if not, geth wouldn't start up. Again not sure",
        "created_at": "2025-07-01T16:55:29.651000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e I don't really see any other paths toward modexp improvements. We are accepting a pretty crazy range of inputs, so optimizing without creating new edge cases is very hard imo",
        "created_at": "2025-07-01T16:56:49.015000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@vdWijden**\n\u003e It was long before my time, but afaik it required users to have a certain version of gmp installed and if not, geth wouldn't start up. Again not sure\nWe had issue with latest release of not compiling for wide enough range of cpus (insert what year is it gif); fixed in 1.32.2. Could probably provide assistance here if needed",
        "created_at": "2025-07-01T17:00:48.209000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@vdWijden**\n\u003e I don't really see any other paths toward modexp improvements. We are accepting a pretty crazy range of inputs, so optimizing without creating new edge cases is very hard imo\nyea that's unfortunate. maybe worth re-exploring the GMP path to see if usability has improved over the years\n\nreth had to jump through some annoying hoops to integrate GMP but it eventually landed somewhere solid",
        "created_at": "2025-07-01T17:04:10.003000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003crjected\u003e re: **@parithoshj**\n\u003e Would it be possible to do so soon? we want to make a decision on modexp as soon as possible\njust pushed to https://github.com/paradigmxyz/reth/commits/performance-modexp/ with gmp enabled",
        "created_at": "2025-07-01T18:25:44.028000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cchfast\u003e re: **@vdWijden**\n\u003e It was long before my time, but afaik it required users to have a certain version of gmp installed and if not, geth wouldn't start up. Again not sure\nYou can use pre-built binaries and link statically (if the license permits). But still users will have issues with building from source (common for golang).",
        "created_at": "2025-07-01T19:48:43.890000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "We are still evaluating the changes. However, I do think it's important not to specialize the gas costs of MODEXP to a single implementation. It would be unfair also to future implementers of the protocol.\n\nMODEXP is a very general operation with a large parameter space, and every implementation will have different performance characteristics. There are several possible optimized algorithms and thresholds.\n\nMODEXP is also rare enough that I think it's OK to have it slightly overpriced.",
        "created_at": "2025-07-01T19:52:11.401000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@gas_limit_testing_bot**\n\u003e \u003c.fjl\u003e [reply]: We are still evaluating the changes. However, I do think it's important not to specialize the gas costs of MODEXP to a single implementation. It would be unfair also to future implementers of the protocol.\n\nMODEXP is a very general operation with a large parameter space, and every implementation will have different performance characteristics. There are several possible optimized algorithms and thresholds.\n\nMODEXP is also rare enough that I think it's OK to have it slightly overpriced.\nerring on the side of overpricing modexp sounds good. it's important that 100M becomes very comfortable post-fusaka\n\nin the future the modexp price can come back down if clients find more optimizations",
        "created_at": "2025-07-01T20:14:51.303000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e We should avoid by all costs using same libraries in all clients tbh to not introduce new type of security threats.\n\nOptimize what we can with currently used ones and if there is a space for change (when there is good diversity) - try that.",
        "created_at": "2025-07-01T22:00:34.539000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution Layer",
        "parent": "",
        "content": "What happened to the separate \"warmed\" dashboard?\n\nWhat's the warmup situation for the modexp repricing dash?",
        "created_at": "2025-07-01T22:14:02.601000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Main one is \"warm\" now - warming was merged and by default for each scenario we execute 2x 150mgas transaction with same opcode as tested",
        "created_at": "2025-07-01T22:39:01.290000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e So quite a lot of warming before actual execution",
        "created_at": "2025-07-01T22:39:15.912000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Same for modexp branches",
        "created_at": "2025-07-01T22:39:40.904000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Execution Layer",
        "parent": "",
        "content": "Nice! Can you point me to the warming code please?",
        "created_at": "2025-07-01T22:40:00.779000+00:00",
        "attachments": null
    },
    {
        "author": ".meyer9",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@808969530608451584\u003e \u003c@199561711278227457\u003e Can you accept my friend invite so I can DM? I have a question about the scaling blog post that might be considered semi-sensitive.",
        "created_at": "2025-07-01T23:06:24.202000+00:00",
        "attachments": null
    },
    {
        "author": ".meyer9",
        "category": "Execution Layer",
        "parent": "",
        "content": "nvm, was able to send a message to parithosh about my question!",
        "created_at": "2025-07-01T23:10:02.135000+00:00",
        "attachments": null
    }
]