[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e *Gathering some opinions here about Stateful benchmarking.*\n\nIn \"compute\" ones it is quite fine that we pre-run tests with crafted \"invalid state root\" blocks to warmup EVM and it does not affect anything.\nIn stateful warming is a bit tricky because except of \"warming the code\" clients likely also fetch the data from Database and put it into cache so subsequent runs are significantly faster.\n\nAlso issue with stateful scenarios on top of existing databases is that we cannot \"generate\" genesis which will have all setup steps - we need to execute a few (if not hundreds) of blocks which may still touch same contracts/storage slots/addresses etc - which is causing the actual test to be faster than on \"cold storage\" state.\n\nFew solutions - you can either tell me which you feel (from execution client devs perspective) is the best one or suggest better:\n1 - simply restart the client right before the attack - but it will make cold node, EVM and storage (which may make a bit random results). *Easiest option*\n2 - restart before testing, have a warmup which will warm up and SLOAD/SSTORE using some contract which will never be tested (something we are not interested in testing yet will be effective enough to prepare the node for actual test). *More complex option.*\n3 - ???? Suggestions? \n\nMaybe you have some options (configuration wise) which can ensure that we do not keep anything in memory and always force pick from database (which is something we need to test in this scenario)?",
        "created_at": "2025-10-03T13:58:22.950000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cCPerezz\u003e re: **@KamilChNethermind**\n\u003e Gathering some opinions here about Stateful benchmarking.\n\nIn \"compute\" ones it is quite fine that we pre-run tests with crafted \"invalid state root\" blocks to warmup EVM and it does not affect anything.\nIn stateful warming is a bit tricky because except of \"warming the code\" clients likely also fetch the data from Database and put it into cache so subsequent runs are significantly faster.\n\nAlso issue with stateful scenarios on top of existing databases is that we cannot \"generate\" genesis which will have all setup steps - we need to execute a few (if not hundreds) of blocks which may still touch same contracts/storage slots/addresses etc - which is causing the actual test to be faster than on \"cold storage\" state.\n\nFew solutions - you can either tell me which you feel (from execution client devs perspective) is the best one or suggest better:\n1 - simply restart the client right before the attack - but it will make cold node, EVM and storage (which may make a bit random results). Easiest option\n2 - restart before testing, have a warmup which will warm up and SLOAD/SSTORE using some contract which will never be tested (something we are not interested in testing yet will be effective enough to prepare the node for actual test). More complex option.\n3 - ???? Suggestions? \n\nMaybe you have some options (configuration wise) which can ensure that we do not keep anything in memory and always force pick from database (which is something we need to test in this scenario)?\nMaybe this should be forwarded to State Bloat Research channel too?",
        "created_at": "2025-10-03T14:02:43.045000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e I expect that this channel have almost everyone that is on State Bloat one but yeah I can forward there as well.",
        "created_at": "2025-10-03T14:03:28.158000+00:00",
        "attachments": null
    }
]