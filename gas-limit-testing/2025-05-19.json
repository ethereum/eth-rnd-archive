[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@justindrake**\n\u003e What's the plan for \u003e10 MiB blocks? Should the max message size be a function of gas limit (as opposed to being hardcoded)?\nIf you want more than 10MiB, speed up slots instead. Making blocks bigger increases latency as you can't do anything until have received full block",
        "created_at": "2025-05-19T06:18:45.280000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e 10MiB =\u003e 80Mbits * peer prorogation; 50Mbit upload, \u003e 1 sec\n\ntransmitting to 2 peers @ 50Mbit upload \u003e 2 sec etc",
        "created_at": "2025-05-19T06:21:03.027000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003ccskiraly\u003e re: **@justindrake**\n\u003e What's the plan for \u003e10 MiB blocks? Should the max message size be a function of gas limit (as opposed to being hardcoded)?\nThe p2p techniques to diffuse large messages are quite well known. The question is whether this is the direction we want. Anyway, the techniques:\n\n1, eliminate store-and-forward delay. Store and forward delay means first you have to receive the whole message before you can forward it. Techniques to reduce it:\n - a, segment, the message, forward per segment. Here you also need to commit to the segments somehow, e.g. sign them\n - b, cut-through forwarding, which means preprocessing the header and starting forwarding based on that\n\n2, Reduce duplicates when bandwidth constrained. E.g. see my writup on push-pull phase transition.\n\n3, Segment, and erasure code, diffusing ECd segments on multiple path. Here you can use 1D RS, 2D RS as I did in my simuations, or RLC. There are slight differences, but the essence is that you cut the tail of the delay distribution, leading to stricter timings overall.",
        "created_at": "2025-05-19T06:32:08.171000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@cskiraly**\n\u003e The p2p techniques to diffuse large messages are quite well known. The question is whether this is the direction we want. Anyway, the techniques:\n\n1, eliminate store-and-forward delay. Store and forward delay means first you have to receive the whole message before you can forward it. Techniques to reduce it:\n - a, segment, the message, forward per segment. Here you also need to commit to the segments somehow, e.g. sign them\n - b, cut-through forwarding, which means preprocessing the header and starting forwarding based on that\n\n2, Reduce duplicates when bandwidth constrained. E.g. see my writup on push-pull phase transition.\n\n3, Segment, and erasure code, diffusing ECd segments on multiple path. Here you can use 1D RS, 2D RS as I did in my simuations, or RLC. There are slight differences, but the essence is that you cut the tail of the delay distribution, leading to stricter timings overall.\nSegmenting also smells a little like smaller faster blocks ðŸ˜‰",
        "created_at": "2025-05-19T06:33:29.298000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003ccskiraly\u003e re: **@ben_a_adams**\n\u003e Segmenting also smells a little like smaller faster blocks ðŸ˜‰\nIndeed, I'm not saying solve this at the networking layer is the ideal solution. The networking layer has no idea of what's in the message, which leads to inefficiencies. Smaller blocks however means more overhead in other parts of the system, such as attestation traffic, attestation processing, fork choice, etc.\n\nIf you want to speed timeframes up for attestations as well, you might have to start pipelining, which interacts with fork choice logic. IMHO long term it's better to have a finer granularity (i.e. smaller blocks and better pipelining). But short term, supporting larger message sizes is easier, and beneficial even well below 10MB. IMHO benefits would start to show on the mainnet well below 1MB.",
        "created_at": "2025-05-19T06:42:46.500000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Need to go lower? Have 512kB as margin for CL currently https://eips.ethereum.org/EIPS/eip-7934",
        "created_at": "2025-05-19T07:21:58.680000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_28.jpg",
                "content": "990df95b37663933ba713c8fc5b0fdf9afcf62cef7375d75a550680c77cc15ed"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I can upgrate it to be around 2.5 MB for the margin",
        "created_at": "2025-05-19T10:58:08.896000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e With 7.5 mib and 2.5 CL buffer, the max gas limit we can support right now is 78,6m.",
        "created_at": "2025-05-19T11:21:07.396000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e We are safe for 60M :)",
        "created_at": "2025-05-19T11:21:50.495000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@nero_eth**\n\u003e With 7.5 mib and 2.5 CL buffer, the max gas limit we can support right now is 78,6m.\nwhy's that? I could have a tx that loops and consumes 400MGas",
        "created_at": "2025-05-19T11:22:03.035000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@ben_a_adams**\n\u003e why's that? I could have a tx that loops and consumes 400MGas\nHow do you mean?",
        "created_at": "2025-05-19T11:22:32.230000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@nero_eth**\n\u003e How do you mean?\nDo you mean that 7.5 MiB blocks limits gaslimit to 78.6M? Not sure how they are related",
        "created_at": "2025-05-19T11:23:51.973000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e Calldata relation, right?",
        "created_at": "2025-05-19T11:25:11.097000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cKamilChNethermind\u003e With zeros",
        "created_at": "2025-05-19T11:25:18.790000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@KamilChNethermind**\n\u003e Calldata relation, right?\nCalldata is mostly irrelevant if txs are doing work?",
        "created_at": "2025-05-19T11:25:58.217000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e Yes. 10mb is a hard limit. 2.5 of that is reserved for the CL worst-case. Then, only considering calldata+CL, with 78m gas you could reach that with zeros. So, practically it's probably somewhere between 75-78m.",
        "created_at": "2025-05-19T11:26:05.154000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@ben_a_adams**\n\u003e Calldata is mostly irrelevant if txs are doing work?\nYou still need to handle the worst case with calldata",
        "created_at": "2025-05-19T11:27:36.117000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@amezianehamlat**\n\u003e You still need to handle the worst case with calldata\nYeah, but previously were allowing 10MiB - 512kB, so don't see how reducing to 7.5MiB would be more of a problem; calldata wise?",
        "created_at": "2025-05-19T11:29:33.576000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@ben_a_adams**\n\u003e Yeah, but previously were allowing 10MiB - 512kB, so don't see how reducing to 7.5MiB would be more of a problem; calldata wise?\nI think it is just we didn't do the math as \u003c@792404665068158998\u003e did, I think this https://github.com/Sophia-Gold/EIPs/blob/8c88bf1cfd411345d9dfe31a2ee2149edad9cf47/eip-7935.md also needs to be updated, I see 150 mgas for 10 MiB EL block whereas it is more around ~104 mgas",
        "created_at": "2025-05-19T11:31:29.040000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@amezianehamlat**\n\u003e I think it is just we didn't do the math as \u003c@792404665068158998\u003e did, I think this https://github.com/Sophia-Gold/EIPs/blob/8c88bf1cfd411345d9dfe31a2ee2149edad9cf47/eip-7935.md also needs to be updated, I see 150 mgas for 10 MiB EL block whereas it is more around ~104 mgas\nIt says less than 150 mgas, which is still accurate though",
        "created_at": "2025-05-19T11:33:35.594000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e I'm still not getting it. the 10MiB block limits calldata to 105MGas; but that doesn't prevent us setting gaslimit to 400MGas, just calldata cannot use more than 105MGas of it; rest has to be execution",
        "created_at": "2025-05-19T11:33:53.797000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e L1 Evm does a lot more than just pass `0` calldata values?",
        "created_at": "2025-05-19T11:34:41.178000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e What if as a builder I build a block of 400 mgas call data ? the block is valid but will not be broadcasted",
        "created_at": "2025-05-19T11:36:16.667000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@amezianehamlat**\n\u003e What if as a builder I build a block of 400 mgas call data ? the block is valid but will not be broadcasted\neip-7934 will kill it as invalid",
        "created_at": "2025-05-19T11:37:08.344000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@amezianehamlat**\n\u003e I think it is just we didn't do the math as \u003c@792404665068158998\u003e did, I think this https://github.com/Sophia-Gold/EIPs/blob/8c88bf1cfd411345d9dfe31a2ee2149edad9cf47/eip-7935.md also needs to be updated, I see 150 mgas for 10 MiB EL block whereas it is more around ~104 mgas\nI'll update the eip and add this table I created a while ago to it:\nhttps://hackmd.io/65OyNvJGQe-EKALa8BwT1A",
        "created_at": "2025-05-19T11:37:17.321000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e",
        "created_at": "2025-05-19T11:37:56.087000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_29.jpg",
                "content": "a36b4007959074940ee78bace8db96e7dc03fd24548d144e051996f2269576b5"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@amezianehamlat**\n\u003e What if as a builder I build a block of 400 mgas call data ? the block is valid but will not be broadcasted\nPoint of EIP-7934 is that will be an invalid block (if it goes over size limit) so not built https://eips.ethereum.org/EIPS/eip-7934",
        "created_at": "2025-05-19T11:38:46.066000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@ben_a_adams**\n\u003e Point of EIP-7934 is that will be an invalid block (if it goes over size limit) so not built https://eips.ethereum.org/EIPS/eip-7934\nSo gas schedule is not sufficient in this case to handle that case, so when crafting transactions, users/dapp need to have a way to estimate transaction payload, it is not that complex, but I guess eth_estimateGas is more convenient to use.",
        "created_at": "2025-05-19T11:42:53.581000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@amezianehamlat**\n\u003e So gas schedule is not sufficient in this case to handle that case, so when crafting transactions, users/dapp need to have a way to estimate transaction payload, it is not that complex, but I guess eth_estimateGas is more convenient to use.\nAlso have tx gaslimit of 36M https://eips.ethereum.org/EIPS/eip-7825",
        "created_at": "2025-05-19T11:47:03.130000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@amezianehamlat**\n\u003e So gas schedule is not sufficient in this case to handle that case, so when crafting transactions, users/dapp need to have a way to estimate transaction payload, it is not that complex, but I guess eth_estimateGas is more convenient to use.\nNot sure how is relevant to users?",
        "created_at": "2025-05-19T11:47:27.737000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Can't get close to the block size limit with a single tx (with both EIPs in)",
        "created_at": "2025-05-19T11:48:39.498000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e re: **@ben_a_adams**\n\u003e Not sure how is relevant to users?\nI mean, as a sender of a transaction, how can I be sure that my transaction is valid, and not hit the 10 MiB limit, but I agree that with EIP-7825, it is far from the 10 MiB limit. 40 mgas worst case on EL calldata is 3.81 MiB",
        "created_at": "2025-05-19T11:50:38.295000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003camezianehamlat\u003e So with EIP-7934 and EIP-7825, it is safe to go higher than 104 mgas per block. The block will be limited on call data but we can fill it with much more transactions",
        "created_at": "2025-05-19T11:52:42.040000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@amezianehamlat**\n\u003e I mean, as a sender of a transaction, how can I be sure that my transaction is valid, and not hit the 10 MiB limit, but I agree that with EIP-7825, it is far from the 10 MiB limit. 40 mgas worst case on EL calldata is 3.81 MiB\nIf both EIP-7825 and EIP-7934 aren't in Fusaka then yes we have a problem with increasing gas; but if they both are then we don't",
        "created_at": "2025-05-19T11:52:49.223000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Though both are at high values; my question earlier was if 10MiB-512KiB was too high (as CL side may be bigger than 512KiB; also with propagation time at recommended bandwidth levels)",
        "created_at": "2025-05-19T11:54:42.693000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e + 60M is still okay for pectra",
        "created_at": "2025-05-19T11:54:51.768000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e It was known we were not going to bump before Fusaka past 60M anyways",
        "created_at": "2025-05-19T11:55:17.675000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e And a 30Mgas tx is a fairly spicy size; so should it be lower? As an example for other ecosystem Solana's max tx size is 3% of a block (so ~1MGas)",
        "created_at": "2025-05-19T11:58:03.156000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e be careful about contract deploys",
        "created_at": "2025-05-19T11:58:33.402000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e be careful about contract deploys\nCan you get to 30M with a contract deploy? (That isn't intentionally burning gas in initcode)",
        "created_at": "2025-05-19T11:59:49.141000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I don't believe there are any constraints on contract deployment gas used?",
        "created_at": "2025-05-19T12:00:12.260000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Any code in the constructor is going to cost you, and I don't *think* that is constrained.",
        "created_at": "2025-05-19T12:00:26.596000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Only in same way that a regular tx is currently unconstrained",
        "created_at": "2025-05-19T12:00:51.450000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e But is that sensible; that a tx consumes the whole block and prevents all other txs?",
        "created_at": "2025-05-19T12:01:20.985000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "One could certainly imagine up some scenarios where it makes sense.  Particularly if you have a huge amount of work you need to do as part of a deployment and you want to make sure the whole set of things is atomic.",
        "created_at": "2025-05-19T12:57:02.199000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Idk but 30M makes me reasonably sleep well at night because it has a 0% probability to break *anything*",
        "created_at": "2025-05-19T12:57:57.168000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003ccskiraly\u003e I would simply introduce an explicit size limit for TXes. We already have limits in implementations, just not standardised. Having an explicit limit IMHO would be better. This can go together with a gas limit.",
        "created_at": "2025-05-19T12:58:26.885000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@cskiraly**\n\u003e I would simply introduce an explicit size limit for TXes. We already have limits in implementations, just not standardised. Having an explicit limit IMHO would be better. This can go together with a gas limit.\nI think this is risky",
        "created_at": "2025-05-19T12:58:50.794000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003ccskiraly\u003e re: **@FunnyGiulio**\n\u003e I think this is risky\ncould be, but I curious to hear why",
        "created_at": "2025-05-19T12:59:23+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e imo we empirically know a size where no app breaks due to law of physics (30M), the rest is kind of speculation",
        "created_at": "2025-05-19T12:59:31.230000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Law of physics = we never went past 30M",
        "created_at": "2025-05-19T12:59:59.016000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Ah, your concern is that there may be something that is already deployed that needs 36M gas transactions, but we can be quite confident that nothing deployed depends on 36M gas transactions?",
        "created_at": "2025-05-19T13:00:22.865000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003ccskiraly\u003e Both are resource limits. gas is a CPU limit, message size is a networking limit. Both can be constrained, I still don't see why that would be risky.",
        "created_at": "2025-05-19T13:00:45.649000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@gas_limit_testing_bot**\n\u003e \u003csky.cactus\u003e Ah, your concern is that there may be something that is already deployed that needs 36M gas transactions, but we can be quite confident that nothing deployed depends on 36M gas transactions?\nMaybe unfounded but why risk it?",
        "created_at": "2025-05-19T13:00:46.526000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Like i do not get why you would want to go lower either. + I think gas limit already encapsulate tx size",
        "created_at": "2025-05-19T13:01:19.003000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e Like i do not get why you would want to go lower either. + I think gas limit already encapsulate tx size\nParallelism; can't run a tx that is entire block in parallel, so is worst case from that respect",
        "created_at": "2025-05-19T13:04:31.960000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@ben_a_adams**\n\u003e Parallelism; can't run a tx that is entire block in parallel, so is worst case from that respect\nBAL fixes this but in my head computation is cheap",
        "created_at": "2025-05-19T13:18:54.754000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e BAL fixes this but in my head computation is cheap\nNot really because whole block needs to be run sequentially if its 1 tx",
        "created_at": "2025-05-19T13:19:36.531000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Is nothing to run in parallel",
        "created_at": "2025-05-19T13:20:02.769000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e mmmh",
        "created_at": "2025-05-19T13:20:18.577000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I wonder how big is the biggest tx ever observed in mainnet (and what kind of tx is that)",
        "created_at": "2025-05-19T13:20:42.986000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e I think someone had some charts on tx gas distribution, but can't remember who @notnotstorm_p or \u003c@792404665068158998\u003e maybe?",
        "created_at": "2025-05-19T13:21:13.783000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Probably a block stuffing transaction.",
        "created_at": "2025-05-19T13:21:31.173000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I mean in terms of GL",
        "created_at": "2025-05-19T13:21:56.648000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yeah, I suspect it was someone intentionally trying to fill a block for one reason or another.",
        "created_at": "2025-05-19T13:23:25.617000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think we can start with 30M and move it lower later, e.g 10M or 1M",
        "created_at": "2025-05-19T13:25:55.033000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e I think we can start with 30M and move it lower later, e.g 10M or 1M\nHarder to nerf than increase?",
        "created_at": "2025-05-19T13:26:24.580000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Right right",
        "created_at": "2025-05-19T13:26:31.954000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Ok, I need the data to evaluate",
        "created_at": "2025-05-19T13:26:56.432000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Wait, maybe it was me",
        "created_at": "2025-05-19T13:28:01.593000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I'd actually consider only past year txs btw because it shows current popular apps/active projects",
        "created_at": "2025-05-19T13:28:23.944000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Checking my Dune ðŸ˜…",
        "created_at": "2025-05-19T13:28:25.286000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e",
        "created_at": "2025-05-19T13:44:09.033000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_30.jpg",
                "content": "0d3cffb712b8f886e88fbdc9398ae6656308c11996ad18e94ceb96e2af374ced"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e quickly created this one. lmk if that's what you were looking for",
        "created_at": "2025-05-19T13:44:35.467000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_30.jpg",
                "content": "0d3cffb712b8f886e88fbdc9398ae6656308c11996ad18e94ceb96e2af374ced"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Oof",
        "created_at": "2025-05-19T13:45:10.548000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e quickly created this one. lmk if that's what you were looking for (last 14 days).",
        "created_at": "2025-05-19T13:45:18.135000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_30.jpg",
                "content": "0d3cffb712b8f886e88fbdc9398ae6656308c11996ad18e94ceb96e2af374ced"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@nero_eth**\n\u003e quickly created this one. lmk if that's what you were looking for (last 14 days).\nlog scale?",
        "created_at": "2025-05-19T13:45:46.763000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e The zen mining usually use the rest of the block",
        "created_at": "2025-05-19T13:46:03.550000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e yeah, log scaled, otherwise you would only see the first bar.",
        "created_at": "2025-05-19T13:46:18.220000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Ah wait right it is log",
        "created_at": "2025-05-19T13:46:38.551000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@nero_eth**\n\u003e yeah, log scaled, otherwise you would only see the first bar.\nSo most txs are under 10MGas",
        "created_at": "2025-05-19T13:46:58.359000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e then ok I think we can reasonably go lower than 30M",
        "created_at": "2025-05-19T13:47:01.639000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e 1%\u003c txs is less than 5M, maybe we should set the limit at 5M then. Do we know what the big txs are for?",
        "created_at": "2025-05-19T13:48:15.918000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e 1%\u003c txs is less than 5M, maybe we should set the limit at 5M then. Do we know what the big txs are for?\nProbably need to check max contract deploy with calldata repricings in Pectra; make sure are clear",
        "created_at": "2025-05-19T13:49:25.281000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e I expect nothing that couldn't be split into multiple tx, like this one:\nhttps://etherscan.io/tx/0xf3b038e837de3a1a9a001640dc5e0424413c3df06f3fd6a68ae2d33f6bd53004",
        "created_at": "2025-05-19T13:49:27.492000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cvdWijden\u003e We can not reasonably set a limit without doing a bigger investigation into this, like we do with opcode repricings or selfdestruct",
        "created_at": "2025-05-19T13:49:51.003000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@vdWijden**\n\u003e We can not reasonably set a limit without doing a bigger investigation into this, like we do with opcode repricings or selfdestruct\nYeah, we should look at what these txs are",
        "created_at": "2025-05-19T13:50:35.349000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Luckily they are less than 10k over one year",
        "created_at": "2025-05-19T13:50:49.823000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@vdWijden**\n\u003e We can not reasonably set a limit without doing a bigger investigation into this, like we do with opcode repricings or selfdestruct\nUsers could have pre-signed transaction in case they lose their pk. There are services that offer that. Usually they do so with multiple different gas limits just in case of protocol changes like repricings.",
        "created_at": "2025-05-19T13:54:52.995000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e Those are \u003e500 tx from the last 30 days with a gas used larger than 25m.",
        "created_at": "2025-05-19T13:55:25.758000+00:00",
        "attachments": [
            {
                "type": "text/csv; charset=utf-8",
                "origin_name": "large_tx.csv",
                "content": "5ba659f057a2877aa365afdc8dea8ad3ddd2998bf2422da347b4025d1dee7164"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@FunnyGiulio**\n\u003e Luckily they are less than 10k over one year\ne.g if it is just nft mints/token transfers then I think we can safely just assume it could be split and not worry about them. if it is something more fundamental then we need to re-consider but I suspect they will be all similar txs with similar uses",
        "created_at": "2025-05-19T13:56:01.419000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@nero_eth**\n\u003e Those are \u003e500 tx from the last 30 days with a gas used larger than 25m.\njust picked 10 randomly, all XEN",
        "created_at": "2025-05-19T13:57:38.741000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e `Total transactions not meant for XEN minting: 56`",
        "created_at": "2025-05-19T14:07:49.306000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e just made a small python script, seems only 56 txs of those are not XEN",
        "created_at": "2025-05-19T14:08:07.365000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e https://etherscan.io/tx/0xd1020c5ab23c26ce594d2dba1e016b2ce5c5a4b13de59c1f82a13b79fede889c\n\nseems to be the only one of those that is not a scam token",
        "created_at": "2025-05-19T14:12:54.530000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e at least at first glance",
        "created_at": "2025-05-19T14:13:03.916000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e https://etherscan.io/tx/0xd1020c5ab23c26ce594d2dba1e016b2ce5c5a4b13de59c1f82a13b79fede889c\n\nseems to be the only one of those that is not a scam token\nThat's a wild tx",
        "created_at": "2025-05-19T14:17:14.749000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e Out of all of those txs, there is not any that screams \"we need 30M tx limit\" tho",
        "created_at": "2025-05-19T14:18:08.500000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e \u003c@792404665068158998\u003e if you can get me a bigger list with say all txs with gas limit \u003e5M of the past month, maybe we can get a good idea already how feasible it is. If the the same numbers holds it would be mean that 0.01%\u003c of all txs are not XEN and have a GL higher than 5M. After that, we can work out the scam tokens",
        "created_at": "2025-05-19T14:18:52.952000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@FunnyGiulio**\n\u003e https://etherscan.io/tx/0xd1020c5ab23c26ce594d2dba1e016b2ce5c5a4b13de59c1f82a13b79fede889c\n\nseems to be the only one of those that is not a scam token\nThis was around the time that Curve website was hacked; could be a hack tx from phishing?",
        "created_at": "2025-05-19T14:32:30.454000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Ah seems xchain; also is broken into multi-txs; so wouldn't be an issue with lower limit",
        "created_at": "2025-05-19T14:35:57.817000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Need to go lower? Have 512kB as margin for CL currently https://eips.ethereum.org/EIPS/eip-7934",
        "created_at": "2025-05-19T15:08:39.680000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_28.jpg",
                "content": "990df95b37663933ba713c8fc5b0fdf9afcf62cef7375d75a550680c77cc15ed"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@ben_a_adams**\n\u003e If both EIP-7825 and EIP-7934 aren't in Fusaka then yes we have a problem with increasing gas; but if they both are then we don't\nRequested both for ACDE agenda  https://github.com/ethereum/pm/issues/1533",
        "created_at": "2025-05-19T15:35:55.910000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e do anyone know how much gas is needed for fraud proof transactions? do those need to repost entire blobs into the calldata? do these ever actually happen on mainnet?\n\nthat's the only tx type that comes to mind as \"possibly huge and also mission critical\"",
        "created_at": "2025-05-19T17:01:33.621000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cterencechain\u003e re: **@notnotstorm_p**\n\u003e do anyone know how much gas is needed for fraud proof transactions? do those need to repost entire blobs into the calldata? do these ever actually happen on mainnet?\n\nthat's the only tx type that comes to mind as \"possibly huge and also mission critical\"\nno need to repost full blobs in call data, optimistic rollups should just use the point evaluation precompile\narbitrum's bisection game moves cost 100-300k gas per tx, but that's implementation indepdent",
        "created_at": "2025-05-19T17:14:27.591000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@terencechain**\n\u003e no need to repost full blobs in call data, optimistic rollups should just use the point evaluation precompile\narbitrum's bisection game moves cost 100-300k gas per tx, but that's implementation indepdent\nawesome ty",
        "created_at": "2025-05-19T17:30:08.828000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "There are some cases where very large preimages need to be posted in OP Stack fault proofs (for data which isn't from blobs like L1 receipts). It's a corner case that would only be hit by someone being malicious and we have a system which allows that data to be posted across multiple transactions (albeit it's very expensive).",
        "created_at": "2025-05-19T23:37:30.320000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "And actually for posting data, the maximum transaction rlp size is the main limiting factor. It's enforced out of protocol but it's a very effective cap since nearly every node refusing to gossip tx above that size.",
        "created_at": "2025-05-19T23:38:28.619000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "The biggest transactions we send are L1 contract upgrades because we can bundle a bunch of chain upgrades into a single tx which simplifies the signing process. And because of the way OP Stack upgrades work that requires very little call data but burns quite a lot of gas.",
        "created_at": "2025-05-19T23:39:23.398000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution Layer",
        "parent": "",
        "content": "Is about 128kB max tx size by default? though locally configured on node (Mempool accept size)",
        "created_at": "2025-05-19T23:40:39.720000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yeah something like that. I'm always surprised at how small it is when I bump into it (but makes sense given the impact on gossip).",
        "created_at": "2025-05-19T23:42:09.299000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution Layer",
        "parent": "",
        "content": "How much gas would need to be spent in tx to use this data? (Not post it)",
        "created_at": "2025-05-19T23:43:46.744000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution Layer",
        "parent": "",
        "content": "Would it be \u003e 5MGas?",
        "created_at": "2025-05-19T23:44:44.249000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "For posting large preimges, I'm not sure of exact numbers but it's explicitly designed to be able to post in small increments. So it wouldn't break if you limited the tx to 5MGas - we'd just have to split it across more transactions.  And my memory is that it hits the tx size limit before gas usage becomes a consideration so it may not make any difference at all.",
        "created_at": "2025-05-19T23:47:59.853000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "Contract upgrade tx for large systems (like L2s but potentially big apps as well) would be the case I'd be most worried about. They are very rare so wouldn't show up as people regularly using large tx but life becomes *way* more complex if you can't upgrade the system atomically. I would expect a 5Mgas tx limit to cause problems for upgrading OP Stack chains - even if we only upgraded one chain per tx.",
        "created_at": "2025-05-19T23:49:54.961000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "hmm, I may be wrong about that actually. I can't find an example that actually does use a lot of gas, but our upgrades team was worried about hitting block gas limits so something is odd...",
        "created_at": "2025-05-19T23:52:06.790000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "Oh here's one - 30 MGas limit and used 27Mil: https://etherscan.io/tx/0x5f3530e593bbac37c61dc5b7755b6a40c06c20c1a3a1b13fca5b7d00cde65c29",
        "created_at": "2025-05-19T23:53:31.489000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "Which was executing [this task](https://github.com/ethereum-optimism/superchain-ops/blob/7689d5420142580b396fdc07e88d7efaefd0cbf0/src/improvements/tasks/eth/000-opcm-upgrade-v200/README.md#L3) which included 3 chains.",
        "created_at": "2025-05-19T23:54:36.488000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution Layer",
        "parent": "",
        "content": "Could it have upgraded 1 at a time? So 27M /3 = 9M\n\nThough that would still suggest maybe 10M would be a better number than 5M",
        "created_at": "2025-05-19T23:57:10.617000+00:00",
        "attachments": null
    },
    {
        "author": "ben_a_adams",
        "category": "Execution Layer",
        "parent": "",
        "content": "And in future will be gas repricing down for regular opcodes to extend that out some more",
        "created_at": "2025-05-19T23:58:35.010000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yes it could but it would make our security council and upgrades team very sad as put a lot of effort into being able to upgrade multiple chains at once to reduce the operational cost and risk. ðŸ™‚\nThat said, there are a couple of contracts which aren't yet following our best practice to make it easy to upgrade multiple chains at once and so wind up using a bunch more gas to deploy than they should. I'm not sure what gas difference it would actually make though (sorry I'm not a smart contracts expert...).",
        "created_at": "2025-05-19T23:59:30.517000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "The other thing is that the amount of gas used in an upgrade depends a lot on what's actually going into that upgrade so they can vary quite a lot.",
        "created_at": "2025-05-19T23:59:55.729000+00:00",
        "attachments": null
    }
]