[
    {
        "author": "hsiaowei",
        "category": "Cross-layer",
        "parent": "",
        "content": "/cc \u003c@550420431744794624\u003e \u003c@420951281910284289\u003e for the ceremony and format design",
        "created_at": "2023-08-14T10:55:26.103000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm still reviewing, but here are some initial remarks. Posting individually in case you want to respond to a specific one.",
        "created_at": "2023-08-14T14:51:50.664000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "It would be nice if the version field was terminated with a NUL byte so it could be treated as a string. Maybe steal some bytes from the protocol field \u0026 make the version field 8 bytes. This would also allow more version variations, such as \"v1.2.3\" (and a NUL byte).",
        "created_at": "2023-08-14T14:51:53.553000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "Throughout the spec, integers should be explicity specified as unsigned. The sentence with \"[0, n)\" at the top of the metadata section isn't enough IMO.",
        "created_at": "2023-08-14T14:51:59.692000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "The \"fields\" field should probably be renamed to \"fields count\"/\"num fields\"/etc for clarity.",
        "created_at": "2023-08-14T14:52:06.546000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "Instances of \"see dedicated section\" should be more specific, point to the exact section.",
        "created_at": "2023-08-14T14:52:15.030000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "I have some minor nits about consistent capitalization of field names \u0026 descriptions. Can elaborate later.",
        "created_at": "2023-08-14T14:52:39.630000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "There's a missing period in \"NUL bytes (0x00) Data\" sentence, between \")\" and \"D\".",
        "created_at": "2023-08-14T14:52:53.378000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "I agree that things should be represented as little-endian, but I do have some concerns. Can discuss later.",
        "created_at": "2023-08-14T14:53:14.811000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "Oh, also the formatting of the list in the \"Quick algebra refresher\" section is a little off.",
        "created_at": "2023-08-14T14:56:01.612000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "After implementing this for c-kzg-4844, I have a few more remarks.",
        "created_at": "2023-08-14T19:51:54.337000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "I didn't pick up that the g1 \u0026 g2 points were affines. I thought they were `blst_p1` \u0026 `blst_p2`.",
        "created_at": "2023-08-14T19:52:49.598000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think it would be more natural to have the schema above each data, instead of grouped together.",
        "created_at": "2023-08-14T19:53:59.856000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "So instead of {header, schema, schema, schema, data, data, data} it would be {header, schema, data, schema, data, schema, data}.",
        "created_at": "2023-08-14T19:57:01.049000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "And yes, it is quite fast. For me it took ~400Âµs to load the trusted setup.",
        "created_at": "2023-08-14T19:59:42.289000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "/cc \u003c@862973562243252234\u003e too.",
        "created_at": "2023-08-14T20:06:28.687000+00:00",
        "attachments": []
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "Also, the example for metadata-\u003eversion is misleading. Not a bad idea using u8's there.",
        "created_at": "2023-08-14T21:07:29.082000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Cross-layer",
        "parent": "",
        "content": "Did a quick skim so can look again after these initial remarks ðŸ™‚ \n\n**Montgomery representation**\n\nI don't think we should expose montgomery representation because to me this is an un-necessary abstraction leak*. This was the case in gnark, for example, where it was exposed for performance reasons. Though they have since gotten rid of exposing montgomery in the API: https://github.com/Consensys/gnark-crypto/issues/276\n\nThe benefits of exposing montgomery form is performance, though if you don't expose montgomery form, then you no longer need to speak about whether its 32/64 bit limbs and you also don't need to distinguish between possible primes which do not use montgomery form because all of that would be an implementation detail behind the abstraction.\n\n**Standard serialization**\n\nA carry-on point from the previous one, most elliptic curves have a \"standard\" serialization strategy, do we have reason to not use it?\n\n**Padding**\n\nI don't have a strong opinion about this, just wondering if we should be padding the trusted setup for possible SIMD benefits without benchmarking?\n\n**General beliefs and assumptions**\n\nI'm under the assumption that the trusted setup will only be loaded upon startup, so once you get within a certain loading time, it only makes sense to apply optimizations as long as they do not leak abstractions. Perhaps there's reason to say that we have not achieved that loading time?",
        "created_at": "2023-08-14T21:46:42.226000+00:00",
        "attachments": []
    }
]