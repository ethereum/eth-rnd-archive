[
    {
        "author": "philngo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Please also see next breakout room session here: https://github.com/ethereum/pm/issues/989",
        "created_at": "2024-03-21T01:34:33.825000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Consensus Layer",
        "parent": "",
        "content": "In the spec [here](https://github.com/dapplion/consensus-specs/blob/eip-7251/specs/_features/eip7251/beacon-chain.md?plain=1#L756) it looks to me that `apply_deposit` now doesn't credit the validator balance directly but instead add it to the `state.pending_balance_deposits` which will be processed during epoch transition. What's the implication of changing from crediting validator balance per block to per epoch?",
        "created_at": "2024-03-21T09:12:47.256000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Only thing I can think of off the top of my head is deposit will not only be subject to (MAX_DEPOSIT_RECEIPTS_PER_PAYLOAD if 6110, or MAX_DEPOSITS if not), it will also be subject to a new churn limit which is shared by activation, exit and consolidation",
        "created_at": "2024-03-21T09:19:38.346000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "This is to make top ups through the activation churn. It should be possible to process deposits per block but there will be a need to cache outstanding deposits if the churn limit is exhausted for the current epoch.",
        "created_at": "2024-03-21T09:30:09.711000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "This is also the case for deposits that create a new validator but not sufficient for activating this validator",
        "created_at": "2024-03-21T09:32:05.615000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Also I am wondering if `ExecutionLayerWithdrawRequest.amount = 0` implies full exit has been discussed before? It looks dangerous to me since 0 is default value of int type in a lot of languages and this could initiate a full exit request unintentionally. Ignore me if this has been brought up before",
        "created_at": "2024-03-21T09:46:08.735000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "This is not yet set in stone, I think that full exit should have `UINT64_MAX` amount instead",
        "created_at": "2024-03-21T11:08:49.203000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I haven't followed the conversations, was the issue of depositing pre-fork addressed? that is, during the fork assign the extra balance to the deposit churn and increase the effective balance gradually? last I checked the PR (before it was an EIP) didn't have a fork.md",
        "created_at": "2024-03-21T23:38:51.200000+00:00",
        "attachments": null
    }
]