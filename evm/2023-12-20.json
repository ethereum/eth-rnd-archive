[
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The `JUMPF_V` should be implemented by `indirectbr`. And `CALLF_V` by `call \u003cfnptrval\u003e`.",
        "created_at": "2023-12-20T14:25:37.514000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ah yea, i misunderstood `callbr`, i thought it was like a specialized switch/case for function calls",
        "created_at": "2023-12-20T15:38:19.981000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Here's a visualization of the two exchange options - nybble delta and packed lower triangle. https://docs.google.com/spreadsheets/d/1JIBd2dCqNl1PX-3kgf35G7t_aEsU6Al88t7DDB1yTkU/edit?usp=sharing",
        "created_at": "2023-12-20T15:57:02.871000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The question is to compilers is reliable mapping between depths 18 to 23 important?",
        "created_at": "2023-12-20T15:57:54.930000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i don't think so besides \"elegance\" considerations",
        "created_at": "2023-12-20T16:23:43.982000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "also not worth it if the encoding cannot be easily computed and has to be done via table lookup",
        "created_at": "2023-12-20T16:24:03.886000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For the second page on that sheet we could do (n-max(0, 17-n-m), n+m) to pack the trapaziond into a triangle.  It ensures all \"deep\" reads can be read into \"shallow\" spots.  Not sure if that makes the compilers job easier at depths \u003e 29",
        "created_at": "2023-12-20T16:52:56.730000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For besu I will just do a table however we split it. but it has a concise formula",
        "created_at": "2023-12-20T16:54:20.985000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "left packed looks nice from a symmetry point of view",
        "created_at": "2023-12-20T19:13:35.713000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what is the formula?",
        "created_at": "2023-12-20T19:13:41.780000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`(n-max(0, 17-n-m)+1, n+m+2)`  (may be off on the constants) where the stack is 1 indexed, and n and m are nybbles of the byte.",
        "created_at": "2023-12-20T19:34:26.787000+00:00",
        "attachments": null
    }
]