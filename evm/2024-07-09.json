[
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am in strong favour of starting DUPN/SWAPN at 17. It makes no sense to start at 1, compilers will edit it out to save gas. Thus we should start at 17.",
        "created_at": "2024-07-09T11:00:22.868000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What d you mean exactly by \"start at 17\"?\n\nFor me the strongest reason for current design is to avoid situation where \"DUPN 0\" in code actually means \"DUPN 17\"",
        "created_at": "2024-07-09T12:42:08.863000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i.e. very non-intuitive semantic of immediate",
        "created_at": "2024-07-09T12:42:41.387000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think there is also an argument to phase out many of the dup/swap opcodes (maybe everything over dup8, which are not that frequently used) to save opcode space, idk if it would happen in eof v1 though. This is a # of opcodes vs common bytecode size tradeoff",
        "created_at": "2024-07-09T13:06:54.830000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The immediate might be non-intuitive, but compilers will definitely optimize this away",
        "created_at": "2024-07-09T13:23:09.028000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In EOF we should either ban DUP/SWAP opcodes (replacement by DUPN/SWAPN) or we should start DUPN/SWAPN at 17",
        "created_at": "2024-07-09T13:24:20.085000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Compilers will definitely optimize out SWAP / DUP \u003c= 16, so it makes no sense to introduce these opcodes",
        "created_at": "2024-07-09T13:25:31.298000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I can also see some potential value in some off-chain scenarios, e.g. tests that generate some code and want to DUP for some general N - they can just do it with current DUPN, without extra `if N \u003c 17` branch",
        "created_at": "2024-07-09T13:56:03.963000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We also have 33 ways to push 0 on stack, so instructions doing the same thing are not unprecedented.",
        "created_at": "2024-07-09T13:57:15.518000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "DUP1..16 are just discounted variants of DUPN, similar to what PUSH0 is",
        "created_at": "2024-07-09T13:59:15.201000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What is the marginal value of duplicating slots 256-273 on the stack? Without some gain from that it's a very late and high friciton move for aesthetics.",
        "created_at": "2024-07-09T14:56:44.849000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also consider L2s could reclaim that block if they had DUPN down to one.  Making DUPN start at 17 precludes that.",
        "created_at": "2024-07-09T14:58:38.935000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For discussion, here is what an ISCONTRACT opcode might look like - https://github.com/ethereum/EIPs/compare/master...shemnon:EIPs:iscontract",
        "created_at": "2024-07-09T15:51:07.223000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "**EOF Implementers Call #53**\nMeeting Info: July 10, 2024 , 15:00 UTC\nAgenda: https://github.com/ethereum/pm/issues/1085\nRecording Playlist: https://www.youtube.com/playlist?list=PLJqWcTqh_zKHu7Z91YVYWy_PSmOc_66-F\n\nZoom: https://us02web.zoom.us/j/88940506383?pwd=aTdsbHVyMTNDSUFHYmhTWlI2ZEVldz09",
        "created_at": "2024-07-09T19:26:17.281000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Feel free to add agenda items/links for discussion.",
        "created_at": "2024-07-09T19:26:44.707000+00:00",
        "attachments": null
    }
]