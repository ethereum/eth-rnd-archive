[
    {
        "author": "pdobacz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "nitpick: REVERT is also status `1` as of current spec",
        "created_at": "2024-06-24T10:16:18.264000+00:00",
        "attachments": null
    },
    {
        "author": "pdobacz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Someone please proof read this, but 7069 should be read as follows:\n1. Anything before point (9.) there fails (static-mode violation, ASE violation, memory expansion error, OOG) - the frame calling EXT*CALL halts with exceptional failure - status code irrelevant\n2. Anything inside point (9.) fails is a \"light failure\", status code 1 pushed onto stack and frame calling EXT*CALL continues\n3. Callee reverts (REVERT) - status code 1 pushed onto the stack\n4. Callee fails (INVALID, undefined instruction, OOG, or otherwise halts with exceptional failure) - status code 2 pushed onto the stack.\n\nSo the code 1 vs 2 isn't aligned with the distinction \"setting up the call or call itself\". It's more associated with \"all gas vailable to callee consumed or not\" distinction\n\nNote however that the status codes are still subject to discussion, planned to be handled on this weeks EOF implementers call. In any case, it looks like we'll be making clarifications to the wording of 7069, as the status code and failure mode rules seem to be throwing people off.",
        "created_at": "2024-06-24T10:39:21.864000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, this is correct description. I just don't fully understand why a caller wants to know if the callee reverted (via `REVERT`). And therefore I'm not sure if mixing light failures with `REVERT` status code doesn't break this use case.",
        "created_at": "2024-06-24T15:55:52.574000+00:00",
        "attachments": null
    }
]