[
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "hmm whats the point in underpricing it? Shouldn't it be as close to actual as possible?",
        "created_at": "2022-07-22T05:54:27.689000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think initially it was priced \"fairly\" based on benchmarks",
        "created_at": "2022-07-22T05:59:30.300000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But back then the EVM really sucked",
        "created_at": "2022-07-22T05:59:36.711000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But keccak implementations were already optimized",
        "created_at": "2022-07-22T05:59:45.482000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, this sounds like more reasonable explanation",
        "created_at": "2022-07-22T06:00:02.342000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That suggests the gas price should be increased for things like keccak but coupled with a block gas limit increase. \n\nExcept that weâ€™d also have to increase gas limit of storage opcodes to try to avoid increasing state growth. Which brings us back to the problem of gas trying to measure along too many axises.",
        "created_at": "2022-07-22T06:02:50.433000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, one could increase the storage opcodes and keccac and then bumb gas limit",
        "created_at": "2022-07-22T06:04:04.565000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "there's probably other opcodes that are wrongly priced",
        "created_at": "2022-07-22T06:04:20.280000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The block gas limit increase already happened",
        "created_at": "2022-07-22T06:09:14.823000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Gas target is 5x of what it was at genesis",
        "created_at": "2022-07-22T06:09:29.089000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Except that weâ€™d also have to increase gas limit of storage opcodes to try to avoid increasing state growth. Which brings us back to the problem of gas trying to measure along too many axises.\n\nhttps://ethresear.ch/t/multidimensional-eip-1559/11651 ðŸ˜Š",
        "created_at": "2022-07-22T06:10:06.647000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, but the point was about that when these things are repriced, the limit is also increased",
        "created_at": "2022-07-22T06:10:24.179000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We didn't increase the limit when we increased the price of storage access opcodes",
        "created_at": "2022-07-22T06:10:52.315000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess this is still quite theoretical and there's no practical research on it?",
        "created_at": "2022-07-22T06:11:03.079000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "EIP 4844 plans to use a multidimensional EIP 1559-like scheme",
        "created_at": "2022-07-22T06:11:29.175000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So there is precedent for increasing the price of particular problematic opcodes and not increasing the gas limit to compensate",
        "created_at": "2022-07-22T06:12:11.528000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Multidimensional pricing is good for splitting up computation vs data vs storage imo",
        "created_at": "2022-07-22T06:12:38.543000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For KECCAK, just a simple gas cost increase should be fine",
        "created_at": "2022-07-22T06:12:50.828000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, it definitely makes sense",
        "created_at": "2022-07-22T06:14:23.915000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess computation and storage are the most important ones to separate. If we add a lot more dimensions, things get complex quite fast",
        "created_at": "2022-07-22T06:15:21.909000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We don't necessarily have to increase the gas limit. I was more thinking that because the EVM got faster we should make ops like ADD cheaper to reflect that, but they don't have far to go. Hence make everything else more expensive and increase block gas limit instead.  You'd have to look at what repricing needs to be done in detail to come up with an actual plan.",
        "created_at": "2022-07-22T06:20:43.915000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, the relative prices are that matters",
        "created_at": "2022-07-22T06:25:11.651000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the current gas limit is already too high because of the storage problem, so I will advocate *against* any gas limit increases unless we do multidimensional pricing for storage.",
        "created_at": "2022-07-22T06:26:34.692000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I do think we need to get into alignment on what type of machine we are targeting for a full node, most of the time these conversations end with a disagreement on that.",
        "created_at": "2022-07-22T06:26:55.379000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Some people think we should be targeting dedicated server hardware, some thing we should be targeting consumer laptops, some think we should be targeting mobile devices. (for a fully validating node)",
        "created_at": "2022-07-22T06:27:12.821000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This results in drastically different opinions on what an \"appropriate\" gas limit is, since an appropriate gas limit for each of those is vastly different.",
        "created_at": "2022-07-22T06:27:48.931000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "well you can pump storage opcodes and gas limit, and no more can be stored. Its relative",
        "created_at": "2022-07-22T06:33:35.285000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What do you mean by this?",
        "created_at": "2022-07-22T06:34:00.250000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "is storing costs now 10 with 100 gas limit. Its the same as it costs 100 with 1000 gas limit",
        "created_at": "2022-07-22T06:34:23.502000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh, I suppose.  I still think we should *lower* the gas limit with respect to storage relative to where it is now though, so I would like to see 10x the cost for storage opcodes and 2x the gas limit or something (so we effectively 1/5 reduction in state growth).",
        "created_at": "2022-07-22T06:35:19.726000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "wouldn't state expiry work for this too?",
        "created_at": "2022-07-22T06:45:46.023000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm a big fan of state expiry as a piece to the puzzle of solving this problem.",
        "created_at": "2022-07-22T06:46:06.612000+00:00",
        "attachments": null
    }
]