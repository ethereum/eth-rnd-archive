[
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The biggest thing I'm looking forward to is not having to drag around jumpdest tables with the code.  Stack validation also implicitly adds jump validation, so we can just believe the jumps when presented.",
        "created_at": "2022-11-15T00:29:29.323000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "because we allow backwards jumps it won't really help ZKEVMs, will it?",
        "created_at": "2022-11-15T00:30:22.359000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The EIP-4200 includes jumps validation on its own.",
        "created_at": "2022-11-15T07:46:36.944000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@403707149043105803\u003e \u003c@543900561460822016\u003e \u003c@552133098075193354\u003e \u003c@508125616940515329\u003e Do you have any practice with GutHub project boards? I have very little. I'd like one for EOFv1.",
        "created_at": "2022-11-15T14:11:04.158000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what would it look like and where?",
        "created_at": "2022-11-15T14:29:17.700000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "imo a hackmd summarizing all the changes and tracking client progress would suffice",
        "created_at": "2022-11-15T14:29:32.017000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "As I recall it the \"old algo\" for Java does data flow analysis, and therefore can go quadratic (or maybe worse).  The \"new algo\" with stack maps is linear.  Wasm enforces structured control flow, and is therefore one linear.  The EVM has only one data type, so we don't need to check data types, only stack height, which is a linear check even with work lists.  \"Linear\" here means in time and space, O(n) and θ(n).\n\nSo far as whether to require an empty stack vs. automatically emptying the stack -- I think (might be wrong) that  most functions consume all of their arguments and intermediates before returning, so won't usually need to pop anything off.  And regardless, if we clear the stack automatically we won't catch errors where expression evaluation fails to consume the stack when it should.  So I'd prefer to require that the stack be empty (except for specified return values.)",
        "created_at": "2022-11-15T14:49:08.831000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Maybe it can be quadratic for some Java specific aspect (like stack frame merge). For EVM it works the same as EOF proposed. Both computational and memory complexity is O(n). Although it does 3 passes over the code, where the last one is dataflow analysis (it visits every instruction at most once).",
        "created_at": "2022-11-15T15:20:44.854000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For a function having single exit this make sense. But in case of a function having some requirements checks it may want to exit early.",
        "created_at": "2022-11-15T15:21:48.551000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah.  I think that's because we have only one data type.  Or maybe the issue was that it needed to be one-pass -- it's been a long time.",
        "created_at": "2022-11-15T15:24:08.830000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm still inclined to require the stack to be explicitly cleared unless that will cause a lot of extra POPs in most programs.  Even then a new POPN instruction might be better.",
        "created_at": "2022-11-15T15:27:22.748000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@425279588009246720\u003e Do you have any insights how this affects solidity?",
        "created_at": "2022-11-15T15:32:08.393000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can we nail down what CALLF and RETF's opcodes are?  In EIP-4750 (https://github.com/ethereum/EIPs/blob/master/EIPS/eip-4750.md) the spec says 0x5e/0x5f (which collides with PUSH0) and in the reference implementation section it uses 0xfb/0xfc, but PR#5921 https://github.com/ethereum/EIPs/pull/5921/files#diff-c26626f99c4e3d1a790cec8ff2b470a7b1607bc3bdb55e7e9a3b721fa66eb507R67 has 0xb0/0xb1.",
        "created_at": "2022-11-15T16:42:10.780000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "EOF1 Checklist\nhttps://notes.ethereum.org/@ipsilon/eof1-checklist",
        "created_at": "2022-11-15T16:47:26.143000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We cannot fit it into `0x5_` block. So quick fix was to move it to `0xf_` block but some people are unhappy about it (the block contains external calls support). So now `0xb_` is proposed (currently unused block. Which one do you want? Vote!",
        "created_at": "2022-11-15T18:21:47.969000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't have any opinion on where it lands, I just want clarity.",
        "created_at": "2022-11-15T18:22:21.365000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We are bad at making decisions so no clarity yet",
        "created_at": "2022-11-15T18:23:52.947000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So, it seems like there are still a lot of moving pieces here. Should we schedule another EOF breakout either this Friday or next Monday 15:00 UTC? I can't make Friday, but if it's the most popular time, I don't think I'm critically needed either.\n\n1️⃣  Yes, on Friday 15 UTC\n2️⃣  Yes, on Monday UTC\n3️⃣  No, let's keep this async",
        "created_at": "2022-11-15T18:45:53.934000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For now I try to list all open issues in https://notes.ethereum.org/@ipsilon/eof1-checklist (file is editable so you can help)",
        "created_at": "2022-11-15T19:39:10.109000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also for `STOP` and others?",
        "created_at": "2022-11-15T19:43:47.061000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'll be out Monday if that's where it lands.  I'm more interested in clarity at this point than getti g what I want, which is all big eof proposals, including stack validation.  I could live without validation but have moved into the convert column on that.",
        "created_at": "2022-11-15T21:21:02.201000+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For terminators it seems more likely that they will not clear the stack.  It also doesn't matter much what's on the stack, as no more code is going to access it.  But let's see what Alex has to say.",
        "created_at": "2022-11-15T21:55:30.465000+00:00",
        "attachments": null
    }
]