[
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@408154589494247424\u003e  So with current EXHANGE encoding you can swap nth item only with some of [n+1, n+16], so you can't swap e.g. 1st with 32nd, right?",
        "created_at": "2023-10-11T18:01:46.892000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it can swap up to 32 deep, but only distance 16 max between items",
        "created_at": "2023-10-11T18:02:52.479000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "First pass of EOF Status Update slides - https://docs.google.com/presentation/d/10mxZK5hzLeaTLGAVo83qrPybk0Y8fUN5prAffGhKV6o/edit#slide=id.p",
        "created_at": "2023-10-11T18:14:41.861000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Feel free to request edit access.",
        "created_at": "2023-10-11T18:14:48.877000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ah yes, i knew there was something strange about the enumeration",
        "created_at": "2023-10-11T18:42:44.875000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in theory there should be like `n(n+1)/2` combinations (or maybe it is `n!/(2! - (n-2)!)`",
        "created_at": "2023-10-11T18:44:00.351000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this one",
        "created_at": "2023-10-11T18:44:21.867000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "btw i think in the specs for CALLF and JUMPF, `code_section_index` would be better named as `target_section_index` -- this was confusing me for a little bit",
        "created_at": "2023-10-11T19:43:54.810000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@275684146658148352\u003e seems `jumpf` is now a terminating instruction, has that always been the case?",
        "created_at": "2023-10-11T20:34:03.435000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes.  There is no natural progression to the next instruction from jumpf.",
        "created_at": "2023-10-11T20:34:39.173000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, because the target must either return control to `jumpf`'s caller or terminate execution",
        "created_at": "2023-10-11T20:42:22.712000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so that's probably the weirdest thing about `jumpfi`, it's not a terminating instruction",
        "created_at": "2023-10-11T20:42:41.628000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But if I understand it correctly, typically the target would be a code section building the data for a revert with useful data.  So natural progression is more of the code and the jumpfi is raising exceptions and such.",
        "created_at": "2023-10-11T20:44:10.780000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think if the target is a non-returning section, there is not really an issue",
        "created_at": "2023-10-11T20:45:10.127000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think there is probably not an issue either if the target returns (with `RETF`), but still thinking about it",
        "created_at": "2023-10-11T20:45:35.450000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yea, could be a loop exit too.  Target will either need to return, stop, or revert, or jumpf out.",
        "created_at": "2023-10-11T20:46:10.925000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, like\n```\nloop_start:\n  ...\n  \u003ccondition\u003e\n  jumpfi target\n  rjump loop_start\n```",
        "created_at": "2023-10-11T20:47:10.994000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think it's fine. the semantics feel a bit weird, but the invariant is that the return stack is not touched, and this invariant is held.",
        "created_at": "2023-10-11T20:48:35.819000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the other invariant is that the current stack height must be returnable (the `jumpf` requirement that `stack_height == current_section.outputs + target_section.inputs - target_section.outputs`), and that seems fine to apply to `jumpfi` as well, because at the time of executing `jumpfi` you must be prepared to `retf` to the caller.",
        "created_at": "2023-10-11T20:50:39.019000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "**EOF Implementers Call 25**\nhttps://youtu.be/SSeoJ-oTz80",
        "created_at": "2023-10-11T20:54:56.463000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "to expand, this seems weird at first glance because `jumpfi` can essentially act as a \"conditional `retf`\". but i think this is a feature, not a bug (lends itself to use cases like exception unwinding, where you don't need to write as much `rjumpi \u003cjoin point\u003e retf \u003clabel: join point\u003e` branching code",
        "created_at": "2023-10-11T21:22:03.982000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok, `jumpfi` PR: https://github.com/ethereum/EIPs/pull/7838",
        "created_at": "2023-10-11T21:31:58.920000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "tagging \u003c@275684146658148352\u003e \u003c@425279588009246720\u003e \u003c@425274498732916736\u003e \u003c@543900561460822016\u003e for review",
        "created_at": "2023-10-11T21:32:26.188000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Left some comments",
        "created_at": "2023-10-11T21:50:16.935000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Deck name... lead with the ask?  \"EOF Prague Proposal\" or \"Prague Headliner Feature - EOF\"?",
        "created_at": "2023-10-11T21:55:02.583000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Probably the second?",
        "created_at": "2023-10-11T22:18:14.049000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@403707149043105803\u003e the opcode change summary is awesome, net +1",
        "created_at": "2023-10-11T22:34:04.807000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yet so many neat features",
        "created_at": "2023-10-11T22:34:16.073000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How would data* work in legacy?",
        "created_at": "2023-10-11T22:39:15.743000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It access data in EOF contracts.",
        "created_at": "2023-10-11T22:39:40.749000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh... nevermind.  EXTDATACOPY is what was in my mind.",
        "created_at": "2023-10-11T22:40:12.744000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yup, extadatasize/extdatacopy -- but that can be done by a small preamble in data contracts for now.",
        "created_at": "2023-10-11T22:44:30.504000+00:00",
        "attachments": null
    }
]