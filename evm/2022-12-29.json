[
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I just realized that EOF breakout room #5 scheduled for tomorrow at 1600 utc wasn't on the protocol calendar -- were people still aware of the call and planning to be present or should we move to friday / monday?",
        "created_at": "2022-12-29T05:58:56.747000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/pm/issues/692",
        "created_at": "2022-12-29T05:59:01.873000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm available today until 16:45",
        "created_at": "2022-12-29T08:11:02.193000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have this in my agenda as well",
        "created_at": "2022-12-29T10:38:17.273000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I wondered why it did not show up automatically, but now I see the reason ðŸ™‚",
        "created_at": "2022-12-29T10:38:30.597000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Will be attending today. with \u003c@1011612262743679036\u003e",
        "created_at": "2022-12-29T11:17:15.462000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, wait. I'm only available until 15:45. I can try to join from a car but results may not be great. This is unrelated to the calendar issue.",
        "created_at": "2022-12-29T11:24:44.989000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In UTC time?",
        "created_at": "2022-12-29T11:27:01.419000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, UTC",
        "created_at": "2022-12-29T11:47:33.786000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://ethereum-magicians.org/t/eip-3860-limit-and-meter-initcode/7018/15",
        "created_at": "2022-12-29T11:47:41.158000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh wow, that's a really good point",
        "created_at": "2022-12-29T12:10:45.476000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "EOF Spec-level Open Issues updated: https://notes.ethereum.org/@ipsilon/eof1-checklist#Spec-level-Open-Issues",
        "created_at": "2022-12-29T12:31:05.396000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Should we do it? ACD discussion?",
        "created_at": "2022-12-29T12:59:55.314000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess either the EIP should be updated or it should be very clear in what order those gas checks are",
        "created_at": "2022-12-29T13:00:42.679000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But it would be a good point for ACD yes",
        "created_at": "2022-12-29T13:00:50.267000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess you need to precompute these.",
        "created_at": "2022-12-29T13:03:28.038000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see, so that is comparable to jumpdest analysis..?",
        "created_at": "2022-12-29T13:04:41.036000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No, this is much simpler. I.e. a partial sum of sizes + constant offset to the first code section. You can do this while loading an EOF.",
        "created_at": "2022-12-29T13:06:12.996000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The offset idea is interesting too, but seems less generic on the first look (e.g. offset to the last section does not give information of the section size)",
        "created_at": "2022-12-29T13:08:10.468000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah yes, but we can just add that the last code section is the size of the final code part ðŸ™‚",
        "created_at": "2022-12-29T13:09:11.520000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you do the offset thing you do not have to calculate these partial sums. This offset of a fn can be found easily as it is always at the same position",
        "created_at": "2022-12-29T13:10:09.904000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And initcode/deployed code check should of course account for offsets only incrementing and that the entire size is correct",
        "created_at": "2022-12-29T13:10:44.662000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Well, if the last section is \"data\" and only defined by the offset this also solves the solidity contract creation issue. But you still don't know the EOF container size.",
        "created_at": "2022-12-29T13:11:59.377000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sorry I mean the final item in what is now \"code sizes\" in the header. So there are at least 2 \"code sizes\" (if there is only one code section). So it would now be 0x02 \u003cnum code sections\u003e \u003coffset1\u003e \u003coffset2\u003e ... \u003coffset_n\u003e \u003coffset_n_size\u003e 0x03 \u003cdata size\u003e",
        "created_at": "2022-12-29T13:13:37.737000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You are right about the container size that is a good point (I think you mean the entire code here..?)",
        "created_at": "2022-12-29T13:14:24.149000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess what we could do there is to instead of mark last item of these \"code sizes\" as the final code part size, we could actually use the first item here and encode the size of the entire code container. So then you know if you are in the last section, then that runs from that offset to the end of that code section (of course with header overhead added)",
        "created_at": "2022-12-29T13:15:18.405000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And code section 0 trivially has offset 0 so that can be ommitted. So we actually only need 1 \"code size\"",
        "created_at": "2022-12-29T13:15:58.387000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(what is this solidity contract creation issue?)",
        "created_at": "2022-12-29T13:16:17.101000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Other random idea: we should define section kinds as ASCII chars to make them unordered:\n- type: `T 0x54`\n- code: `C 0x43`\n- data: `D 0x44`",
        "created_at": "2022-12-29T13:16:57.390000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we should probably move to a time youâ€™re available?",
        "created_at": "2022-12-29T13:52:05.746000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Fri and Mon work better for me",
        "created_at": "2022-12-29T14:06:27.557000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Does monday 1500 utc work?",
        "created_at": "2022-12-29T14:07:28.886000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In 4750: (RETF)\n\n\u003e If data stack does not equal caller_stack_height + type[current_section_index].outputs items, execution results in exceptional halt.\n\nThis is not possible with 5450... right?",
        "created_at": "2022-12-29T14:26:03.111000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How is the return stack initialized? If I `CALLF` I need `caller_stack_height`, but my return stack is empty, so this is undefined?",
        "created_at": "2022-12-29T14:29:50.134000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(on the first CALLF)",
        "created_at": "2022-12-29T14:30:38.339000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I guess it should default to 0",
        "created_at": "2022-12-29T14:31:28.042000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`RETF` pops an item from return stack, so I assume it is initialized",
        "created_at": "2022-12-29T14:59:06.651000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Could someone verify this? Because this is important due to the return stack size maximum. I need to know if it has 0 or 1 items at start",
        "created_at": "2022-12-29T14:59:35.261000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There should be a return stack with 0/0/x pushed on when entering code section zero. Popping that off is a STOP per spec isnâ€™t it.",
        "created_at": "2022-12-29T15:02:18.987000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes it is ðŸ™‚",
        "created_at": "2022-12-29T15:02:55.893000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok great, thanks. (this should be added in the EIP)",
        "created_at": "2022-12-29T15:03:07.030000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "updated and added to the calendar",
        "created_at": "2022-12-29T15:27:36.748000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It's in `Execution` part\n\n\u003e 2. Return stack is initialized to contain one item: (code_section_index = 0, offset = 0, stack_height = 0)",
        "created_at": "2022-12-29T15:30:33.321000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Agh, you are right, sorry I misread ðŸ™‚",
        "created_at": "2022-12-29T15:33:42.966000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "possible to hold 1-2 hours later?",
        "created_at": "2022-12-29T17:19:37.647000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In 4750, the first function, is this function 0 or function 1? (cannot seem to find this in the EIP)",
        "created_at": "2022-12-29T19:59:52.857000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm assuming it is 0 ðŸ™‚ So I can just create a simple loop contract with `CALLF \u003c0000\u003e STOP`",
        "created_at": "2022-12-29T20:00:18.556000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes, the first function is 0",
        "created_at": "2022-12-29T20:08:48.366000+00:00",
        "attachments": null
    }
]