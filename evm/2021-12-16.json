[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That transaction would exceed the 20% refund cap.",
        "created_at": "2021-12-16T02:39:54.348000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It also will needlessly cost 20,000 on initialization.",
        "created_at": "2021-12-16T02:40:27.082000+00:00",
        "attachments": null
    },
    {
        "author": "3xmd1559sporebraytondingo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is there any merit to allowing a form of refunds that count against the block gas limit, but otherwise reduce how much is charged?",
        "created_at": "2021-12-16T03:26:06.456000+00:00",
        "attachments": null
    },
    {
        "author": "3xmd1559sporebraytondingo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "While gas tokens were used to hedge against gas price rises, Flashbots favoured refunds simply as a mechanism to fit more value in a block.",
        "created_at": "2021-12-16T03:28:32.747000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "since we're discussing refunds, we might as well remove them, 2200 and 2929 - this would simplify gas accounting in execution module immensely and boost performance",
        "created_at": "2021-12-16T11:17:01.562000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://notes.ethereum.org/@vbuterin/verkle_write_gas_extension",
        "created_at": "2021-12-16T13:18:46.328000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "See the alternate version at the end",
        "created_at": "2021-12-16T13:18:53.132000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "As well as the https://notes.ethereum.org/@vbuterin/verkle_tree_eip itself of course",
        "created_at": "2021-12-16T13:19:09.450000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is my proposal to streamline gas accounting, so that everything (storage, balances, etc) live under the same system. So it would supersede and remove 2200, 2929 and 3529, as well as things like the custom rules for nonzero value calls.",
        "created_at": "2021-12-16T13:19:27.653000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh, this proposal would remove the 20% refund cap",
        "created_at": "2021-12-16T13:19:44.102000+00:00",
        "attachments": null
    },
    {
        "author": "sendmoodz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "you'd still have to pay the access cost for zero-nonzero-zero writes though (and chunk fill cost according to doc). is that worth having new opcodes that don't need to access the original value or deal with complex accounting rules?",
        "created_at": "2021-12-16T15:30:28.850000+00:00",
        "attachments": null
    },
    {
        "author": "sendmoodz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i would love to see refunds removed if there's an alternate for zero-nonzero-zero and original-newvalue-original is also not too expensive, there aren't any developer tools that give you visibility into the refund counter afaict",
        "created_at": "2021-12-16T15:45:55+00:00",
        "attachments": null
    },
    {
        "author": "gcolvin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I've written up an approach to introducing procedures as entry points to EOF code sections.  Discussion welcome.  In brief, we allow for multiple code sections with a table of entry points for each section.  Each entry point is a procedure that can be entered only at its start, and with a defined and validated number of inputs, locals, and outputs.\nhttps://ethereum-magicians.org/t/eip-4573-entry-points-and-procedures-for-evm-code-sections/7776",
        "created_at": "2021-12-16T22:13:23.059000+00:00",
        "attachments": null
    }
]