[
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I closed this EOF spec issue: https://github.com/ipsilon/eof/issues/94",
        "created_at": "2024-05-10T12:50:08.163000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hey all, are there any tests for EOF yet? ðŸ™‚",
        "created_at": "2024-05-10T13:05:19.818000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see some in execution-spec-tests but not sure if those are up-to-date?",
        "created_at": "2024-05-10T13:05:40.076000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Nvm found them",
        "created_at": "2024-05-10T14:11:17.400000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "One question, why is the data section mandatory? If I don't want any data I still need to append 0x040000 to the EOF header. Is there any reason for this?",
        "created_at": "2024-05-10T14:35:38.681000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(mandatory 600 code deploy gas for an empty field ðŸ¤” )",
        "created_at": "2024-05-10T14:36:00.195000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "at some point all sections were mandatory ðŸ™‚",
        "created_at": "2024-05-10T15:14:06.759000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But why is the data section mandatory? If I don't have a data section I still need to pay the 600 code deploy gas ðŸ˜¦",
        "created_at": "2024-05-10T15:20:17.578000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also not entirely sure if I like this. If a contract returns (for instance) 1 byte, I have to rely on RETURNDATACOPY MLOAD instead of RETURNDATALOAD ðŸ¤”",
        "created_at": "2024-05-10T15:20:51.897000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "0ae841a6fc96ac2a38bc075504dc509f8d66bb1a12bb6cc948b1dee9f3560f7a"
            }
        ]
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is this correct in EIP 4750?\n\n\n\u003e If operand stack size exceeds `1024 - type[target_section_index].max_stack_height + type[target_section_index].inputs` (i.e. if the called function may exceed the global stack height limit), execution results in exceptional halt. This also guarantees that the stack height after the call is within the limits\"\n\nIf I have a method which has max_stack_height 1024, and have 1 to this method, then the formula says that if I exceed 1024 - 1024 + 1 = 1 stack item on the operand stack, it should fail. However if I have one input (this means that my current stack height is at least 1) then I can thus reach stack depth 1025...? So shouldn't this fail? Shouldn't it be `1024 - type[target_section_index].max_stack_height - type[target_section_index].inputs` ??",
        "created_at": "2024-05-10T16:06:09.553000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am rather confused and I think I'm missing something or not understanding something correctly ðŸ¤”",
        "created_at": "2024-05-10T16:06:28.048000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah hmm I think I might have figured it out somewhat. So since we initialize the stack height of a new code section to `input`, then this thus guarantees that if you have a method with 5 inputs and a max stack height of 1024, then indeed if the stack height is \u003e 5 then it might overflow the stack.",
        "created_at": "2024-05-10T17:07:18.353000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok finally understood it I think ðŸ˜„",
        "created_at": "2024-05-10T17:07:25.668000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And since the output size is \u003c= max height then there is no need to perform an additional outputs check",
        "created_at": "2024-05-10T17:07:39.003000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is in EIP 6206\n\n\u003e If the operand stack size exceeds `1024 - type[target_section_index].max_stack_height` (i.e. if the called function may exceed the global stack height limit), execution results in an exceptional halt. This guarantees that the target function does not exceed global stack height limit.\n\nThis is in eof.md:\n\n\u003e if `1024 \u003c len(stack) + types[idx].max_stack_height - types[idx].inputs`, execution results in an exceptional halt\n\nI assume eof.md is correct here?? Otherwise you could never JUMPF to a function which has `types[idx].inputs + types[idx].max_stack_height` \u003e 1024",
        "created_at": "2024-05-10T17:15:47.506000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can EIP 7698 be updated to not require 7620? It is built on top of 7620, I think for the purpose of explaining how to deploy contracts, but 7620 contains the InitcodeTransaction. So if you setup an EVM which has 7698 you need to support 7620 as well, but 7698 changes the InitcodeTransaction behavior (or remove this altogether from EIP 7620)",
        "created_at": "2024-05-10T17:31:00.027000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(and also TXCREATE)",
        "created_at": "2024-05-10T17:33:02.064000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For now I will only implement EOFCREATE and RETURNCONTRACT",
        "created_at": "2024-05-10T17:34:12.491000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ahhh its here https://github.com/ethereum/EIPs/pull/8522",
        "created_at": "2024-05-10T17:37:47.112000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Great",
        "created_at": "2024-05-10T17:37:48.117000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Here's my omnibus of pending tests too... https://github.com/shemnon/execution-spec-tests/tree/eof/omnibus",
        "created_at": "2024-05-10T18:21:32.694000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Generally speaking eof.md prevails.  As we find differences the intent is to fix the EIPs.",
        "created_at": "2024-05-10T18:22:58.981000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok great ðŸ˜„",
        "created_at": "2024-05-10T18:25:23.764000+00:00",
        "attachments": null
    },
    {
        "author": "abdulrahman12432",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hello",
        "created_at": "2024-05-10T22:58:59.004000+00:00",
        "attachments": null
    }
]