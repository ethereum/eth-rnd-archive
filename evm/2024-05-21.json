[
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The current spec for verkle limits code to 64k, so the utility of VLQ on mainnet is 2+years off.",
        "created_at": "2024-05-21T06:50:17.049000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I've been doing some benchmarks for EOF, trying to find the worst case in our implementation:\nThe worst case I have found would be ~ 1.7 ms to validate the code on my machine.\n```BenchmarkRJUMPI-24            1074       1619540 ns/op     1320064 B/op         438 allocs/op```\n\nSome caveats/tidbits: \n- This might not actually be the worst case, just the worst I found (all RJUMPs) \n- This supposes the current max code size of 24k\n- Our implementation is ~2n in this case, EVMOne and Reth are O(n)\n\nI would be interested how other implementations fare in this case, the contract is just \n`PUSH0, RJUMPI, 0xFF, 0xFC` repeated for 24.576 / 4 = 6144 times.\n\nI am working on rewriting our whole stack validation to also be O(n)",
        "created_at": "2024-05-21T07:34:55.766000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Two other potential cases are as many EOF subcontainers as we can fit both wide and deep.  I think EVMONE generates those in their tests.",
        "created_at": "2024-05-21T08:02:42.377000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have ~3k fuzzer generated EOF validation inputs. Happy to benchmark these, but shoudn't we start with the correctness first?",
        "created_at": "2024-05-21T08:25:23.517000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes definitely, it was just a little tangent I went on this morning. I was just scared that the worst case would be like ~100ms or something",
        "created_at": "2024-05-21T08:29:49.204000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Unfortunatelly, libfuzzer only supports timeouts in seconds. Running with 1s limit didn't find anything :/",
        "created_at": "2024-05-21T08:39:39.562000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Looks like the numbering here is off: https://eips.ethereum.org/EIPS/eip-5450\nThere are several references to 2.3, but that should be 1.3 (or move the numbers by one)",
        "created_at": "2024-05-21T10:24:23.161000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "does this mean the `O(n)` design goal is too ambitious?",
        "created_at": "2024-05-21T11:27:59.402000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "like `O(n^2)` design could be used in practice, because EVM contract sizes are so tiny ðŸ˜±",
        "created_at": "2024-05-21T11:28:29.690000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think so, 2n is still O(n), so O(n) is possible with both algorithms, but the proposed one is better than the one we use.\nI've been implementing the one proposed in the eip and that looks good (if we suppose that RJUMPV can only have 255+1 destinations, we can view visiting all destinations as constant, thus arriving at O(n) where n is the number of operations in the contract)",
        "created_at": "2024-05-21T11:33:22.293000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this is only rendering on the eips website, github has it correct https://github.com/ethereum/EIPs/blob/master/EIPS/eip-5450.md",
        "created_at": "2024-05-21T15:04:53.171000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This triggered some buried memories about losing points on a midterm because I didn't take a fixed constant off of a complexity calculation. ðŸ˜†",
        "created_at": "2024-05-21T16:23:11.952000+00:00",
        "attachments": null
    }
]