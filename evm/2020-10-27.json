[
    {
        "author": "_drinkcoffee",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have an ABI encoding question. I am not sure if this is the right channel - it seems closest.\nI am trying to get arrays of structs into a Solidity contract using Web3J. I have been incrementally getting web3j to handle arrays of structs. Now when I pass in the struct, I get an error. My question is, is the problem with the bytes being produced by Web3J, or is it the interpretation in the EVM generated by Solidity (0.7.4)?\nThe code:\n```\nevent AstroDump(uint256 _val1, uint256 _val2, uint256 _val3);\nstruct Astro { uint256[] val2;   }\n\nfunction astro(Astro[] calldata _param) external {\n  emit AstroDump(_param.length, 0, 1);\n  for (uint256 i = 0; (i \u003c _param.length); i++) {\n    emit AstroDump(i, _param[i].val2.length, 2);\n  }\n}```\nThe  revert is being thrown due to the call to _param[i].val2.length .\nThe payload I am passing in is:\n```\n0x52b6f241\n0000000000000000000000000000000000000000000000000000000000000020\n0000000000000000000000000000000000000000000000000000000000000001\n0000000000000000000000000000000000000000000000000000000000000020\n0000000000000000000000000000000000000000000000000000000000000001\n0000000000000000000000000000000000000000000000000000000000000011```",
        "created_at": "2020-10-27T02:28:10.883000+00:00",
        "attachments": null
    },
    {
        "author": "_drinkcoffee",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The ABI encoding of the parameters looks right to me. I started to look at the EVM byte code produced but it gets really complicated really quickly.",
        "created_at": "2020-10-27T02:30:39.177000+00:00",
        "attachments": null
    },
    {
        "author": "_drinkcoffee",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I will put some time into working through the EVM bytecode If someone can confirm that it should work.",
        "created_at": "2020-10-27T02:43:37.363000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@636680106630316033\u003e This isn't the right server for Solidity support.  You can try https://discord.gg/MnVfAV",
        "created_at": "2020-10-27T02:58:45.930000+00:00",
        "attachments": null
    }
]