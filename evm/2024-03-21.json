[
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think it depends on how \"introspectable\" the evm is supposed to be",
        "created_at": "2024-03-21T03:44:54.339000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if you are supposed to be able to find out if you are the bottom of the stack, if the child call failed bc of not enough gas etc, then yes more status codes make sense",
        "created_at": "2024-03-21T03:46:53.671000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think these only increase the ability to DOS the vm though, and there isn't really much practical use",
        "created_at": "2024-03-21T03:48:38.493000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(cue somebody inventing some really useful application that can only happen when you are in call frame 1023 ðŸ¤“ )",
        "created_at": "2024-03-21T03:49:17.729000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the all but 1/64 rule makes 1023 stack heights impossible.",
        "created_at": "2024-03-21T04:02:30.737000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "haha",
        "created_at": "2024-03-21T12:33:36.658000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "my point was more about, some useful application for vm introspection that we haven't thought of",
        "created_at": "2024-03-21T12:34:01.067000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "different subject, can we realistically get EIP-5920 and EIP-7609 into the next hard fork?",
        "created_at": "2024-03-21T12:38:15.130000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "eip-5920 is important because `send()` has been leaky since beginning of ethereum -- PAY opcode closes that up",
        "created_at": "2024-03-21T12:38:56.350000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "eip-7609 lets us disable reentrancy completely at application level. i think this is a super important feature",
        "created_at": "2024-03-21T12:39:25.942000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How reducing costs enables anything?",
        "created_at": "2024-03-21T17:08:47.820000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it makes it more cost efficient to use it for every external entrypoint to have a tstore rerentrancy lock.",
        "created_at": "2024-03-21T17:10:28.143000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it's a bit cost prohibitive, you would have to use it more coarsely.",
        "created_at": "2024-03-21T17:10:55.844000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is anyone monitoring tstorage on Mainnet?",
        "created_at": "2024-03-21T17:13:14.376000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "curses, my metrics are down.  I can get stats tomorrow on usage",
        "created_at": "2024-03-21T17:15:03.051000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "tiny 5 min shapshot, 9/12 uses for SLOAD/SSTORE, and zero for MCOPY.  Ranks above CREATE, SELFDESTRUCT, BLOCKHASH, BLOBBASEFEE, and PREVRANDAO",
        "created_at": "2024-03-21T17:35:23.718000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "exactly",
        "created_at": "2024-03-21T17:54:08.580000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "tload/tstore?",
        "created_at": "2024-03-21T17:54:18.290000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yea.  TLOAD.  Totally the same as SLOAD, right? ðŸ˜‰",
        "created_at": "2024-03-21T17:54:39.864000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "do you have stats on how big the maps that are being created?",
        "created_at": "2024-03-21T19:34:52.921000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No.  Given they are transient I expect them to stay small",
        "created_at": "2024-03-21T20:16:52.091000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "soo eip-7609 incoming?",
        "created_at": "2024-03-21T21:01:48.254000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To get past the ACD gatekeepers there will need to be some analysis.  I'm not sure what they are looking for TBH, I would have to review the call you were in.  5 on a read feels low, but with a good torture test would be fine.",
        "created_at": "2024-03-21T21:04:43.791000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The torture test will be essential.  (a) Fill up the storage as much as possible in one call, (b) 50% fill/read and a \"tower\" test...",
        "created_at": "2024-03-21T21:05:46.206000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i don't know either, \u003c@360491619402776577\u003e said on a recent call that he wants to see more real-world usage patterns, but i really don't know what that data is going to tell us.",
        "created_at": "2024-03-21T21:06:07.588000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(c) tower test, at root set slot 1 to some value.  For each level read level, write level, read 1, read level -1, then self recurse.  the 1/64th rule will put some revert testing as the towers will be a bit \"spikey\"",
        "created_at": "2024-03-21T21:07:19.763000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the argument is that cost preculeds real-world-usage, so it's chicken and egg.  I think demonstrating safety is more reasonable.",
        "created_at": "2024-03-21T21:07:54.486000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the memory usage is bounded even more strictly by eip-7609 than 1153. so any torture/tower test is only going to be favorable towards eip-7609 pricing",
        "created_at": "2024-03-21T21:08:17.173000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That sounds like a persuasive argument once backed up with data.  My plate is too full to pursue it however.",
        "created_at": "2024-03-21T21:08:51.585000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ok. if i know what the actual objections are then i can address them, but so far i have gotten very vague \"well it would be good if we had more data\", but i don't know what more data is going to tell us.\n\nthere is a theoretical analysis already performed in the EIP text, and the analysis could maybe be tested that it is *actually correct*, and if that's all that's being asked for i'm happy to do so, but otherwise i don't really know what the objections are.",
        "created_at": "2024-03-21T21:13:28.090000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think a prototype use case could handle that objection, then you can show how the gas cost change impacts the viability of the feature.  It's a real-world use case that is made impractical because of cost alone.",
        "created_at": "2024-03-21T21:27:01.315000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "easy, reentrancy protection -- goes from ~350 gas to ~55 gas, which based on surveys (debatable how useful these are but also from informal conversations) makes it worthwhile to make nonreentrancy protection the default behavior",
        "created_at": "2024-03-21T21:30:12.218000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i even had a twitter poll about it at one point! https://twitter.com/big_tech_sux/status/1683141734627446784",
        "created_at": "2024-03-21T21:36:07.866000+00:00",
        "attachments": null
    }
]