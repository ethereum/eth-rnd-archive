[
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "ahh, spec meeting is today, i thought i still had another day",
        "created_at": "2024-01-10T13:15:47.118000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "let me open up the variable-length encoding PR",
        "created_at": "2024-01-10T13:16:11.348000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Who is going to lead the call today?",
        "created_at": "2024-01-10T13:24:45.934000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "btw i think https://github.com/ipsilon/eof should be renamed `eof-specs`",
        "created_at": "2024-01-10T13:26:00.626000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "can be done. Add to the agenda please",
        "created_at": "2024-01-10T14:24:45.125000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "BTW is there pm issue for this call?",
        "created_at": "2024-01-10T14:29:59.148000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://github.com/ipsilon/eof/pull/37",
        "created_at": "2024-01-10T14:43:05.248000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sorry stuck on another call",
        "created_at": "2024-01-10T15:10:23.263000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what is the types_section in the code section?",
        "created_at": "2024-01-10T16:18:11.724000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2024-01-10T16:21:54.538000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_from_2024-01-10_11-20-50.png",
                "content": "51858b8933523ed349d1d174d551821fac449bf48d4677663926373a18a430ae"
            },
            {
                "type": "image/png",
                "origin_name": "Screenshot_from_2024-01-10_11-21-28.png",
                "content": "b1e7ab7ee7c166197ad6591c94dfd0dda4c76fdbee940fd71f7709ed358fe741"
            }
        ]
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think more examples in the spec would be good ðŸ™‚",
        "created_at": "2024-01-10T16:30:53.645000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "type section is the section that defines the function types: num inputs/output and max_stack_height",
        "created_at": "2024-01-10T16:32:15.790000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it seems duplicated though",
        "created_at": "2024-01-10T16:36:54.198000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "here, the code section has type_section but also inputs/outputs/max_stack_height",
        "created_at": "2024-01-10T16:37:34.282000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think max_stack_height is not really required to be in the header either, as it is inferred during validation",
        "created_at": "2024-01-10T16:47:40.786000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, but it is recursive. And runtime needs it. But I may have a \"fix\" for this ðŸ˜‰",
        "created_at": "2024-01-10T16:49:04.236000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "why don't the types just go in the code section header?",
        "created_at": "2024-01-10T16:51:59.802000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This comes from the fact that (at least initially) the section header was a generic concept: kind+size. You could have a generic parser for EOF which was able to split the container into kind+body of sections. This also explains the terminator a bit. Later we landed the optimization allows singular sections (e.g. data) and arrays of sections (e.g. code). The optimization remove repeating the kind byte multiple times.\n\nThe current design is a bit of middle ground between being fully generic and fitting the encoding precisely to EOFv1 needs.",
        "created_at": "2024-01-10T16:59:13.583000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "hmm, i don't really get it ðŸ˜…  -- doesn't having `num_code_sections` mean that you already don't need to repeat the `code` kind?",
        "created_at": "2024-01-10T17:02:36.342000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes. This was different originally.",
        "created_at": "2024-01-10T17:04:03.696000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in that case i think the format will be simpler to inline the type into the code section header (since you won't need to check that `len(types_section) == len(code_sections)`)",
        "created_at": "2024-01-10T17:05:12.424000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but, correct me if i am missing something.",
        "created_at": "2024-01-10T17:05:24.032000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i updated this to incorporate bounded VLQ values and the new sentinel value for non-returning functions (\u003c@275684146658148352\u003e \u003c@403707149043105803\u003e \u003c@425274498732916736\u003e )",
        "created_at": "2024-01-10T17:18:18.414000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Header or body? It is difficult to have it in the header because an entry is either `kind+size` or `kind+n+sizes`.",
        "created_at": "2024-01-10T17:22:05.415000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Anyway, I try to focus on what is needed and by what. How to exactly encode this information can be decided later.",
        "created_at": "2024-01-10T17:23:47.281000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the start of the code section (in the EOF body)",
        "created_at": "2024-01-10T17:26:16.869000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, \u003c@403707149043105803\u003e proposed this.",
        "created_at": "2024-01-10T17:32:37.074000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "**EOF Implementers Call 30** \nhttps://youtu.be/h7sDi6APa0Y",
        "created_at": "2024-01-10T17:50:21.970000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it's good to have all the types parsed before starting to validate sections (they are required to validate CALLF/JUMPF), so it's convenient to have them compactly in one place",
        "created_at": "2024-01-10T18:09:10.176000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i added a reference vlq implementation here https://github.com/ipsilon/eof/pull/37/commits/69ebc5013638974257d07a81dee7289b51dd270f",
        "created_at": "2024-01-10T20:28:06.356000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the signed integer vlq encoding was surprisingly tricky to get right. i ended up using zigzag (which essentially stores the sign bit in the lsb).",
        "created_at": "2024-01-10T20:28:49.147000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "re. performance -- the reference vlq decode implementation is actually comparable in performance to the python builtin from_bytes https://github.com/ipsilon/eof/pull/37#issuecomment-1885735155. so, i don't think that is going to cause very much interpreter overhead.",
        "created_at": "2024-01-10T21:14:49.946000+00:00",
        "attachments": null
    }
]