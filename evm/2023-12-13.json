[
    {
        "author": "demiurgos_23",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "is there any place we can find some specification for T8N or B11R?",
        "created_at": "2023-12-13T12:15:20.863000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "B11R - no docs I'm aware of.  Here's what exists for T8N - https://ethereum-tests.readthedocs.io/en/develop/t8ntool-ref.html",
        "created_at": "2023-12-13T13:56:09.774000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "B11R follows the t8n patterns",
        "created_at": "2023-12-13T13:56:22.285000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Here's the CLI flags I needed to get execution-spec-tests to run - https://github.com/hyperledger/besu/blob/5a766b4696abca108b357621acc08dfeb340d7c8/ethereum/evmtool/src/main/java/org/hyperledger/besu/evmtool/B11rSubCommand.java#L68-L121",
        "created_at": "2023-12-13T13:57:51.279000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There is a strong chance I'll be late on the EOF call today. I want to hear some late discussions on the rollcall.",
        "created_at": "2023-12-13T14:36:51.664000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "still on the rollcall too",
        "created_at": "2023-12-13T15:00:31.763000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "where is the link?",
        "created_at": "2023-12-13T15:06:05.997000+00:00",
        "attachments": null
    },
    {
        "author": "big_tech_sux",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "leaving the zoom for now -- \u003c@543900561460822016\u003e \u003c@403707149043105803\u003e want to ping when rollcall is done?",
        "created_at": "2023-12-13T15:06:33.705000+00:00",
        "attachments": null
    },
    {
        "author": "pdobacz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we'll wait for roll call to finish",
        "created_at": "2023-12-13T15:06:33.752000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sounds good",
        "created_at": "2023-12-13T15:06:44.789000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "will be in 24 min",
        "created_at": "2023-12-13T15:06:52.713000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://www.ethereumcatherders.com/calendar and then click on the meeting",
        "created_at": "2023-12-13T15:07:00.332000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "now",
        "created_at": "2023-12-13T15:30:35.906000+00:00",
        "attachments": null
    },
    {
        "author": "pdobacz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@408154589494247424\u003e \u003c@425279588009246720\u003e roll call done",
        "created_at": "2023-12-13T15:30:37.401000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://ethereumfoundation.zoom.us/j/85004720429?pwd=K1hnV1Z4bE1RZW50VEZTQnlCNHNuUT09",
        "created_at": "2023-12-13T15:32:49.210000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "call next week dec 20 , then restart on jan 10",
        "created_at": "2023-12-13T15:59:08.437000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Unrelated to EOF... how hard would it be to re-cast 3074 to a pair of system contracts?",
        "created_at": "2023-12-13T16:13:04.445000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "not difficult, but we'd have to introduce the concept of \"special\" op codes which are only available in privileged context",
        "created_at": "2023-12-13T20:50:50.845000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think we are thinking of the same thing.  No opcodes.  Two proecimpile contracts: one to do the AUTH part, one to do the AUTHCALL part.  For the AUTHCALL contract you would have a call coming out of the other side system contract, and that would be new. bBut if there is fragmented uptake a precompile is easier on devtools than a couple of opcodes that not all chains adopt.",
        "created_at": "2023-12-13T21:42:38.226000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Or only have an AUTHCALL opcode and require chains to do their own AUTH via a system contract.  That allows each chain to set it's risk profile for authorized commits.",
        "created_at": "2023-12-13T21:44:20.068000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sorry you said \"system contract\" i thought you meant as in 4788",
        "created_at": "2023-12-13T22:02:18.064000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think you can do it in this way, but i think it probably isn't great to let chains have different formats for auth? seems like it could lead to some compatibility frustration, but i guess this is kinda how invokers will work anyways, so not super different",
        "created_at": "2023-12-13T22:05:04.943000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "auth/authcall just don't really fit the \"precompile\" mold super well imo - maybe i haven't updated to the \"modern precompile vision\" but i still think of precompiles as generally pure functions",
        "created_at": "2023-12-13T22:08:41.064000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if we were okay with storage in precompiles it does open the door for some more chain-specific policies on around auth messages that aren't really possible w opcodes",
        "created_at": "2023-12-13T22:10:02.950000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think i still lean towards trying to find the right solution for everyone though",
        "created_at": "2023-12-13T22:10:21.335000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But my chief concern is that the commitment granted by the AUTH opcode is an inappropriate amount of security risk to expose toall chains in all places.  Removing the task of granting authorization and moving it to the chain to decide allows the risk to be customized.  These are the kinds of mitigations that are warranted for what is currently proposed in 3074.",
        "created_at": "2023-12-13T22:44:01.037000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What is proposed on 3074 is unsafe for L1 use and inappropriate for most L2 uses, from a security standpoint.",
        "created_at": "2023-12-13T22:44:17.759000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "These risks (as enumerated in this eth magicians thread - https://ethereum-magicians.org/t/a-case-for-a-simpler-alternative-to-eip-3074/6493) are too high to force upon all chains with a one-size-fits-all design.  Simply adding the chainID in the auth is insufficient.  Moving it to a per-chain precompile is a step towards adding the level of mitigations the security risks warrant.",
        "created_at": "2023-12-13T22:47:10.679000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The point of 3074 is to allow devs to design these mitigations within invokers. I think further complicating it detracts from the original goal of the EVM to provide a powerful abstractions to developers",
        "created_at": "2023-12-13T22:49:16.357000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but i don't think we're going to see eye-to-eye on that and it's okay",
        "created_at": "2023-12-13T22:49:29.797000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But there is no way to prevent malicious or buggy invokers.",
        "created_at": "2023-12-13T22:49:37.805000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it's opt in to use - the same can be said for all smart contracts",
        "created_at": "2023-12-13T22:49:56.886000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Again, this exponentially grows the blast radius.  Current wallet UX is not good enough to discount the \"mistaken signature\" security model.",
        "created_at": "2023-12-13T22:50:43.805000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "People will mistakenly opt in, and it is irreversable per-chain.",
        "created_at": "2023-12-13T22:51:04.515000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "it is currently impossible to sign a malicious 3074 signature right now bc they don't support the 3074 msg type",
        "created_at": "2023-12-13T22:51:16.017000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so they can't mistakenly opt in",
        "created_at": "2023-12-13T22:51:23.139000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But similar errors happen regularly, such as 712-style signatures and mistaken transactions to homophonic addresses.",
        "created_at": "2023-12-13T22:51:55.951000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think yoav had a good proposal to control the blast radius though and that is to include `maxNonce` in the auth msg and when the msg is verified by auth it looks at the account nonce and if the account nonce is less than the auth msg then it is valid. Paired with an op `BUMPNONCE` that a user could send to increment their nonce above that `maxNonce` value, now you have a very light weight in-protocol revocation scheme",
        "created_at": "2023-12-13T22:52:59.475000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There would also need to be an in-protocol maximum delta for the nonce, otherwise we will see a lot of 2^64-1 nonce calls.  If this was a precompile L2s could more easily customize their risk profile.",
        "created_at": "2023-12-13T22:54:39.407000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "is it a problem if they are `2^64-1`?",
        "created_at": "2023-12-13T22:55:22.658000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The only way to revoke mistaken signatures is to then shut down the account.  Stranding all funds.",
        "created_at": "2023-12-13T22:56:08.946000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Not sure I follow? You would set `maxNonce` to something more reasonable like `10000` and then bump to `100001`?",
        "created_at": "2023-12-13T22:56:54.230000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "max delta, of say 1000.  Them my account has a nonce of 2400, so the max nonce could be 3500.  The authorization would fail if nonce is too small.",
        "created_at": "2023-12-13T22:57:44.890000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what is the purpose of the max delta though?",
        "created_at": "2023-12-13T22:58:03.968000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To prevent authorizations that are valid until the end-of-nonces",
        "created_at": "2023-12-13T22:58:24.703000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think we need to wrap evm features in bubble wrap for devs",
        "created_at": "2023-12-13T22:59:20.572000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if they make an auth valid until end-of-nonce then they do",
        "created_at": "2023-12-13T22:59:32.416000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is for end user security.  They do need bubble wrap.",
        "created_at": "2023-12-13T22:59:37.142000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i strongly disagree with this take from a protocol perspective",
        "created_at": "2023-12-13T22:59:54.991000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And making AUTH a precompile per-chain it allows the chains to customize risk rather than take-it-or-leave-it",
        "created_at": "2023-12-13T23:00:02.305000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "why do we allow users to send all their eth to the zero address then?",
        "created_at": "2023-12-13T23:00:40.928000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "They can do dumb things, so why not give them tools to do even dumber things?",
        "created_at": "2023-12-13T23:01:24.684000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if our stance is we want to bubble wrap the evm for users, why do we allow historical sharp edges to exist",
        "created_at": "2023-12-13T23:02:03.373000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If shipped as-is there will be somewhere between millions and billions lost to mistaken sigantures.",
        "created_at": "2023-12-13T23:02:05.835000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i disagree, but again, we're not going to see eye-to-eye",
        "created_at": "2023-12-13T23:02:21.663000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We can't undo past sins, but we shouldn't create new ones either.",
        "created_at": "2023-12-13T23:02:24.248000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(also the founders of several major wallets disagree)",
        "created_at": "2023-12-13T23:02:39.273000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Again, agree to disagree.  But allowing chains to manage their own risk profile fits in the \"we see the world different\" theme.",
        "created_at": "2023-12-13T23:04:16.387000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah i'm not totally against the idea, but i think finding the right risk profile for everyone is a better outcome",
        "created_at": "2023-12-13T23:06:23.586000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm sceptical it exists.  But in hashing it out we will find clarity on it.",
        "created_at": "2023-12-13T23:06:50.869000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A precompile can also store state that can be used to store revocations.",
        "created_at": "2023-12-13T23:08:56.902000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and if its **not** shipped, billions will also be lost. this is not a valid argument against progress given the current state of things unfortunately.",
        "created_at": "2023-12-13T23:20:06.154000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(a) YOLOing security is not the correct way to progress.  I'm calling for mitigations and customized risk profiles.\n(b) This is not the only path to progress.  Certainly a favoured path, but not the only one.",
        "created_at": "2023-12-13T23:21:23.208000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Whats the other path that aims to actually mitigate the #1 cause of loss both historically and presently?",
        "created_at": "2023-12-13T23:24:22.379000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Remember, the mitigation is to not enable eternal auths.  Not to solve past sins but the aim is to not create new ones.",
        "created_at": "2023-12-13T23:25:47.587000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Bc, to be clear, I am personally 100% sick of people who dont talk to users all day every day telling me that there are other paths adn then not delivering the goods. I have, for years, respected the r\u0026d process of ethereum and felt that they knew better than me.\n\nBut lets be abundantly clear about what is happening right now: \n\nShit couldve and shouldve been implemented in 2020. Full stop. \n\nDoing so would have put us in a much better position than we are in today, especially with the market coming in hot at this point. There may have been new forms of loss but there always are new forms of loss. This shit is a limitless computer. Scammers will scam, hackers will hack. The most important thing is to empower the good people to **mitigate the losses thru progress and optionality.** \n\nAny AA would have given the myriad of L2s that were spun up between 2020 and today more optionality and room to progress and iterate the auth methods available to users. Any option, even a shit one, would have ultimately gotten everyone closer to mitigating the losses on the whole and reduced the single patterns of failure which now extend across dozens of chains, each of which now hold billions and billions of dollars worth of value.\n\nThe choice to **not** address the issue in 2020, or 2021, or 2022, or 2023 was a choice just as much as the choice to do something is a choice. That choice to **not** act has, once again, resulted in \u003e$1b lost or stolen due to key rektage this calendar year. A bear year, mind you.\n\nThis is not about \"absolving past sins\" this is about not committing the same sin again. Or, if we insist on doing so, then at the very least acknowledge that choosing to do nothing is choosing to not attempt to mitigate the billions of dollars in losses we will see in 2024 and 2025.",
        "created_at": "2023-12-13T23:41:22.353000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not advocating doing nothing.  I'm advocating doing it right.",
        "created_at": "2023-12-13T23:46:59.352000+00:00",
        "attachments": null
    }
]