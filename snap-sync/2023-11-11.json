[
    {
        "author": "suburbandad_",
        "category": "Execution Layer",
        "parent": "",
        "content": "I am back and forth on one particular case with snap server - how should snap server respond to a single account partial storage range request that is empty?  e.g. accountHash X, range 0x10..00 -\u003e 0x1f..ff.\n\nIt looks like geth drops this range request and would return an empty response.  https://github.com/ethereum/go-ethereum/blob/master/eth/protocols/snap/handler.go#L406C3-L450C22\n\nBut when besu mimics this behavior and returns no keys and no proofs for an empty single account range, the response is indistinguishable from the worldstate not being available.  So it gets retried over and over.\n\nwhat is the right behavior here?",
        "created_at": "2023-11-11T04:46:50.894000+00:00",
        "attachments": null
    },
    {
        "author": "suburbandad_",
        "category": "Execution Layer",
        "parent": "",
        "content": "when I send empty list of slots, geth logs:\n```\n{\"err\":\"invalid proof, want hash e08bf15352f9d549a2a5030d3aae5399b275231ceeffa0184a316f390fb3938a, got 56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"lvl\":\"warn\",\"msg\":\"Storage slots failed proof\"\n```\n\nwhen I send empty list of slots, and a proof of non-existence of the start hash, I get \n```{\"err\":\"more entries available\",\"lvl\":\"warn\",\"msg\":\"Storage range failed proof\"```\n\nshould snap server send the first slot after the range, similar to account range?",
        "created_at": "2023-11-11T17:26:21.881000+00:00",
        "attachments": null
    }
]