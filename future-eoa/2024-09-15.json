[
    {
        "author": "yoavw",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "These contracts don't *try* to discriminate against AA. It's just collateral damage to what they do try to achieve. They don't want to be called by contracts, any contracts. Common examples:\n1. DeFi protocols that are not designed with flashloans in mind and try to prevent flashloans by only accepting calls from eoa. It also breaks their compostability and they'd be better off implementing the protocol with flashloans in mind. But as collateral damage they discriminate against AA.\n2. NFTs with on chain royalties, trying to prevent wrapping (to evade royalties) by preventing transfer to contracts. They can probably be tricked by constructor code, I never checked.\n\nWe can't really prevent this, but I hope we can at least not encourage it by adding an opcode for it in EOF.\n\nFor the use case this opcode tries to support, doesn't it make more sense to use a standard check (supportInterface) rather than checking for a contract and making assumptions about its code?",
        "created_at": "2024-09-15T14:04:33.292000+00:00",
        "attachments": null
    }
]