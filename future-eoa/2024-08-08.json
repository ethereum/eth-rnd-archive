[
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Was wondering if refund means just reducing spend gas (erasing cost. First call has more gas), or incrementing gas refund (and doing min 1/5 of spent gas at the end)?",
        "created_at": "2024-08-08T10:37:23.680000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would assume first case, but refund word made me thing about second case.",
        "created_at": "2024-08-08T10:37:50.143000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am a bit uncertain about the gas refund. In the 7702 spec is says:\n\u003e If any of the above steps fail, immediately stop processing that tuple and continue to the next tuple in the list. It will in the case of multiple tuples for the same authority, set the code using the address in the last occurrence.\n\nStep 5 for example is `Verify the nonce of authority is equal to nonce.` and step 6 is `Refund the sender PER_EMPTY_ACCOUNT_COST - PER_AUTH_BASE_COST gas if authority exists in the trie.`\n\nDoes stop processing mean here that for example the nonce validation fails we don't refund the sender even though if the authority is already in the trie?",
        "created_at": "2024-08-08T14:27:53.219000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "correct",
        "created_at": "2024-08-08T14:28:57.126000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e can you clarify this for me, does refund in this sense means adding gas back?",
        "created_at": "2024-08-08T14:38:09.511000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it should behave like other refunds, credit the account after the tx?",
        "created_at": "2024-08-08T14:39:10.243000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That would be common flow. Ty",
        "created_at": "2024-08-08T14:42:02.021000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e this should be good to go: https://github.com/ethereum/EIPs/pull/8746",
        "created_at": "2024-08-08T15:16:41.463000+00:00",
        "attachments": null
    }
]