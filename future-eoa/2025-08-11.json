[
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't know if anybody cares, but tx.origin is being repeatedly exploited in the wild now on Etheria v1.1 and v1.2.",
        "created_at": "2025-08-11T16:18:03.954000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Here's the sob story: \nIn August 2015, when the chain had just launched and documentation was sparse, I started experimenting with what Ethereum could do, creating coin flip contracts and stuff like that.",
        "created_at": "2025-08-11T16:19:04.790000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Eventually, this experimentation led me to create Etheria, a map of hexagonal tiles that people could buy and customize with LEGO-like bricks which turned into the first NFT project. \nMany of the early contracts I deployed while experimenting (or iterating) for this project were broken in one way or another such as no transfer function or no ownership check (i.e. ability to steal tiles, etc). Gas was literally pennies, so I just did it all on chain. That is, these weren't bugs so much as tests.",
        "created_at": "2025-08-11T16:21:05.179000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But on October 19th, I deployed the last test contract for Etheria (now called v0.9) and it was actually viable. It had some sort of minor issue, I guess, so I deployed one more (now called v1.0) which is also viable. Both of these versions are now wrapped and available on OpenSea. I announced Etheria (v1.0) on Reddit back in 2015 and users actually bought up some tiles then...",
        "created_at": "2025-08-11T16:22:44.039000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Unfortunately, v1.0 had a bug where if you tried to buy a tile that was already owned, the contract would eat your money. There was no \"revert\" function back then, I believe.",
        "created_at": "2025-08-11T16:23:22.474000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So I asked Christian Reitweissner how to handle this and we had a miscommunication",
        "created_at": "2025-08-11T16:23:38.322000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2025-08-11T16:23:54.966000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "chriseth.png",
                "content": "bdf537fb98e2ca0e7e44a5c5562f5a74bcb275d26aa989394d116ad9f1573484"
            }
        ]
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "He mentioned (although didn't explicitly suggest using) tx.origin.",
        "created_at": "2025-08-11T16:24:21.507000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This was before people started to realize how bad tx.origin was and how it should have never been exposed in Solidity in the first place. (This realization and widespread warnings against tx.origin didn't start to percolate until mid 2016. https://github.com/ethereum/solidity/issues/683)",
        "created_at": "2025-08-11T16:25:21.726000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Anyway, in an effort to fix the money-swallowing bug, I deployed v1.1 and v1.2 Etherias using tx.origin instead of msg.sender.",
        "created_at": "2025-08-11T16:25:45.669000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Womp womp.",
        "created_at": "2025-08-11T16:25:58.227000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In 2021, when NFTs took off, people bought up all the tiles on all 4 versions of Etheria and these tiles have a typical floor price of ~4 ETH for the wrapped versions and ~1.5 ETH for the versions using tx.origin",
        "created_at": "2025-08-11T16:27:07.265000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For the tx.origin versions, we just advised people not to interact with smart contracts they didn't trust in order to prevent tx.origin hijacking from stealing their Etheria v1.1+ tiles.",
        "created_at": "2025-08-11T16:27:58.204000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Unfortunately, over the past week, an exploiter has been successful in tricking people into interacting with bad contracts that steal tiles, primarily through OpenSea Seaport 1.6 which features hooks that can call arbitrary code.",
        "created_at": "2025-08-11T16:28:43.849000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So now, people think they're interacting with a 'trusted' opensea contract, but the listings and collections have hooks that steal Etheria tiles.",
        "created_at": "2025-08-11T16:29:11.404000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Anyway, that's the story of how legacy tx.origin is being exploited for tens of thousands of USD in the present day. If anyone has insight into what is going to happen to tx.origin (if anything) in the future of full AA, I'd be interested in your thoughts.",
        "created_at": "2025-08-11T16:30:57.206000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(PS, with \u003c@415548822983278593\u003e  help, we did design a workable \"wrapper\" for these v1.1+ tiles using synthetic, single-use \"pocket\" EOAs with pre-made, publicly published unwrap transactions but unfortunately it's not quantum-proof.)",
        "created_at": "2025-08-11T16:33:23.501000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Anyway, very interested in any insight people have re: what's going to happen with tx.origin if we get to the promised land of full AA.",
        "created_at": "2025-08-11T16:33:49.931000+00:00",
        "attachments": null
    },
    {
        "author": "fivedogit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(I support an aliasing of tx.origin to msg.sender but not sure where everyone lands on that. And I'm not EVM-educated enough to fully understand all the consequences of that.)",
        "created_at": "2025-08-11T16:34:39.046000+00:00",
        "attachments": null
    }
]