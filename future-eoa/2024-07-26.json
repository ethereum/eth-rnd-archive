[
    {
        "author": "arik_g",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I totally agree that different teams are looking at different aspects of the proposal here as favorable and I had this discussion with ankit.\n\nFor me the value in this proposition is the ability to have a single transaction delegation. I believe that it will allow much faster adoption of smart account code with reduced risk and maybe reduced cost (as you don't persist the code). The different between single transaction delegation and long term delegation is the kind of thing that allows for very quick experimentation and adoption. Although it's not an easy tradeoff against the risk fo bricking accounts once you do long term delegation - so it's not an easy clear-cut choice.\n\nThe real optimal solution imho would be the existing merged version with the ability to CODERESET at the end to cancel long term delegation. I did not yet see a strong argument against it that is anything more than \"I don't understand the value, I don't like opcodes and its too many options\". The reality is there is value, the value is that it will bring better UX to users by providing safer options to use new capabilities.",
        "created_at": "2024-07-26T04:35:47.610000+00:00",
        "attachments": null
    },
    {
        "author": ".vshvsh",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it's 100% true for the original one (ephemeral  single-tx code) but the current one is making half a leap to full migration and stopping at the point that's not enough to deliver real sca migration: security features and credible commitment not possible. I don't like scope creep as much as the other guy but I think it already sorta happened",
        "created_at": "2024-07-26T07:47:38.838000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Interested in this too. Would like to get a explanation on DDOS. \u003c@177224966398279680\u003e in your post you are mentioning mempool ddos attack",
        "created_at": "2024-07-26T10:04:49.934000+00:00",
        "attachments": null
    },
    {
        "author": "ankitchiplunkar",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "here is an example from \u003c@727296082484265073\u003e  https://discord.com/channels/595666850260713488/718596092828057631/1263520648290893835\n\nThe DOS vector comes from the fact that this is a new type of account (SCA \u0026 EOA both at the same time), the vector can be mitigated but will require changes on the network layer. \nI think ansgar and matt both have proposed changes to tackle this vector, enabling 3607 for migrated accounts is the third type of mitigation.",
        "created_at": "2024-07-26T10:08:00.128000+00:00",
        "attachments": null
    },
    {
        "author": "rimeissner",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So the DoS vector is not 4337 related, but a general DoS vector, right?",
        "created_at": "2024-07-26T11:44:23.254000+00:00",
        "attachments": null
    },
    {
        "author": "rimeissner",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just to fully understand, would a \"do not persist\" flag also cover your use case?",
        "created_at": "2024-07-26T12:42:53.503000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this isnâ€™t true at all, the current 7702 proposal gives us the same ability to bootstrap the smart contract wallet ecosystem as all the previous iterations",
        "created_at": "2024-07-26T13:31:07.839000+00:00",
        "attachments": null
    },
    {
        "author": "arik_g",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes, \"do not persist\" flag would be a good addition and solve this issue without adding the new opcode",
        "created_at": "2024-07-26T14:14:28.214000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think any of you actually care about DOS vectors on the protocol, so let's not pretend and use them as rationale for allowing full EOA migration. there are several fine mitigations that retain the current security profile of 7702",
        "created_at": "2024-07-26T14:20:18.482000+00:00",
        "attachments": null
    },
    {
        "author": "pedrouid",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We are basically proposing 7702 to allow:\n- EOAs to fully migrate/upgrade to SCAs\n- EOAs to revert back from SCAs\n- EOAs to support SCA features in a single transaction",
        "created_at": "2024-07-26T15:00:54.379000+00:00",
        "attachments": null
    },
    {
        "author": "pedrouid",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Itâ€™s essentially both full migration and original 7702 scope in a single proposal",
        "created_at": "2024-07-26T15:01:19.817000+00:00",
        "attachments": null
    },
    {
        "author": "pedrouid",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But most importantly it creates a clear distinction between EOA and SCA",
        "created_at": "2024-07-26T15:01:38.004000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I get what you're proposing. I don't agree with it for the reasons I outlined, which have not been addressed",
        "created_at": "2024-07-26T15:01:38.178000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just exploring this, what would happen if  we just ban transaction of accounts that got delegated?",
        "created_at": "2024-07-26T15:01:44.464000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in the txpool or in consensus?",
        "created_at": "2024-07-26T15:02:09.755000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "both ðŸ™‚",
        "created_at": "2024-07-26T15:02:25.735000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "was exploring as consensus, but for txpool can be valuable",
        "created_at": "2024-07-26T15:02:56.480000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "then you canâ€™t self relay txs to your smart contract wallet or change your wallet implementation / deactivate",
        "created_at": "2024-07-26T15:05:17.047000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But your signature for changing smart contract comes from eip7702 tx (AuthList), not from ordinary transaction.",
        "created_at": "2024-07-26T15:06:20.736000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You will disable to directly call from that account (with no eip7702 tx), not sure how painful is that.",
        "created_at": "2024-07-26T15:07:06.138000+00:00",
        "attachments": null
    },
    {
        "author": "julrach",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we proposed that the dos attack can be mitigated by lowering the maximum number of pending 7702 transactions in the mempool to 1. this would guarantee that hybrid eoas could have at most 1 transaction invalidated per block",
        "created_at": "2024-07-26T15:59:11.234000+00:00",
        "attachments": null
    },
    {
        "author": "julrach",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i actually wrote about this in my codereset response hackmd, people seem to like the suggestion",
        "created_at": "2024-07-26T16:01:10.222000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "fa5e4d251c4cb97c69f26e7c8ebade7c233bf9cc6200f84249047c2d1a62f1c2"
            }
        ]
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm talking about self-relaying. Yes you can still modify your 7702 delegation, but you'd need to get that included through a relayer. I don't see any point in doing this",
        "created_at": "2024-07-26T16:05:22+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have a proposal for 7702 to ensure that only one EOA can send the 7702 tx (this is an optional feature) https://github.com/ethereum/EIPs/pull/8763",
        "created_at": "2024-07-26T16:07:18.115000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what does this do? ties your auth to a specific relayer?",
        "created_at": "2024-07-26T16:08:32.503000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It ensures that only one EOA can send a 7702 tx to delegate the account. In the current signature encoding every EOA can send the 7702 delegation. I can't think of an example but I'm rather sure that if we don't do this we could get MEV stuff going on with 7702 delegations",
        "created_at": "2024-07-26T16:22:21.526000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think above is very useful to narrow security scope for those who might want to",
        "created_at": "2024-07-26T16:31:49.661000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "another PR: https://github.com/ethereum/EIPs/pull/8762 which Matt has already seen but brining up here to get more opinions",
        "created_at": "2024-07-26T16:32:19.653000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "While we are talking about PRs. https://github.com/ethereum/EIPs/pull/8746 it is related to decoding clarification.",
        "created_at": "2024-07-26T16:40:37.425000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Left a comment ðŸ™‚",
        "created_at": "2024-07-26T16:50:01.743000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Invalid should be correct term here",
        "created_at": "2024-07-26T17:25:21.744000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "unless you have an example, I don't think it makes sense to preemptively add complexity to the EIP",
        "created_at": "2024-07-26T17:26:01.811000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "how are you dealing with 2930 access lists? my understanding is there is also no limit to those",
        "created_at": "2024-07-26T17:29:16.685000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If any item in list is not correct size tx is invalid, right?",
        "created_at": "2024-07-26T17:30:29.708000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is about having 100bytes nonce inside AuthList, to make it invalid",
        "created_at": "2024-07-26T17:31:21.039000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sorry i see, this is about elements in the list",
        "created_at": "2024-07-26T17:31:36.295000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ex EOA signs a sponsor transaction to ensure that EOA gets pointed to contract A, and as sponsor will give `tx.origin` X eth. Once this signature gets submitted, one could imagine that there will be a \"battle\" for any EOA to get this sponsorship bonus (thus net paying a gas price which in the end will lead to near-zero profit). (Or it will get MEVd out). Same situation as accounts which private key got leaked and ETH gets deposited into the account. This is up for grabs so a massive amount of txs are submitted which in the end will yield the minimal amount to be sent to the \"winner\" (or, as for now get MEVd out)",
        "created_at": "2024-07-26T18:25:30.308000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what's the issue with this? this type of mev event is already possible today in different scenarios",
        "created_at": "2024-07-26T18:34:24.289000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the example you gave is rather contrived and can be avoided by just sending the ether to a fixed address instead of `origin`",
        "created_at": "2024-07-26T18:34:48.055000+00:00",
        "attachments": null
    },
    {
        "author": "rjected",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sorry, hard to follow the dos discussion. For the record I do not believe there is a dos problem with 7702, because I'm convinced of the pending tx mitigation.\n\nI will be scoping, and possibly implementing, the mempool changes for reth to hopefully put the dos discussion to rest. People are mentioning 3 mitigations:\n* IIUC one is limiting pending txs s.t. only one 7702 tx can be invalidated.\nWhat are the other two?",
        "created_at": "2024-07-26T19:06:30.092000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "* \u003c@415548822983278593\u003e proposed that we extend the authorization list to include a list of \"active addresses\" which can be used to reason about statically if an account may sweep its balance, causing pending txs to be invalidated. if the account isn't included in the list then the delegation designation will not do anything\n* don't allow 7702-upgraded accounts to originate txs - obv i don't really think this is the right solution as has many problems which we're discussed previously",
        "created_at": "2024-07-26T19:09:17.831000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "probably some others",
        "created_at": "2024-07-26T19:09:33.893000+00:00",
        "attachments": null
    },
    {
        "author": "rjected",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see, that makes sense, thanks!",
        "created_at": "2024-07-26T19:20:18.644000+00:00",
        "attachments": null
    },
    {
        "author": "gregthegreek",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I did sign off on the original proposal, and still stand that current 7702 needs a lot of work. \n\n\u003c@792822129019584562\u003e has added some good steps but weâ€™re still far from perfect \n\nFrankly considering that under the current structure of how the account model works in Ethereum there will never be a perfect solution for EOAs to match 4337 capabilities. In that same vein, I donâ€™t think we should force an upgrade for any user to any implementation version. \n\nIf we want to enable the simplest improvement to the protocol, and baby step our way to something meaningful we should seriously reconsider something similar to 3074 + authsurp. \n\nWhy?\n1. Most L2s are on-boarding a ridiculous amount users via SCW\n2. The existing user base will shrink in size comparatively, as in more will start with scw rather than EOAs\n3. The simplest migration path is a batched 3074 call to move all assets to a scw and be done with it. \n\nIâ€™m not sure if V has been chatting with anyone lately, but considering he made 7702 it would be nice to hear some thoughts on the subject.. he swung so hard and now weâ€™re in a huge stalemate. That I will argue, is tough to get out of.",
        "created_at": "2024-07-26T21:01:00.708000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think 7702 is in a good place and there is no need to go back to 3074. Some groups feel 7702 doesn't perfectly fit their desired use case, but by and large, 7702 addresses the goals we set out to solve for users: improve execution abstraction (like batching), allow tx sponsorship, and support privilege de-escalation -- all the while allowing users to use smart contract wallet impls that are virtually identical to non-EOA scw accounts",
        "created_at": "2024-07-26T21:13:29.796000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "a few (hopefully not controversial) spec updates: https://github.com/ethereum/EIPs/pull/8766",
        "created_at": "2024-07-26T22:48:15.028000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "```\n\n    disallows contract creation via 7702 tx, like the restriction on 4844 txs\n    bans zero length authorization lists in 7702 tx\n    charges the regular 25k gas in case an account doesn't exist before placing the delegation designator\n    charges an additional COLD_ACCOUNT_READ gas during delegate resolution if the account hasn't been warmed yet\n```",
        "created_at": "2024-07-26T22:48:49.908000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah it feels like we're in a place which is actually pretty good, we have a few different versions that are all \"good enough for a lot of use cases\" and are quibbling on details",
        "created_at": "2024-07-26T22:48:54.487000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Maybe we need another breakout call, and agree that that's the last call for changes?",
        "created_at": "2024-07-26T22:49:18.540000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And after that just disagree-and-commit even if the proposal is imperfect",
        "created_at": "2024-07-26T22:49:38.874000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I propose Aug 1 or Aug 2? Want to let people rest a bit after the research workshops and edcon",
        "created_at": "2024-07-26T22:52:40.053000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Some also want Jul 31",
        "created_at": "2024-07-26T22:57:03.579000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2024-07-26T22:57:58.637000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And for the time, either eth o'clock or one hour earlier if there's a conflict?",
        "created_at": "2024-07-26T22:58:51.009000+00:00",
        "attachments": null
    }
]