[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Backward compatibility with the current is the main reason.",
        "created_at": "2020-06-14T03:34:19.209000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If we had a single array we would need to set the high bit of the first element and switch on that, which ends up actually being *bigger* on the wire I believe because the first item would need to be 5 bytes long rather than 1, and the array will only add 2 bytes I think (need to check on size of array encoding, it may be 3 bytes).",
        "created_at": "2020-06-14T03:37:00.489000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Having an envelope I think results in slightly cleaner decoding code in clients and tools IMO.",
        "created_at": "2020-06-14T03:38:05.603000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Both advantages are minor, but I see no compelling reason to go with single level structure so I'll take the minor wins.  :)",
        "created_at": "2020-06-14T03:38:51.560000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e",
        "created_at": "2020-06-14T03:38:54.335000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Two layer structure means that second element does not even need to be rlp which would allow for ssz in some new future format.",
        "created_at": "2020-06-14T12:23:09.067000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So the envelope approach has some potential for big wins",
        "created_at": "2020-06-14T12:23:49.862000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, I hadn't considered making the second item a byte array.",
        "created_at": "2020-06-14T15:12:32.381000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For TransactionType 0 and 1 it could just be a byte array that is an RLP encoded array, but it doesn't have to be.",
        "created_at": "2020-06-14T15:12:59.045000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I posted my thoughts on this on the discussion thread: https://ethereum-magicians.org/t/eip-2718-typed-transaction-envelope/4355/3",
        "created_at": "2020-06-14T22:40:27.180000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Two layer structure means that second element does not even need to be rlp which would allow for ssz in some new future format.\nWhy is this exclusive to a two layer structure? The tx type could tell the deserializer how to interpret the rest of the data -- so clients can be told to interpet type 2 txs as a byte array encoded as SSZ and type 0 txs as a flat rlp object with 10 elements.",
        "created_at": "2020-06-14T22:44:49.852000+00:00",
        "attachments": null
    }
]