[
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@\u0026688101493978562687\u003e Everyone says tg uses less space in disk, but I am not experiencing that. Currently tg is on 745 GB, while geth used 560 GB.  Not sure if it didn't finished syncing and maybe later it will cleanup something",
        "created_at": "2020-10-12T08:07:00.495000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2020-10-12T08:07:03.782000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "unknown.png",
                "content": "cf691efb4efb00dc7ddb88254e8c78d2ca6033174a9ffc0481f441fcda1995a0"
            }
        ]
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!551157969367334912\u003e turbo-geth works in archive mode",
        "created_at": "2020-10-12T08:07:33.517000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "you should compare apples to apples - geth's and parity's archive nodes take several terabytes of disk space",
        "created_at": "2020-10-12T08:07:55.627000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I didn't knew that, I was expecting only a full sync",
        "created_at": "2020-10-12T08:08:12.407000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How much space I need for this tg archive node?",
        "created_at": "2020-10-12T08:08:25.124000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "my fully synced tg node takes 714 GB on disk",
        "created_at": "2020-10-12T08:09:42.508000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So I am fully synced?",
        "created_at": "2020-10-12T08:09:57.457000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There is nothing indicating me about that",
        "created_at": "2020-10-12T08:10:12.843000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "by the looks of it you've gone through the heaviest parts, so you should reach the tip pretty soon",
        "created_at": "2020-10-12T08:10:32.130000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah great. I am looking forwards doing some data analysis on the mainnet state",
        "created_at": "2020-10-12T08:11:00.195000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!551157969367334912\u003e also you can run the RPC daemon and check what `eth_blockNumber` returns",
        "created_at": "2020-10-12T08:14:08.209000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "our progress indication for genesis sync isnt awesome at the moment",
        "created_at": "2020-10-12T08:14:29.268000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "also, we don't have a linear 0 to hero sync - instead tg works in stages",
        "created_at": "2020-10-12T08:15:33.331000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "because I see \"incremental promotion\" so it could be that it was synced to some block already",
        "created_at": "2020-10-12T08:16:00.805000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so stage 1 goes from 0 to tip, then stage 2 from 0 to tip, then stage 3, etc...",
        "created_at": "2020-10-12T08:16:01.007000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "BTW, it's not clear here that tg is doing an archive-sync https://ledgerwatch.github.io/turbo_geth_release.html",
        "created_at": "2020-10-12T08:16:16.483000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, we store all the history",
        "created_at": "2020-10-12T08:16:54.017000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "no pruning at that point",
        "created_at": "2020-10-12T08:17:02.733000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "are you keeping this in off while its totally polished to throw at btc maximalists face? ðŸ˜†  there is this fallacy that eth full node is not really full, and a \"real eth node\" would require several TBs of space. I guess tg will totally kill this fallacy",
        "created_at": "2020-10-12T08:18:08.446000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think we want to show how storing stuff in a different way and generating what could be generated on the fly could be way more efficient way than what most of the clients do at the moment",
        "created_at": "2020-10-12T08:19:11.109000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I mean, if an archive sync is only 200 GB+ than the full sync at 500 GB, this make this \"not really full node\" argument very weak",
        "created_at": "2020-10-12T08:19:16.674000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I agree, so our full node is full in Bitcoin terms, yes",
        "created_at": "2020-10-12T08:19:33.348000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Do you plan in releasing state pruning feature?",
        "created_at": "2020-10-12T08:20:17.369000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I would probably prefer that, as I only use current state",
        "created_at": "2020-10-12T08:20:37.288000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "at some point, yet\nthat might be preferrable for mining or something",
        "created_at": "2020-10-12T08:20:58.485000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "our current state is about 8GB",
        "created_at": "2020-10-12T08:21:05.830000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but if I get a 2TB Sdd  I guess I wont mind this small overhead.",
        "created_at": "2020-10-12T08:21:13.833000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "currently I use a 1TB ssd",
        "created_at": "2020-10-12T08:21:20.798000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right now we are trying to experiment to shave off a bit more from the archive node",
        "created_at": "2020-10-12T08:21:32.468000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "to make it as efficient as possible",
        "created_at": "2020-10-12T08:21:43.572000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!551157969367334912\u003e you can actually prune receipts and generate them on the fly, and shave tens of gigabytes off TG database",
        "created_at": "2020-10-12T08:21:45.022000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we have this `--storage-mode` flag",
        "created_at": "2020-10-12T08:22:03.405000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that also disables some indices and receipts if I remember correctly",
        "created_at": "2020-10-12T08:22:24.470000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in the future hopefully with this system you will have full control about what you want to store and what you don't",
        "created_at": "2020-10-12T08:22:44.523000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so the notion of full/light/archive will be pointless",
        "created_at": "2020-10-12T08:22:53.171000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "you will have something like \"don't store history, but store receipts and store additional tx lookup index\"",
        "created_at": "2020-10-12T08:23:17.719000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that makes it very flexible",
        "created_at": "2020-10-12T08:23:27.999000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "interesting, this would be very useful for some dapps like cryptokitties that run a node in their backend.",
        "created_at": "2020-10-12T08:24:00.597000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I always had trouble in debugging old transactions, i.e. using debug_, I guess tg will handle this better",
        "created_at": "2020-10-12T08:24:48.988000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "we should have bittorrent sync ready soon - this way you'll just quickly download the database through broadband and have node up and running without having to replay history for hours",
        "created_at": "2020-10-12T08:26:36.438000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "seems like go-etheruem full nodes are not capable of doing debug_traceTransaction when the transaction happened like 300+ blocks in past",
        "created_at": "2020-10-12T08:26:36.850000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, they prune some history",
        "created_at": "2020-10-12T08:27:12.624000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and parity dont even implements that RPC",
        "created_at": "2020-10-12T08:27:23.813000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not sure at what state do we have these APIs",
        "created_at": "2020-10-12T08:27:39.940000+00:00",
        "attachments": null
    },
    {
        "author": "3esmit",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Thanks for the help guys, I see it's indeed an awesome improvement. My only problem was misunderstanding tg as a full-node. I'll be testing it more this week and I'll ask for help in the turbo geth discord.",
        "created_at": "2020-10-12T08:30:48.669000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!551157969367334912\u003e by the way I have a small monitoring script for the latest block",
        "created_at": "2020-10-12T08:56:18.409000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "",
        "created_at": "2020-10-12T08:56:26.600000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "monitor_last_block.py",
                "content": "a4c0bc533b6acfdca1eed02252c68f14790a7df64fa0703c2aa3d702eac153b0"
            }
        ]
    }
]