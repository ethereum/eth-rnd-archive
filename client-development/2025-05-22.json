[
    {
        "author": "b.hartnett",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I'd like to get some feedback on this PR from anyone interested. Basically its about adding additional (optional) metadata to the portal_*PutContent endpoint response: https://github.com/ethereum/portal-network-specs/pull/406",
        "created_at": "2025-05-22T07:57:07.614000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "When peer sends us FindContent for beacon content or ephemeral headers and we don't have it, what should we return?\nI assume we still use `Content` type that is a union, but which variant:\n- `content`, but content is empty byte array\n- `enrs`, but do we send empty list of peers, or do we send some peers (and are they selected randomly or how)\n\nI'm aware that answer might be different for different content types that I listed above, so elaborate if needed",
        "created_at": "2025-05-22T20:17:31.982000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "`If the node does not hold the requested content, and the node does not know of any nodes with eligible ENR values, then the node MUST return enrs as an empty list.`  I think this sentence from the wire spec applies",
        "created_at": "2025-05-22T20:24:57.174000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "under https://github.com/ethereum/portal-network-specs/blob/master/portal-wire-protocol.md#content-0x05",
        "created_at": "2025-05-22T20:25:23.686000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I was confused by following sentence (multiple of them) in [beacon spec](https://github.com/ethereum/portal-network-specs/blob/master/beacon-chain/beacon-network.md):\n_When responding to FindContent requests, nodes SHOULD respond with latest LightClientFinalityUpdate that they have. If then can't provide the requested or newer object, they MUST NOT reply with any content._ \n\nI wasn't sure if that means to return empty \"content\" or not.",
        "created_at": "2025-05-22T20:27:52.014000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "And especially following for the [ephemeral history](https://github.com/ethereum/portal-network-specs/blob/master/history/history-network.md#ephemeral-headers-by-findcontent):\n\n- _This content type MUST only be used for FindContent requests_\n- _The list MAY be empty which signals that the responding node was unable to fulfill the reques_",
        "created_at": "2025-05-22T20:30:13.138000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "this one strongly implies that we should return content that is empty, doesn't it?",
        "created_at": "2025-05-22T20:31:25.691000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "And I don't think this specific sentence answers my question. Because in my question, node nodes some ENRs and it can return them. But question is should it (because every peer should techincally store this content, so it's questionable how much value there is) and if it should, which ones (selected randomly or somehow else)",
        "created_at": "2025-05-22T20:34:15.482000+00:00",
        "attachments": null
    },
    {
        "author": "jason.carver",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Agree that the second point could be intepreted as contradicting the general wire protocol spec, and should be clarified in the ephemeral history section (probably by saying \"**an empty list of ENRs** signals that ...\"). Then the wire spec could be expanded to say \"does not know of any nodes with eligible ENR values, **or *all* ENRs are eligible**, then the node MUST return enrs as an empty list\"",
        "created_at": "2025-05-22T20:38:38.526000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "i was going to say that I interpreted the spec to say this last thing, that since we don't have a concept of distance for these, **NO** ENRs are eligible",
        "created_at": "2025-05-22T21:02:30.092000+00:00",
        "attachments": null
    }
]