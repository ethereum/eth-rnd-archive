[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@shemnon**\n\u003e if twice a year forks are a thing, then that would likely put warm storage into the 26H2 fork once BAL is \"in the wild\" and we can validate assumptions.\nwhat assumptions need to be validated here?",
        "created_at": "2025-05-18T00:15:00.161000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e That the wall-clock to gas ratios stay the same and don't show any explitable charateristics.",
        "created_at": "2025-05-18T00:16:02.536000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e The key assumption is what is measured will stay the same when we adjust the gas schedule.  Feels safe, but so did the gas schedule pre-broken-metere.  We need to see it in action with real data.  BAL changes things a bit.",
        "created_at": "2025-05-18T00:16:45.874000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e But for Jacek",
        "created_at": "2025-05-18T00:17:00.530000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e But for Jacek's proposals, a simple shadow fork with clients running the new schedule would suffice.",
        "created_at": "2025-05-18T00:17:34.567000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Gas-per-second will change. but tps should be stable.  It's the TPS number we really need to keep an eye on.",
        "created_at": "2025-05-18T00:18:25.407000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e youre talking about block-level-warming or jacek's proposal or both?\n\nhow might block-level-warming lead to the issues you list?",
        "created_at": "2025-05-18T00:21:00.366000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e The rebates will change gas per second, just like jacek.  We need to make sure tps is constant after the repricing.",
        "created_at": "2025-05-18T00:21:44.768000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Tps may improve, but I'm presuming a perf net style shakedown.",
        "created_at": "2025-05-18T00:22:22.850000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Operation count is probably too much overhead and the workload is too variable.",
        "created_at": "2025-05-18T00:24:02.815000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@shemnon**\n\u003e The rebates will change gas per second, just like jacek.  We need to make sure tps is constant after the repricing.\nit seems likely that tps will increase if you make a large portion of SLOAD's cheaper. this is the desired outcome\n\nyou're just saying, validate that the network can handle the performance levels, because it's in same ways similar to a gas limit increase?",
        "created_at": "2025-05-18T00:24:30.620000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Gas schedule changes have burned in the past. Such validation runs should be standard practice.",
        "created_at": "2025-05-18T00:25:38.618000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@shemnon**\n\u003e Gas schedule changes have burned in the past. Such validation runs should be standard practice.\nfor block level warming can you think of any unique risks emerging beyond the concerns that normally show up in a typical gas limit increase?\n\nafaict, block level warming would increase the amount that each opcode gets used per block. but the size of these increases will be bounded by gas limit and gas prices. so if we are already running a realistic perfnet that is X% faster than mainnet, that should alleviate most of the performance-related concerns\n\nI'm a strong advocate of perfnets, just not sure what the unique risk is for block level warming is",
        "created_at": "2025-05-18T00:41:40.884000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Each client now has a differnt approach to parallel execution, those will need to be re-tooled for block level warming (or ignoreing block level warming).  That's where the main performance risk is for BAL.",
        "created_at": "2025-05-18T01:40:10.129000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e A bulk pre-fetch is something the protocol has not really made easy before BAL. So that is new and potentially unique.",
        "created_at": "2025-05-18T01:41:07.418000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e I'm optimistic, but if there's issues that's a prime place to see it.",
        "created_at": "2025-05-18T01:41:32.252000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e ok I see. so there are also parallelism concerns. makes sense",
        "created_at": "2025-05-18T01:58:49.085000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e on a related note, is there a recent estimate of how much parallelism can help execuion speed for each client?\n\non last weeks research call it was mentioned that geth speeds 50% of time on evm execution rather than e.g. IO. I dont think reth is quite the same at least",
        "created_at": "2025-05-18T02:01:14.004000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_10.jpg",
                "content": "bcc54adf30d15c0b8f7b1a4e72556e6c3d39f467ab64b67a0e455450722084ee"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e https://youtu.be/NAAybEFOSMs?si=_vbLotYKaBZtJ-04",
        "created_at": "2025-05-18T03:09:59.928000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Gary's ethdenver talk on besu's parallelism.  It should have some numbers",
        "created_at": "2025-05-18T03:10:21.497000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003csiladu\u003e https://github.com/hyperledger/besu/pull/7923#issuecomment-2500289265\n\n\u003e This new conflict detection improved the number of parallelized transactions from ~40% to ~60%.",
        "created_at": "2025-05-18T03:19:17.222000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003csiladu\u003e https://x.com/Sei_FND/status/1872703032431133023",
        "created_at": "2025-05-18T03:19:33.684000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@shemnon**\n\u003e Each client now has a differnt approach to parallel execution, those will need to be re-tooled for block level warming (or ignoreing block level warming).  That's where the main performance risk is for BAL.\nAnother benefit of BALs is that they allow you to statically determine who will pay the warming cost and who won’t. This makes it possible for the protocol to fairly distribute these costs before execution, whereas currently, we could only do so after execution.",
        "created_at": "2025-05-18T08:12:07.486000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Ah.. I see the EIP is out, and contains a lot of differences from when i last saw it.  There is much more data than I anticipated and could be done in parallel while not amortizing the warming cost and sticking it with the first accessory.  Not what I anticipated based on prior discussions.  I would encourage everyone to read the EIP.\n\nhttps://eips.ethereum.org/EIPS/eip-7928#specification",
        "created_at": "2025-05-18T11:21:16.771000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@shemnon**\n\u003e Ah.. I see the EIP is out, and contains a lot of differences from when i last saw it.  There is much more data than I anticipated and could be done in parallel while not amortizing the warming cost and sticking it with the first accessory.  Not what I anticipated based on prior discussions.  I would encourage everyone to read the EIP.\n\nhttps://eips.ethereum.org/EIPS/eip-7928#specification\nThis was the post exploring the design space:\nhttps://ethresear.ch/t/block-level-access-lists-bals/22331\n\nIf we find out that adding pre-tx values would still make sense, we could still do so but the current desgin is \"storage locations + post tx values + minimal state diff\".",
        "created_at": "2025-05-18T11:45:19.102000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e And to be clear, the current EIP has zero impact on warm or cold storage access costs, correct?  It's all about the data structure and thus parallelization and pre-fetching of data?",
        "created_at": "2025-05-18T11:52:30.800000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e re: **@gakonst**\n\u003e BTW where are people on keeping warm reads priced at the single block vs TX level?\nblock based warm reads (gas refunds) don't have any link to behaviour, is a luck of draw thing (based on what proposer does), so not great?\n\ne.g. as a user of the chain, you aren't going to do anything different if pricing was changed that way (what a user does has no link to the outcome; so no user agency with them)\n\nAnd makes sequencing txs harder; as order effects gas prices\n\nimplementation work \u003e user reward",
        "created_at": "2025-05-18T14:17:05.838000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e re: **@nero_eth**\n\u003e Another benefit of BALs is that they allow you to statically determine who will pay the warming cost and who won’t. This makes it possible for the protocol to fairly distribute these costs before execution, whereas currently, we could only do so after execution.\ndo you have approximate #'s for how much these BAL's will increase bandwidth usage?",
        "created_at": "2025-05-18T17:12:20.557000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@notnotstorm_p**\n\u003e do you have approximate #'s for how much these BAL's will increase bandwidth usage?\n30-40 kib on avg. \nWorst-case block size remains the same though (block full of calldata).\nThere's a table at the bottom of the post comparing all the BAL variant and there sizes. We could make them even more efficient/smaller since then.",
        "created_at": "2025-05-18T18:32:17.918000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e nice!\n\nit would be helpful to see the mean+worstcast SSZ encoded block size alongside, to show the % increase",
        "created_at": "2025-05-18T19:19:04.343000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_11.jpg",
                "content": "aa46f5eb17ce5e5467a9bfeb3de56bacd9bc017e72f875531c73dbc80b9ab849"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnero_eth\u003e re: **@notnotstorm_p**\n\u003e nice!\n\nit would be helpful to see the mean+worstcast SSZ encoded block size alongside, to show the % increase\nGood point yeah! Will add it",
        "created_at": "2025-05-18T19:19:55.651000+00:00",
        "attachments": null
    }
]