[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cchfast\u003e I think we are moving two different things at a time.\n\nThe gas reprising will decrease gas cost for EVM computation by ~3x (because this is heavily overpriced currently).\n\nThe proposal for hash functions also wants to increase the gas cost by ~3x. So it's enough to just do the first thing.",
        "created_at": "2025-03-19T08:20:27.998000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_7.jpg",
                "content": "a60c3878897a8e80c9cc25ae0ccf8f65a52cabc2a31d3e859a1e1c2f95ce7a3a"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cchfast\u003e I think we are moving two different things at the same time.\n\nThe gas reprising will decrease gas cost for EVM computation by ~3x (because this is heavily overpriced currently).\n\nThe proposal for hash functions also wants to increase the gas cost by ~3x. So it's enough to just do the first thing.",
        "created_at": "2025-03-19T08:20:40.327000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_7.jpg",
                "content": "a60c3878897a8e80c9cc25ae0ccf8f65a52cabc2a31d3e859a1e1c2f95ce7a3a"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003civokub\u003e Indeed it would be somewhat equivalent for Keccak if we would cheapen primitive opcodes instead. But for example in https://github.com/imapp-pl/gas-cost-estimator/blob/master/docs/gas-schedule-proposal.md in the \"radical gas schedule\" proposal Keccak dynamic cost would stay the same, but not SHA2 and RipeMD. Shouldn't they stay the same as well or is there also some other proposal? (re @chfast: I think we are moving two different things at the same time.\n\nThe gas reprising will decrease gas cost for EVM computation by ~3x (because this is heavily overpriced currently).\n\nThe proposal for hash functions also wants to increase the gas cost by ~3x. So it's enough to just do the first thing.)",
        "created_at": "2025-03-19T10:17:14.371000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cchfast\u003e They follow a very specific method of figuring out optimal costs. And this is great. But we can add other criteria. E.g. I'm in favor of keeping ripemd costs unchanged or even higher (re @ivokub: Indeed it would be somewhat equivalent for Keccak if we would cheapen primitive opcodes instead. But for example in https://github.com/imapp-pl/gas-cost-estimator/blob/master/docs/gas-schedule-proposal.md in the \"radical gas schedule\" proposal Keccak dynamic cost would stay the same, but not SHA2 and RipeMD. Shouldn't they stay the same as well or is there also some other proposal?)",
        "created_at": "2025-03-19T10:42:26.866000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cdavidecrapis\u003e this is a good observation. it can be beneficial to make specifying gas costs more flexible so that an optimistic rollup in the future can potentially change it to align more with the actual costs.\n\ngoing through the repricing exercise proposed by @jacekglen will require some work but will set us up to make changes more agile if we do it right (re @thogard: Hmm. I think it would be very unfortunate if Ethereum L1 apps had to subsidize the gas cost of zk L2s by paying zk-proof-based gas costs for hashing functions that donâ€™t need to be proved.)",
        "created_at": "2025-03-19T17:18:18.019000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cdavidecrapis\u003e fyi this is the latest version of the repricing eip (to be merged)\nhttps://github.com/ethereum/EIPs/blob/064ea88887f0c5893df4bfc81aee5128ebf7dcd0/EIPS/eip-7904.md (re @ivokub: Indeed it would be somewhat equivalent for Keccak if we would cheapen primitive opcodes instead. But for example in https://github.com/imapp-pl/gas-cost-estimator/blob/master/docs/gas-schedule-proposal.md in the \"radical gas schedule\" proposal Keccak dynamic cost would stay the same, but not SHA2 and RipeMD. Shouldn't they stay the same as well or is there also some other proposal?)",
        "created_at": "2025-03-19T17:18:55.501000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Can we get the old parameter values in the table side by side so we can compare?  As well as the forumulas, or an in-eip notation that these did not change and are present for comprehension. Also, a calculated post-change cost in the opcodes table would help increase comprehension.  leaving data_word_size and memory_expansion_cost are fine, but I think address_access_cost should be expanded pre and post?",
        "created_at": "2025-03-19T18:56:55.582000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Also, I think there needs to be some more discussion in the rationale about the relative ratio of compute cost to storage cost, as a counter to \"why not just raise the gas limit?\"",
        "created_at": "2025-03-19T18:57:56.606000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cnotnotstorm_p\u003e I looked at this recently using state read and state diff traces. for ethereum block range from 20M to 21M came to rough estimates of:\n- contract storage writes = 31% of all gas\n- contract storage reads = 15% of all gas\n- balance reads and writes = 8% of all gas\n- base tx gas (21000 per) = 22% of all gas\n- calldata bytes = 2% of all gas\n- new account creation = 2% of all gas\n\n^ most of these are all lower bounds because you can look at cold reads easily, but there are also warm reads/writes that dont show up in the various state traces. there are also some gas refunds not accounted for because those are more complicated\n\n100% minus those values would thus be a rough ceiling on \"computation\". I would file most of those line items as \"storage\" except for calldata and base tx gas. so 20% ish for computation and 56% ish for storage. the separation between storage and computation is also not entirely clean when you consider things like needing to merklize using disk+cpu and the base 21000 tx cost consuming a bit of every hardware resource. this was also a rough estimate, happy to share the methodology for replication if we want to use these numbers for making actual important decisions (re @shemnon: Also, I think there needs to be some more discussion in the rationale about the relative ratio of compute cost to storage cost, as a counter to \"why not just raise the gas limit?\")",
        "created_at": "2025-03-19T19:04:58.897000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e The multiple calls to memory at 60M block number is actaully very concerning, that's 5 GiB of memory in an attack scenario (assuming 32 byte words).  can you link to the opcodes that created that table? Is it time to go to a liniar model for memory?",
        "created_at": "2025-03-19T19:35:36.717000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e https://eips.ethereum.org/EIPS/eip-7825 (re @shemnon: The multiple calls to memory at 60M block number is actaully very concerning, that's 5 GiB of memory in an attack scenario (assuming 32 byte words).  can you link to the opcodes that created that table? Is it time to go to a liniar model for memory?)",
        "created_at": "2025-03-19T20:34:38.810000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Maybe bring it down in line with repricing also",
        "created_at": "2025-03-19T20:35:26.944000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cchfast\u003e I never commented, but this idea is good to me as the way to limit the worst cases. (re @ben_a_adams: https://eips.ethereum.org/EIPS/eip-7825)",
        "created_at": "2025-03-19T20:37:24.151000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cben_a_adams\u003e Even whole block txs don't seem good; but we allow it currently. So guess would need to analyse history to go lower (re @chfast: I never commented, but this idea is good to me as the way to limit the worst cases.)",
        "created_at": "2025-03-19T20:39:55.768000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Sill 2 GiB at 30M gas.  We can't give the first half KiB of memory out that cheaply (1 gas)",
        "created_at": "2025-03-19T21:21:38.507000+00:00",
        "attachments": null
    }
]