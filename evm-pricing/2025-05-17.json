[
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e BTW where are people on keeping warm reads priced at the single block vs TX level?",
        "created_at": "2025-05-17T21:28:18.531000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e Saw the awesome deck from the research call",
        "created_at": "2025-05-17T21:29:25.754000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e Wasn't sure if this improvement took that into account as a possible further improvement",
        "created_at": "2025-05-17T21:30:01.417000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_9.jpg",
                "content": "e662e70510961c395f4102f6a5626c63aec8f4b3f2a429f6c5fa861a878f1b4d"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e Wasn't sure if this table took that into account as a possible further improvement",
        "created_at": "2025-05-17T21:30:05.754000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_9.jpg",
                "content": "e662e70510961c395f4102f6a5626c63aec8f4b3f2a429f6c5fa861a878f1b4d"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e The main sticking point is whether the first reference has a penalty or if all get the same discount.  Same discount is better for parallel eval.  \n\nThen it could only reliably be done as an end of block rebate.  Changing the price in-vm requires foreknowledge of all executions, and could have some unstable states with gas introspection allowed.",
        "created_at": "2025-05-17T21:32:00.751000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Possible, but block level access lists has most of the mental space occupied.",
        "created_at": "2025-05-17T21:32:35.341000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e re: **@shemnon**\n\u003e Possible, but block level access lists has most of the mental space occupied.\nDumb Q if we do block level access lists, are all reads to users charged as warm?",
        "created_at": "2025-05-17T21:35:05.927000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e No.  It just speeds up execution.",
        "created_at": "2025-05-17T21:35:37.933000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e We would still need to know how many contracts access which slots.  Fairly low overhead if the end of block rebate mechanism is used.",
        "created_at": "2025-05-17T21:36:13.860000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e I guess I have similar Q for writes/SSTOREs, given in practice it's done with a write-through cache, during live sync the data goes to memory and gets batch flushed to disk periodically -- the idea of making the same block SSTORE much cheaper a la TSTORE if it's not allocating new storage (I know Ben A has talked about it too)",
        "created_at": "2025-05-17T21:36:17.974000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e re: **@shemnon**\n\u003e The main sticking point is whether the first reference has a penalty or if all get the same discount.  Same discount is better for parallel eval.  \n\nThen it could only reliably be done as an end of block rebate.  Changing the price in-vm requires foreknowledge of all executions, and could have some unstable states with gas introspection allowed.\nGotcha, yep makes sense. Seems fine to me if you penalize the first one, given it's probably the one with the most MEV? And  the parallel eval I think might be solvable with smart engineering but I see the point you're making.",
        "created_at": "2025-05-17T21:37:28.761000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e That's what the cold cost coveres: the first read, then all of the trie branches, then the write.  The warm read/write should reflect the in-memory nature.",
        "created_at": "2025-05-17T21:37:48.022000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e How do we know who the first one is without in-order exeution?  Encoding the tx number is one option, bu introduces new ways to make blocks invalid by the assembler.",
        "created_at": "2025-05-17T21:38:45.925000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cgakonst\u003e re: **@shemnon**\n\u003e How do we know who the first one is without in-order exeution?  Encoding the tx number is one option, bu introduces new ways to make blocks invalid by the assembler.\nYou parallel execute, but you commit ordered!",
        "created_at": "2025-05-17T21:39:01.550000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Plus it complicaed MEV if you are not sure if you will get the cold read penalty. Rebates make order more malliable and supports better mev.",
        "created_at": "2025-05-17T21:39:26.060000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e If the solution is rebates, then we can play games as to who plays how much. But I don't see a compelling technical reason to do anything but the simplest solution: equal reabates.",
        "created_at": "2025-05-17T21:42:01.476000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e I think that the effects on performance by pre-warming should justify a decrease in cost regardless. then if you want to apply a discount on warm reads then be it but a decrease in cost seems due at least",
        "created_at": "2025-05-17T21:45:45.998000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e Warm SLOADs were excluded from Jacek Glen's analysis (https://github.com/imapp-pl/gas-cost-estimator/blob/master/docs/report_stage_iii.md#recommendations), but I think it's this level of rigour that would be needed to pitch a lower cost for warm SLOAD and SSTOREs, not just vibes.",
        "created_at": "2025-05-17T21:55:24.275000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e And what we would be looking at I expect is \"how much lower that 100 gas\"",
        "created_at": "2025-05-17T21:55:50.159000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e re: **@shemnon**\n\u003e Warm SLOADs were excluded from Jacek Glen's analysis (https://github.com/imapp-pl/gas-cost-estimator/blob/master/docs/report_stage_iii.md#recommendations), but I think it's this level of rigour that would be needed to pitch a lower cost for warm SLOAD and SSTOREs, not just vibes.\nyeah i agree. I am just saying that is likely we might look into repricing it as a 2nd order of effect of BALs",
        "created_at": "2025-05-17T21:56:16.842000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cFunnyGiulio\u003e not 100 though because although is a bit more amortized, it is not the best case anyway",
        "created_at": "2025-05-17T21:56:49.862000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003cshemnon\u003e if twice a year forks are a thing, then that would likely put warm storage into the 26H2 fork once BAL is \"in the wild\" and we can validate assumptions.",
        "created_at": "2025-05-17T21:57:27.409000+00:00",
        "attachments": null
    }
]