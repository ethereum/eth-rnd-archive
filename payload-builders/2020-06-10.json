[
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is perhaps a dumb question, but would this still be possible under 1559? https://twitter.com/sparkpool_eth/status/1270688700968480768\n\nI assume so, because most of what's paid would have been a miner tip, correct?",
        "created_at": "2020-06-10T13:00:11.660000+00:00",
        "attachments": null
    },
    {
        "author": "kiwi.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Miner tip is considered to be hard coded by wallet, I don't think this type of mistake would be possible",
        "created_at": "2020-06-10T14:17:55.029000+00:00",
        "attachments": null
    },
    {
        "author": "kiwi.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "They'd set their max to pay and the fee would become the lowest fee in the block no?",
        "created_at": "2020-06-10T14:18:30.160000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e ü§î I suppose this could all be implemented client side.  We could just remove the block size limit entirely and update clients such that they only fill blocks until the gas premium received for any additional transactions isn't worth the increased uncle risk...",
        "created_at": "2020-06-10T15:40:46.641000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This was debated as part of the bitcoin block size debate üòÜ",
        "created_at": "2020-06-10T15:40:58.919000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the outcome was basically that it's a bad idea",
        "created_at": "2020-06-10T15:41:12.500000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because the equilibrium uncle rate in such a scenario would be crazy high, possibly approaching something like 1/4 to 1/2",
        "created_at": "2020-06-10T15:41:32.053000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Assuming all txs have the same fee level it's 1/2",
        "created_at": "2020-06-10T15:41:48.909000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@273808422753796097\u003e Wouldn't the uncle rate be a function of fees, which are a function of congestion?",
        "created_at": "2020-06-10T16:59:33.523000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "My toy model is: `uncle rate = k1 * gasused`, `fee = k2 * gasused` (assuming infinite elasticity), so `actual_expected_revenue = fee * (1 - uncle_rate) = k2 * gasused * (1 - k1 * gasused)`, which gets maximized when `uncle_rate = 0.5`",
        "created_at": "2020-06-10T17:00:38.158000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The equilibrium is actually independent of the level of demand (ie. congestion)",
        "created_at": "2020-06-10T17:01:01.725000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That assumes infinite demand though doesn't it?",
        "created_at": "2020-06-10T17:01:07.223000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, so if elasticity is finite, then it would be less than 0.5, but maybe still 1/3 or 1/4",
        "created_at": "2020-06-10T17:01:23.691000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The equilibrium is independent of the absolute level of demand (ie. congestion), because increasing demand creates two effects that cancel each other out perfectly: (i) your reward from including a tx goes up, (ii) the amount of money you lose from your block being uncled goes up",
        "created_at": "2020-06-10T17:02:44.996000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "One can imagine a world where people are only willing to pay miners the minimum required for inclusion, but no more (e.g., 1 nanoeth gas price).  In such a world, miners would (in theory) fill blocks up to about 10M gas and then stop, because the benefit of filling more (more fees @ 1 nanoeth) don't outweigh the cost (increased uncle rate).",
        "created_at": "2020-06-10T17:02:53.012000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think the equilibrium point will be 10M",
        "created_at": "2020-06-10T17:03:37.453000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Are you arguing that it is *always* beneficial to miners to include more transactions at some flat base fee?",
        "created_at": "2020-06-10T17:03:38.108000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm arguing that miners are optimizing the value `txfees * (1 - probability of being uncled)`",
        "created_at": "2020-06-10T17:04:00.299000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Where both fees and probability of being uncled are dependent on gasused",
        "created_at": "2020-06-10T17:04:10.843000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, but there is also the block reward that is a bigger term in most cases.",
        "created_at": "2020-06-10T17:04:36.724000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And that value is maximized at an uncle rate which is (i) very high and (ii) independent of the level of demand (only dependent on elasticity)",
        "created_at": "2020-06-10T17:04:37.574000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Right, the block reward does change things",
        "created_at": "2020-06-10T17:04:57.084000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Though especially in a long-run PoS context it's not really that dominant anymore",
        "created_at": "2020-06-10T17:05:09.233000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ah, I'm only thinking of PoW at the moment.  Though, I can appreciate the argument that we should be designing stuff that works for both PoW and PoS.",
        "created_at": "2020-06-10T17:05:38.949000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Do you agree that it is true that adding the first transaction to a block has a lower risk of triggering an uncle than adding the 200th transaction to a block?  Or do you think that every gas spent increases the uncle probability equally?",
        "created_at": "2020-06-10T17:06:34.921000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Do you agree that it is true that adding the first transaction to a block has a lower risk of triggering an uncle than adding the 200th transaction to a block?  Or do you think that every gas spent increases the uncle probability equally?",
        "created_at": "2020-06-10T17:07:15.898000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, if what you are saying is true, why don't miners vote up the block size?  What is keeping it at 10M?",
        "created_at": "2020-06-10T17:07:19.107000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it's roughly linear",
        "created_at": "2020-06-10T17:07:19.146000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Also, if what you are saying is true, why don't miners vote up the block size?  What is keeping it at 10M?",
        "created_at": "2020-06-10T17:07:26.772000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because they're nice",
        "created_at": "2020-06-10T17:07:30.146000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Or alternatively, they fear being punished by the core devs if they do mean things",
        "created_at": "2020-06-10T17:07:45.875000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Who are they being nice to exactly?",
        "created_at": "2020-06-10T17:08:15.163000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the ethereum community in general",
        "created_at": "2020-06-10T17:08:27.272000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Uncle rate increases network congestion by wastefully moving blocks around, but for the most part no one really suffers badly I think.",
        "created_at": "2020-06-10T17:08:38.339000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Basically, I think miners know that if they start screwing around with the gas limit, we can and will completely take away their power to change it in the next hard fork",
        "created_at": "2020-06-10T17:08:50.844000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the harms from higher uncle rate (and other negative externalities of block sizes) are very present",
        "created_at": "2020-06-10T17:09:11.856000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1. longer sync times\n2. larger disk space required\n3. running a node is harder\n4. centralization risk",
        "created_at": "2020-06-10T17:09:42.964000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I suppose that is true if demand is unbounded and the cost of including a transaction is linear as you suspect.",
        "created_at": "2020-06-10T17:10:31.218000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Demand does appear to be fairly unbounded, though I will need to think more on whether transaction inclusion has linearly increasing risk and benefit to the miner (and they cancel each other out at a given gas premium).",
        "created_at": "2020-06-10T17:11:40.589000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "When I did my data analyses years ago, gasused has had a fairly linear effect on uncle rate",
        "created_at": "2020-06-10T17:30:40.500000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://twitter.com/evan_van_ness/status/1270773896980107264?s=21\n\nThis is one of the reasons to have the gas limit be baked in.",
        "created_at": "2020-06-10T18:15:10.590000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am not saying Evan is wrong here. Or asking for the wrong thing.",
        "created_at": "2020-06-10T18:15:25.923000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The problem is the reason not to increase the gas limit is state growth size.",
        "created_at": "2020-06-10T18:15:48.255000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "users are incentivized to ignore the state growth problem short term because of a low fee preference.",
        "created_at": "2020-06-10T18:17:02.011000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Well, if in the medium term we're going to get stateless clients, arguably it makes sense to be more okay with some state growth even today",
        "created_at": "2020-06-10T18:17:37.982000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Miners have general played well , but until state growth is curbed I don‚Äôt think it is a good idea to give them the reigns.",
        "created_at": "2020-06-10T18:17:58.771000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But yeah, state storage economics are weird",
        "created_at": "2020-06-10T18:18:05.293000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yep, so the people doing stateless clients should be the ones deciding the gas limits. Because they have the best information on when it is safe to increase.",
        "created_at": "2020-06-10T18:18:52.083000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I.e making it fixed in the protocol",
        "created_at": "2020-06-10T18:19:51.613000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I feel like historically miners have been responsible with gaslimit settings; if we say it's too dangerous they won't increase",
        "created_at": "2020-06-10T18:20:36.066000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We are lucky they listen to the ‚Äúwe‚Äù meaning core devs.",
        "created_at": "2020-06-10T18:23:57.200000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Miners certainly have been responsible.\n\nMy comments are towards the 1559 proposal having protocol based gas limits rather then miner set ones.",
        "created_at": "2020-06-10T18:25:44.595000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Once state growth is somewhat solved then we can put the gas limit back in the miners hands.",
        "created_at": "2020-06-10T18:26:20.957000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It simplifies the mechanism for now, and puts the decision in the hands of the people who best understand the problem (Stateless Ethereum folks)",
        "created_at": "2020-06-10T18:30:16.280000+00:00",
        "attachments": null
    },
    {
        "author": "kiwi.eth",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://insights.deribit.com/market-research/analysis-of-eip-1559/",
        "created_at": "2020-06-10T19:39:20.357000+00:00",
        "attachments": null
    }
]