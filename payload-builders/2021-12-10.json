[
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "sure! just set the same value for both the max priority fee and the max fee. in this example if both are set to 40 you'd pay in any case 40 * 21000 Gwei as transaction fee",
        "created_at": "2021-12-10T07:20:53.944000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2021-12-10_at_08.20.10.png",
                "content": "9b6e13d1ee33d9a0003291f303d93a23e1808745ae4b9bb9a8ef25f6940e8738"
            }
        ]
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "to my knowledge however there is no \"sweep dust\" feature, so you have to manually figure out the fees that sweep",
        "created_at": "2021-12-10T07:21:34.194000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Someone should create a sweep transaction type.",
        "created_at": "2021-12-10T07:53:47.708000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would be a simple EIP and implementation with 2718 should be quite easy.",
        "created_at": "2021-12-10T07:54:05.909000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think if we want to implement a sweep EIP, we should put some more thought into it and figure out how to allow efficient sweeping of ERC20s too",
        "created_at": "2021-12-10T12:56:44.053000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Probably the easiest way to make it work for users in practice is that they would sweep into a CEX, which would give them the coins as balances",
        "created_at": "2021-12-10T12:57:32.346000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Making a transaction type that runs code from the EOA would do that! So you would be able to \"send all remaining ETH\" as an instruction, and poke every ERC20 account for very close to the minimum of 5k gas each (and get the now 20% refund for it! ðŸ˜† )",
        "created_at": "2021-12-10T12:59:57.998000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, a tailcall ETH send?",
        "created_at": "2021-12-10T16:33:48.237000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Transaction would otherwise be normal, but at the very end of the transaction it would send all remaining ETH to a target.",
        "created_at": "2021-12-10T16:34:13.742000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right, that would solve the \"eth left in the account because of remaining gas\" problem",
        "created_at": "2021-12-10T16:34:36.267000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Though even without that, adding a \"run code from EOA\" tx type would fix the \"unknown basefee\" issue, which is where I suspect most of the imperfection in sweeping comes from",
        "created_at": "2021-12-10T16:35:04.110000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You are thinking something like https://eips.ethereum.org/EIPS/eip-2803 ?",
        "created_at": "2021-12-10T16:36:44.693000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "right",
        "created_at": "2021-12-10T16:36:52.018000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm still a fan of rich transactions.",
        "created_at": "2021-12-10T16:37:00.856000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yep! And I think the sweeping funds use case makes an even better argument for them",
        "created_at": "2021-12-10T16:37:26.590000+00:00",
        "attachments": null
    },
    {
        "author": "alexeirox",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How about preventing failing transactions due to \"low gas fees\"",
        "created_at": "2021-12-10T16:38:52.044000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is a *really* hard problem.",
        "created_at": "2021-12-10T16:39:01.795000+00:00",
        "attachments": null
    },
    {
        "author": "alexeirox",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Im no tech here. Just a random testing candidate.",
        "created_at": "2021-12-10T16:39:32.068000+00:00",
        "attachments": null
    },
    {
        "author": "chaserxy",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "thanks! in this case I'd wager most people rather create dust than hypersubsidize miners/validators, in order to increase ETH scarcity (even if just marginally).",
        "created_at": "2021-12-10T20:35:33.826000+00:00",
        "attachments": null
    },
    {
        "author": "chaserxy",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this shouldn't be hard, you just have to press the \"Max\" button and then until the end stick to the max fee that MM offered when you pressed \"Max\" (=edit it manually if estimates change in the meantime)",
        "created_at": "2021-12-10T20:37:06.611000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That user interface is surely confusing!",
        "created_at": "2021-12-10T22:35:38.794000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok my \"just\" was maybe a little hyperbolic :)",
        "created_at": "2021-12-10T22:37:43.210000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you manage to sweep at a fee below the basefee prevailing when you sent the transaction, you'd likely not hypersubsidise the block producer (basefee goes down below your max fee and boom you get included at low priority fee)",
        "created_at": "2021-12-10T22:39:53.705000+00:00",
        "attachments": null
    }
]