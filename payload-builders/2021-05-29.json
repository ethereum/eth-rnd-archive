[
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You could do a default with a couple options (like default vs faster vs cheaper vs num) so at least wallets can override default w a variable that you can update the value of should network conditions change. Even if you set them all to the same in the beginning at least you donâ€™t end up doing support for the numbers ppl should use lol",
        "created_at": "2021-05-29T06:59:24.845000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i'd just go with 1-10 gwei and see what happens and adapt accordingly after a week ðŸ˜›\n... looking at the dapps with the most usage (mainly dex tx) users will need to have their tx included asap otherwise it will fail sooo",
        "created_at": "2021-05-29T07:10:11.260000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Have changes been made further to the txpool max size? Bc when aping occurs if your tx is sent thru any product without a rebroadcaster theyâ€™ll just be lost either completely or youâ€™ll end up at the worse state where youâ€™re in etherscans database but not in any txpools. \n\nI also presume txs with a base fee under the current base fee will be dropped first?",
        "created_at": "2021-05-29T07:10:48.220000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We haven't actually discussed eviction a lot, but I'm assuming everyone is implementing an eviction strategy where it first evicts anything whose `maxPriorityFeePerGas` is lower than the threshold and then drops the lowest `maxFeePerGas` after that.",
        "created_at": "2021-05-29T07:13:05.151000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There are some other strategies you could employ that *might* make sense such as dropping anything with a `maxFeePerGas` that is below the `baseFee` and then sorting what is left by `maxPriorityFeePerGas`.",
        "created_at": "2021-05-29T07:14:43.851000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I suspect that we'll see significantly less problems for people who set a `maxFeePerGas` sufficiently high than we do today, because it will be incredibly rare for anyone with a sufficient priority fee and max fee above base fee to not be included next block.",
        "created_at": "2021-05-29T07:15:21.669000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In the vast majority of situations, the only people who will sit in the pending pool are people who are unwilling to pay the going rate.",
        "created_at": "2021-05-29T07:16:13.769000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Which may be a fuckload in the first couple weeks depending on how things get implemented",
        "created_at": "2021-05-29T07:16:48.620000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Everyone else will likely operate more on a \"take it or leave it\" fee rather than treating it as a weird auction.",
        "created_at": "2021-05-29T07:16:48.794000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Or worse could be everyone who isn't a legacy tx",
        "created_at": "2021-05-29T07:17:03.559000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What might be a fuckload?",
        "created_at": "2021-05-29T07:17:33.115000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "People using legacy transactions tare strictly worse off than people using 1559 transactions.",
        "created_at": "2021-05-29T07:17:33.498000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No I mean in terms of evictions",
        "created_at": "2021-05-29T07:18:01.232000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So for the first ~10 minutes after London things will be \"pathological\" in terms of base fee volatility.  This is because we are starting with base fee of 1 and we need to wait for it to rise to *actual* market rate (which is probably somewhere between 25-500 based on history).",
        "created_at": "2021-05-29T07:18:55.370000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": ". But if all the TXs being mined are legacy wont that eliminate any chances of finding the actual market rate for these new txs?",
        "created_at": "2021-05-29T07:19:18.925000+00:00",
        "attachments": null
    },
    {
        "author": "tayvano_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh I see, they're probably going to end up being about the same shortly after fork block",
        "created_at": "2021-05-29T07:19:59.457000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes and no.  The base fee will correctly rise until blocks are half full.  However, 1559 transactions are using an inefficient auction while with 1559 transactions people can bid their willingness to pay.  This means that until people start using 1559, we won't actually have a good idea of what the *real* base fee is because there will still be people underpricing and then re-submitting their transactions, and getting frustrated and walking away.  ðŸ™‚",
        "created_at": "2021-05-29T07:21:01.580000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If those people were using 1559, they likely would have been included next block instead of going through the terrible UX of having their transaction \"float\" for hours in a weird maybe-pending-maybe-evicted state.",
        "created_at": "2021-05-29T07:21:42.282000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In effect, those people are accidentally doing a sort of load leveling of transaction volume over time (at cost to their sanity), and once 1559 is available to them it is likely a subset of them will instead choose to just get included right away, which can have an effect on the short term the base fee.",
        "created_at": "2021-05-29T07:22:26.846000+00:00",
        "attachments": null
    },
    {
        "author": "ricmoo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah. I want the equivalent to getGasPrice to accept a parameter for speed; but with EIP-1559, I think my proposal is to include the histogram in the result, so no need for a parameter, it can be derived from the data. ðŸ™‚",
        "created_at": "2021-05-29T07:48:11.910000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Histogram of lowest priority fee per block?",
        "created_at": "2021-05-29T07:48:57.236000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "One caveat with the priority fee of the block is that miners sometimes receive compensation in ways besides the `priorityFeePerGas`.  This will result in your histogram *always* being a little wrong.  ðŸ˜¢",
        "created_at": "2021-05-29T07:49:30.760000+00:00",
        "attachments": null
    },
    {
        "author": "ricmoo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is in a library though. So me changing it doesnâ€™t affect people who are using the older version. But there is a meeting next week to discuss possible rpc calls. ðŸ™‚",
        "created_at": "2021-05-29T07:49:45.927000+00:00",
        "attachments": null
    }
]