[
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!202397237962211328\u003e \u003c@!543900561460822016\u003e \u003c@!206016661470314496\u003e question re: the proposals above. Am I correct in understanding they are all \"additive\", meaning that we would keep (1) the GPO as described by PÃ©ter here (https://github.com/ethereum/pm/issues/328#issuecomment-853234014), (2) the proposal for `eth_maxPriorityFeePerGas` by lightclient (https://github.com/ethereum/eth1.0-specs/pull/201) and  (3) this new `feeHistory` method? \n\nIt seems that (2) and (3) are redundant, but I may be missing something.",
        "created_at": "2021-06-08T14:41:03.278000+00:00",
        "attachments": null
    },
    {
        "author": "perama",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@202397237962211328\u003e \nPerhaps I am reading this incorrectly, but can you clarify:\n```\ntargetGas = rewardPercentile * block.gasUsed / 100  // rewardPercentile is a float value for increased resolution\nsumGas = 0\nfor tx = range sortedTxs\n\tif targetGas \u003c= sumGas\n\t\treturn tx.minerReward\n\tsumGas += tx\nreturn sortedTxs.last.minerReward\n```\nIf rewardPercentile is 5, it takes the value of 5% of gasUsed, and then counts the number of transactions below that number. \n\nThat seems to be calculating the cumulative frequency histogram.\n(Or is ``tx`` the tx gas? In which case it seems fine, using percentile calculation by gas, rather that percentile by transaction position)\n\nIn my mind, the percentile would be to take the number of transactions (n), get 5% of n, to find the position of the transaction in the list 5% deep, then read the fee at that position (E.g., 0.05*n is the index of the ascending order sorted list that should be used to get the tx whose fee is inspected)",
        "created_at": "2021-06-08T14:56:57.847000+00:00",
        "attachments": null
    },
    {
        "author": "perama",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That makes me think actually:\n\nWe need to be able to handle the case where the block is composed of mega-transactions (e.g., one 15million gas data-dump transaction) \n\nSorry if I have misread your algorithm, I am otherwise in favour of your latest proposal",
        "created_at": "2021-06-08T15:15:10.764000+00:00",
        "attachments": null
    },
    {
        "author": "perama",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What is the expected behaviour for the API call to a block with 3 transactions? (100k gas 2gwei, 28mil gas 50gwei, 300k gas 52gwei)\n\nIf calculating percentiles based on gas, the lower and upper tx will not be captured. (the API will not expose that the miner is accepting 2gwei, because the tx is below the first percentile)\n\nIf calculating based on tx count, the percentiles are ~33,33,33, so asking for anything in the range 1-33rd percentile will return 2 gwei. And 67-100 will be 52 gwei",
        "created_at": "2021-06-08T15:40:54.450000+00:00",
        "attachments": null
    },
    {
        "author": "perama",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "With increasing use of rollups dropping large transactions, I favour the latter approach",
        "created_at": "2021-06-08T15:42:40.708000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!360491619402776577\u003e looking at the calaveras explorer, it seems that there are several blocks in a row that get filled with txns (e.g. 23385-23389), but when the Geth sealer has an empty txn pool, the Besu one still has \u003e600 txns pending. \n\nIs it possible for one sealer to seal multiple blocks in a row? i.e. are we just seeign the geth sealer fill blocks and the Besu one not create any?",
        "created_at": "2021-06-08T18:20:31.407000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, is the discrepancy between the number of txns in the blocks vs. txn pool due to some randomness in your tool ? It seems like blocks have 50-150 txns, but the txn pools have 500-1500",
        "created_at": "2021-06-08T18:21:10.843000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The transactions I send mostly fail or revert -\u003e consume a lot of gas so I can't put that many tx in a block. \nI think the transactions in the txpool are somehow gapped (either by to little feecap or by missing nonces)",
        "created_at": "2021-06-08T18:26:35.079000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is there a way to tell who the sealer is on a certain block via the explorer? It doesn't seem like it?",
        "created_at": "2021-06-08T18:27:26.343000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Not via the explorer, but I implemented a new call for that",
        "created_at": "2021-06-08T18:33:05.002000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/go-ethereum/pull/22987",
        "created_at": "2021-06-08T18:33:23.333000+00:00",
        "attachments": null
    }
]