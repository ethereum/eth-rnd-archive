[
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@456226577798135808\u003e Besu and Geth are already working on a testnet. It's been mostly debugging and finding edge cases in the spec/implementations so far. I think once we have \"smooth sailing\" on a small testnet, and we prove that the clients can handle a lot of incoming txns and drops to zero (so blocks growing/shrinking), then we re-do the exercise on a testnet with an existing state (I was keen on forking ropsten, but not a strong opinion) to see if things still work. In my opinion, the biggest \"existential risk\" to this EIP is that the network just can't handle 25M gas blocks for even a short period of time.",
        "created_at": "2020-08-18T00:29:35.032000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I would be pretty surprised to find out that clients are unable to handle 25M blocks.",
        "created_at": "2020-08-18T00:39:13.525000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is, that we are currently sitting *just* below the breaking point for clients.",
        "created_at": "2020-08-18T00:39:44.209000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the \"with large state size\" is the issue.",
        "created_at": "2020-08-18T00:44:24.322000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Besu handles \u003e25M blocks on private networks frequently, for example",
        "created_at": "2020-08-18T00:44:35.397000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But just proving it on a new network at least makes sure the EIP works, the clients are fairly stable, etc. and helps isolate variables of deploying this.",
        "created_at": "2020-08-18T00:44:57.299000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Maybe we should make that progress more public? There's a lot of back and forth between us and Vulcanize making sure the spec works as intended going on behind the scenes right now üòÖ",
        "created_at": "2020-08-18T00:45:49.165000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e I think the \"with large state size\" is the issue.\nYou mean you are worried that one of the clients will fall over (e.g.. crash or choke) if it gets a big block full of additions?",
        "created_at": "2020-08-18T00:51:40.487000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!187490121698770945\u003e hey i think it's about time for another 1559 update to your mailing list, anything in progress? i think a ton of people would find it helpful üòÑ",
        "created_at": "2020-08-18T02:26:44.623000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I would like to propose that we discuss integrating EIP-2718 into 1559.",
        "created_at": "2020-08-18T02:27:32.256000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e You mean you are worried that one of the clients will fall over (e.g.. crash or choke) if it gets a big block full of additions?\n\u003c@!301186049323958275\u003e yep. Not one, but say, 5-10 mins worth of 25M gas DoS-type blocks.",
        "created_at": "2020-08-18T02:50:15.271000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "5-10 minutes of blocks that size shouldn't be realistically possible.",
        "created_at": "2020-08-18T02:50:38.925000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Base fee increases at an exponential rate, doubling every ~3 minutes IIRC.",
        "created_at": "2020-08-18T02:50:53.173000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!187490121698770945\u003e hey i think it's about time for another 1559 update to your mailing list, anything in progress? i think a ton of people would find it helpful üòÑ\n\u003c@!420951281910284289\u003e there's an implementers' call next Friday üòÑ https://github.com/ethereum/pm/issues/197, if \u003c@!393833580033474560\u003e can help with another transcript, we'll have that to share with the community!",
        "created_at": "2020-08-18T02:51:13.093000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "plebs don't read transcripts",
        "created_at": "2020-08-18T02:51:32.575000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i will, but they won't",
        "created_at": "2020-08-18T02:51:38.725000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Base fee increases at an exponential rate, doubling every ~3 minutes IIRC.\n\u003c@!301186049323958275\u003e Yeah I believe it's like 5 mins to 10x, so 10 mins would be a 100x increase, which is expensive but not \"51% attack expensive\" IIRC",
        "created_at": "2020-08-18T02:51:50.916000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e plebs don't read transcripts\n\u003c@!420951281910284289\u003e I'll tweet a summary, too  üëç",
        "created_at": "2020-08-18T02:52:04.984000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "these are always stellar \u003c@!552133098075193354\u003e",
        "created_at": "2020-08-18T02:52:19.522000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "i think an email update for the people that signed up for the 1559 updates would be massive tho",
        "created_at": "2020-08-18T02:52:42.328000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "IIRC it was going to be general EIP updates",
        "created_at": "2020-08-18T02:52:56.564000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e this was \"back of the envelope accurate\" about 1 month ago",
        "created_at": "2020-08-18T02:53:13.541000+00:00",
        "attachments": [
            {
                "type": "",
                "origin_name": "Screen_Shot_2020-08-17_at_7.52.42_PM.png",
                "content": "10a9444cdf6dc9838e5cc891f7dbd552afc8fd192f7e38a81d3b102bc21d4288"
            }
        ]
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What part of the system is believed to fail, is the failure terminal or transient, and do we believe that there is a profit opportunity from the attack (2500 ETH is a very expensive attack vector).",
        "created_at": "2020-08-18T02:58:56.028000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I do think we should keep emphasizing that 2x spikes lasting tens of blocks happen once a week because of random poisson variance already",
        "created_at": "2020-08-18T03:51:31.811000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I would only be concerned if block processing costs are exponential in some way, and we are at some critical threshold where 12M is fine and 25M is very much not fine, such as if the per-block overhead costs of processing around about equal to 5M gas worth of processing or something, such that 10M to 20M resulted in a pretty substantial processing cost increase, while 2M to 5M is negligible difference in processing costs.",
        "created_at": "2020-08-18T04:04:32.439000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If block processing costs are constant per gas though, I see no problem with 1559 since the *average* gas per block is not changing.",
        "created_at": "2020-08-18T04:06:34.984000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And already, as \u003c@!273808422753796097\u003e indicated, we see transient spikes of heavy blocks just due to the randomness of block production intervals.",
        "created_at": "2020-08-18T04:07:00.647000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!301186049323958275\u003e Yeah I believe it's like 5 mins to 10x, so 10 mins would be a 100x increase, which is expensive but not \"51% attack expensive\" IIRC\n\u003c@!552133098075193354\u003e It fees like a single ponzi could sustain 100x fee increase for 10 minutes fairly easily.",
        "created_at": "2020-08-18T06:44:15.795000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Who can we talk to to get more information about the specifics of what it means for a client to \"not be able to handle 2x block size for `n` time?",
        "created_at": "2020-08-18T06:45:39.778000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Specifically, I want to understand if there is an exponential component to block processing, and whether the symptoms of failure will be client crash, inability to sync, fall behind, or consensus failure of some kind.",
        "created_at": "2020-08-18T06:46:31.999000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The thing that puzzles me is I see no evidence of any superlinear component to block processing",
        "created_at": "2020-08-18T06:46:58.576000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If block processing cost is linear and the symptoms of failure are \"fall behind\" then I am not really at all worried about 2x blocks on occasion, since 1x will be the average.",
        "created_at": "2020-08-18T06:47:29.250000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So if a client falls behind a bit on low-end hardware during increasing congestion, it'll catch back up during the inevitable small block period afterwards.",
        "created_at": "2020-08-18T06:48:20.985000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!420951281910284289\u003e there's an implementers' call next Friday üòÑ https://github.com/ethereum/pm/issues/197, if \u003c@!393833580033474560\u003e can help with another transcript, we'll have that to share with the community!\n\u003c@!552133098075193354\u003e \n\nProbably a good idea. We can do one summarizing after the implementers call.",
        "created_at": "2020-08-18T06:59:30.070000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I have actually written three, but haven't published any of them.",
        "created_at": "2020-08-18T07:00:57.666000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Probably time for an Eth 1 update ala the eth 2 update style on the ethereum blog.",
        "created_at": "2020-08-18T07:01:19.568000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e The thing that puzzles me is I see no evidence of any superlinear component to block processing\n\u003c@!273808422753796097\u003e once the limit of disk I/O operations per second is hit, it's very difficult to pass it.",
        "created_at": "2020-08-18T07:10:06.853000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that's one of the things people don't realize when buying SSDs, it's not throughput that is constrained in ETH validation, it's number of reads and random access.",
        "created_at": "2020-08-18T07:10:55.122000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't know if those walls, or jumps in cost make it super linear, but it seems to me that it would at least qualify as non-linear.",
        "created_at": "2020-08-18T07:13:41.168000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Or put another way, hardware scales (slightly sub-)linearly until it doesn't and sometimes it doesn't scale at all past that point.",
        "created_at": "2020-08-18T07:14:33.749000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I made a \"crazy\" suggestion on one of the recent CoreDevCalls, which is essentially to publish what exactly the DOS attacking blocks are. I know some people are reluctant, because it would be basically blueprint of an attack. But without making it explicit (given that this information was known for a long while), I feel it is weird that everyone has to talk about \"theoretical\" possibility of an attack, and confuse everyone.",
        "created_at": "2020-08-18T07:18:22.170000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, we should publish them with every gas pricing update.",
        "created_at": "2020-08-18T07:23:17.044000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "there is a reason this attack has not happened yet, I think. This is because mining pool nodes would be the ones that have to initiate it (by mining a very slow block). But because everyone runs the software that is slow on such a block, it does not make sense to make it. If, however, a new implementation appears that is offers a much better (orders of magnitude) performance on the same block, then it becomes a problem",
        "created_at": "2020-08-18T07:29:13.806000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!273808422753796097\u003e once the limit of disk I/O operations per second is hit, it's very difficult to pass it.",
        "created_at": "2020-08-18T07:29:44.526000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I get that that's true *per second*",
        "created_at": "2020-08-18T07:29:49.654000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But there is no hard ceiling in the number of seconds that it's ok to have a block take to process",
        "created_at": "2020-08-18T07:30:11.490000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It's more of a graceful degradation in performance from awesome at 0 seconds to utterly terrible at 10+ seconds",
        "created_at": "2020-08-18T07:30:29.135000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the arguments about the limits of the hardware performance are only relevant if the software is already at the efficient frontier, and all software faces the same limitations. If, however, current limitations are not due to hardware, but to software (which I posit is the case), then it is totally possible to create an input (transaction) that has very different processing times on different implementations. And then the situation is similar to 2016 Shanghai (where parity was faster than geth on specifically chosen inputs)",
        "created_at": "2020-08-18T07:33:50.457000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "in this situation, I do not see a big difference between 12m gas blocks and 22m gas blocks",
        "created_at": "2020-08-18T07:35:55.385000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "because both of them will screw slow implementations, and none of them will screw a fast implementation",
        "created_at": "2020-08-18T07:36:17.995000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "another interesting bit of data - to my surprise, the size of Ethereum state is not actually as large as I thought üôÇ we managed to find an efficient representation (where you can efficiently update and read) that takes 7 Gb at the moment",
        "created_at": "2020-08-18T07:38:47.873000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "oh wow",
        "created_at": "2020-08-18T07:38:57.474000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "impressive!!",
        "created_at": "2020-08-18T07:38:59.816000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this is going to be in our next alpha patch, this Thursday",
        "created_at": "2020-08-18T07:39:04.985000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Oh, sorry, I forgot that it does not include contract bytecodes",
        "created_at": "2020-08-18T07:40:33.540000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and you probably understand where I am going with this - we can totally hold the entire state in RAM already, without ReGenesis even, and be completely impervious to state-access-latency-based attacks",
        "created_at": "2020-08-18T07:41:54.292000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "that is the basis of my assertion that the software is not on the efficient frontier",
        "created_at": "2020-08-18T07:42:16.896000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "How big is contract bytecode storage?",
        "created_at": "2020-08-18T07:42:17.719000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "another 2 Gb or something",
        "created_at": "2020-08-18T07:42:54.630000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(we should move to \u003c#739145593762611250\u003e to discuss further)",
        "created_at": "2020-08-18T07:43:00.137000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "no, I was not going to start ReGenesis discussion, sorry, I was just trying to back up my claim about software being inefficient",
        "created_at": "2020-08-18T07:44:00.734000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Regarding the EIP-1559 question, I was not on the implementors calls, but I would expect some kind of roll-out plan being written with steps that need to be taken to get it out",
        "created_at": "2020-08-18T07:45:31.936000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and then this plan can be discussed, criticised and improved",
        "created_at": "2020-08-18T07:46:01.921000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "otherwise it would be the same process as with most things - leave to CoreDevCalls (and effectively go-ethereum team) to figure out the process",
        "created_at": "2020-08-18T07:46:54.972000+00:00",
        "attachments": null
    },
    {
        "author": "gichiba",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!420951281910284289\u003e there's an implementers' call next Friday üòÑ https://github.com/ethereum/pm/issues/197, if \u003c@!393833580033474560\u003e can help with another transcript, we'll have that to share with the community!\n\u003c@!552133098075193354\u003e As with most of these calls it's outside my timezone but will transcribe the recording and try to have it ready by American morning üôÇ",
        "created_at": "2020-08-18T11:18:10.571000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Just FYI - Going¬†forward, Cat Herders will also be creating a detailed note/transcript for the 1559 implementers meeting similar to ACD and Eth2 Implementers meeting.",
        "created_at": "2020-08-18T15:15:21.756000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e Regarding the EIP-1559 question, I was not on the implementors calls, but I would expect some kind of roll-out plan being written with steps that need to be taken to get it out\n\nYes, I assumed this would flow from the implementation updates on next week's call but I've just made it more explicit in the agenda: https://github.com/ethereum/pm/issues/197\n\nFriendly reminder that if anyone else has something they want to discuss, please add it üòÑ",
        "created_at": "2020-08-18T17:12:15.370000+00:00",
        "attachments": null
    }
]