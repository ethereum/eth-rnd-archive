[
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e in python // *does* round negative results to negative infinity and positive results to 0, no? So that's in line with Geth and Besu.",
        "created_at": "2020-08-12T00:08:56.292000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@376568077950910466\u003e `9//4=2`",
        "created_at": "2020-08-12T02:28:15.138000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In an attempt to keep myself honest, I'm going to find out what Solidity does when you do `push 1; sub 10; div 2` and before I do it (I have no idea how it will behave) I'm going to state what my position will be based on the results:\n1. If it results in `-2` then I'll be firmly in the camp of \"round toward 0\"\n2. If it results in `-3` I'll be convinced that round toward infinity is most appropriate\n3. If it results in something totally incorrect I'll maintain my current position of \"weakly in favor of round toward 0\"",
        "created_at": "2020-08-12T04:07:46.367000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Heh, unfortunately the answer is (3).  üò¢",
        "created_at": "2020-08-12T04:12:49.982000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "EVM just overflows and doesn't actually have a concept of negative number subtraction.",
        "created_at": "2020-08-12T04:13:28.864000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Apparently it is Solidity that does the magic (I'm not sure which way it rounds, but I don't think that should matter).",
        "created_at": "2020-08-12T04:14:03.338000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It appears that Go, Python, JavaScript, C++11, C# and Java native integer types all round negative toward 0.  So far from my research it is Go's `big` library that is doing the bizarre thing here.",
        "created_at": "2020-08-12T04:17:16.074000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm unable to find any language (including Go!) which rounds towards negative infinity, and none of the languages that have active client implementations round toward negative infinity so I'm pretty firmly now in the camp that we should truncate, not round toward infinity.  The only thing that would convince me otherwise is if we can find an established part of consensus where we round toward negative infinity.  While I understand that Go uses `big` library for its big numbers, I don't think it is reasonable to have *every* implementation have to hack around their native language primitives because Go is using a library that has bizarre behavior.",
        "created_at": "2020-08-12T04:23:28.547000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@552133098075193354\u003e\nHow one should make these transaction shown in \u003c@740996787548061849\u003e  post. ?\nIs it allowed by ehereum protocol ?\nSince the pending transaction are high it creates high gas fee. And I feels that these transaction are fake made by minors or anyone else.\nHow EIP1559 make solution of that ?",
        "created_at": "2020-08-12T04:47:27.679000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@742777666276556892\u003e 1559 won't directly reduce gas prices, it just makes it way easier to correctly estimate and not overpay.",
        "created_at": "2020-08-12T05:10:02.016000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It may have a side effect of causing gas prices to reapidly reduce during times of low congestion, which would help a bit, but not a ton.",
        "created_at": "2020-08-12T05:10:45.714000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The fundamental problem is that there is limited space in the chain, and 1559 doesn't help with that.",
        "created_at": "2020-08-12T05:11:06.125000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e Thanks a lot üëçüëçüëçüíêüíêüíê",
        "created_at": "2020-08-12T05:35:56.025000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e \u003c@552133098075193354\u003e \nWhen will be phase 0 and  EIP1559 launch on mainnet ? Any guess ?",
        "created_at": "2020-08-12T05:39:42.497000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No idea on either.",
        "created_at": "2020-08-12T05:40:29.316000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "EIP-1559 is *at least* 2 forks away though I suspect (not the upcoming Berlin fork, but *maybe* the fork after that).",
        "created_at": "2020-08-12T05:40:51.624000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "2 fork means ?",
        "created_at": "2020-08-12T05:41:22.191000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Meaning 6-12 months away *at a minimum*.  üôÇ",
        "created_at": "2020-08-12T05:43:07.577000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok",
        "created_at": "2020-08-12T05:50:13.499000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e Is fake transaction allowed by ehereum protocol ?",
        "created_at": "2020-08-12T09:22:26.903000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Valid transactions end up in the pool, invalid do not.",
        "created_at": "2020-08-12T09:23:10.890000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Why it is pending then ?",
        "created_at": "2020-08-12T09:37:45.074000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!742777666276556892\u003e perhaps the first part of http://www.wealdtech.com/articles/releasing-stuck-ethereum-transactions/ will explain what goes on with transactions, how they enter the pool, and how they leave it",
        "created_at": "2020-08-12T09:40:45.625000+00:00",
        "attachments": null
    },
    {
        "author": "shakir2062",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e lots of pending nodes increasing gas price..... \u0026 This is affecting the Eco system of ethereum protocol..... How common user make the transaction at high gas fees?",
        "created_at": "2020-08-12T10:13:41.355000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!740996787548061849\u003e Gas prices will go down when people stop wanting to use Ethereum so much.  üôÇ",
        "created_at": "2020-08-12T10:14:53.827000+00:00",
        "attachments": null
    },
    {
        "author": "shakir2062",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e means it's our fault to using ethereum based coins",
        "created_at": "2020-08-12T10:16:00.929000+00:00",
        "attachments": null
    },
    {
        "author": "gwintery",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the discussion is getting a bit out of topic here. \u003c@!740996787548061849\u003e \u003c@!742777666276556892\u003e please leave this channel for research discussions as it was meant to be...",
        "created_at": "2020-08-12T10:16:16.851000+00:00",
        "attachments": null
    },
    {
        "author": "shakir2062",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@140789012276183040\u003e ok this is not a right place to discuss this",
        "created_at": "2020-08-12T10:16:57.377000+00:00",
        "attachments": null
    },
    {
        "author": "gwintery",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is not the channel to beg devs to solve transaction issues. They're here to discuss EIP 1559. While as a lurker and a user I agree with your sentiment, I think there are other channels you can bring this up on.",
        "created_at": "2020-08-12T10:17:19.420000+00:00",
        "attachments": null
    },
    {
        "author": "shakir2062",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@140789012276183040\u003e when approximately Eip 1559 solve this type of major issues of unusual transactions?",
        "created_at": "2020-08-12T10:21:08.965000+00:00",
        "attachments": null
    },
    {
        "author": "simba4171",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e why would ppl stop using eth?",
        "created_at": "2020-08-12T10:25:04.794000+00:00",
        "attachments": null
    },
    {
        "author": "gwintery",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!740996787548061849\u003e again, this is off topic. What you define as unusual transactions are not unusual at all. I suggest reading through what the devs have kindly pointed out above. http://www.wealdtech.com/articles/releasing-stuck-ethereum-transactions/",
        "created_at": "2020-08-12T10:31:04.187000+00:00",
        "attachments": null
    },
    {
        "author": "shakir2062",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok",
        "created_at": "2020-08-12T10:31:50.858000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!742777666276556892\u003e Please keep on topic. This is for research discussions related to eip 1559, not for technical support",
        "created_at": "2020-08-12T14:22:46.854000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!740996787548061849\u003e  Please keep on topic. This is for research discussions related to eip 1559, not for technical support",
        "created_at": "2020-08-12T14:22:56.494000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e \u003c@!376568077950910466\u003e `9//4=2`\n\u003c@!301186049323958275\u003e Yes, but 9 // -4 = -3",
        "created_at": "2020-08-12T17:11:05.194000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It rounds to 0 when the result is positive, it rounds to negative infinity when the result is negative. Exactly like big.Int does.",
        "created_at": "2020-08-12T17:11:31.650000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sorry, I meant `-9//4=2`.",
        "created_at": "2020-08-12T17:11:33.118000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "-9 // 4 = -3",
        "created_at": "2020-08-12T17:11:51.571000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In what?",
        "created_at": "2020-08-12T17:11:56.497000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "In my python interpreter",
        "created_at": "2020-08-12T17:12:02.004000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "3.x?",
        "created_at": "2020-08-12T17:12:15.699000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "3.6.5",
        "created_at": "2020-08-12T17:12:28.036000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hmm, let me test again.",
        "created_at": "2020-08-12T17:12:33.583000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I went through and tested in all of the languages (or looked up specs) yesterday, I certainly could have made a mistake in my research though.",
        "created_at": "2020-08-12T17:12:51.489000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It's an easy mistake to make and looking it up is a pain like you said, testing in interpreter yields that result for me though",
        "created_at": "2020-08-12T17:13:19.999000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It does appear you are right, `-9 // 4` in python 3.x is `-3`.\nNodeJS and Browser is `-9n / 4n == -2n`",
        "created_at": "2020-08-12T17:14:00.903000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "```java\n// java\nlong a = -9;\nlong b = 4;\nlong c = a / b;\nSystem.out.println(c); // -2\n```\n```csharp\n// c#\nInt32 a = -9;\nInt32 b = 4;\nInt32 c = a / b;\nConsole.WriteLine (c); // -2\n```",
        "created_at": "2020-08-12T17:16:06.039000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Rust and C++11 specifications say they truncate.",
        "created_at": "2020-08-12T17:16:20.473000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "`big` Go Library you linked previously said that Go truncates.",
        "created_at": "2020-08-12T17:16:32.004000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(just tested NodeJS/Browser/Java/C# again since I screwed up the test with Python)",
        "created_at": "2020-08-12T17:16:47.740000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Confused by meaning of truncate. big.Int is same as Python `//` though.",
        "created_at": "2020-08-12T17:17:22.078000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Truncate meaning you just drop the decimal.",
        "created_at": "2020-08-12T17:18:03.452000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No rounding.",
        "created_at": "2020-08-12T17:18:06.071000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "-3.14159 truncated == -3",
        "created_at": "2020-08-12T17:18:17.992000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So Python `//` is in line with Besu and Geth current implementation, can we settle on that?",
        "created_at": "2020-08-12T17:18:27.269000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Those are the 3 languages currently being used to implement 1559, idk why we would change things to make it harder on those but easier on other langauges that may never even use it.",
        "created_at": "2020-08-12T17:22:50.105000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It isn't harder on Besu, they did truncation first.",
        "created_at": "2020-08-12T17:23:13.568000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes but they already did it",
        "created_at": "2020-08-12T17:23:20.249000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So having them reverse it is more work",
        "created_at": "2020-08-12T17:23:36.963000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "afaik",
        "created_at": "2020-08-12T17:23:39.565000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This decision has potential to make it harder on everyone *except* Geth is my fear (since I don't know if there is a maintained Python client at this point).",
        "created_at": "2020-08-12T17:23:43.404000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I cannot believe you guys are still talking about integer division üôÇ",
        "created_at": "2020-08-12T17:23:45.271000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Me neither",
        "created_at": "2020-08-12T17:23:51.184000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!489256758989029405\u003e can comment on how they do big numbers and someone from OE can comment on how they use big numbers, but my *guess* is they use native tools and this change means they'll have to write custom code to deal with it.",
        "created_at": "2020-08-12T17:24:42.430000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "They already did",
        "created_at": "2020-08-12T17:24:53.870000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Besu and Geth are synced",
        "created_at": "2020-08-12T17:24:58.322000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Go doesn't have native big number support, but other languages do.",
        "created_at": "2020-08-12T17:25:01.329000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What language is Besu?",
        "created_at": "2020-08-12T17:25:04.477000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Java",
        "created_at": "2020-08-12T17:25:07.809000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You are making the claim that \"doing it the non-native way is easy for everyone *except me*\", which I find to be a tough pill to swallow.",
        "created_at": "2020-08-12T17:25:42.769000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If it is such a trivial change, you should be able to flip it just as easily as every other client can flip their implementations around.",
        "created_at": "2020-08-12T17:26:08.025000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It's the native way for Python, it's the native way for Geth, it's the current way for Besu",
        "created_at": "2020-08-12T17:26:09.958000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't believe there is a maintained Python client at the moment?",
        "created_at": "2020-08-12T17:26:23.055000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But that is how '//' works",
        "created_at": "2020-08-12T17:26:31.838000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is a rediculous discussion",
        "created_at": "2020-08-12T17:26:44.518000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Right, from my research only Python natively does round to negative infinity, and `big` library for Go is the only library I'm *aware of* (I'm sure there are others out there) that does that.  Everything else I researched does truncation.",
        "created_at": "2020-08-12T17:27:16.202000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We are not chaning the current besu and geth implementations to *possibly* make it easier for *potential* client implementations down the line, especially when even Python `//` conforms",
        "created_at": "2020-08-12T17:28:49.704000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can you help me understand why you think everyone else should use a custom function instead of *only Geth* using a custom function?",
        "created_at": "2020-08-12T17:29:26.462000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Python has to use a custom function?",
        "created_at": "2020-08-12T17:29:40.407000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Why should Geth and Python have to use a custom function?",
        "created_at": "2020-08-12T17:29:59.068000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't believe there is any maintained client written in Python?",
        "created_at": "2020-08-12T17:30:09.549000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But they would need a custom function",
        "created_at": "2020-08-12T17:30:17.094000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(please correct me if I'm wrong)",
        "created_at": "2020-08-12T17:30:19.675000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Since `//` is euclidean",
        "created_at": "2020-08-12T17:30:23.243000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can you explain to me why Python should have to write a custom function, Geth should need to abandon its entire big.Int library, and Besu should need to undo their work?",
        "created_at": "2020-08-12T17:31:03.682000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "All so that some theoretical C# implementation is easier?",
        "created_at": "2020-08-12T17:31:30.783000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I certainly don't think you should abandon `big.Int`, I would just write a 1 line helper function.",
        "created_at": "2020-08-12T17:31:44.766000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "(maybe 2 lines)",
        "created_at": "2020-08-12T17:31:56.456000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Please debate the greater point",
        "created_at": "2020-08-12T17:31:56.764000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Instead of targeting something easy",
        "created_at": "2020-08-12T17:32:02.203000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Pragmatically, I *suspect* JS is used by the most developers in the Ethereum ecosystem, and anyone wanting to validate blocks in JS will need to do this, so by volume of developers impacted, we should prefer making things easy in JS.  Even if we ignore that and only consider clients, all clients natively do truncate *except* Geth because Go doesn't support native big ints and the chosen library happens round to negative infinity.",
        "created_at": "2020-08-12T17:32:49.680000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "would it be easier to take the formula under consideration (I suspect it is the one with `delta` in it), and modify it",
        "created_at": "2020-08-12T17:32:58.179000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so that is `delta` \u003c 0, then `BASE_FEE` == 1, or something",
        "created_at": "2020-08-12T17:33:13.758000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I generally dislike the idea of writing a spec that preferences the fairly arbitrary choices made by the first client across the line.",
        "created_at": "2020-08-12T17:33:14.750000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The decision is arbitrary, you are arguing we should chose the option that makes it easier for *potential* implementations, I'm arguing we make it easier for the *actual* implementations",
        "created_at": "2020-08-12T17:33:19.832000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "because the clamping would apply if the result is negative, right?",
        "created_at": "2020-08-12T17:33:26.334000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It *IS* an arbitrary decision though",
        "created_at": "2020-08-12T17:33:35.979000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and then it does not really matter how negative division works",
        "created_at": "2020-08-12T17:33:37.369000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@456226577798135808\u003e It is a change formula, we adjust up/down depending on negative/positive value.",
        "created_at": "2020-08-12T17:33:42.168000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003e The decision is arbitrary, you are arguing we should chose the option that makes it easier for potential implementations, I'm arguing we make it easier for the actual implementations\nWe can say with near 100% certainty that C#, Rust, Java, JS will all need to implement this (JS is the least certain, but there is a couple JS clients I believe and there are JS block verifiers out there).",
        "created_at": "2020-08-12T17:34:30.010000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It isn't a hypothetical that C#, Rust, and JS will need to implement this.",
        "created_at": "2020-08-12T17:34:46.444000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ok, I see. In that case, I would suggest just to make 2 formulas in EIP, one for positive delta, and another - for negative delta, using `abs(delta)` üôÇ",
        "created_at": "2020-08-12T17:36:26.717000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and then nobody needs to know what Euclidian division is",
        "created_at": "2020-08-12T17:36:42.662000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The math itself isn't hard in either direction.",
        "created_at": "2020-08-12T17:36:47.740000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and put the comment there that if someone tries to generalise these two formula into 1, they need to take care of the division for negative numbers in their language",
        "created_at": "2020-08-12T17:37:40.617000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "make it an implementation detail problem",
        "created_at": "2020-08-12T17:37:57.582000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "You could just have:\n```ts\ndelta = (x \u003c y) ? y - x : -(x - y)\n```",
        "created_at": "2020-08-12T17:38:22.224000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@456226577798135808\u003e The question is, should we use the type of division that the first client to implement the spec happened to use, or should we use the type of division that every other language that has clients written in it uses?  Part of the reason I want to take care to make a good choice here is because it sets a precedent for how we do signed division in consensus.  I can all but guarantee the next time this comes we'll just look at \"how do we do signed division elsewhere\" (especially since we looked for that in this case as established precedence).",
        "created_at": "2020-08-12T17:40:30.124000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The standard across programming languages seems (from what I can tell) to be that truncation is how it is done, and I dislike setting a precedent that goes against that.",
        "created_at": "2020-08-12T17:41:05.997000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Every other client? https://github.com/ethereum/trinity",
        "created_at": "2020-08-12T17:41:42.079000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Except geth, besu, and trinity?",
        "created_at": "2020-08-12T17:41:48.631000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "What is Trinity?",
        "created_at": "2020-08-12T17:42:01.193000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ooh, a Python client.",
        "created_at": "2020-08-12T17:42:04.625000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That is a good find.",
        "created_at": "2020-08-12T17:42:07.092000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not sure why you keep bringing up Besu.  They changed only because you asked them to and they didn't care.",
        "created_at": "2020-08-12T17:42:30.419000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because we are currently in sync, and you keep framing this as a completely selfish choice on my part",
        "created_at": "2020-08-12T17:42:57.749000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "There are almost certainly going to be consensus changes to the spec, next time we have one we can flip over.",
        "created_at": "2020-08-12T17:43:38.707000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Having 2 clients in sync on a temporary testnet seems like a poor design process to me.",
        "created_at": "2020-08-12T17:44:06.229000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Would it make you feel more amenable if we roll the chance to truncation in with the next consensus change in the specification?",
        "created_at": "2020-08-12T17:44:52.583000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "e.g., if/when EIP-2718 is integrate (which will be backward incompatible).",
        "created_at": "2020-08-12T17:45:00.977000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is the only concern here that you don't want to spin up a new testnet *just* for this change?",
        "created_at": "2020-08-12T17:45:30.930000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Sure, the python spec that you wrote in that PR would need to be updated to reflect truncation anyways",
        "created_at": "2020-08-12T17:47:59.268000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes that's part of it, but generally concerned by how much flip-flopping is occuring on almsot entirely arbitrary  things",
        "created_at": "2020-08-12T17:48:22.741000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If that is your primary concern then I think I just misunderstood your position and I'm fine with waiting until the next consensus change.",
        "created_at": "2020-08-12T17:48:48.038000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm *really* hopeful that we can switch 1559 to 2118 transactions, and if so a breaking consensus change will happen.",
        "created_at": "2020-08-12T17:49:49.767000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Plus, I am guessing there will be other things that come up in testing that require consensus changes.",
        "created_at": "2020-08-12T17:50:02.220000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm not opposed to making breaking changes at all, but they need to be justified",
        "created_at": "2020-08-12T17:50:13.200000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I like \u003c@456226577798135808\u003e 's idea a lot",
        "created_at": "2020-08-12T17:51:24.244000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think Alexey's idea changes my argument, though I agreed with his suggestion on how to word the spec (get rid of the `//` operator regardless of how we divide).",
        "created_at": "2020-08-12T17:52:11.328000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Right, we still have to decide which client/language's native operations are supported by those two formula.",
        "created_at": "2020-08-12T17:57:41.135000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I can't keep discussing this, let's wait for the other consensus changes",
        "created_at": "2020-08-12T17:58:24.420000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I wish we could get more people to engage.  üò¢",
        "created_at": "2020-08-12T18:01:52.235000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Even if it was just a simple, \"I'm paying attention, but I don't care about the outcome of this particular decision.\"",
        "created_at": "2020-08-12T18:02:12.463000+00:00",
        "attachments": null
    },
    {
        "author": "victoreth1670",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can any one send details of  How EIP1559 work on blockchain and what is the effect after implications of it.",
        "created_at": "2020-08-12T18:06:26.537000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!742777666276556892\u003e https://eips.ethereum.org/EIPS/eip-1559 for the specification.  There are some links at the bottom with additional details like https://ethresear.ch/t/draft-position-paper-on-resource-pricing/2838 (current spec has deviated from that article a bit).",
        "created_at": "2020-08-12T18:07:47.394000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "As a non-implementer, it does seem like a lot of effort on a fairly small/trivial detail and if both implementations are currently in sync I'm not clear on the benefit of changing things. My 2gwei.",
        "created_at": "2020-08-12T21:04:12.289000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this small thing does not need to be defined in a non-ambiguous way. So current spec seems ambiguous. But ambiguity can be resolved in an arbitrary way now. If later it is found out that this particular choice was wrong, it can be changed. But i suspect most people won't care and will just implement the way it is specified",
        "created_at": "2020-08-12T21:07:15.400000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So I suggest to define that particular division (the one that can involve negative numbers) as Euclidian division (truncating toward negative infinity), make it non-ambiguous in the spec and move on",
        "created_at": "2020-08-12T21:08:39.125000+00:00",
        "attachments": null
    }
]