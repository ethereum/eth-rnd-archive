[
    {
        "author": "spingel",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@539495253418180618\u003e I've noticed that your PR \"Bound precompile storage\" for EIP 4788 has been merged. I've been thinking about it more and would like to understand why timestamp was selected to retrieve the beacon root. In your PR you explain correctly that with the 98304 modulus we can only guarantee the last 8192 beacon roots to be available (~1 day). If we were to use the block number we could guarantee 12 days with the same amount of storage.\nAnother question that came to my mind was whether we have to worry about (invalid) beacon roots that could be left in the buffers after a reorg.",
        "created_at": "2023-07-10T01:50:51.796000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Execution Layer",
        "parent": "",
        "content": "any proofs using this precompile are going to be working in terms of slots, and timestamp was the closest thing to that without violating the separation of concerns bt/ EL and CL layers",
        "created_at": "2023-07-10T14:30:07.088000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Execution Layer",
        "parent": "",
        "content": "if we need more storage then we can just make the constant bigger but it seems like 1 day is plenty",
        "created_at": "2023-07-10T14:30:28.134000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Execution Layer",
        "parent": "",
        "content": "if there is a reorg then the EL should write all of the new roots into the chain",
        "created_at": "2023-07-10T14:30:58.094000+00:00",
        "attachments": []
    },
    {
        "author": "spingel",
        "category": "Execution Layer",
        "parent": "",
        "content": "OK, so you are saying that we should not have to worry about removing \"reorged\" roots from the tables, is that right? \u003c@539495253418180618\u003e",
        "created_at": "2023-07-10T23:00:59.319000+00:00",
        "attachments": []
    }
]