[
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I've got the nightly kurtosis run working with each client team as a majority client. The testnet is spun up parallelly between 3-5AM (there are a loooot of combinations). \n\nCurrent testnets:\n1. One testnet with 10x of each EL-CL combo (with caveats when a EL cannot mine). E.g: 10x prysm-geth,...\n2. One testnet with all clients in equal split\n3. (TODO) mainnet distribution\n\nThe result of each run can be found here:\nhttps://github.com/parithosh/nightly-kurtosis-test/actions\n\nSince I'm using github actions matrix feature, you have to click on a specific run to see the information about your respective CL-EL. E.g, this is today's cl-geth majority testnets: https://github.com/parithosh/nightly-kurtosis-test/actions/runs/2020092115\n\nThe logs from all participating runs are dumped and can be accessed from the artefacts. That will tell you the commands used to run the client, the logs, etc. The only piece of information you would need to know otherwise is that the node marked cl-0-.... is connected to the node marked el-0-... and so on. \n\nLast night was the first attempt to do this and kurtosis was recently updated, so expect a ton of things to break. Chances are veeeery likely that kurtosis itself is missing a flag/broken rather than the client. I'll look at reducing the errors today and perhaps tomorrow's run would be better. \n\nIt'd be great if client teams can help figure out failed runs once things are a bit more stable. \u003c@!199253896399421440\u003e would be tying it up with some monitoring infra to allow for some easier notifications. \n\nWe'd still need help writing better test cases for these runs, reach out to \u003c@!892053833121923094\u003e or \u003c@!360491619402776577\u003e  if you want to help!",
        "created_at": "2022-03-22T09:30:23.817000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Since Kurtosis works with docker images, it'd be great if client teams can confirm the following assumptions i've made of what images to use:\nBleeding edge from directly client team's CI:\n- Teku: `consensys/teku:develop`\n- Lighthouse: `sigp/lighthouse:latest-unstable`\n- Lodestar: `chainsafe/lodestar:next`\n\nPinned branches where images are built by me and used in that night's run:\n- Geth: Marius's `merge-kiln-v2`\n- Nimbus: `kiln-dev-auth`\n\nTeam provided images, not updated until explicitly mentioned: \n- Prysm (same as kiln nodes)\n- Nethermind (same as kiln nodes)\n- Besu (same as kiln nodes)\n\nWe can play around with any of the above options. If you want to switch such that the tests use your bleeding edge images or switch to a stable one that's manually updated - Reach out and i can reconfigure it ðŸ™‚",
        "created_at": "2022-03-22T09:32:33.508000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "You can use geth's `master` branch now",
        "created_at": "2022-03-22T09:32:57.759000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "There is a known issue with it that will be fixed in the next couple of minutes/hours",
        "created_at": "2022-03-22T09:33:24.339000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "thanks \u003c@!199561711278227457\u003e !!! ðŸš€ will adopt them for lodestar CI ðŸ™‚",
        "created_at": "2022-03-22T09:34:37.613000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The ttd might be a bit high right? Most of the failures I see are from not reaching ttd in time",
        "created_at": "2022-03-22T09:37:03.326000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Probably... its a new build machine and i think its significantly faster than my laptop (Where i got the ttd number from) ðŸ˜¦",
        "created_at": "2022-03-22T09:39:00.156000+00:00",
        "attachments": []
    },
    {
        "author": "fredrik",
        "category": "Testing",
        "parent": "",
        "content": "what type of notice is relevant? just the names of the failed runs and a link to it? could probably grep for certain things in the output logs and tag the failures for certain known failure types too if that's of value",
        "created_at": "2022-03-22T09:47:36.431000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I think a notice of failure with a link to the relevant artefacts would be a great first step",
        "created_at": "2022-03-22T10:06:50.471000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Geth's current master branch has all the support for the merge (including the respective flags) ?",
        "created_at": "2022-03-22T10:07:39.443000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes ðŸ¤“",
        "created_at": "2022-03-22T10:08:20.002000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Perfect ! This is great news we can finally merge all this to our main branch then ðŸ™‚",
        "created_at": "2022-03-22T10:09:00.591000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I need to free up some resources for the goerli-shadow-fork. So merge-devnet-5 will be deprecated today unless there's any objection. As mentioned earlier, Kintsugi will still be deprecated on thursday the 24th.",
        "created_at": "2022-03-22T12:29:34.211000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Hey Pari, will these be short-lived testnets or for how long would these be running? I would like to test the code I wrote to check the health of a merge testnet if possible ðŸ‘€",
        "created_at": "2022-03-22T13:33:36.597000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "These are testnets that just live for like 40mins or so, until the test case has been done. You can run them locally as well, I can get you a config if you like.",
        "created_at": "2022-03-22T13:39:16.711000+00:00",
        "attachments": []
    },
    {
        "author": "pi118",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!199561711278227457\u003e You mean kiln test coins are useless?",
        "created_at": "2022-03-22T14:59:18.918000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "They're quite valuable for testnets and testing, but no they do not have any real world value besides the one we give them. But the discussion being had has nothing to do with Kiln.",
        "created_at": "2022-03-22T15:01:32.840000+00:00",
        "attachments": []
    },
    {
        "author": "pi118",
        "category": "Testing",
        "parent": "",
        "content": "All right. Thank you.",
        "created_at": "2022-03-22T15:02:36.533000+00:00",
        "attachments": []
    },
    {
        "author": "seamonkey82",
        "category": "Testing",
        "parent": "",
        "content": "First block proposal with lighthouse-erigon!\nhttps://beaconchain.kiln.themerge.dev/blocks?q=lighthouse-erigon",
        "created_at": "2022-03-22T15:11:33.519000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Goerli shadow fork configs are out! They can be found here: https://github.com/eth-clients/merge-testnets/tree/main/goerli-shadow-fork-1\n\nTooling links: \n- https://beaconchain.goerlishadowfork.ethdevops.io\n- https://explorer.goerlishadowfork.ethdevops.io\n- https://rpc.goerlishadowfork.ethdevops.io\n- Use a goerli faucet\n- Use the same versions as the kiln docs\n\nThe goerli chain is already up and running(duh) and the beaconchain will undergo genesis at 9AM UTC on the 23rd of March (like 10h from now). The merge will however only happen ~3PM UTC the day after (24th March), so over a day and a half to get nodes up. \n\nThe aim of the testnet is not to test the transition explicitly, but rather to provide a sync target for testing over the next weeks and to benchmark performance. We're additionally testing a mainnet client split.  It is not meant for the general public, but if you're so inclined then feel free to join us, there won't be any official guides written. \n\nA word of warning, since this is a goerli shadow fork, we will gossip transactions to-from the main goerli chain. So while transactions on the fork shouldn't reach the canonical chain, they still might find a route - be prudent in spending your goerli ether.",
        "created_at": "2022-03-22T23:22:01.608000+00:00",
        "attachments": []
    }
]