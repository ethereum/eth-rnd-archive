[
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "hey I'm a docker n00b but I'm trying to follow: https://hackmd.io/dFzKxB3ISWO8juUqPpJFfw and when I get to step #6 I get something like this:\n```bash\ndv8s@instance-1:~/consensus-deployment-ansible/scripts/quick-run/merge-devnets$ docker-compose --env-file merge-devnet-2.vars -f docker-compose.geth.yml up -d\nDefine and run multi-container applications with Docker.\n\nUsage:\n  docker-compose [-f \u003carg\u003e...] [options] [COMMAND] [ARGS...]\n  docker-compose -h|--help\n\nOptions:\n  -f, --file FILE             Specify an alternate compose file (default: docker-compose.yml)\n  -p, --project-name NAME     Specify an alternate project name (default: directory name)\n  --verbose                   Show more output\n  --no-ansi                   Do not print ANSI control characters\n  -v, --version               Print version and exit\n  -H, --host HOST             Daemon socket to connect to\n\n```",
        "created_at": "2021-12-02T00:34:01.039000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "seems to just output the help",
        "created_at": "2021-12-02T00:34:09.010000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "really no deviation from the steps",
        "created_at": "2021-12-02T00:34:21.917000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "docker-compose version 1.17.1 Ubuntu (on google cloud currently)",
        "created_at": "2021-12-02T00:34:45.782000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "it allows progress if I get rid of the --env-file argument but then it doesn't get any of the env vars so that ends up messing it up downstream",
        "created_at": "2021-12-02T00:35:31.857000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "I can probably work around -- just reporting my issue",
        "created_at": "2021-12-02T00:35:58.515000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "for now I'll just use the steps in the Linux part üôÇ",
        "created_at": "2021-12-02T00:39:42.458000+00:00",
        "attachments": null
    },
    {
        "author": "souper5980",
        "category": "Testing",
        "parent": "",
        "content": "I'm a linux noob in general but do you need to be superuser? I managed to make it to step 8 but kept getting an error stating couldn't find the log file so I gave up ü§∑‚Äç‚ôÇÔ∏è",
        "created_at": "2021-12-02T01:44:33.555000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "tried with/without sudo -- no diff. Seems more like some kind of command line arg thing. The output of that command is just very unexpected. Maybe it is the terminal doing something funny. I'll end up just trying locally sometime soon to see üòÑ",
        "created_at": "2021-12-02T01:51:51.958000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "what's your exact error message? re the log file",
        "created_at": "2021-12-02T01:55:07.484000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "actually just realized that docker-compose is pretty old version on the g cloud machine. might be it.",
        "created_at": "2021-12-02T01:55:52.258000+00:00",
        "attachments": null
    },
    {
        "author": "souper5980",
        "category": "Testing",
        "parent": "",
        "content": "I'm not sure exactly but basically it couldn't find the dir and log file... even though dir showed it was there",
        "created_at": "2021-12-02T01:58:40.494000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "be better to have exact output to see if I can help but I can understand if that isn't possible",
        "created_at": "2021-12-02T02:00:32.443000+00:00",
        "attachments": null
    },
    {
        "author": "souper5980",
        "category": "Testing",
        "parent": "",
        "content": "appreciate it.. let me fire up the VM and i'll paste it",
        "created_at": "2021-12-02T02:02:47.867000+00:00",
        "attachments": null
    },
    {
        "author": "souper5980",
        "category": "Testing",
        "parent": "",
        "content": "having some difficulties with the VM but I'll get back to you",
        "created_at": "2021-12-02T02:18:43.139000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "Does anyone have a cli only way to create a new validator?\n\nI tried to adapt the \"official\" way by hacking the staking-launchpad and eth2-deposit-cli (quick and dirty)\n\n Even though my contract call looks fine in the block explorer, the validator never activates.\n\nDid anyone succed in adding a new validator to devnet2?",
        "created_at": "2021-12-02T02:46:51.967000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I'm working on making this process easier + documenting it right now. There seems to be a bug with the beaconchain explorer that shows the deposits as invalid even though they are valid. \n\nBesides that, the validators have a voting period of 64 epochs (i have to cross check) - so you'd have to wait for them to get activated. If you are running lighthouse (unsure if other clients have a similar endpoint), you can query the deposit cache with `curl localhost:5052/lighthouse/eth1/deposit_cache` and check if your validator is in the cache.",
        "created_at": "2021-12-02T09:11:44.871000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "Thanks. I didn't know that. Will check it later.",
        "created_at": "2021-12-02T09:13:53.748000+00:00",
        "attachments": null
    },
    {
        "author": "ohraemez",
        "category": "Testing",
        "parent": "",
        "content": "I created a validator with lighthouse yesterday using these commands\n\n`lighthouse --testnet-dir=\u003cmerge-devnet-2\u003e account wallet create\nlighthouse --testnet-dir=\u003cmerge-devnet-2\u003e account validator create --count 1`\n\nthis will create a eth1-deposit-data.rlp in $HOME/.lighthouse with a hex code, which you can add to metamask when sending the deposit",
        "created_at": "2021-12-02T11:58:13.391000+00:00",
        "attachments": null
    },
    {
        "author": "ohraemez",
        "category": "Testing",
        "parent": "",
        "content": "My validator is active according to https://beaconchain.merge-devnet-2.wenmerge.dev/validator/30104 but validator client says: \n`Dec 02 12:59:06.002 INFO Awaiting activation                     slot: 13170, epoch: 411, validators: 1, service: notifier` ü§∑‚Äç‚ôÇÔ∏è",
        "created_at": "2021-12-02T12:01:19.236000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "Awesome thanks",
        "created_at": "2021-12-02T12:01:38.141000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "I'll look into it",
        "created_at": "2021-12-02T12:01:54.861000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "It now seems to work with my validator from yesterday but it took longer than I expected",
        "created_at": "2021-12-02T12:15:10.622000+00:00",
        "attachments": null
    },
    {
        "author": "ohraemez",
        "category": "Testing",
        "parent": "",
        "content": "I think the reason my validator client does not see the deposit is because the beacon node was started with --dummy-eth. The problem is that if I remove this parameter beacon node complains \n\n`Dec 02 13:16:31.693 CRIT Could not connect to a suitable eth1 node. Please ensure that you have an eth1 http server running locally on http://localhost:8545 or specify one or more (remote) endpoints using `--eth1-endpoints \u003cCOMMA-SEPARATED-SERVER-ADDRESSES\u003e`. Also ensure that `eth` and `net` apis are enabled on the eth1 http server, warning: BLOCK PROPOSALS WILL FAIL WITHOUT VALID, SYNCED ETH1 CONNECTION, service: eth1_rpc`\n\nalthough geth is running and those apis are active. Does anyone know what the problem is?",
        "created_at": "2021-12-02T12:21:01.374000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "There should be an error message directly below or above telling you more",
        "created_at": "2021-12-02T12:27:27.978000+00:00",
        "attachments": null
    },
    {
        "author": "ohraemez",
        "category": "Testing",
        "parent": "",
        "content": "`Dec 02 13:27:40.609 ERRO Failed to update eth1 cache             error: Failed to update Eth1 service: \"All fallback errored: http://localhost:8545/ =\u003e EndpointError(FarBehind)\", retry_millis: 60000, service: eth1_rpc`",
        "created_at": "2021-12-02T12:29:05.221000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "This is telling you that geht is not yet caught up with the chain. It sometimes takes a few minutes.",
        "created_at": "2021-12-02T12:30:08.902000+00:00",
        "attachments": null
    },
    {
        "author": "ohraemez",
        "category": "Testing",
        "parent": "",
        "content": "Wait we already merged on the devnet-2, didn't we? So geth needs beacon to catch up, but beacon is refusing to talk to geth because it is not caught up yet?",
        "created_at": "2021-12-02T12:35:50.292000+00:00",
        "attachments": null
    },
    {
        "author": "gaming_in_rust",
        "category": "Testing",
        "parent": "",
        "content": "No beacon needs to tell geht about the blocks and only once geth has executed them block production can start",
        "created_at": "2021-12-02T12:36:39.838000+00:00",
        "attachments": null
    },
    {
        "author": "ohraemez",
        "category": "Testing",
        "parent": "",
        "content": "OK I am validating now!\n\nI started beacon again with --dummy-eth and geth started syncing immediately. I let it catch up and then restarted beacon this time without --dummy-eth and now everything is fine. Thanks for your help",
        "created_at": "2021-12-02T12:45:56.711000+00:00",
        "attachments": null
    },
    {
        "author": "chrishobcroft",
        "category": "Testing",
        "parent": "",
        "content": "This sounds like the right place to talk about \u003c#753271902520213625\u003eTheMerge thank you Tim Beiko.",
        "created_at": "2021-12-02T19:40:40.368000+00:00",
        "attachments": null
    },
    {
        "author": "chrishobcroft",
        "category": "Testing",
        "parent": "",
        "content": "Currently not seeing any peers running geth on devnet-2:",
        "created_at": "2021-12-02T20:29:52.351000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "unknown.png",
                "content": "c6e6d172aa1e15e0e68fa5daa595a3a58ab444390bad92c2d3208afcbf0d7f59"
            }
        ]
    },
    {
        "author": "chrishobcroft",
        "category": "Testing",
        "parent": "",
        "content": "resetting the db and starting again",
        "created_at": "2021-12-02T20:30:20.093000+00:00",
        "attachments": null
    },
    {
        "author": "dv8s",
        "category": "Testing",
        "parent": "",
        "content": "minor PR fyi https://github.com/parithosh/consensus-deployment-ansible/pull/14 . -- also running the docker-compose on a local VM -- works without the issues I had on google cloud instance",
        "created_at": "2021-12-02T20:56:50.106000+00:00",
        "attachments": null
    },
    {
        "author": "ohraemez",
        "category": "Testing",
        "parent": "",
        "content": "just tried syncing on a different VM and geth crashed.",
        "created_at": "2021-12-02T23:43:37.433000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "console.txt",
                "content": "ed6521db8d2648b495fbd4ba3e0f7a03f4c996c3b5c05fcc298d022cc9e81af9"
            }
        ]
    }
]