[
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Hey \u003c@654267572107083777\u003e, good question. I will look into this.",
        "created_at": "2024-09-23T13:03:58.607000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "So there are 3 tests which should fail if `process_ops(withdrawals)` is removed:\n\n```\nFAILED tests/core/pyspec/eth2spec/test/electra/sanity/blocks/test_blocks.py::test_basic_el_withdrawal_request - AssertionError: assert 18446744073709551615 \u003c 18446744073709551615\nFAILED tests/core/pyspec/eth2spec/test/electra/sanity/blocks/test_blocks.py::test_basic_btec_and_el_withdrawal_request_in_same_block - assert 18446744073709551615 == 0\nFAILED tests/core/pyspec/eth2spec/test/electra/sanity/blocks/test_blocks.py::test_basic_btec_before_el_withdrawal_request - AssertionError: assert 18446744073709551615 \u003c 18446744073709551615\n```\n\nWhich respectively link to these tests in the spec:\n\n* https://github.com/ethereum/consensus-specs/blob/0c5ad81145fea58504b6db9e8c73214a9fcb331a/tests/core/pyspec/eth2spec/test/electra/sanity/blocks/test_blocks.py#L25-L51\n* https://github.com/ethereum/consensus-specs/blob/0c5ad81145fea58504b6db9e8c73214a9fcb331a/tests/core/pyspec/eth2spec/test/electra/sanity/blocks/test_blocks.py#L54-L93\n* https://github.com/ethereum/consensus-specs/blob/0c5ad81145fea58504b6db9e8c73214a9fcb331a/tests/core/pyspec/eth2spec/test/electra/sanity/blocks/test_blocks.py#L96-L140\n\nBut I don't see these three items in the released test vectors which is confusing. And it appears there are no tests which ensure `process_ops(consolidations)` is called. I'll continue looking into this and try to make a PR today.",
        "created_at": "2024-09-23T13:44:13.590000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "It appears that we changed the structure for Electra sanity tests and forgot to add `from .test_blocks import *` in `sanity/blocks/__init__.py`, which prevented the tests from being run by the generator. Should be an easy fix. Thank you for noticing this \u003c@654267572107083777\u003e.",
        "created_at": "2024-09-23T14:40:19.829000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "And we removed consolidation tests here: https://github.com/ethereum/consensus-specs/commit/e733388623dfac9bb43925298fbcc32ad835a1fd",
        "created_at": "2024-09-23T14:41:22.825000+00:00",
        "attachments": null
    }
]