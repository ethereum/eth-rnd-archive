[
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!474451342094499868\u003e at least part of the issue is Nimbus repeatedly hitting a timeout (set semi-arbitrarily at 650ms) on its `newPayload` calls",
        "created_at": "2022-03-29T08:56:15.102000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it keeps running into the same blocks where EthereumJS responds too slowly, and its (non-optimistic) head loops around those blocks",
        "created_at": "2022-03-29T08:57:26.711000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it's running now with a timeout of 6+ seconds, and so far it's okay, but it's not a real fix. `newPayload` taking almost a second (or more, not timing it) on even kiln is probably on the slow side, and within 12-second slots, would require a bit of refactoring in terms of how the async is architected not to become a bigger problem in other areas. So, if increasing it slightly helps, alright, but one general theme of Nimbus development is that it's been useful to find and eliminate places where it \"pauses\". For merge testnets, it's not an unreasonable thing to try, but it's not (without bigger rearchitecting) viable in Nimbus to, say, allow the EL 2 seconds to respond atomically.\n\nOne thing some ELs will do is, they'll keep running that block and while the initial timeout still registers, and causes a brief loop of this sort, it gets resolved the next time it tries the same block because the result is cached, and approximately instant.",
        "created_at": "2022-03-29T09:01:44.877000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so in terms of immediate actions for the sake of compatibility, I'll go with `WONTFIX`, but if you want to try this, https://github.com/status-im/nimbus-eth2/blob/2b9d9763d51c9627b85b762bb515d165eb37dfdc/beacon_chain/consensus_object_pools/blockchain_dag.nim#L1913 is where this can be changed",
        "created_at": "2022-03-29T09:05:49.883000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "^could you point me to the higher timeout PR? I wanna deploy it on the goerli shadow fork net as well",
        "created_at": "2022-03-29T09:33:13.910000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I can at least increase the timeout somewhat. there's no PR as such right now, but I'll experiment locally until it gets through at least a couple dozen epochs, plus some headroom, if it's not a ridiculous timeout that's required, to `kiln-dev-auth` .",
        "created_at": "2022-03-29T09:35:11.635000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "hm. it should be fine, actually, to make that timeout fairly big. this loop runs separately/freely from the rest of Nimbus, so it's just a question of throughput.",
        "created_at": "2022-03-29T09:37:52.890000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "thanks! It'd be great if you could test it on last weeks goerli-shadow-fork instead of kiln. afaik its more likely to hit edge cases on this compared to kiln.",
        "created_at": "2022-03-29T09:43:21.535000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "configs are at the usual location and you can use geth master(no need to rely on marius's fork anymore)",
        "created_at": "2022-03-29T09:43:34.864000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "alright",
        "created_at": "2022-03-29T09:54:28.089000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it's useful in a way, to finally have some data on what the correct number should be here. This is literally the first time it hasn't been basically arbitrary",
        "created_at": "2022-03-29T09:55:45.540000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!360491619402776577\u003e \u003c@!361447803194441738\u003e and \u003c@!491624610215886849\u003e might have a way to break the deadlock with the lack of proposers on the goerli shadow fork. I'll let them explain the idea üôÇ",
        "created_at": "2022-03-29T11:21:08.348000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "Is it possible to build a null payload on the CL side? I'm assuming if we have zero txs in the payload, then except the block_hash field, everything else in the ExecutionPayload object (state_root, receipts_root etc) can be same as the last valid payload. So if the assumption is right, we will have to just rlp encode the payload and hash it to get the block hash? please excuse my ignorance on how to generate the payload",
        "created_at": "2022-03-29T11:25:19.616000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "Do you want it to be valid? Then you also have to set BaseFee correctly. For an EL example see https://github.com/ledgerwatch/erigon/blob/devel/core/chain_makers.go#L399",
        "created_at": "2022-03-29T11:31:46.008000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I've been wandering about this. A bad execution is not slashable, so if the CL node is syncing without validating execution at all, it can risk attesting to every block as VALID and even propose valid empty execution blocks without being connected to the El. So untill proof of execution is included nodes can be quite selfish in this sense",
        "created_at": "2022-03-29T11:50:54.258000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I've upped the resources on teku-geth, it syncs up till like ~2 days ago and then I see some `DEBUG[03-29|12:13:37.559] Served engine_newPayloadV1               conn=127.0.0.1:42048      reqid=6620744 duration=1.22107ms` calls before geth crashes and starts re-syncing the past ~5 days again (presumably since last finalized epoch). cc \u003c@!360491619402776577\u003e",
        "created_at": "2022-03-29T12:15:51.693000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Any crash logs or a silent crash?",
        "created_at": "2022-03-29T12:26:34.642000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Faking blocks is a really bad idea imo. If the EL is not synced and can not verify if the state root etc is valid and attests to them, a big huge s-show is pre-programmed",
        "created_at": "2022-03-29T12:30:59.854000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Silent crash:\n```\nINFO [03-29|12:01:02.573] Imported new potential chain segment     blocks=1 txs=28  mgas=2.227  elapsed=10.595ms    mgasps=210.225  number=6,598,170 hash=bf1034..726b58 age=2d2h11m  dirty=255.55MiB\nDEBUG[03-29|12:01:02.573] Served engine_newPayloadV1               conn=127.0.0.1:47878      reqid=6620630 duration=28.722620126s\nINFO [03-29|12:01:02.585] Imported new potential chain segment     blocks=1 txs=28  mgas=2.227  elapsed=11.512ms    mgasps=193.478  number=6,598,170 hash=bf1034..726b58 age=2d2h11m  dirty=255.55MiB\nDEBUG[03-29|12:01:02.585] Served engine_newPayloadV1               conn=127.0.0.1:48252      reqid=6620632 duration=13.723013175s\nWARN [03-29|12:01:03.877] Ignoring already known beacon payload    number=6,598,170 hash=bf1034..726b58 age=2d2h11m\nDEBUG[03-29|12:01:03.877] Served engine_newPayloadV1               conn=127.0.0.1:48876      reqid=6620634 duration=2.622891ms\nDEBUG[03-29|12:01:05.661] Served eth_getBlockByNumber              conn=127.0.0.1:38860      reqid=6620637 duration=\"438.893¬µs\"\nDEBUG[03-29|12:01:05.842] Served net_version                       conn=5.101.66.189:36146   reqid=67      duration=\"107.758¬µs\"\nERROR[03-29|12:01:07.426] Snapshot extension registration failed   peer=3bd1fdc7 err=\"peer connected on snap without compatible eth support\"\nERROR[03-29|12:01:09.862] Snapshot extension registration failed   peer=3dce393b err=\"peer connected on snap without compatible eth support\"\nERROR[03-29|12:01:12.936] Snapshot extension registration failed   peer=60495a2e err=\"peer connected on snap without compatible eth support\"\n```",
        "created_at": "2022-03-29T12:31:58.500000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "I was suggesting building on the last valid (verified by EL) execution payload but i understand it's still iffy",
        "created_at": "2022-03-29T13:36:03.729000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!199561711278227457\u003e `kiln-dev-auth` updated in general, with a 3 second `newPayload` added, because that's at least enough for `kiln` to be apparently reliable paired with EthereumJS. Next, will try the shadow fork",
        "created_at": "2022-03-29T13:43:36.266000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "(also \u003c@!474451342094499868\u003e )",
        "created_at": "2022-03-29T13:43:47.281000+00:00",
        "attachments": null
    },
    {
        "author": "sma4321",
        "category": "Testing",
        "parent": "",
        "content": "is there use in a cross-client norm of a command line argument for changing the wait time? if hardcoding is a DoS vector on slower hardware or it makes this process happier for testers...",
        "created_at": "2022-03-29T13:56:59.575000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "Besu main branch has the fix for the previous issue found by merge-fuzz \u003c@!360491619402776577\u003e",
        "created_at": "2022-03-29T14:27:37.780000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "I got FuzzRandom to run against Besu, it was happy, same as you reported. Was not able to get FuzzDifferential to hit a geth/besu pair. It was hitting geth but not besu, still looking into why",
        "created_at": "2022-03-29T14:28:54.477000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "`ERROR [ CL ] Error verifying block while running: NotFoundError: Key not found in database [hÔøΩ.n]` in EthereumJS?",
        "created_at": "2022-03-29T14:32:52.809000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is that an internal error or reporting invalid API usage",
        "created_at": "2022-03-29T14:33:11.961000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "internal db error",
        "created_at": "2022-03-29T14:33:42.380000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "okay, well, I'm hitting that and it's started returning `INVALID` a lot, which means Nimbus gets stuck",
        "created_at": "2022-03-29T14:34:04.695000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "which slot",
        "created_at": "2022-03-29T14:34:22.459000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "kiln i am assuming",
        "created_at": "2022-03-29T14:34:33.254000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2022-03-29T14:34:36.188000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "moment, for slot",
        "created_at": "2022-03-29T14:34:39.033000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "```\n{\"lvl\":\"DBG\",\"ts\":\"2022-03-29 14:19:57.860+00:00\",\"msg\":\"newPayload: inserting block into execution engine\",\"parentHash\":\"6ab734e4\",\"blockHash\":\"b481fd7a\",\"stateRoot\":\"3fa4b542\",\"receiptsRoot\":\"ae1b7b64\",\"prevRandao\":\"96eb4f48\",\"blockNumber\":60209,\"gasLimit\":8000000,\"gasUsed\":126000,\"timestamp\":1647426060,\"extraDataLen\":0,\"baseFeePerGas\":{\"data\":{\"lo\":{\"lo\":7,\"hi\":0},\"hi\":{\"lo\":0,\"hi\":0}}},\"numTransactions\":6}\n{\"lvl\":\"INF\",\"ts\":\"2022-03-29 14:19:57.868+00:00\",\"msg\":\"runQueueProcessingLoop: execution payload invalid\",\"executionPayloadStatus\":1}\n```",
        "created_at": "2022-03-29T14:35:24.093000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "that's not the CL slot, that's only execution payload information",
        "created_at": "2022-03-29T14:35:37.472000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "should be near slot `{\"lvl\":\"DBG\",\"ts\":\"2022-03-29 14:19:57.857+00:00\",\"msg\":\"Block processed\",\"localHeadSlot\":34847,\"blockSlot\":34847,\"validationDur\":\"0ns\",\"queueDur\":\"82ms18us251ns\",\"storeBlockDur\":\"144ms41us237ns\",\"updateHeadDur\":\"12ms997us9ns\"}`",
        "created_at": "2022-03-29T14:36:48.612000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "did you happen to close ethereumjs with the nimbus running? sometimes ethereumjs's db gets corrupted that way",
        "created_at": "2022-03-29T14:36:57.261000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "(that one processed fine -- localHeadSlot == blockSlot)",
        "created_at": "2022-03-29T14:37:12.597000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "at one point yeah",
        "created_at": "2022-03-29T14:37:22.334000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "could you may be try running nimbus from a bit behind? if the error still persists then unfortunately you will need to resync ethereumjs to the merge point (and roll back nimbus to pre-merge as well because ethereumjs doesn't yet have optimistic sync)",
        "created_at": "2022-03-29T14:39:03.655000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "ahhh was wondering",
        "created_at": "2022-03-29T14:39:31.360000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "about opt sync",
        "created_at": "2022-03-29T14:39:34.545000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "because, e.g., with Geth, what happens a few epochs after it kicks in for Nimbus is that Geth has caught up and it reports, endlessly, that it already saw the execution payload",
        "created_at": "2022-03-29T14:40:08.048000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but this has been pure spoonfeeding AFAICT",
        "created_at": "2022-03-29T14:40:32.606000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and yeah I saved a copy slightly pre-merge of the Nimbus database, for this kind of reason",
        "created_at": "2022-03-29T14:41:09.956000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yea, spoonfeeding will be required for now, may be in a few weeks, the optimistic sync will be out",
        "created_at": "2022-03-29T14:41:27.231000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "also save copy of ethereumjs db pre-merge as well",
        "created_at": "2022-03-29T14:41:54.228000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "okay, so let it run sans Nimbus until it reports that it's stopped because it's hitting the merge point, save that, then get them going together again?",
        "created_at": "2022-03-29T14:42:29.014000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "right!!!",
        "created_at": "2022-03-29T14:42:38.955000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "alright will do",
        "created_at": "2022-03-29T14:42:44.627000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "cc \u003c@!263093996044156938\u003e",
        "created_at": "2022-03-29T15:01:07.239000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "a terminology question: isn't \"preMerge\" not really a specific hardfork in the EL (vs Berlin, London, etc)?",
        "created_at": "2022-03-29T15:13:38.316000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "`Imported blocks count=50 first=23051 last=23100 hash=b81c31db... baseFee=7 hardfork=preMerge peers=1`",
        "created_at": "2022-03-29T15:15:33.482000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "It depends on the network, for mainnet it should be `ArrowGlacier` (hopefully ‚Ñ¢Ô∏è ) while on others it will most likely be `London`",
        "created_at": "2022-03-29T15:15:59.624000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "right, but looking at EthereumJS terminology here -- its logs identify the pre-merge point as `hardfork=preMerge` and say `WARN CL client connection is needed, Merge HF happening soon`",
        "created_at": "2022-03-29T15:17:07.717000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "which confuses me.",
        "created_at": "2022-03-29T15:17:30.269000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yes this logging starts to happen way way before, `preMerge` corresponds with `mergeForkBlock` to signify that ethereumjs can be transitioned into PoS mode after TTD is reached",
        "created_at": "2022-03-29T15:20:49.227000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Oh thats unsafe",
        "created_at": "2022-03-29T15:21:34.194000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We don't know whether the `mergeForkBlock` will happen before or after the merge",
        "created_at": "2022-03-29T15:21:54.707000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "(Same issue why Besu didn't follow the shadow fork)",
        "created_at": "2022-03-29T15:22:13.968000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The `mergeForkBlock` should only be used for the forkid change, not for enabling any logic",
        "created_at": "2022-03-29T15:23:04.011000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i think what it currently signifies in ethereumjs is not the actual merge block transition, but when to activate the TTD rules for transition",
        "created_at": "2022-03-29T15:23:50.760000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes and that is incorrect",
        "created_at": "2022-03-29T15:24:24.900000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so post london the transition rules automatically kick in?",
        "created_at": "2022-03-29T15:26:30.761000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2022-03-29T15:26:43.844000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Well the rules kick in when ttd is hit, but the node has to be in a state where the rules can be activated~~ post london~~ at all times",
        "created_at": "2022-03-29T15:27:26.878000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "sorry activation is the right word! üëç",
        "created_at": "2022-03-29T15:27:44.204000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "if TTD or TBH is specified",
        "created_at": "2022-03-29T15:28:57.965000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2022-03-29T15:29:06.026000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "makes sense",
        "created_at": "2022-03-29T15:29:10.909000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "cc \u003c@!263093996044156938\u003e",
        "created_at": "2022-03-29T15:33:22.454000+00:00",
        "attachments": null
    },
    {
        "author": "r.alxz",
        "category": "Testing",
        "parent": "",
        "content": "We only functionally use it for forkid change, if ttd happens first I believe it should skip over it, but I can double check that (add a test for it in our suite). That might be good for hive too.",
        "created_at": "2022-03-29T15:40:03.752000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes that what we discussed yesterday too, Mario is already building a test for that",
        "created_at": "2022-03-29T15:41:09.251000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "reached \"INFO Caught interrupt signal. Shutting down...\" and pressed ctrl-C (SIGINT), without Nimbus running -- was that safe for the database?",
        "created_at": "2022-03-29T15:41:40.921000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2022-03-29T15:41:54.850000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "As long as you don't crtl-c 10 times in a row, geth shuts down peacefully",
        "created_at": "2022-03-29T15:42:33.373000+00:00",
        "attachments": null
    },
    {
        "author": "r.alxz",
        "category": "Testing",
        "parent": "",
        "content": "^ same with ethereumjs üôÇ after you see that message just wait everything should gracefully quit",
        "created_at": "2022-03-29T15:44:23.096000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "alright",
        "created_at": "2022-03-29T15:45:07.198000+00:00",
        "attachments": null
    },
    {
        "author": "r.alxz",
        "category": "Testing",
        "parent": "",
        "content": "If engine is executing super fast that is the one place we have seen db gets corrupted, have to work on that, so there probably best to first close down the consensus client first so the engine messages stop before stopping execution. It‚Äôs something on our list to look into and improve, more safety shutting down while in the middle of engine requests.",
        "created_at": "2022-03-29T15:47:59.260000+00:00",
        "attachments": null
    },
    {
        "author": "seamonkey82",
        "category": "Testing",
        "parent": "",
        "content": "Looping between 36895 and 36959 in nimbus.  ethereumjs says\n```\n[03-29|17:05:47] ERROR [ CL ] Error verifying block while running: Error: could not find parent header (block header number=62107 hash=0x695b6d21976a797ce5c8c9c3acd37fe81c85ef17c143c0975e02464b3af7d488 hf=merge baseFeePerGas=1021737829)\n```\nThis is the same spot where lighthouse was getting stuck, but after updating both lighthouse and ethereumjs, it is now fully synced.",
        "created_at": "2022-03-29T21:09:48.071000+00:00",
        "attachments": null
    },
    {
        "author": "seamonkey82",
        "category": "Testing",
        "parent": "",
        "content": "It appears the only changes to lighthouse were increasing `ENGINE_NEW_PAYLOAD_TIMEOUT` from 2 seconds to 6 seconds and `ENGINE_FORKCHOICE_UPDATED_TIMEOUT` from 500 milliseconds to 6 seconds.",
        "created_at": "2022-03-29T21:19:23.984000+00:00",
        "attachments": null
    },
    {
        "author": "seamonkey82",
        "category": "Testing",
        "parent": "",
        "content": "I manually edited blockhain_dag.nim, increased the timeout from 3s to 6s, and rebuilt.  Sync is now progressing.",
        "created_at": "2022-03-29T22:57:17.946000+00:00",
        "attachments": null
    }
]