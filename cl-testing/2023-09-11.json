[
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Hey EL devs, I'm having different issues with a hive test that corrupts the versioned hashes and expects an invalidity response.\n\nI'm having various responses and different fails from each client, but basically the test is based off a template test where we invalidate one payload, e.g. by modifying the state root, then we force syncing by setting the head to a parent of the invalid payload.\n\nThis works for any other field because the client syncs and detects the issue, but for the versioned hashes, this doesn't work because the versioned hashes list that the CL provided is only sent on the NewPayload directive, but not kept on chain (afaik).\n\nIt seems to me that this is an spec issue, but wanted to bring it up to hear other opinions.\n\nIf you want to run the test please use https://github.com/marioevz/hive/tree/refactor-legacy-engine-api-tests branch and run:\n```bash\n./hive --client-file ./configs/cancun.yaml --client \u003cgo-ethereum/ethereumjs/any client\u003e --sim ethereum/engine --sim.limit \"engine-cancun/Invalid VersionedHashes NewPayload\"\n```\n\u003c@543900561460822016\u003e \u003c@508125616940515329\u003e \u003c@758579010027782144\u003e \u003c@583892532644151312\u003e \u003c@827653956955406406\u003e",
        "created_at": "2023-09-11T16:31:02.593000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "By Versioned Hashes I mean `expectedBlobVersionedHashes` in here: https://github.com/ethereum/execution-apis/blob/main/src/engine/cancun.md#request",
        "created_at": "2023-09-11T16:37:16.470000+00:00",
        "attachments": []
    }
]