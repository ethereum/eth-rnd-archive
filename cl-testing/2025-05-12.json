[
    {
        "author": "prestonvanloon",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@592004585506340885\u003e did the spectest data change since it was first uploaded? https://github.com/ethereum/consensus-spec-tests/releases/tag/v1.5.0\n\nI am seeing these downloaded with different hashes than when we updated it https://github.com/OffchainLabs/prysm/pull/15256",
        "created_at": "2025-05-12T19:55:22.574000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "(yes, yes they did)",
        "created_at": "2025-05-12T20:10:39.301000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "(I'm not \u003c@592004585506340885\u003e )",
        "created_at": "2025-05-12T20:10:45.648000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "Testing",
        "parent": "",
        "content": "can anyone explain why? we have strict dependencies and this is very unusual to switch the release assets after they are published",
        "created_at": "2025-05-12T20:18:53.333000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Well, first, Nimbus ran into similar issues; I adjusted all the tests for the quirks of the first version, then the second version changed this, but there was a race condition of sorts where I tested the branch with version 1, while by the time I got it running in CI, at least some CIs used version 2, leading to glitches: https://github.com/status-im/nimbus-eth2/pull/7141\n\nThe reason for this was that I pointed out an abundance of novel, empty `participation_record_updates` and `historical_roots_update` directories where they shouldn't have been. Nimbus's test harnesses/runners/fixtures notice every time directories appear/disappear here and definitely noticed this",
        "created_at": "2025-05-12T20:37:27.493000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Historically at least, our CI system, which caches this, ends up with sometimes inconsistent caches when the file changes like this",
        "created_at": "2025-05-12T20:38:58.161000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "Testing",
        "parent": "",
        "content": "how can v1.5.0 produce different things? Shouldn't a change to test outputs be followed by a version bump?",
        "created_at": "2025-05-12T20:44:18.097000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "the actual test outputs weren't different, only some empty directories (well, with empty `pyspec_tests` subdirectories) differed, beyond that in terms of how that gets packaged into a tarball is a question for \u003c@592004585506340885\u003e",
        "created_at": "2025-05-12T20:46:04.477000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "Testing",
        "parent": "",
        "content": "yes i believe you there, but the sha of the assets have changed so something is changed and that breaks our strict dependency checks. I don't have a copy of the tar before so im not sure what is different and why",
        "created_at": "2025-05-12T20:54:14.833000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@399309815517544451\u003e Yes, this is correct. In the original release files, there were some empty test directories. Normally we delete these prior to packaging, but I (incorrectly) thought the automatically generated files did this. To fix this, I simply downloaded the original release files, unpackaged them, deleted the empty directories, repackaged the release files, and re-uploaded them. I would expect the hash to be different. Sorry for the confusion.",
        "created_at": "2025-05-12T21:15:20.181000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "I'm going to make some improvements to the generator runners. I don't expect this to be a problem next time.",
        "created_at": "2025-05-12T21:18:24.554000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "Testing",
        "parent": "",
        "content": "Ok sounds good, we'll update it on our side too thanks",
        "created_at": "2025-05-12T23:12:35.466000+00:00",
        "attachments": null
    }
]