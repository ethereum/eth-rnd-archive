[
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "If I leave off from https://github.com/ethereum/consensus-specs/blob/v1.5.0-alpha.6/specs/electra/beacon-chain.md#modified-process_operations the last two lines:\n```python\n    for_ops(body.execution_requests.withdrawals, process_withdrawal_request)  # [New in Electra:EIP7002:EIP7251]\n    for_ops(body.execution_requests.consolidations, process_consolidation_request)  # [New in Electra:EIP7251]\n```\nall the EF consensus spec `alpha.6` tests Nimbus runs pass. Are there tests which are supposed to detect this?\n\nFor reference, the specific diff:\n```nim\ndiff --git a/beacon_chain/spec/state_transition_block.nim b/beacon_chain/spec/state_transition_block.nim\nindex e54481767..e7efaea3f 100644\n--- a/beacon_chain/spec/state_transition_block.nim\n+++ b/beacon_chain/spec/state_transition_block.nim\n@@ -722,12 +722,6 @@ proc process_operations(\n   when typeof(body).kind \u003e= ConsensusFork.Electra:\n     for op in body.execution_requests.deposits:\n       ? process_deposit_request(cfg, state, bsv[], op, {})\n-    for op in body.execution_requests.withdrawals:\n-      # [New in Electra:EIP7002:7251]\n-      process_withdrawal_request(cfg, state, bsv[], op, cache)\n-    for op in body.execution_requests.consolidations:\n-      # [New in Electra:EIP7251]\n-      process_consolidation_request(cfg, state, bsv[], op, cache)\n \n   ok(operations_rewards)\n ```",
        "created_at": "2024-09-22T08:45:52.436000+00:00",
        "attachments": []
    }
]