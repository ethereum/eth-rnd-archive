[
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "```\n{\"lvl\":\"DBG\",\"ts\":\"2022-06-23 06:30:26.507+00:00\",\"msg\":\"newPayload: inserting block into execution engine\",\"parentHash\":\"882270bc\",\"blockHash\":\"0c1be6a8\",\"stateRoot\":\"b24094e5\",\"receiptsRoot\":\"81c59f89\",\"prevRandao\":\"ddae07af\",\"blockNumber\":12450598,\"gasLimit\":29970705,\"gasUsed\":960635,\"timestamp\":1655962044,\"extraDataLen\":0,\"baseFeePerGas\":{\"data\":{\"lo\":{\"lo\":156869457146,\"hi\":0},\"hi\":{\"lo\":0,\"hi\":0}}},\"numTransactions\":9}\n{\"lvl\":\"DBG\",\"ts\":\"2022-06-23 06:30:26.514+00:00\",\"msg\":\"runForkChoiceUpdated: running forkchoiceUpdated\",\"headBlockRoot\":\"0c1be6a8\",\"finalizedBlockRoot\":\"560d423d\",\"payloadStatus\":\"VALID\",\"latestValidHash\":\"Some(0x0c1be6a80762217d8232560a01f24b59f91ed8733234f491530275b009eff588)\",\"validationError\":\"None[TaintedString]\"}\n{\"lvl\":\"DBG\",\"ts\":\"2022-06-23 06:30:26.517+00:00\",\"msg\":\"newPayload: inserting block into execution engine\",\"parentHash\":\"0c1be6a8\",\"blockHash\":\"ec8ff7b6\",\"stateRoot\":\"8b862cd5\",\"receiptsRoot\":\"8be8b35e\",\"prevRandao\":\"777108cf\",\"blockNumber\":12450599,\"gasLimit\":29999972,\"gasUsed\":23914614,\"timestamp\":1655962068,\"extraDataLen\":0,\"baseFeePerGas\":{\"data\":{\"lo\":{\"lo\":138517788277,\"hi\":0},\"hi\":{\"lo\":0,\"hi\":0}}},\"numTransactions\":7}\n{\"lvl\":\"DBG\",\"ts\":\"2022-06-23 06:30:26.523+00:00\",\"msg\":\"runForkChoiceUpdated: running forkchoiceUpdated\",\"headBlockRoot\":\"ec8ff7b6\",\"finalizedBlockRoot\":\"560d423d\",\"payloadStatus\":\"SYNCING\",\"latestValidHash\":\"None[BlockHash]\",\"validationError\":\"None[TaintedString]\"}\n```\nblock `0c1be6a8` (https://ropsten.etherscan.io/block/12450598) is `VALID`, but 3 milliseconds later, descendent block `ec8ff7b6` (https://ropsten.etherscan.io/block/12450599) is not?",
        "created_at": "2022-06-23T06:35:37.566000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "\u003e 5. The process of validating a payload on the canonical chain **MUST NOT** be affected by an active sync process on a side branch of the block tree. For example, if side branch `B` is `SYNCING` but the requisite data for validating a payload from canonical branch `A` is available, client software **MUST** run full validation of the payload and respond accordingly.",
        "created_at": "2022-06-23T06:38:24.458000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "(Still \"Error: chain not synced beyond EIP-155 replay-protection fork block\" too. Not sure just how synced this chain is supposed to be before that works.)",
        "created_at": "2022-06-23T06:42:02.836000+00:00",
        "attachments": null
    },
    {
        "author": "barabazs",
        "category": "Testing",
        "parent": "",
        "content": "~~Where can those NFT/POAP be claimed? I performed some of the steps (before the snapshot), but I haven't found info on what to do next. (sorry if this is off topic)~~",
        "created_at": "2022-06-23T07:45:03.420000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Testing",
        "parent": "",
        "content": "Completely off topic for this server. Please come to ethstaker Discord instead for that.",
        "created_at": "2022-06-23T08:17:26.612000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "what was the response to `newPayload(ec8ff7b6)`?",
        "created_at": "2022-06-23T09:31:50.358000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "`ACCEPTED`",
        "created_at": "2022-06-23T09:33:47.138000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Do you have the logs for geth at that time?\nWhenever we return ACCEPTED we log the reason for it. It's either\n`Ignoring payload with missing parent` or\n`State not available, ignoring new payload`",
        "created_at": "2022-06-23T09:37:51.731000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "`State not available, ignoring new payload` is the one I've been seeing. Don't have ready access to logs for that one, but this is happening regularly",
        "created_at": "2022-06-23T09:38:44.963000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "That means that the node is not synced yet",
        "created_at": "2022-06-23T09:39:12.564000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "And we don't have the state for the block",
        "created_at": "2022-06-23T09:39:21.897000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "But it returned `VALID` to fcU on its parent?",
        "created_at": "2022-06-23T09:39:26.087000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Does it log `Ignoring beacon update to old head`?",
        "created_at": "2022-06-23T09:40:34.159000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Which version are you using?",
        "created_at": "2022-06-23T09:40:44.408000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We recently changed the logic there a bit",
        "created_at": "2022-06-23T09:40:55.031000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Yeah",
        "created_at": "2022-06-23T09:41:23.717000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "```\ncommit 01e5e9c2c3fa1cf7a9747148dca22d59ff9839b6\nAuthor: Martin Holst Swende \u003cmartin@swende.se\u003e\nDate:   Fri Jun 17 00:44:30 2022 +0200\n```",
        "created_at": "2022-06-23T09:41:59.046000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We return VALID for these blocks, even if we don't have the state for them, since they are part of our canonical chain",
        "created_at": "2022-06-23T09:42:29.773000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We verified them before at some point",
        "created_at": "2022-06-23T09:42:42.070000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "The block this is occurring on is the head on Nimbus's side though. It's possible Geth has been getting more recent blocks elsewhere?",
        "created_at": "2022-06-23T09:44:08.682000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Hmm not really, it's weird",
        "created_at": "2022-06-23T09:44:31.193000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "So this isn't some reorg exposing a block that Geth would have had state at some point for",
        "created_at": "2022-06-23T09:44:32.702000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "That's an interesting edge case",
        "created_at": "2022-06-23T09:44:57.118000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "another example",
        "created_at": "2022-06-23T09:45:20.742000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "example.txt",
                "content": "17151401bf17a5531ed9b29e75836dfd8aa953a06ba5fe6b4092a228d8f3d00b"
            }
        ]
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@402853454126776320\u003e Maybe you have some idea about this^ Looks really weird to me",
        "created_at": "2022-06-23T09:46:29.135000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "`2ff2145a` is the `VALID` block (both `newPayload` and `forkchoiceUpdated`) and its child `05439091` does the same thing here. `\"executionPayloadStatus\":3,` is internal representation of `ACCEPTED` (enum value)",
        "created_at": "2022-06-23T09:47:28.449000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://ropsten.etherscan.io/block/12451206 is `05439091` and https://ropsten.etherscan.io/block/12451205 is `2ff2145a`",
        "created_at": "2022-06-23T09:48:56.776000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "This could happen when a block that you insert is from a side chain with unavailable pre-state, or could be a bug",
        "created_at": "2022-06-23T09:54:31.391000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "not a sidechain, see above",
        "created_at": "2022-06-23T09:54:41.332000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and from a local Geth perspective, literally milliseconds before, the parent in each of these cases has been deemed (a) `VALID` and (b) the fcU head, so not a sidechain either",
        "created_at": "2022-06-23T09:57:06.225000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "Hive tests all run docker containers, right?",
        "created_at": "2022-06-23T19:36:20.134000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes",
        "created_at": "2022-06-23T19:55:01.397000+00:00",
        "attachments": null
    }
]