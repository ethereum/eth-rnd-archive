[
    {
        "author": "gwintery",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hi, is this still the most updated document to follow for milestones?",
        "created_at": "2022-03-02T02:59:01.249000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For Kiln it is. We don't have any other trackers and I can see teams have started to fill into Kiln v2 milestone - which is pretty much aligned with the progress. There was already a devnet with Kiln v1 spec, and ~~v2~~ launch of a devnet with partial v2 implementations is scheduled this week. So, I'd expect M3 to be accomplished soon",
        "created_at": "2022-03-02T09:17:14.883000+00:00",
        "attachments": null
    },
    {
        "author": "johnydony",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is it better running CL \u0026 EL clients based on the Kintsugi testnet? or Klin testnet? \nWhich one can be better?",
        "created_at": "2022-03-02T09:22:22.878000+00:00",
        "attachments": null
    },
    {
        "author": "johnydony",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I have seen that official config for Klin wasn't published yet.",
        "created_at": "2022-03-02T09:23:27.934000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Kiln persistent testnet isn't yet launched. AFAICS, Kintsugi testnet is alive and you better use Kintsugi if you want to test your app or infra until we have Kiln testnet up and running. Double checking with \u003c@!199561711278227457\u003e",
        "created_at": "2022-03-02T09:28:12.762000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yup. Current recommendation is to continue using Kintsugi testnets. We should have Kiln configs next week.",
        "created_at": "2022-03-02T09:31:35.673000+00:00",
        "attachments": null
    },
    {
        "author": "johnydony",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!199561711278227457\u003e Thank you so much.",
        "created_at": "2022-03-02T09:39:33.693000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I have an issue with optimistic sync regarding duties, the spec says for an optimistic node:\n\u003e It cannot faithfully attest to the head block of the chain, since it has not fully verified that block.\nBut a block can become VALID while the head is still SYNCING, and the validator can faithfully attest, he won't get timely_head, but sitll can get an attestation included.",
        "created_at": "2022-03-02T15:46:03.589000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I suggest we change this to allow validators attest for valid blocks",
        "created_at": "2022-03-02T15:58:03.061000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Even if they know it's not the head",
        "created_at": "2022-03-02T15:58:15.565000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What is the trigger for a validator client to know that the merge has taken place?\n\nFor Altair it was a simple case of waiting for a fixed epoch.  For the merge, are beacon nodes watching the execution chain for total difficulty?  And once a beacon node sees that it is taking over block production, how does it indicate this to the validator client (ether push or pull).",
        "created_at": "2022-03-02T20:03:07.249000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There are different validation levels for a block depending what you may be looking for, a good one is `block.execution_payload != {}`",
        "created_at": "2022-03-02T20:16:29.801000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah but you mean the client, not the beacon",
        "created_at": "2022-03-02T20:17:05.889000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Why does the client need to know?",
        "created_at": "2022-03-02T20:17:39.463000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "When to send `prepare_beacon_proposer` (possibly; haven't checked the clients but they may accept tihs in advance of the merge) and requesting blinded blocks rather than blocks for the proposer.\n\nIn general, it will help the validator client if it knows when the merge happens.",
        "created_at": "2022-03-02T20:45:18.294000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You should send `prepare_beacon_proposer` starting from the activation epoch of the bellatrix milestone.  It doesn't matter when the terminal PoW block is found, the beacon chain will have already enabled Bellatrix by that point and `prepare_beacon_proposer` should be accepted. Teku will accept it anytime, but it's \"officially\" part of the Bellatrix milestone.",
        "created_at": "2022-03-02T21:19:49.406000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think teku's VC starts sending it immediately if Bellatrix is configured to activate in the spec even if the activation epoch is still in the future but I could be wrong on that.",
        "created_at": "2022-03-02T21:20:31.051000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That would be easy for `prepare_beacon_proposer`.  For fetching block proposals, I don't think the spec handles blinded blocks for Altair so any idea how the validator client can know when the merge has happened?\n\n(It would be possible to do something a bit hacky like request the head block on validator client startup and see if it's a bellatrix block, but that doesn't help for knowing when the transition occurs.)",
        "created_at": "2022-03-02T22:11:33.038000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I would again expect that you can get a blinded proposal anytime after Bellatrix activates even if the merge transition block hasn't happened yet.",
        "created_at": "2022-03-02T22:21:26.670000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Remember that Bellatrix enables at a fixed epoch and then at some point after that, based on total difficulty, we start including \"real\" execution payloads instead of the default zero ones.",
        "created_at": "2022-03-02T22:21:53.345000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Interesting.  So if a block is proposed after the bellatrix fork epoch but before the transition will it have an execution payload (even though that the execution chain will pay no attention to it)?",
        "created_at": "2022-03-02T22:35:57.026000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Correct - it will have the default execution payload (hash tree root of all 0) and the CL will not bother sending it to the EL.",
        "created_at": "2022-03-02T22:39:21.597000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So I should be able to treat it in exactly the same way as the altair fork, in that the new behavior is only based on the bellatrix fork epoch and nothing to do with total difficulty (as far as the validator client is concerned, anyway).  That makes life easier; thanks.",
        "created_at": "2022-03-02T22:55:40.167000+00:00",
        "attachments": null
    }
]