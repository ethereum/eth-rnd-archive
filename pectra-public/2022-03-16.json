[
    {
        "author": "seamonkey82",
        "category": "general",
        "parent": "",
        "content": "Noticed this nearby.\n```\n2022-03-15 11:21:00.138-04:00 | EthScheduler-Workers-2 | ERROR | MainnetBlockValidator | Block body not valid. Block 55127 (0x31865bfac07515ec5fb076709b472dbba6633049d7be032909e13b91ef600136)\n2022-03-15 11:21:00.138-04:00 | EthScheduler-Workers-2 | WARN  | BlockPropagationManager | Failed to import announced block 55127 (0x31865bfac07515ec5fb076709b472dbba6633049d7be032909e13b91ef600136)\n2022-03-15 11:21:19.683-04:00 | vert.x-eventloop-thread-1 | ERROR | RoutingContext | Unhandled exception in router\n2022-03-15 11:22:19.671-04:00 | vert.x-eventloop-thread-1 | ERROR | RoutingContext | Unhandled exception in router\n2022-03-15 11:23:19.672-04:00 | vert.x-eventloop-thread-1 | ERROR | RoutingContext | Unhandled exception in router\n```",
        "created_at": "2022-03-16T00:54:49.105000+00:00",
        "attachments": null
    },
    {
        "author": "seamonkey82",
        "category": "general",
        "parent": "",
        "content": "All of my besu instances are failing to sync now.",
        "created_at": "2022-03-16T00:58:19.062000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "anyone can help me with the validator status for `0xac12e84c197833bf6819e502bba35d5248bc87b49cd6a4991c586b6568ffd4146ea5d34046244c7aa4c2aaf6d1bc254f` ?",
        "created_at": "2022-03-16T08:47:12.513000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "the explorer seems to be down",
        "created_at": "2022-03-16T08:47:24.834000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "it looks like we fixed the issue in Erigon, looking at that",
        "created_at": "2022-03-16T08:48:30.073000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "```\n$ ethdo validator info --pubkey=0xac12e84c197833bf6819e502bba35d5248bc87b49cd6a4991c586b6568ffd4146ea5d34046244c7aa4c2aaf6d1bc254f \nStatus: Pending_queued\nBalance: 32 Ether\n```",
        "created_at": "2022-03-16T08:49:24.662000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "ah, TIL of this ethdo command! thanks",
        "created_at": "2022-03-16T08:50:18.816000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "good, so it looks like we fixed the issue before it got slashed",
        "created_at": "2022-03-16T08:50:36.778000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "block numbers and hashes from geth and erigon match!",
        "created_at": "2022-03-16T08:50:56.439000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "general",
        "parent": "",
        "content": "hmm, transaction explorer seems to have a problem, too...\ntoken counters are wrong and the startpage always loads with 55156 as latest block which was 19h ago (it's then updated, so doesn't really matter)",
        "created_at": "2022-03-16T09:00:34.361000+00:00",
        "attachments": null
    },
    {
        "author": "kraftverk_",
        "category": "general",
        "parent": "",
        "content": "\"FailedToInsertEth1Block\"  error that was present in lighthouse yesterday seems to be gone now. No errors at all this morning what i can see. Is there a  post-mortem for the events yesterday anywhere yet?",
        "created_at": "2022-03-16T09:18:55.777000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "That log is because the PoW chain re-orged deeper than the ETH1_FOLLOW_DISTANCE. That‚Äôs because Kiln had a really unstable PoW network (one GPU miner was a superpower) and a very short follow distance (16 blocks rather than 2048 on mainnet). Re-orgs of such a depth aren‚Äôt supported by the protocol, we need social consensus to resolve them. \n\nIt‚Äôs not a bug IMO, it‚Äôs an artifact of the test environment (Kiln). It would be great if we could test on something exactly like mainnet, but unfortunately that‚Äôs much easier said than done.",
        "created_at": "2022-03-16T09:33:54.443000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "We can test that via shadow forking on mainnet",
        "created_at": "2022-03-16T09:35:56.558000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "I do wonder if we should be using the mainnet follow distance for these testnets.\n\nAlthough I don‚Äôt think it would make make a difference for Lighthouse, if we‚Äôre going to be merging with the ‚ÄúEth1‚Äù chain then it does seem like we should be using eth1 params as close as possible to mainnet.\n\nI assume the follow distance was dropped in prior testnets for UX reasons (e.g., faster deposits). I wonder if these benefits are really worth the deviance from mainnet specs.",
        "created_at": "2022-03-16T09:41:15.688000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Yea that's fair. I can switch back to the mainnet follow distance for the next devnets, the main idea to have it low was for UX üòÉ but the hashrate on these testnets is waaay more than the non-public devnets.",
        "created_at": "2022-03-16T09:44:44.467000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "should be fixed now üôÇ",
        "created_at": "2022-03-16T09:44:50.480000+00:00",
        "attachments": null
    },
    {
        "author": "terra854",
        "category": "general",
        "parent": "",
        "content": "Is there any documentation on how are we going to execute the merge when it happens?",
        "created_at": "2022-03-16T09:46:23.164000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "https://beaconchain.kiln.themerge.dev/blocks back from its 503 vacation but with 4-day-old blocks?",
        "created_at": "2022-03-16T09:46:43.978000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Yea üò¶\nWe messed up the explorer db so we gotta re-sync it with the possible fix.",
        "created_at": "2022-03-16T09:47:30.545000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "But now we're syncing two, so if one breaks we can test a fix on the otherüòÖ",
        "created_at": "2022-03-16T09:47:45.130000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "We're not expecting more testnets to be launched before we start merging on existing ones, right? And I am in a strong favour of using mainnet parameters for existing testnets.",
        "created_at": "2022-03-16T09:52:59.958000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Yea we currently aren't expecting any more public testnets. But we'd for sure have some more private devnet style ones. \n\nWould changing the parameters matter now? We're past the PoW phase and shouldn't see such deep re-orgs right?",
        "created_at": "2022-03-16T09:54:35.239000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "hopefully there can be more devnets (2 every month?) ü§î merge transition needs to be battle tested imho",
        "created_at": "2022-03-16T09:57:32.533000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "If there is no consensus breaks on Kiln inducing long forks then it doesn't matter now üòÖ  \u003c@!361447803194441738\u003e is this possible for Eth1Data poll to stuck in a limbo or will it self-heal if a switch from one fork to another happens and these forks has different number of deposits in the contract?",
        "created_at": "2022-03-16T10:02:11.785000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Yeah, devnets are definitely needed. But for them we should use mainnet parameters as well. The follow distance affects the speed of inducing new validators, if devnets are private with pre-launch validator distribution then this property doesn't matter that much I guess",
        "created_at": "2022-03-16T10:03:59.606000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "üëãüèª is there a bounty programme for the merge?",
        "created_at": "2022-03-16T10:17:59.177000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "(link pls?)",
        "created_at": "2022-03-16T10:18:17.913000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "It‚Äôs been a while, but I believe LH will self heal if the fork is resolved (ie we switch back to the original fork) or once the cache gets sufficient old. I‚Äôm not certain about the latter, but I‚Äôll check.\n\nEither way the ‚Äîpurge-eth1-cache flag will always solve it manually.\n\nIf validators manage to vote in a conflicting Eth1 data to the beacon state there will be liveness failure at the protocol level.",
        "created_at": "2022-03-16T10:22:29.269000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Yeah, I am wondering about the latter. In the post-Merge world  this should not happen as if jump from one fork to another happens the voting result from the previous fork will be reverted, and the new one will take precedence",
        "created_at": "2022-03-16T10:29:34.845000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "It seems likely that what you described will happen, but it‚Äôs not guaranteed. There are no checks in state transition to ensure eth1_data is consistent with exec payloads.\n\nPresently LH ‚Äúeth1 voting‚Äù is a separate system to the new execution payload functionally. There‚Äôs nothing ensuring they have a 1:1 mapping, although it‚Äôs very likely they will be 1:1 in practice. \n\nI will think about what it would take to ensure that 1:1 mapping.",
        "created_at": "2022-03-16T10:42:48.111000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "I think the current Eth1 voting scheme looks pretty ugly in a post-merge world.",
        "created_at": "2022-03-16T10:43:50.713000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "We have two sources of truth for the execution chain. I‚Äôm sure this isn‚Äôt news to anyone, though.",
        "created_at": "2022-03-16T10:44:31.968000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "My gut is that it's gonna be 1:1 post-Merge as you vote for a canonical chain and you build blocks including Eth1Data on the canonical chain as well. So, likely 1:1, tho edge cases are possible",
        "created_at": "2022-03-16T10:44:35.392000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Yeah, you actually set the head, and then query if the head has been changed to incorporate the head into proposer voting in a separate process",
        "created_at": "2022-03-16T10:45:52.400000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "Clients may want to ensure that the same RPC is used for payloads and Eth1 voting.\n\nIf users happen to make a mistake and use Infura for Eth1 and local EE for payloads then we have a risk of two conflicting sources of truth. Very small risk IMO, but something to consider.",
        "created_at": "2022-03-16T10:49:24.576000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "I think that CL clients should use an EE url provided by the user for communicating with EL and supporting a legacy poll process to avoid such a conflict",
        "created_at": "2022-03-16T10:50:56.602000+00:00",
        "attachments": null
    },
    {
        "author": "kraftverk_",
        "category": "general",
        "parent": "",
        "content": "thanks for the detailed answer!",
        "created_at": "2022-03-16T12:04:41.720000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "mkay, now my geth+teku node is behind",
        "created_at": "2022-03-16T12:50:06.427000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "what is the canonical hash for 60252 / 0x12b34dcdf9e7640e6d264d96d996d6587f17f3b58dfa602d4f5c5e720dfbd68a",
        "created_at": "2022-03-16T12:50:26.132000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "is that correct?",
        "created_at": "2022-03-16T12:50:30.793000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "for Erigon is\n\n60897 / 0x80ee20ff3eec1c191f3c7f7930748cfe205e491173f832fe1f55fc4624b74be8",
        "created_at": "2022-03-16T12:50:49.159000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "And geth seems to be stuck",
        "created_at": "2022-03-16T12:51:14.870000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Those look correct according to my (geth) node",
        "created_at": "2022-03-16T12:52:11.728000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "okay, my geth is stuck",
        "created_at": "2022-03-16T12:52:30.612000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "at 60252",
        "created_at": "2022-03-16T12:52:38.702000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "nevermind, it is me being stupid and tmux being stuck",
        "created_at": "2022-03-16T12:53:12.796000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "they are both at the same block + hash",
        "created_at": "2022-03-16T12:53:21.165000+00:00",
        "attachments": null
    },
    {
        "author": "jlokier",
        "category": "general",
        "parent": "",
        "content": "\u003e  do wonder if we should be using the mainnet follow distance for these testnets.\n\nI think the low follow distance has made this Kiln merge more of a valuable test.  It's one of the advantages of using weaker parameters in test environments.  In this case it looks like one GPU miner caused unexpected harm, but seeing unexpected things happen is a benefit of the testnet being public.\n\nOn Mainnet it seems not entirely outrageous to imagine a mining/staking consortium deciding to throw every rig they have (with the ASICs about to become redundant) at destabilising the PoS merge. Even if there was only a bump that was self-healing, it might provide a financial advantage to the organised during the bump and recovery phase.",
        "created_at": "2022-03-16T13:12:43.223000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "anyone knows on Kiln, how often one can expect to produce a block?",
        "created_at": "2022-03-16T14:07:34.132000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "it was every 40-something days on the mainnet afaik",
        "created_at": "2022-03-16T14:07:44.444000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "there is one of the places where I expect issues in Erigon",
        "created_at": "2022-03-16T14:09:49.388000+00:00",
        "attachments": null
    },
    {
        "author": "ryg9705",
        "category": "general",
        "parent": "",
        "content": "Considering the number of validators is 1/3 that of mainnet it should be 3x more likely.",
        "created_at": "2022-03-16T14:10:43.548000+00:00",
        "attachments": null
    },
    {
        "author": "ryg9705",
        "category": "general",
        "parent": "",
        "content": "Of course depending on how many validators you own",
        "created_at": "2022-03-16T14:10:56.665000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "so 2 weeks-ish",
        "created_at": "2022-03-16T14:10:56.770000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "per validator",
        "created_at": "2022-03-16T14:11:00.967000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "It‚Äôs possible that large amounts of rigs will be going on/off frequently not just because of the merge (as people will be switching to other coins so they don‚Äôt stop mining suddenly) but also because internet/mining/electricity  is unstable where large amounts of hashrate are: Texas, Kazakhstan, Russia, China, etc.",
        "created_at": "2022-03-16T14:11:36.132000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "```\n$ ethdo validator expectation\nExpected time between block proposals: 2 weeks 18 hours\nExpected time between sync committees: 33 weeks 4 days\n```",
        "created_at": "2022-03-16T14:11:55.990000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "so cool!",
        "created_at": "2022-03-16T14:12:51.500000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "If I have to work something out more than once it usually gets dumped in to an `ethdo` command, so there is all sorts in there.  Main problem is knowing they exist!",
        "created_at": "2022-03-16T14:14:12.852000+00:00",
        "attachments": null
    },
    {
        "author": "mandrigin",
        "category": "general",
        "parent": "",
        "content": "then there is a list of attestations with statuses for a validator too?",
        "created_at": "2022-03-16T14:14:47.074000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "```\n$ ethdo attester inclusion --index=12345 --verbose\nAttestation included in block 36007, index 9\nInclusion delay: 1\nHead correct: ‚úì\nHead timely: ‚úì\nSource timely: ‚úì\nTarget correct: ‚úì\nTarget timely: ‚úì\n```\n\n(with `--epoch` flag for different epochs)",
        "created_at": "2022-03-16T14:17:13.078000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "There is a chunk of information about various commands at https://github.com/wealdtech/ethdo/blob/master/docs/usage.md",
        "created_at": "2022-03-16T14:17:37.877000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "general",
        "parent": "",
        "content": "I'm looking into this. Does anyone know what spec I'm looking for to find how an EL and CL interact if the EL is still `SYNCING` when TTD hits?",
        "created_at": "2022-03-16T15:22:06.445000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "It should follow the optimistic sync spec and the sync process should proceed. CL should keep sending `newPayload` message to EL and the sync process should converge at some point after the merge. https://github.com/ethereum/consensus-specs/blob/dev/sync/optimistic.md",
        "created_at": "2022-03-16T15:35:33.220000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "I started a second teku/besu pair and it seems to be progressing past there now (just passed block 57000). FWIW the first pair had both processes up and running a couple days before the merge block, AFAIK the besu EL was following the head as expected up until then.",
        "created_at": "2022-03-16T17:22:51.666000+00:00",
        "attachments": null
    },
    {
        "author": "kraftverk_",
        "category": "general",
        "parent": "",
        "content": "Lost a lot of peers today. No idea why but started getting errors of insufficient peers. Down to 10-20 peers. I am behind NAT without FW so that might be the cause but it hasnt been an issue until latest hours. Set it to 100 and it seems to be finding new ones without issues now",
        "created_at": "2022-03-16T17:44:45.718000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "general",
        "parent": "",
        "content": "did you update besu at all for this second pair? we released 22.1.2 14 hours ago.",
        "created_at": "2022-03-16T19:49:53.977000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "general",
        "parent": "",
        "content": "besu-teku stall at TTD+1",
        "created_at": "2022-03-16T20:00:13.867000+00:00",
        "attachments": null
    }
]