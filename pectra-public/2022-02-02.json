[
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@\u0026595685821026271242\u003e ^",
        "created_at": "2022-02-02T08:11:47.981000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Proposal to add `engine_getTransitionConfiguration` allowing for heartbeat and surfacing to a user misconfiguration issues between CL and EL: https://github.com/ethereum/execution-apis/pull/172",
        "created_at": "2022-02-02T08:17:05.659000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Regarding block delay, weâ€™ve looked into this a fair bit over the past 6 months or so. We havenâ€™t been able to attribute it to a single client, but weâ€™ve been able to attribute it to pools a bunch of times. Weâ€™ve reached out to all of them and most of them have done something to fix it.\n\nWeâ€™ve spent a while optimising in LH for fast block proposals and propagation and I donâ€™t think itâ€™s all that hard to achieve decent times. I think the other clients are fast too, from what I can tell. I suspect itâ€™s mostly pools with fancy infrastructure who arenâ€™t aware that theyâ€™re underperforming.",
        "created_at": "2022-02-02T09:40:58.669000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I certainly think itâ€™s worthwhile trying to fingerprint late producers and applying pressure to whoever is causing the delay. These late blocks are already a pain and itâ€™s only going to get worse.",
        "created_at": "2022-02-02T09:41:36.838000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003csigpaul\u003e One of the things we did was to add scary logs whenever we (a) produce a block and publish it late and (b) when we take too long to forward a block. \nI think itâ€™s worthwhile other clients doing this too. Then, users might be more aware if their fancy infrastructure is slowing things down.",
        "created_at": "2022-02-02T09:44:28.684000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Does anyone have a clue why ninbus fails to start with `SIGILL: Illegal operation.`? ðŸ˜„",
        "created_at": "2022-02-02T17:12:42.933000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've built it locally, so it should not use unknown CPU instructions? ðŸ˜›",
        "created_at": "2022-02-02T17:13:10.425000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That is odd -- which branch are you using?",
        "created_at": "2022-02-02T17:19:34.006000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(guessing `kintsugi`, but want to check, because it handles this differently)",
        "created_at": "2022-02-02T17:19:51.977000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!206016661470314496\u003e",
        "created_at": "2022-02-02T17:20:11.208000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "kintsugi, yes",
        "created_at": "2022-02-02T17:22:37.525000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "do you have a https://en.wikichip.org/wiki/intel/microarchitectures/broadwell_(client) or newer CPU?",
        "created_at": "2022-02-02T17:35:04.398000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the `kintsugi` branch does its CPU selection a little differently -- normally, Nimbus uses `-march=native`, so indeed would avoid `SIGILL`. But that branch uses `-march=broadwell`, because it's the earliest CPU which gets some substantial speed improvements for BLS operations, instead",
        "created_at": "2022-02-02T17:36:37.329000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "generally, it's been a decent balance between allowing people to build docker images or other portable executables without worrying about march=native creating issues taking a build from a 2 year old machine to a 4 year old machine or similar, but it doesn't currently try to detect whether Broadwell is available. If not, then one has to use something like `-d:disableMarchNative` to force it back to SSSE3 (nearly universal)",
        "created_at": "2022-02-02T17:39:12.288000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "nope, my cpu is right before broadwell",
        "created_at": "2022-02-02T17:41:57.710000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "okay, that's the issue. see workaround above",
        "created_at": "2022-02-02T17:43:27.560000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "how do I specify that to make?",
        "created_at": "2022-02-02T17:43:30.360000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`make NIMFLAGS=\"-d:disableMarchNative\" $FOO`",
        "created_at": "2022-02-02T17:46:31.869000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "e.g., https://nimbus.guide/developers.html shows examples of this",
        "created_at": "2022-02-02T17:46:49.023000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thx",
        "created_at": "2022-02-02T17:50:49.627000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!654267572107083777\u003e Well, build failed on this",
        "created_at": "2022-02-02T18:00:06.279000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n/usr/bin/ld: /tmp/nimbus_beacon_node.i7AfsZ.ltrans4.ltrans.o: in function `hkdf_mod_r__kU9baT7sTSC6pf8lPVae5qA.constprop.0':\n/work/src/github.com/status-im/nimbus-eth2/vendor/nim-blscurve/blscurve/eth2_keygen/hkdf_mod_r_blst.nim:121: undefined reference to `redcx_mont_256'\n/usr/bin/ld: /work/src/github.com/status-im/nimbus-eth2/vendor/nim-blscurve/blscurve/eth2_keygen/hkdf_mod_r_blst.nim:122: undefined reference to `mulx_mont_sparse_256'\ncollect2: error: ld returned 1 exit status\nmake[1]: *** [nimcache/release/nimbus_beacon_node/nimbus_beacon_node.makefile:1661: build] Error 1\nmake: *** [Makefile:255: nimbus_beacon_node] Error 2\n```",
        "created_at": "2022-02-02T18:00:09.257000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Seems something is not implemented on non-broadwell?",
        "created_at": "2022-02-02T18:00:33.037000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Never seen that particular error, and it shouldn't, I think, be CPU-dependent",
        "created_at": "2022-02-02T18:10:58.440000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "just to be sure, did you run `make update OVERRIDE=1`?",
        "created_at": "2022-02-02T18:14:57.755000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and to be safe, delete `nimcache` (shouldn't be necessary, but if something weird happened, e.g. it got confused switching between CPU architectures without source code changes)",
        "created_at": "2022-02-02T18:15:54.861000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok, lemme retry these",
        "created_at": "2022-02-02T18:17:09.670000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok, rebuilding nim too succeeded",
        "created_at": "2022-02-02T18:38:16.652000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "got a couple more log messages out before it bloew up ðŸ˜„",
        "created_at": "2022-02-02T18:38:31.408000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`FAT 2022-02-02 20:37:23.350+02:00 Failed to locate the deposit contract deployment block topics=\"beacnde\" depositContract=0x4242424242424242424242424242424242424242 deploymentBlock=\"(isHash: true, hash: 0000000000000000000000000000000000000000000000000000000000000000)\"\n`",
        "created_at": "2022-02-02T18:38:33.128000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Unsure what might be wrong, Teku, Prysm and Lighthous seems to work with the same configs",
        "created_at": "2022-02-02T18:39:51.796000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "trying to run the kintsugi specs",
        "created_at": "2022-02-02T18:40:08.764000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "well, of course, it's meant to work. That error message usually indicates that it's not properly connected to the web3/EL endpoint",
        "created_at": "2022-02-02T18:47:10.841000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the `--web3-url=ws://whatever`",
        "created_at": "2022-02-02T18:47:32.560000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yup, that was is, would be nice if it gave a hint ðŸ™‚",
        "created_at": "2022-02-02T18:49:46.237000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thank you very much for the tips",
        "created_at": "2022-02-02T18:50:26.699000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that's a good idea, yeah, will add that. whether for this testnet or kiln",
        "created_at": "2022-02-02T18:51:18.784000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(the next one)",
        "created_at": "2022-02-02T18:51:21.827000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(at least, its meta-spec is called kiln. I don't know if that's what it'll be called in general)",
        "created_at": "2022-02-02T18:51:40.505000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "anyway, glad it's working for you",
        "created_at": "2022-02-02T18:52:00.737000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "also, a slight issue",
        "created_at": "2022-02-02T18:54:46.155000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "if I used the http interface, it started working, but failed to send updates",
        "created_at": "2022-02-02T18:55:00.184000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "if I switche dover to ws, the updates worked too",
        "created_at": "2022-02-02T18:55:07.662000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "right, Nimbus in general (not just that branch) doesn't really support `http://` web3 interfaces",
        "created_at": "2022-02-02T18:58:34.626000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "only `ws://`",
        "created_at": "2022-02-02T18:58:37.739000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it's something we're working on",
        "created_at": "2022-02-02T18:59:02.135000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it ... sort of works, as you've discovered",
        "created_at": "2022-02-02T18:59:31.244000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ha ðŸ™‚",
        "created_at": "2022-02-02T19:02:03.895000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "last question ðŸ˜„",
        "created_at": "2022-02-02T19:02:07.925000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "does the trsuted node url work?",
        "created_at": "2022-02-02T19:02:22.444000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've tried to sync against an existing testnet node",
        "created_at": "2022-02-02T19:02:33.095000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and nimbus seems to do a GET",
        "created_at": "2022-02-02T19:02:42.346000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and the API server rejects get as not allowed",
        "created_at": "2022-02-02T19:02:48.531000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it does work for teku and lighthouse tho'",
        "created_at": "2022-02-02T19:03:04.297000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "weird, a curl with a get works",
        "created_at": "2022-02-02T19:08:42.537000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but a browser load of the ame url fails too",
        "created_at": "2022-02-02T19:08:53.919000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the server is lighthouse",
        "created_at": "2022-02-02T19:09:10.613000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "maybe CORS related?",
        "created_at": "2022-02-02T19:41:06.570000+00:00",
        "attachments": null
    }
]