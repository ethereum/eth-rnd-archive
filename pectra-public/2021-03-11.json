[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "The PR with the executable beacon chain spec is opened, everybody is encouraged to look, comment, ask questions, discuss and so forth. Executable beacon chain is Ethereum Mainnet with PoS consensus, the main change that is coming within the Merge https://github.com/ethereum/eth2.0-specs/pull/2229",
        "created_at": "2021-03-11T14:52:21.747000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Here",
        "created_at": "2021-03-11T17:01:15.142000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Here's my attempt at an ultra-minimal merge spec:\nhttps://notes.ethereum.org/m9IX3OkkTveXCCOSzGkUiw",
        "created_at": "2021-03-11T17:01:36.425000+00:00",
        "attachments": null
    },
    {
        "author": "0xsadcat",
        "category": "general",
        "parent": "",
        "content": "I think fears about validators outsourcing to external block producers are extremely overblown. right now eth1vote isn't *that* important so I can see people doing that, but once the danger of outsourcing for actual block generation/verification is clearly communicated, there's no way people that locked a fortune to stake early (enthusiasts) are going to risk the security of the chain just to keep using that raspberry pi. in other words this would temporarily reduce the security to a honest majority assumption, which I think is guaranteed this early in eth staking",
        "created_at": "2021-03-11T19:55:24.663000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "what is TRANSITION_TOTAL_DIFFICULTY? a new constant?",
        "created_at": "2021-03-11T20:44:19.280000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e yeah",
        "created_at": "2021-03-11T20:45:02.685000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e It's the total difficulty level at which the transition happens",
        "created_at": "2021-03-11T20:45:10.126000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e It has to be a totdiff and not a block number because otherwise an attacker could quietly mine a chain whose difficulty drops very low, and get to the number first",
        "created_at": "2021-03-11T20:45:50.027000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e The ethpow node has accepted the beacon block. -\u003e the application_block?",
        "created_at": "2021-03-11T20:50:54.003000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ah yes",
        "created_at": "2021-03-11T20:51:18.827000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e we can use the same \"synchronization\" mechanism for transitioning to the executable beacon chain, right?",
        "created_at": "2021-03-11T20:51:58.496000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e what do you mean by \"transitioning to the executable beacon chain\"?",
        "created_at": "2021-03-11T20:52:25.001000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e just wondering — this feels more like an \"emergency merge\" spec",
        "created_at": "2021-03-11T20:52:25.316000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e I mean finding the transition block, which was one of the challenges in the past",
        "created_at": "2021-03-11T20:52:46.447000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e the last PoW block",
        "created_at": "2021-03-11T20:52:51.107000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Doesn't the proposal address the problem of picking an end to the PoW chain as is?",
        "created_at": "2021-03-11T20:53:16.307000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e yes. Sorry, my bad. What I mean is use the mechanism you suggest in the quick merge for the executable beacon chain",
        "created_at": "2021-03-11T20:53:47.643000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e yeah I don't understand what you mean by executable beacon chain then",
        "created_at": "2021-03-11T20:54:00.874000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e The mechanism I suggest already gives you a beacon chain with application blocks being part of beacon blocks",
        "created_at": "2021-03-11T20:54:19.510000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e right, I mean this: https://ethresear.ch/t/executable-beacon-chain/8271",
        "created_at": "2021-03-11T20:54:38.106000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ie. the chain-inside-a-chain is purely vestigial and can just be hard forked out",
        "created_at": "2021-03-11T20:54:39.381000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ah I see",
        "created_at": "2021-03-11T20:55:02.518000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e migrating to that should be easy",
        "created_at": "2021-03-11T20:55:06.518000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e At least relatively easy",
        "created_at": "2021-03-11T20:55:39.852000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Because once you have a block-inside-a-block the next step is to just remove the wrapper and have transactions-inside-a-block",
        "created_at": "2021-03-11T20:56:08.733000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e There",
        "created_at": "2021-03-11T20:56:09.400000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e There's a lot of prep work to be done, like turning the ethpow node into a simpler application state transition library, but that can be done between the hard forks with no consensus changes",
        "created_at": "2021-03-11T20:56:40.284000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "under this proposal, would beacon block proposers also be application block \"miners\" (and get both rewards)?",
        "created_at": "2021-03-11T21:12:51.228000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e yes",
        "created_at": "2021-03-11T21:13:04.161000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "yes",
        "created_at": "2021-03-11T21:13:04.654000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "and note, in any pure proof-of-stake proposal that would be the case",
        "created_at": "2021-03-11T21:13:15.914000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "even if the application layer chain was not tightly coupled with the beacon chain",
        "created_at": "2021-03-11T21:13:25.887000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "cool, just wanted to confirm my understanding",
        "created_at": "2021-03-11T21:14:52.172000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "doesn't this concern apply to this proposal? https://ethresear.ch/t/executable-beacon-chain/8271/10",
        "created_at": "2021-03-11T21:44:57.871000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e I think the proposal does not allow synchronous communication as it is",
        "created_at": "2021-03-11T21:46:00.118000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e why not?",
        "created_at": "2021-03-11T22:23:34.998000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e In the initial *implementation* it does not, because the *implementation* involves two nodes talking by RPC",
        "created_at": "2021-03-11T22:23:56.256000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e as in it's not specified",
        "created_at": "2021-03-11T22:23:57.607000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e But that implementation can be swapped out with a synchronous implementation without a fork",
        "created_at": "2021-03-11T22:24:07.947000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And then a subsequent hard fork can add synchronous communication",
        "created_at": "2021-03-11T22:24:17.624000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e yeah I understand",
        "created_at": "2021-03-11T22:24:30.721000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e what I mean is your comment above was critical of requiring synchronous comms between beacon chain and eth1 execution because that requires keeping this structure forever",
        "created_at": "2021-03-11T22:24:59.837000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e Ah, you're just saying \"if we did this and then all retired 1 day later eth2 would not count as 'finished'\"?",
        "created_at": "2021-03-11T22:25:00.647000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e no that's not what I'm saying. I was just replying to seishun",
        "created_at": "2021-03-11T22:25:38.042000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ah I see (re @ef_general_chat_bridge_bot: \u003cseishun\u003e doesn't this concern apply to this proposal? https://ethresear.ch/t/executable-beacon-chain/8271/10)",
        "created_at": "2021-03-11T22:25:42.390000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ah I see",
        "created_at": "2021-03-11T22:25:50.701000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e So even if executable data is directly inside beacon blocks I’d be inclined to favor keeping the communication between the executable data and the beacon chain logic fully asynchronous.\nyour comment from back then",
        "created_at": "2021-03-11T22:26:58.393000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ah",
        "created_at": "2021-03-11T22:27:05.818000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e ok",
        "created_at": "2021-03-11T22:27:08.770000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e which is probably sensible IMO as it allows us factoring it back out as a shard",
        "created_at": "2021-03-11T22:27:13.964000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e And this proposal is 100% forward-compatible with both keeping the application block in the beacon chain _and_ making it a shard",
        "created_at": "2021-03-11T22:27:34.615000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e yup",
        "created_at": "2021-03-11T22:27:43.012000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e yah, that is definitely a design goal",
        "created_at": "2021-03-11T22:27:49.630000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e keeping the syncronous dependency minimal",
        "created_at": "2021-03-11T22:27:58.195000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e I think we can allow synchronous beacon chain -\u003e eth1",
        "created_at": "2021-03-11T22:28:16.697000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e just not the other way",
        "created_at": "2021-03-11T22:28:23.580000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e because eth1 would be staggered after the beacon block from that slot",
        "created_at": "2021-03-11T22:28:34.961000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e if it were a shard",
        "created_at": "2021-03-11T22:28:36.952000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cvbuterin\u003e hmm, by default I'd prefer not allowing synchronous anything just because that's forward compatible with more things",
        "created_at": "2021-03-11T22:28:54.580000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e even a shard always knows the latest beacon block root, so what's the harm in that?",
        "created_at": "2021-03-11T22:29:15.992000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e in current spec, we only pass a few things from the beacon chain and it’s not the results of the execution.  it’s things we can get at the immediate start of beacon execution e.g. pass the randao mix",
        "created_at": "2021-03-11T22:29:17.148000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e e.g. the previous slot post beacon state root (current slot pre_state_root)",
        "created_at": "2021-03-11T22:30:01.503000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e this looks like an optimal beacon/shard relationship",
        "created_at": "2021-03-11T22:30:25.116000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e and keeps open the case where shard sees a beacon skip slot",
        "created_at": "2021-03-11T22:30:36.631000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e yes previous slot is still synchronous in my interpretation",
        "created_at": "2021-03-11T22:31:54.194000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e asynchronous is if you cannot guarantee a number of slots",
        "created_at": "2021-03-11T22:32:03.894000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e ah, based on your delayed execution slot",
        "created_at": "2021-03-11T22:32:09.041000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e ? (re @dankrad: asynchronous is if you cannot guarantee a number of slots)",
        "created_at": "2021-03-11T22:32:23.749000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdankrad\u003e no, just generally\nsynchronous = bounded delay\nasynchronous = unbounded delay\nis that not the definition?",
        "created_at": "2021-03-11T22:32:43.562000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e that’s fine, you’d still get a pre-beacon-state root",
        "created_at": "2021-03-11T22:32:45.072000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e because of skip slot processing",
        "created_at": "2021-03-11T22:32:53.537000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e a shard has some beacon reference from the start of the current slot",
        "created_at": "2021-03-11T22:33:52.162000+00:00",
        "attachments": null
    },
    {
        "author": "chat-bridge",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e which could be any numberof beacon skip slots",
        "created_at": "2021-03-11T22:34:00.471000+00:00",
        "attachments": null
    }
]