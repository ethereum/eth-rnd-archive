[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "`finalized`, `safe` and `head` blocks must be from the same chain, if they are not then CL is faulty. If EL checks this condition and finds out that any of these blocks is from a disjoint chain then EL should respond with error",
        "created_at": "2022-02-07T05:51:08.551000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "Have any of the consensus clients put thought into how to collect fee recipient addresses from existing validators?\n\nPresently with Lighthouse you'd have to either specify a `--suggested-fee-recipient` file for the entire VC or modify the YAML \"validator definitions\" file.\n\nSome users might find this challenging, hopefully we can start circulating some explainers as we approach merging Prater.",
        "created_at": "2022-02-07T06:14:34.443000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "We've begun discussions in prysm, I personally think that the best UX is to allow this feature to be changeable at runtime. This will require the beacon to expose a custom endpoint  that takes a validator id and an eth1 address and changes the `suggested-fee-recipient` accordingly. Then calls to this endpoint can be wrapped by a cli or a gui like the existing ones.",
        "created_at": "2022-02-07T06:24:14.688000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "general",
        "parent": "",
        "content": "We also have a method for reading it from a file, very similar to current methods for graffiti. An API method is also a good idea.",
        "created_at": "2022-02-07T06:29:51.949000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Teku can read it from a file.  Not sure how to reconcile have a file that we can periodically reload with an API changing some of those values though. So personally I'd just have the file with reload.  That said, an API may make more sense when you've got a \"validator registry\" kind of thing like the Lighthouse validator definitions file.  We likely do need to work out how to add this into the key manager API since everyone winds up with the \"validator registry\" for validators added through that.",
        "created_at": "2022-02-07T07:29:29.736000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "has anyone thought about the issue that on the beaconchain all rewards and balances are denominated in GWei units in the API while on the EL all balances are denominated in Wei, this might be a big source of error in the future",
        "created_at": "2022-02-07T11:04:58.921000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The API exposed by the clients uses nanoeth as its units?",
        "created_at": "2022-02-07T11:37:28.151000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I surely must not be understanding this correctly because that sounds like an absolutely terrible idea... like one of the worst things that could be done....",
        "created_at": "2022-02-07T11:38:05.053000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "API to change fee recipient could be an attack vector. It may be better to see if a static file is enough in the first instance.",
        "created_at": "2022-02-07T11:38:37.105000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "yes, see https://lighthouse-book.sigmaprime.io/api-lighthouse.html#lighthouseeth1deposit_cache for example",
        "created_at": "2022-02-07T11:40:06.513000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "it was always like that since the first client specific API versions",
        "created_at": "2022-02-07T11:41:04.885000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Are you referring to `\"amount\": \"32000000000\"`?",
        "created_at": "2022-02-07T11:41:23.924000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "yeah",
        "created_at": "2022-02-07T11:41:31.703000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "(‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª",
        "created_at": "2022-02-07T11:41:41.954000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "ist like that on every endpoint that returns a balance or amount",
        "created_at": "2022-02-07T11:41:59.268000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "for all clients",
        "created_at": "2022-02-07T11:42:03.065000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This seems insane to me.",
        "created_at": "2022-02-07T11:42:22.996000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Like the number one rule of programming with numbers is to be consistent with units and always use the same indivisible units everywhere.",
        "created_at": "2022-02-07T11:42:42.620000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "*Only* change the scale at render time, never on the wire, in memory, or on disk.",
        "created_at": "2022-02-07T11:43:10.835000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "God damn it.  And this goes as deep as the deposit contract, which is already deployed and immutable.",
        "created_at": "2022-02-07T11:45:28.345000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "yep, we just realized it when working on the eth1 explorer integration",
        "created_at": "2022-02-07T11:46:08.217000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The only gwei denominated thing there is the value in the event as that is read by the beacon side.",
        "created_at": "2022-02-07T11:47:03.030000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It means that we cannot ever fully/correctly solve this problem.  It is going to be yet another thorn in our side that causes bugs for decades to come.",
        "created_at": "2022-02-07T11:47:37.367000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "But the event has `bytes` anyway, and the value is little-endian encoded, so it is not one of your standard verbatim read events.",
        "created_at": "2022-02-07T11:48:16.895000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We could fix everything *except* the deposit contract to try to isolate the bugs, but that will be hard since the deposit contract is what is emitting the event (which many potential tools will read, thus many potential tools will have to deal with it).",
        "created_at": "2022-02-07T11:48:17.090000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Does anyone know if there was discussion about this decision?  Digging through consensus spec history I see \u003c@!291925846556540928\u003e acknowledging that unit conversions are a historic source of problems, but it seems by that point it has already been decided that `gwei` should be used.",
        "created_at": "2022-02-07T11:52:37.685000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "even updating consensus client APIs at this point might cause huge issues in existing production setups",
        "created_at": "2022-02-07T11:55:07.038000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I actually do not see any blocker in replacing the deposit contract to emit the event denominated in wei as opposed to gwei, should this be needed. It would be a significant number of changes on the beacon chain side anyway, so it makes no difference making yet another breaking/state change on the execution side.",
        "created_at": "2022-02-07T14:20:08.326000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Desire to not use uint256 at all  in CL",
        "created_at": "2022-02-07T16:29:19.311000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "There's not need for bigint arithmetic in CL (other than blackboxed crypto). This would add a ton of precision to beacon state size and calculations for 0 gain",
        "created_at": "2022-02-07T16:30:42.393000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Apis could return wei if they want. But cl doesn't and very likely won't have that precision so it'll just the extra 0s in the api",
        "created_at": "2022-02-07T16:31:34.700000+00:00",
        "attachments": null
    },
    {
        "author": "huanghiog",
        "category": "general",
        "parent": "",
        "content": "HI",
        "created_at": "2022-02-07T17:32:30.077000+00:00",
        "attachments": null
    },
    {
        "author": "huanghiog",
        "category": "general",
        "parent": "",
        "content": "üò´",
        "created_at": "2022-02-07T17:32:30.440000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Hi I'm trying to check our implementation of optimistic sync, it seems to be working fine on Kintsugi in the sense that the EL is returning SYNCING and we keep syncing those blocks nonetheless. However, I'd like to know if I can snap sync geth for example while I sync the CL, it seems to me that geth is only syncing regularly, is there a way to have a snap sync on Kintsugi?",
        "created_at": "2022-02-07T18:51:57.715000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Just enable --syncmode=snap (should also be enabled by default)\nOnce the node has finished its snap cycle it will only full sync afterwards though.\nYou might want to try this branch: https://github.com/ethereum/go-ethereum/pull/23982",
        "created_at": "2022-02-07T19:15:44.874000+00:00",
        "attachments": null
    }
]