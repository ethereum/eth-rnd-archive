[
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The proposal of eth1 execution enshrined into beacon chain is now published, https://ethresear.ch/t/executable-beacon-chain/8271",
        "created_at": "2020-11-26T13:58:29.285000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e I saw your conversation in \u003c#745077610685661265\u003e , this is the proposal that Vitalik has mentioned there ‚òùÔ∏è",
        "created_at": "2020-11-26T14:01:56.789000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!425572898787426305\u003e This is related to SSZification of blocks discussion?",
        "created_at": "2020-11-26T14:13:18.305000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, here `ExecutableData` has a list of `Transaction` objects that are gonna be SSZfied as everything on the beacon chain. Eth1-engines will likely have to understand SSZ",
        "created_at": "2020-11-26T14:25:30.011000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`Transaction` structure represents regular eth1 transaction with all the fields it used to have",
        "created_at": "2020-11-26T14:27:17.887000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!425572898787426305\u003e  if I understand the proposal correctly, this places eth1 state in a more tightly coupled relationship with the Beacon Chain, instead of as an independent shard. (formerly Ph 1.5)\n\nHas this been written about previously? - it seems to be very desirable, I wonder what what sort of tradeoffs there are (besides the work to spec it out in place of the shard-first design that was being considered up to the beginning of October). \n\ni imagine this makes the BC not as lightweight.",
        "created_at": "2020-11-26T16:17:49.583000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It seems like the `ExecutableData` could just be an opaque byte array and eth1 clients could be given straight RLP, no?",
        "created_at": "2020-11-26T16:18:29.370000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, it could",
        "created_at": "2020-11-26T16:18:38.377000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "A lot of design decisions on that interface",
        "created_at": "2020-11-26T16:18:46.948000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You could literally just keep it as an eth1 block payload",
        "created_at": "2020-11-26T16:18:59.452000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thats the simplest to reuse exisitng software maximally",
        "created_at": "2020-11-26T16:19:17.462000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But exploring the design at this interface is certainly valuable",
        "created_at": "2020-11-26T16:19:40.858000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And the first testnet/demo will use this simplification",
        "created_at": "2020-11-26T16:19:59.324000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That is correct. In a rollup centric roadmap that has just one chain of state/execution this is a majorly simplifying proposal by just moving txs/user-state right inside the core of consensus  (the beacon chain)",
        "created_at": "2020-11-26T16:21:22.885000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It puts eth1 verification as a requirement for running beacon chain (unless some variant of a light client)",
        "created_at": "2020-11-26T16:21:59.484000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And thus if no statelessness, puts eth1 state as a baseline requirement",
        "created_at": "2020-11-26T16:22:31.942000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That feels... heavy",
        "created_at": "2020-11-26T16:23:15.493000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Im not sure if its been written about explicitly but when we've been saying merge and sharding are decoupled, it assumes a beacon chain tx integration",
        "created_at": "2020-11-26T16:23:33.096000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It certainly is in some ways",
        "created_at": "2020-11-26T16:23:52.002000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "perhaps made lighter by something like Regenesis on eth1 first?",
        "created_at": "2020-11-26T16:24:26.280000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But if there is a single zone of user state/execution, it being in the highest security/availability place (tightly coupled into the system chain) isnt an insane tradeoff \n\nStatelessness makes this much more attractive.",
        "created_at": "2020-11-26T16:24:51.219000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "jinx",
        "created_at": "2020-11-26T16:25:03.989000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, any stateless or semi stateless modes make it a nicer design",
        "created_at": "2020-11-26T16:25:19.170000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This also grants very immediate and native access to the sharded data layer and reduces consnesus complexity massively",
        "created_at": "2020-11-26T16:26:33.630000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But you know, theres always tradeoffs at play",
        "created_at": "2020-11-26T16:27:02.893000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "any other tradeoffs besides being heavier (absent stateless designs)?",
        "created_at": "2020-11-26T16:30:03.351000+00:00",
        "attachments": null
    },
    {
        "author": "gballet",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "how about \"available\" vs. \"nice\" ? üòâ",
        "created_at": "2020-11-26T16:30:41.151000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@425572898787426305\u003e I'm unsure if its a good idea to change the semantics of BLOCKHASH instead of just adding a beacon block root accessor as well",
        "created_at": "2020-11-26T16:34:46.400000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh wait \u003c@543900561460822016\u003e  beat me too it in the thread",
        "created_at": "2020-11-26T16:35:02.392000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://twitter.com/OisinKyne/status/1331987165153267712?s=20",
        "created_at": "2020-11-26T16:35:39.859000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "what do you mean by this?",
        "created_at": "2020-11-26T16:36:09.314000+00:00",
        "attachments": null
    },
    {
        "author": "gballet",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That this is a big simplification, which is much needed in order to deliver the next step. It's not quite the final picture, but it's a good step imo.",
        "created_at": "2020-11-26T16:39:00.288000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\"this / it's\" being Mikhail's proposal or statelessness / regenesis?",
        "created_at": "2020-11-26T16:40:52.640000+00:00",
        "attachments": null
    },
    {
        "author": "gballet",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Mikhail's proposal. Statelessness is still a long way down the road and frankly, quite unspecified. As for regenesis, that's something I'd love on eth1 but if there is block finality in eth2, it's less clear-cut of an improvement.",
        "created_at": "2020-11-26T16:44:50.531000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The end goal is to get rid of those eth1 block fields that becomes redundant in the context of the proposal, and also merkleize the others, like state hash root to be able to build proofs linking eth1 state data with beacon block roots. But as Danny wrote, we will probably use eth1 blocks \"as is\" in the interim.",
        "created_at": "2020-11-26T17:50:28.005000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It would be helpful to further discuss those things that will become redundant and how they differ between eth1 and eth2. Any infrastructure that relies on eth1 data (on and off chain) will need to understand this deeply",
        "created_at": "2020-11-26T18:12:26.787000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Fair point. But, Eth1 is heavy by itself and since it's gonna become the main execution driver of Eth2 we have to deal with it. I don't see how, for example, Eth1 shard proposal is less heavier than this one without Eth1.x efforts",
        "created_at": "2020-11-26T18:12:42.538000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Totally agree. We should understand how does these changes affects semantics and how particular semantics is currently used by smart contracts and infra",
        "created_at": "2020-11-26T18:13:42.425000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It would also be helpful to outline what the ideal world is and *why* it‚Äôs ideal. E.g. making the transaction data SSZ because eth2 is SSZ isn‚Äôt a great argument. Would much rather know what we gain by making the change.",
        "created_at": "2020-11-26T18:16:09.056000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't know what are the use cases of SSZified transaction fields but there is a certain use case for merklized eth1 state root",
        "created_at": "2020-11-26T18:20:27.958000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "probably \u003c@!301186049323958275\u003e could provide rationale behind SSZifying transactions on eht1",
        "created_at": "2020-11-26T18:33:22.478000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "A big benefit of SSZ was that you could swap out data trees for their roots without having any impact on the resultant root.  A good example of this is the Ethereum 2 beacon block.  You have a structure:\n\n```\nclass BeaconBlock(Container):\n    slot: Slot\n    proposer_index: ValidatorIndex\n    parent_root: Root\n    state_root: Root\n    body: BeaconBlockBody\n```\n\nand you also have a header structure:\n\n```\nclass BeaconBlockHeader(Container):\n    slot: Slot\n    proposer_index: ValidatorIndex\n    parent_root: Root\n    state_root: Root\n    body_root: Root\n```\n\nIn the latter the entire body has been replaced by a single 32-byte root.  And the root of both structures will be the same (assuming the same data, obviously).  So useful for being able to have either full data or hashed data in different places in data structures, or having sparse data structures that contain roots that can be swapped out for their constiuent data as/when required.",
        "created_at": "2020-11-26T20:42:44.755000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!144468805697929216\u003e functionally, where does this advantage come in? If I have only have the tx root for an eth1 block I can also calculate the header's root.",
        "created_at": "2020-11-26T21:26:10.077000+00:00",
        "attachments": null
    }
]