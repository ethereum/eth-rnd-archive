[
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "yeah, basically",
        "created_at": "2021-05-19T00:18:50.995000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "T would be a time in the future, and you could just make X be a fixed specific block",
        "created_at": "2021-05-19T00:19:17.412000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So the chain is \"down\" between the 51% attack and time T, but as you said, the chain is being attacked anyway, so the chain continuing to make progress is not very useful if any progress can just be 51% attacked away",
        "created_at": "2021-05-19T00:20:15.445000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I have a couple of very naive questions about this problem. a) Is it an issue near the merge (as opposed to now) because hashrate is suppose to go down and it may become possible? and b) is it expected to be a solvable problem in the sense that if there is enough hashrate in someone's hand to get 51%, I see smart people trying to come with schemes to prevent them from exploiting the network so I suppose there is some hope that this issue may have a solution, is it the case? I would have expected that the consensus on b) is that it doesn't have a solution therefore the strategy was to try to buy a way out of it beforehand. But it seems that I am wrong? Is it a problem worth thinking about?",
        "created_at": "2021-05-19T01:18:54.086000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The problem is that the incentive for hashrate to behave approaches 0 as we approach the merge.",
        "created_at": "2021-05-19T02:28:50.890000+00:00",
        "attachments": null
    },
    {
        "author": "sma4321",
        "category": "general",
        "parent": "",
        "content": "is there a point at which limiting the length of a 51% attack becomes useful? if, close to the merge, pow clients don't choose to revert beyond N blocks without intervention (say 16), does that mitigate the scope for meaningful attacks?",
        "created_at": "2021-05-19T11:21:32.346000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "yes it does",
        "created_at": "2021-05-19T20:26:32.300000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Basically, the worst attacks are those attacks where the eth1data that computed the total difficulty becomes no longer part of the canonical chain",
        "created_at": "2021-05-19T20:27:02.274000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Actually, an eth1data-confirmed block no longer being part of the PoW chain (to be clear, this corresponds to something like 16+ hours of reversion) is horrible and would require emergency remedial at any point in time",
        "created_at": "2021-05-19T20:28:13.484000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "It's just that right before the merge is the most likely time for an attack to happen",
        "created_at": "2021-05-19T20:28:20.816000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "it sounds like increasing and exceedingly large block rewards over course of hours/days/weeks leading up to the merge could be useful to insure hashrate to the very end is worth considering",
        "created_at": "2021-05-19T20:37:49.860000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "this could be prevented by having eth1 clients follow the beacon chain and refuse to revert beyond eth1data",
        "created_at": "2021-05-19T20:37:58.948000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "it would be a good test for client interop too",
        "created_at": "2021-05-19T20:42:09.136000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We have talked about this, but the costs are extremely high and it is unclear whether it is worth the costs.",
        "created_at": "2021-05-19T22:50:28.971000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Also, there may be notable engineering effort required.",
        "created_at": "2021-05-19T22:50:45.131000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "i suppose the costs could just be inflation on the chain itself - people are likely to prefer a safer merge at the expense of a small fraction of a % of inflation",
        "created_at": "2021-05-19T22:56:24.785000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It requires a pretty extreme amount of inflation to achieve today's level of security.  On the order of double digits I suspect.",
        "created_at": "2021-05-19T22:58:03.494000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "\u003e this could be prevented by having eth1 clients follow the beacon chain and refuse to revert beyond eth1data",
        "created_at": "2021-05-19T23:07:33.806000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "i was thinking like 500k eth over the course of a week... even at a flat reward of 10eth extra per block (vs an increasing reward)  for a whole week would cost less than 500k eth",
        "created_at": "2021-05-19T23:07:34.861000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "definitely worth considering this",
        "created_at": "2021-05-19T23:07:39.398000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "One of the nice things about this is that fork choice rule changes are easier to deploy than consensus changes",
        "created_at": "2021-05-19T23:07:57.038000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Because a fork choice rule disagreement does not actually split the chain unless there's a 51% attack happening at the same time",
        "created_at": "2021-05-19T23:08:16.715000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "eth1data isn't actually guaranteed to be a block hash is it?  I thought the block hash was just a schelling point to kickstart the agreement, but the system doesn't actually require it to be a valid brockhash.",
        "created_at": "2021-05-19T23:13:24.108000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "To equal today's security, you would need something like 4 years worth of PoW issuance compressed into a small number of blocks near themmerge, and you would need to introduce a mechanism for time locking those rewards.  This creates some perverse/weird incentives around hash power and pools as well which isn't good.",
        "created_at": "2021-05-19T23:15:10.278000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "right",
        "created_at": "2021-05-19T23:15:51.333000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Isn't the follow distance pretty far as well?  Is it close enough to be useful?",
        "created_at": "2021-05-19T23:16:04.929000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "But if it ends up not being a valid block hash, that implies \u003e50% of stakers are misbehaving....",
        "created_at": "2021-05-19T23:16:16.430000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "It's ~16 hours as I remember",
        "created_at": "2021-05-19T23:16:23.826000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "for follow distance + voting period",
        "created_at": "2021-05-19T23:16:28.679000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So yes, close enough to be useful for the transition",
        "created_at": "2021-05-19T23:16:40.264000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "i see - perhaps there is a difference between providing added incentive vs guaranteeing security",
        "created_at": "2021-05-19T23:19:54.959000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I personally don't think it's worth it to push up rewards before the merge",
        "created_at": "2021-05-19T23:20:13.812000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Validators with stock clients will only vote fore an eth1data if they agree it is a valid blockhash?  They will follow (but not vote for) an eth1data that isn't a blockhash though?",
        "created_at": "2021-05-19T23:22:22.908000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "right",
        "created_at": "2021-05-19T23:22:34.106000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "But that still means that for a particular hash to become accepted as eth1data, ~50% of validators must support it",
        "created_at": "2021-05-19T23:22:55.960000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So if that hash is invalid, ~50% of validators would have to be misbehaving",
        "created_at": "2021-05-19T23:23:06.350000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "the uncharted territory of going into the merge window where PoW eventually have no income opportunity post-merge is certainly a bit worrisome - it's hard to guess how fast hashrate drops the weeks leading into the merge and what it does to security",
        "created_at": "2021-05-19T23:23:06.670000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I thought we sometimes see epochs where a new eth1data is not voted in.  Is that still a problem?",
        "created_at": "2021-05-19T23:23:52.036000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "that's fine, the next epich can just catch up",
        "created_at": "2021-05-19T23:24:10.687000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Probably no hashrate drop at all.  No reason to stop printing money early.",
        "created_at": "2021-05-19T23:24:19.467000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "The thing that we need to avoid is *bad* eth1data getting voted in",
        "created_at": "2021-05-19T23:24:20.394000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "except for the rush to the exits to sell soon to be worthless gpus",
        "created_at": "2021-05-19T23:24:47.157000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Are we confident that none of the current stock clients will just follow the leader with regards to voting?",
        "created_at": "2021-05-19T23:25:49.151000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "That assumes we can get people to believe us that the merge is going to ship soon.  So far people still seem to be buying GPUs as fast as possible and expecting the merge to be multiple years away.",
        "created_at": "2021-05-19T23:25:56.014000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "even more reason to be a bit scared of the merge when it happens and the weeks leading up to it",
        "created_at": "2021-05-19T23:26:19.137000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "we are past 10 million GPUs mining ethereum at this point",
        "created_at": "2021-05-19T23:27:13.283000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Clients definitely only vote for blocks they have seen from their eth1 node.  We've seen plenty of bugs that confirm this because they didn't cache enough blocks from the eth1 node so refused to vote for blocks that should have been valid.",
        "created_at": "2021-05-19T23:27:27.745000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "when the litecoin mining crash hit, gpu market tanked and that certainly wasn't 10 million gpus",
        "created_at": "2021-05-19T23:27:39.944000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "anyhow, i had no intention of distracting",
        "created_at": "2021-05-19T23:30:50.175000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This is not entirely true. Prysm for example will let you run without an eth1 node and vote randomly",
        "created_at": "2021-05-19T23:39:05.057000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We would need to remove that feature if we wanted to move forward with this I think.",
        "created_at": "2021-05-19T23:39:29.004000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "right, and we would have to",
        "created_at": "2021-05-19T23:39:40.221000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Because post-merge you can't run without an eth1 node",
        "created_at": "2021-05-19T23:39:47.996000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Given the 'presumed' current distribution of clients, if *every* prysm client would run without an eth1 endpoint, we would never achieve majority",
        "created_at": "2021-05-19T23:39:50.043000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "you can, if you just validate anything that comes to you, you are not penalized",
        "created_at": "2021-05-19T23:40:23.148000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e at least random is not with simple majority and no validation\nbut I agree that this feature is not sustainable and gives some operators a false sense of requirements today.",
        "created_at": "2021-05-19T23:40:24.138000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "you forgo proposals, but those will not happen too often per validator",
        "created_at": "2021-05-19T23:40:39.848000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "this is a lacune in my mind on the specs",
        "created_at": "2021-05-19T23:40:49.050000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Without proposals you lose ~1/8 of all rewards",
        "created_at": "2021-05-19T23:41:12.444000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Indeed I think the rationale behind random is that voting with the majority (while not having an eth1 endpoint) is just too dangerous",
        "created_at": "2021-05-19T23:41:23.105000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "(it goes up from ~1/32 to 1/8 in Altair)",
        "created_at": "2021-05-19T23:41:23.559000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "In the longer term, we'll also add proof of custody which if you don't run an eth1 node you can't compute",
        "created_at": "2021-05-19T23:41:44.166000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "indeed, but the problem with taking averages is that this doesn't really work for the lone staker, the law of large numbers only applies when you really have enough time or enough validators. For a single staker, getting a lottery ticket every now and then might not be worth the hardware+bandwitdh of running with an eth1 node, if you only plan to stake for about a year and the expected time for proposals is about 2/3 proposals a year",
        "created_at": "2021-05-19T23:43:51.499000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "But in any case I digress, I only meant to reply to Micah with the issue of the random vote",
        "created_at": "2021-05-19T23:44:36.388000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "realistically I think the merge is going to rely on 51%+ honesty with a bit of altruism from validators",
        "created_at": "2021-05-19T23:45:04.690000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "But that's not a big problem",
        "created_at": "2021-05-19T23:45:09.339000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Because validators are heavily incentivized to ensure the merge happens smoothly",
        "created_at": "2021-05-19T23:45:21.039000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Their income increases greatly with tips and MEV being added on top",
        "created_at": "2021-05-19T23:45:32.799000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "(and of course ETH price)",
        "created_at": "2021-05-19T23:45:46.430000+00:00",
        "attachments": null
    }
]