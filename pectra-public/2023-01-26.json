[
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "so basically every genesis validator is going to take second fiddle to ones who deposited later and have 0x01 withdrawal prebaked?",
        "created_at": "2023-01-26T03:52:02.528000+00:00",
        "attachments": null
    },
    {
        "author": "loth111",
        "category": "general",
        "parent": "",
        "content": "Genesis validators got a much higher apy than those that came later. Tradeoffs.",
        "created_at": "2023-01-26T05:32:53.806000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Second fiddle how? There are 16 withdrawals per block in round robin, so at most you have to wait a subtle full round?",
        "created_at": "2023-01-26T08:03:34.923000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "how many BLS change to withdrawal operations are allowed? that was my original question.  Changing from 0x00 to 0x01",
        "created_at": "2023-01-26T16:44:09.798000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "if those are limited, it means every genesis validator would have to wait first to get their change operation then to actually start getting their withdrawal sweeps",
        "created_at": "2023-01-26T16:44:34.225000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "16 a block",
        "created_at": "2023-01-26T16:57:33.492000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Not necessarily longer then they'd have to otherwise",
        "created_at": "2023-01-26T16:57:52.452000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "lets put it another way....",
        "created_at": "2023-01-26T16:58:31.691000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "the first couple sweeps will all be 1.5years+ validators... not anybody from around genesis time, does that sound like a reasonable statement?",
        "created_at": "2023-01-26T16:58:53.541000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Nope",
        "created_at": "2023-01-26T16:59:01.918000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "okay, so explain where my understanding is lacking please",
        "created_at": "2023-01-26T16:59:16.188000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "First block maybe, like, the very first block after Shanghai. I don't know the other of operations (if BLS changes are applied before withdrawal loop processing). If credential changes are applied before withdrawal loop, there definitely can be a few formerly 0x00 in there. And I very much expect the first full withdrawal loop (2 days?) to sweep formerly 0x00 validators",
        "created_at": "2023-01-26T17:02:24.465000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "okay i see your point, but I think you also get mine... generally speaking all genesis validators will have to wait in the 16 operations per slot queue, while anybody depositing later will not",
        "created_at": "2023-01-26T17:07:17.687000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "is this ideal? not entirely... is it a big deal, not entirely either but a minor annoyance",
        "created_at": "2023-01-26T17:07:31.118000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Just checked, and withdrawals are processed before BLS changes, so the loop will indeed start with the first 0x01.",
        "created_at": "2023-01-26T17:09:22.881000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Not sure I'd call \"not starting with genesis validators\" waiting, but I do understand what you mean",
        "created_at": "2023-01-26T17:09:51.752000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "you're right, I was a bit more dramatic, indeed the second sweep could already include 16 original 0x00 withdrawals.  but yes, there is some kind of a waiting entailed for genesis validators and that's a bit of an annoyance/kink in my opinion",
        "created_at": "2023-01-26T17:11:32.094000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "of course my opinion is mostly irrelevant for something that's going to be a one time operation and will resolve itself hopefully within the first week post hard fork",
        "created_at": "2023-01-26T17:11:58.126000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Yeh, it'll take like 1.7 days to get to the genesis validators",
        "created_at": "2023-01-26T17:15:47.269000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "maybe slightly more if a lot of BLS to address changes included in that time are for post first-0x01 validators",
        "created_at": "2023-01-26T17:17:05.467000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "Hi team, is there a way to track the status of the exit queue at real-time?",
        "created_at": "2023-01-26T17:17:31.854000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "every client exposes that in their prometheus metrics and i believe there's also an API call",
        "created_at": "2023-01-26T17:17:59.284000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "``validator_count`` in prometheus if you're using prysm",
        "created_at": "2023-01-26T17:18:52.326000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "can I somehow access it without operating a node?",
        "created_at": "2023-01-26T17:24:39.731000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "is there like a rpc call or sth for that api?",
        "created_at": "2023-01-26T17:24:50.872000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "never mind, there is some stats on https://beaconcha.in/validators",
        "created_at": "2023-01-26T17:29:13.347000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "Withdrawals and BLS changes are two independent things. The BLS pool has nothing to do with the withdrawals queue. Your BLS change is going to be processed quicker if your node/the nodes you are connected to are propose a block quicker. Basically when capella is activated, the BLS change messages are gossiped among all your connected peers and they gonna hopefully re gossip their pool to all their connected nodes. This is how BLS change messages going to be spread among the network. Once one of then nodes that hold your gossiped BLS change message, then they will dequeue 16 change messages and package that into the block. In the meantime, withdrawal sweeps will take place, whether there are BLS changes or not. It will skip all validators that have a BLS key, and make a withdrawal for all addresses that have a 0x01 address.",
        "created_at": "2023-01-26T19:58:56.445000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Yes, but the question is, in the hypothetical case that the validator at index 0 has a BLS change ready and broadcasts at the fork, will they be part of the first round of withdrawals or the second one.",
        "created_at": "2023-01-26T20:00:14.463000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "Second one.",
        "created_at": "2023-01-26T20:02:04.359000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Yep, so that's what the discussion was about ðŸ™‚",
        "created_at": "2023-01-26T20:02:19.554000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "As it will take one epoch to get the bls change propagated.",
        "created_at": "2023-01-26T20:02:21.644000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "Ah okay. Itâ€™s pretty insignificant difference imho.",
        "created_at": "2023-01-26T20:02:39.186000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Epoch? I thought it was block processing",
        "created_at": "2023-01-26T20:02:42.684000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "`process_operations` is called in `process_block`, and it's done so after `process_withdrawals`",
        "created_at": "2023-01-26T20:03:23.170000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/specs/capella/beacon-chain.md#block-processing",
        "created_at": "2023-01-26T20:03:42.294000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "Ah",
        "created_at": "2023-01-26T20:04:11.133000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "You probably are right. Never looked it that closely",
        "created_at": "2023-01-26T20:04:29.311000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "Either way, first or second sweep will make make really no difference in the grand scheme of things.",
        "created_at": "2023-01-26T20:05:43.239000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "I agree, but \u003c@489217181104734219\u003e asked ðŸ˜‰",
        "created_at": "2023-01-26T20:05:58.910000+00:00",
        "attachments": null
    }
]