[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Yes, it's supposed to be `Authorization` header. I think it was gonna become clear from examples but worth explicitly adding to the spec\n\ncc \u003c@!211091239112671234\u003e",
        "created_at": "2022-02-16T05:26:21.004000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Yes it's that header",
        "created_at": "2022-02-16T06:08:17.068000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Here are some testvectors: https://github.com/ethereum/go-ethereum/pull/24364#issuecomment-1041177837",
        "created_at": "2022-02-16T07:04:16.378000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Is there also a reason why we need a separate port for authentication?",
        "created_at": "2022-02-16T17:49:54.772000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "i assume that the other port must be disabled, so why not using the same port?",
        "created_at": "2022-02-16T17:50:16.821000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "or am i assuming wrong? ðŸ™‚",
        "created_at": "2022-02-16T17:51:17.148000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "the normal engine must be on 8550, while authenticated one on 8551, is there a reason?",
        "created_at": "2022-02-16T18:09:53.485000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "The unauthenticated port must be left as is, yes",
        "created_at": "2022-02-16T19:44:55.846000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Otherwise all integration with non-jwt-enabled parties are broken. Browser-interaction, metamask-interaction, or general public RPC endpoint",
        "created_at": "2022-02-16T19:45:56.449000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "So on non-auth, we''ll have the legacy stuff. On auth, we'll have legacy+`engine`",
        "created_at": "2022-02-16T19:46:25.980000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Regarding port numbers. `8545` is the geth default rpc port. `ws`  defaults to `8546`.  Geth supports having them both on the same port. So I'm not sure where `8550` comes from, actually. Regardless, we should have two ports (one for auth-http, one for auth-ws - because it may be easier for clients to not have to support multiplexing http and websockets)",
        "created_at": "2022-02-16T19:53:15.056000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "So I'd rather have legacy (`http:8545`, `ws:8546`) and auth (`http:8550`,`ws:8551`)",
        "created_at": "2022-02-16T19:54:01.800000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Although -- I guess your point was that we could do it all over just one port. Which would be feasible too - by marking a certain websocket connection as 'authenticated', or a certain http query as 'authenticated' or not. That could be done too.",
        "created_at": "2022-02-16T19:56:03.820000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "8550 was meant to be the dedicated engine api port",
        "created_at": "2022-02-16T19:57:49.091000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "When sketching it up, it seemed simpler to separate it. Then people who expose their `8545` port all over internet can avoid jwt guessing attacks.",
        "created_at": "2022-02-16T19:57:50.370000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Ah. Ok. Well then I guess we should simply let `8550` be the authenticated port",
        "created_at": "2022-02-16T19:58:36.758000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Though in the window of time when EL enables it, but before CL supports it, it would be nice to have both in parallel",
        "created_at": "2022-02-16T19:59:06.999000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Otherwise it'll be a pita to do any form of testnet",
        "created_at": "2022-02-16T19:59:27.125000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Or we could let EL take a temporary flag which disables jwt (if CL doesn't yet support it)",
        "created_at": "2022-02-16T20:01:01.527000+00:00",
        "attachments": null
    }
]