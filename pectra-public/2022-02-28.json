[
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I recall hearing that we're using `engine_exchangeTransitionConfigurationV1` as a \"ping\" to ensure users have their EL/CL connected. This seems reasonable to me, I'm wondering if there are any docs about when we should ping? I assume we ping at startup but I'm wondering if ELs expect regular pings?",
        "created_at": "2022-02-28T05:52:00.525000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "From my discussions with \u003c@!758579010027782144\u003e , we can ping whenever we like, ELs haven't put any constraints",
        "created_at": "2022-02-28T05:53:44.057000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but I guess whenever there is a change (or new entry) detected for TTD or terminal block hash or its number, we *should* run this config match",
        "created_at": "2022-02-28T05:54:52.125000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "once the *dust settles* on the merge/terminal config (merge justified), it could be some timer event for http, for websockets it could just be post connection",
        "created_at": "2022-02-28T05:56:37.172000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thats my current understanding ðŸ™‚",
        "created_at": "2022-02-28T05:56:45.973000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'd ping on a regular pace, something like 60 seconds. This looks like a simple approach and shouldn't create an overhead",
        "created_at": "2022-02-28T08:15:30.407000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I recall \u003c@!291925846556540928\u003e saying that weâ€™ll get noise in the EL logs if we donâ€™t ping. Perhaps I got my wires crossed.",
        "created_at": "2022-02-28T08:26:34.978000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Not sure about this. Why do we get noise if we *don't* ping?",
        "created_at": "2022-02-28T08:28:10.958000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I assumed it was some mechanism to ensure that the EL has a CL connected when the time comes.",
        "created_at": "2022-02-28T08:28:47.787000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think no. The noise should happen if exchange ended up in mismatch in configuration params between layers",
        "created_at": "2022-02-28T08:31:13.694000+00:00",
        "attachments": null
    },
    {
        "author": "johnydony",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Kintsugi testnet will be with `klin` meta spec? \nOr other superseeding testnet published?",
        "created_at": "2022-02-28T09:55:43.890000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "there will be a long-lived testnet akin to `kintsugi` but using the `kiln` metaspec. it is not published yet. it's what `devnet-4` is part of building towards",
        "created_at": "2022-02-28T09:58:32.018000+00:00",
        "attachments": null
    },
    {
        "author": "johnydony",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thank you \u003c@!654267572107083777\u003e",
        "created_at": "2022-02-28T11:20:52.061000+00:00",
        "attachments": null
    },
    {
        "author": "johnydony",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So in case of attaching Kintsugi with Klin spec, existing config can be used?\nhttps://github.com/eth-clients/merge-testnets.git",
        "created_at": "2022-02-28T12:08:01.433000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "No there would be new configs released soon. However nothing changes in the format of the configs, just the values will be updated.",
        "created_at": "2022-02-28T12:17:48.427000+00:00",
        "attachments": null
    },
    {
        "author": "johnydony",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thank you!",
        "created_at": "2022-02-28T12:40:58.473000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I would expect a merge ready EL to surface warnings that it's not getting pinged",
        "created_at": "2022-02-28T13:18:21.838000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I suspect this is the most valuable use of this method",
        "created_at": "2022-02-28T13:18:38.597000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "As it is likely clients are released with correct configs",
        "created_at": "2022-02-28T13:18:49.853000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But highly likely users manage to not get them talking correctly",
        "created_at": "2022-02-28T13:19:18.051000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "then we probably need to set some kind of QoS for this request. Like CL should call this method at least once in a minute",
        "created_at": "2022-02-28T13:51:08.105000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Right, fair",
        "created_at": "2022-02-28T14:21:57.837000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Iiuc that is what infura was thinking but maybe I'm wrong",
        "created_at": "2022-02-28T14:22:20.684000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdannyryan\u003e Or at least that clients log when they receive pings and an absence of such logs is a warning to the user",
        "created_at": "2022-02-28T15:38:30.296000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ELs are not necessarily my domain, but I think the ping idea has merit. Specifically, emitting a sad log when thereâ€™s been no ping for N seconds.\n\nThe spec could declare that a CL SHOULD ping on 60s interval and that an EL SHOULD alert the user if it doesnâ€™t receive  a ping after 120s.\n\nSending *anything* to the auth port might also be enough to reset the EL warn timer.",
        "created_at": "2022-02-28T20:26:24.220000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "On a separate topic, I wanted to confirm that CLs are unaware of `TERMINAL_BLOCK_NUMBER`? I see it's a value in `TransitionConfigurationV1` but we're not supposed to be concerned if the `terminalBlockNumber` values mismatch.",
        "created_at": "2022-02-28T22:48:57.742000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've made a PR here to get the conversation started:\n\nhttps://github.com/ethereum/execution-apis/pull/189",
        "created_at": "2022-02-28T23:19:34.468000+00:00",
        "attachments": null
    }
]