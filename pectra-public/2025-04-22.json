[
    {
        "author": "pulp1559",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hi all, was trying to understand about some per el payload limits in the spec. For example: `MAX_CONSOLIDATION_REQUESTS_PER_PAYLOAD=2`. What happens if 3 or more consolidations transactions are included in the same block? only the first 2 are processed by beacon chain and get added to `pending_consolidations`? and the remaining are ignored and need to be resubmitted by the user?",
        "created_at": "2025-04-22T00:50:42.771000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hi \u003c@811686524218900501\u003e, it's impossible for there to be more than 2 consolidation requests in a single block. The limit exists in the [`ExecutionRequests`](https://github.com/ethereum/consensus-specs/blob/1937aff86b41b5171a9bc3972515986f1bbbf303/specs/electra/beacon-chain.md?plain=1#L293) structure, which is [part of the block](https://github.com/ethereum/consensus-specs/blob/1937aff86b41b5171a9bc3972515986f1bbbf303/specs/electra/beacon-chain.md?plain=1#L334). Sort of related to your question, there is [a situation in which consolidation requests are dropped](https://github.com/ethereum/consensus-specs/blob/1937aff86b41b5171a9bc3972515986f1bbbf303/specs/electra/beacon-chain.md?plain=1#L1643-L1648) and a user would need to resubmit them. If (1) the pending consolidations queue is full, which is highly unlikely or (2) if the consolidation churn limit has been reached, which I believe will be pretty common. Something to keep in mind.",
        "created_at": "2025-04-22T01:52:14.022000+00:00",
        "attachments": null
    },
    {
        "author": "pulp1559",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thanks \u003c@592004585506340885\u003e I understood that on CL blocks no more than 2 consolidations can be included and that `PENDING_CONSOLIDATIONS_LIMIT` is unlikely to be reached. But what if a builder/el client puts 3 or more consolidation transaction on the same EL block? If only 2 get included in the CL block, what happens to the 3rd transaction?",
        "created_at": "2025-04-22T02:01:05.468000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hmm I'm not very familiar with the EL side of things. I still don't think it's possible but I'm not sure why. Maybe it's limited by the system contract for consolidations, eg the [`MAX_PER_BLOCK`](https://github.com/ethereum/sys-asm/blob/f1c13e285b6aeef2b19793995e00861bf0f32c9a/src/consolidations/main.eas#L31) constant?",
        "created_at": "2025-04-22T02:15:28.186000+00:00",
        "attachments": null
    },
    {
        "author": "pulp1559",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ohhh you're right, the system contract for consolidations and withdrawals do keep a queue for unvalidated requests üôè thanks for pointing into the right direction",
        "created_at": "2025-04-22T02:24:14.158000+00:00",
        "attachments": null
    }
]