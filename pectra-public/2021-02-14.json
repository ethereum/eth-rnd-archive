[
    {
        "author": "dapplion",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e When syncing Eth2 blocks we do BLS \"batch verification\" where we verify the signatures of 64 blocks (and all signed messages inside those blocks) at a time. This turns out to be significantly faster due to some pairing magic.\n\nWhat's the time reduction factor with BLS batch verfication in your client? I've seen to \"only\" reduce by /2 in my benchmarks",
        "created_at": "2021-02-14T10:48:46.034000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I can't recall, it was a while ago for us. A 2x improvement in verification times seems reasonable. If it will help with Lodestar I can re-run some benches. Notably, we do two types of batch verification:\n\n- When syncing, verifying all the signatures in a \"chain segment\" (64 blocks) at once. This means *all* the signatures in *all* the blocks; proposal, attestations, etc.\n- When following head, verifying all the signatures in a *single* block at once.\n\nI'm happy to share our strategies if you want to reach out in a DM (or here).",
        "created_at": "2021-02-14T12:38:47.539000+00:00",
        "attachments": null
    },
    {
        "author": "dapplion",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks! Sent friend req to dm you",
        "created_at": "2021-02-14T12:50:27.247000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Another place to batch verify (if you want to push it to the limit) is verifying `beacon_aggregate_and_proof` attestations over the wire. We can batch verify the 3 signatures. 1.) selection 2.) aggregator 3.) aggregated attestation. Last time i benchmarked, it's ~20% cpu gains",
        "created_at": "2021-02-14T16:41:07.179000+00:00",
        "attachments": null
    }
]