[
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@555483069038198827\u003e Fun fact I learned a long time ago about byte ordering and human language.  The numbering system we use was cribbed from Arabic IIRC (or some right to left language), but when it was cribbed the order of the numbers wasn't flipped.  This means numbers originally were \"little endian\" in human language, and still are in right to left languages.  So even \"natural\" isn't accurate.  üôÇ",
        "created_at": "2021-10-11T03:38:05.959000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That being said, I think there is value in most-significant-first because it makes skimming easier.  Some high frequency traders will actually leverage big endian by starting processing before they get all bytes off the wire because they only care about the significant bits in some cases.",
        "created_at": "2021-10-11T03:40:24.457000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so difficulty bomb delayed again?",
        "created_at": "2021-10-11T06:13:31.366000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It will be with eip-4345, Arrow Glacier fork.",
        "created_at": "2021-10-11T11:57:38.699000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "when will it happen?",
        "created_at": "2021-10-11T12:05:25.585000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "December. Before the current bomb goes off.",
        "created_at": "2021-10-11T12:06:39.470000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am a small miner I just wanna know when will Ethereum difficulty bomb/ merge will happen so that i can move from mining to staking, i know that no one knows the exact date, but what are speculations for it?",
        "created_at": "2021-10-11T12:07:49.920000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so that i can sell my rigs before it happens",
        "created_at": "2021-10-11T12:08:09.580000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so in December, mining will become very difficulty ?",
        "created_at": "2021-10-11T12:09:09.632000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://eips.ethereum.org/EIPS/eip-4345 i don't understand that why some people say that it will happen in December and some says that bomb will go off in may",
        "created_at": "2021-10-11T12:10:46.907000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There will be a hard fork in December, that will prevent the block time from starting to increase significantlny.",
        "created_at": "2021-10-11T12:44:38.296000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so it mining will start becoming more difficult from dec?",
        "created_at": "2021-10-11T12:47:26.472000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The target block time increases very slowly all the time.  The equation for it is exponential or quadratic (I forget which) though, and December-ish is when things start to increase at rate that is fast enough to actually notice as a human.",
        "created_at": "2021-10-11T12:51:54.965000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The rate of increase will continue to grow until blocks stop getting produced eventually.",
        "created_at": "2021-10-11T12:52:08.346000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "By pushing out the \"bomb\" sometime in December, block times won't ever grow past a tiny amount beyond the core target.",
        "created_at": "2021-10-11T12:52:51.795000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "okay thank you, now i get it, but i still not understand that why this websites mention that difficulty bomb will happen in may 2022? https://eips.ethereum.org/EIPS/eip-4345",
        "created_at": "2021-10-11T12:54:41.461000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is just delaying it.",
        "created_at": "2021-10-11T12:55:03.739000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So instead of it rising to human levels in December 2021, the update will make it rise to human levels in May 2022.",
        "created_at": "2021-10-11T12:55:19.215000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdannyryan\u003e Note that it also says ‚Äú ‚ö†Ô∏è This EIP is not recommended for general use or implementation as it is likely to change. ‚Äú\nAs devs will likely still need to debate the proper target",
        "created_at": "2021-10-11T12:55:42.319000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah, that's what i was asking, is it really going to be delayed ?",
        "created_at": "2021-10-11T12:56:17.233000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdannyryan\u003e It will certainly be pushed back. otherwise the chain will grind to a halt",
        "created_at": "2021-10-11T12:56:46.015000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There will be a hard fork at the end of this year that delays the bomb.  The uncertainty is how long we delay it.",
        "created_at": "2021-10-11T12:56:47.104000+00:00",
        "attachments": null
    },
    {
        "author": "thiccarrdo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ohh i see, my one last question, what is hard fork btw? is it that the difficulty will start and will end in sometime to delay the bomb?",
        "created_at": "2021-10-11T12:58:22.462000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "A hard fork is a patch to all of the clients on the network that goes live simultaneously for everyone.  It is a change in the ruleset for the network.",
        "created_at": "2021-10-11T13:00:50.570000+00:00",
        "attachments": null
    },
    {
        "author": "yorickdowne",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Further discussion maybe in ethstaker discord, miner-hugs.",
        "created_at": "2021-10-11T13:52:12.162000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I sparked unintentionally a debate over endianness but didn't get an answer to my naive question: is there a reason to have `Bytes32` for `base_fee_per_gas` instead of `uintN`? In the latter case, for all purposes within the CL it would be encoded as 32 bytes little endian (as long as N\u003c512) but clients would have to deal with the contents as an arithmetic type.",
        "created_at": "2021-10-11T18:14:46.986000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdannyryan\u003e Uints in ssz are encoded as little endian\nCL doesnt have to do any computation on this value so idea is to just encode it as bytes so that no translation has to occur betwern layers\nOtherwise it would have to be translated as it crosses EL/CL boundary",
        "created_at": "2021-10-11T19:08:53.378000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But if you have it as uint it will still be encoded anyway as 32 bytes little endian, and no translation has to ocurr between layers. And eventually, if the CL actually merges completely and we have to deal with this field, it is better to have it now as an uint than have to change it later.",
        "created_at": "2021-10-11T19:22:34.876000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah, sorry\n\nI am mixing two things",
        "created_at": "2021-10-11T19:23:57.179000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "CL clients don't support int types larger than unit64. No computation is done on the type in CL. Thus to avoid the requirement of a larger type, it uses a forward compatible bytes typing\n\nSuccinct statement by proto to this fact here\nhttps://github.com/ethereum/consensus-specs/pull/2550#pullrequestreview-730802682",
        "created_at": "2021-10-11T19:27:08.163000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think it'd be fine to make it uint256 encoding especially if we avoid computation on it as it's just an encoding format rather than a big-int computational requirement",
        "created_at": "2021-10-11T19:30:09.137000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh ok, thanks, so the computation in the linked issue is that uint64 may actually overflow. And there's no current support for larger integers.. So instead of baking a cap to uint64 on the eth1 side we rather extend to something that can be uint512... but I wander if the same attack happens, whether execution clients will be able to handle the large integers or the same overflow will happen",
        "created_at": "2021-10-11T19:30:37.003000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "they do handle large integers",
        "created_at": "2021-10-11T19:31:02.279000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "all arithmetic in in EL is default 256-bit unless stated otherwise",
        "created_at": "2021-10-11T19:31:16.550000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so EL can handle this without issue",
        "created_at": "2021-10-11T19:31:23.752000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks, this clarifies it all for me at least. And I suppose the eventual change to uint256 is not troublesome",
        "created_at": "2021-10-11T19:31:52.301000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "[side note] I also personally also think that `is_valid_gas_limit()`  should be removed from CL. It is just duplicating logic checks that happen in EL regardless",
        "created_at": "2021-10-11T19:32:06.457000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Saw you in both those threads! ha\n\nbut I had to go look up the discussion for context too üòÖ",
        "created_at": "2021-10-11T19:32:24.700000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it might be reasonable to hoist some EL validations to CL but I don't think they should be formally specified on both sides. Just adds duplicate work and more places to mess things up",
        "created_at": "2021-10-11T19:33:03.694000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah I remembered reading this eventually, but now reading the annotated spec by Vitalik started asking the same questions as before üôÇ",
        "created_at": "2021-10-11T19:33:16.788000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "To send `base_fee_per_gas` to EL via engine API, a CL client  still needs to be able to convert the little endian  bytes representation to an (up to) 256-bit integer string",
        "created_at": "2021-10-11T19:34:44.251000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so the idea that this integer type is totally opaque to the CL is not actually true in practice",
        "created_at": "2021-10-11T19:35:06.230000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(via this engine API method -- https://github.com/ethereum/execution-apis/blob/main/src/engine/specification.md#executionpayload)",
        "created_at": "2021-10-11T19:35:20.009000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cprotolambda\u003e - SSZ supports uint256\n- CL avoids uint256 for now, for simplicity\n- We picked bytes32 in CL, to not deal with uint256 typing\n- We picked little endian here, so we can change from bytes32 to uint256, without changing anything but the type (encoding is the same)\n- The API is tricky though, because the JSON RPC has a distinction between data and quantities. In the JSON-RPC we respect the EL practices, so there it is encoded as a 256 bit quantity, which is big-endian.\n- See earlier discussion and specs issue about overflowing this field if it were a uint64. It would be super expensive, but it's still theoretically within reach, especially if it's performed with ETH on some chain that nobody is going to build on, but which is rather just created to create chaos.",
        "created_at": "2021-10-11T19:35:31.283000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "right -- your second to last point (as I note above) makes it seems less worthwhile to have this bytes32 mis-direct on the CL type",
        "created_at": "2021-10-11T19:36:13.600000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "because the CL client must at least be able to parse the integer value in some fashion for sending to EL",
        "created_at": "2021-10-11T19:36:32.720000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thus CL is aware of 256-bit integer encodings (but not 256-bit integer arithmetic üòÖ )",
        "created_at": "2021-10-11T19:37:43.479000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cprotolambda\u003e Also note that quantities in the API have no leading zeroes. So whatever endianness the bytes32 value is, there's some conversion regardless",
        "created_at": "2021-10-11T19:39:15.384000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The Bytes32 does indeed feel pretty weird in LH.\n\nWe have a Uint256 type that we use to parse the value from the EL, and then cast that into a Bytes32 (with endianness swap).\n\nWe already have SSZ impls for Uint256 since it‚Äôs so easy to reason about in SSZ.",
        "created_at": "2021-10-11T19:40:45.344000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cprotolambda\u003e Defining it as a uint256, but just not using arithmetic on it, so client implementations can be simple for now when necessary, might be best",
        "created_at": "2021-10-11T19:41:51.442000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdannyryan\u003e Thats my gut having revisited it and had this convo",
        "created_at": "2021-10-11T19:42:28.672000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So the comment I left in one of those threads is that after the merge the overflow is impossible, so it's cheaper to keep as uint64, if not having to impose arithmetics with 256 bits is something desirable, we can leave this as 32 bytes for the merge and change back to uint64 even later.",
        "created_at": "2021-10-11T19:45:29.108000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but if using uint256 is not problematic at all, it's cleaner to have it now than to change it later",
        "created_at": "2021-10-11T19:45:59.221000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cprotolambda\u003e I would like uint64 if we can get some harder guarantee that it won't overflow before/during transition.",
        "created_at": "2021-10-11T19:47:10.806000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm pretty sure Teku had to switch base_fee_per_gas to be UInt256 (which we already have) to get interop working. Pretty sure that was how we got the quantity formatting to happen correctly.",
        "created_at": "2021-10-11T20:50:37.884000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "PR to get rid of our not-simplifying bytes32 in favor of a uint256 encoding (but no big-int arithmetic required)\nhttps://github.com/ethereum/consensus-specs/pull/2661",
        "created_at": "2021-10-11T22:37:37.825000+00:00",
        "attachments": null
    }
]