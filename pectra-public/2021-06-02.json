[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Once we agree on the computation formula (there are variants, let's discuss them in the PR) then it's implementation and testing. Overall, the process looks simple and easy to reason about and doesn't require any further research IMO.",
        "created_at": "2021-06-02T06:12:05.250000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Options are\n1) constant (`0`/`1`) -- breaks randomness\n2) `pow_block.difficulty = randao[0:8]` -- short term, can be delivered at the Merge\n3) rename `DIFFICULTY` to `RANDAO` which will return full randao mix -- long term\n\nThe question is: do we want to take the complexity of 3) and deliver it at the Merge? does it make sense?",
        "created_at": "2021-06-02T06:14:28.691000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Also, we should consider weakening of randomness provided by `BLOCKHASH` after the Merge. We won't be able to do anything about that. So, for already existing contracts that rely on `BLOCKHASH` only it could be a problem.",
        "created_at": "2021-06-02T06:16:49.788000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "What's the plan for `BLOCKHASH`? Are we renaming that to `RANDAO`?",
        "created_at": "2021-06-02T10:55:34.235000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "We can't rename it and replace it with random value without breaking existing apps that verify pieces of block data using the hash. We've met some during our initial analysis. This is the only pattern to proving data inclusion in either a block or receipts for dapps. I don't think we may break it.",
        "created_at": "2021-06-02T11:19:10.161000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Setting  `pow_block.difficulty = randao_mix[:8]` is aligned with less intrusive and more simple merge idea. This is why it's under consideration. Otherwise, it would make sense to do `DIFFICULTY -\u003e RANDAO` opcode renaming and make it return full randao mix without any interim solutions.",
        "created_at": "2021-06-02T11:21:59.438000+00:00",
        "attachments": null
    }
]