[
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "For some reason I thought that once bellatrix is reached, the merge _can_ happen once TTD is reached. However the testnet I'm running freezes at that fork slot because it's requesting the execution engine to produce an execution payload, despite it not yet at TTD",
        "created_at": "2021-12-30T04:49:38.111000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "Any ideas?",
        "created_at": "2021-12-30T04:49:44.337000+00:00",
        "attachments": null
    },
    {
        "author": "vishalimishra",
        "category": "general",
        "parent": "",
        "content": "rinkeby faucet prompts insufficient funds",
        "created_at": "2021-12-30T09:30:37.147000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Could you share some info on the testnet? Are you talking about kintsugi or a private/different one? And which client combinations are you running?",
        "created_at": "2021-12-30T12:38:18.164000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cdannyryan\u003e Thats definitely  a bug in a client or a configuration \nYour understanding of how it works is how its spec'd",
        "created_at": "2021-12-30T13:00:31.344000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "It's a private one, i'm trying to create a simulator in hive that runs the complete merge. It's only a combination of geth+lighthouse right now. I assume it's a configuration issue, but I'm not sure where tbh. This is the config.yaml that I'm giving lighthouse:\n```\n[0edeedf3] Supplied config:\n[0edeedf3] PRESET_BASE: mainnet\n[0edeedf3] MIN_GENESIS_ACTIVE_VALIDATOR_COUNT: 64\n[0edeedf3] MIN_GENESIS_TIME: 1606824000\n[0edeedf3] GENESIS_FORK_VERSION: 0xff000000\n[0edeedf3] GENESIS_DELAY: 604800\n[0edeedf3] ALTAIR_FORK_VERSION: 0xff000001\n[0edeedf3] ALTAIR_FORK_EPOCH: 1\n[0edeedf3] MERGE_FORK_VERSION: 0xff000002\n[0edeedf3] MERGE_FORK_EPOCH: 2\n[0edeedf3] SHARDING_FORK_VERSION:\n[0edeedf3] SHARDING_FORK_EPOCH:\n[0edeedf3] TERMINAL_TOTAL_DIFFICULTY: 824242424\n[0edeedf3] SECONDS_PER_SLOT: 1\n[0edeedf3] SECONDS_PER_ETH1_BLOCK: 14\n[0edeedf3] MIN_VALIDATOR_WITHDRAWABILITY_DELAY: 256\n[0edeedf3] SHARD_COMMITTEE_PERIOD: 256\n[0edeedf3] ETH1_FOLLOW_DISTANCE: 1\n[0edeedf3] INACTIVITY_SCORE_BIAS: 4\n[0edeedf3] INACTIVITY_SCORE_RECOVERY_RATE: 16\n[0edeedf3] EJECTION_BALANCE: 16000000000\n[0edeedf3] MIN_PER_EPOCH_CHURN_LIMIT: 4\n[0edeedf3] CHURN_LIMIT_QUOTIENT: 65536\n[0edeedf3] DEPOSIT_CHAIN_ID: 1\n[0edeedf3] DEPOSIT_NETWORK_ID: 1\n[0edeedf3] DEPOSIT_CONTRACT_ADDRESS: 0x4242424242424242424242424242424242424242\n[0edeedf3] TERMINAL_BLOCK_HASH: 0x0000000000000000000000000000000000000000000000000000000000000000\n[0edeedf3] TERMINAL_BLOCK_HASH_ACTIVATION_EPOCH: 18446744073709551615\n```",
        "created_at": "2021-12-30T14:37:11.386000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "Seems like there are two relevant errors I'm currently seeing:\nAs soon as the beacon chain starts, it seems say no valid `eth1_data` votes. I have set the beacon genesis 5 minutes after the eth1 genesis and the follow distance to 1 eth1 block. I'm confused why I'm still getting this error.\n```\nERRO No valid eth1_data votes, `votes_to_consider` empty, outcome: casting `state.eth1_data` a\ns eth1 vote, genesis_time: 1640874931, earliest_block_timestamp: 1640874691, lowest_block_number: 0, service: eth1_rpc\n```\nThis is the error that starts at slot 64 (I set bellatrix to kick in epoch 2):\n```\nCRIT Error whilst producing block            message: All endpoints failed http://172.17.0.6:4\n000/ =\u003e RequestFailed(\"Error from beacon node when producing block: ServerMessage(ErrorMessage { code: 500, message: \\\"UNHAND\nLED_ERROR: ExecutionLayerMissing\\\", stacktraces: [] })\"), service: block\n```",
        "created_at": "2021-12-30T14:41:10.946000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "When I query the beacon node's head, it continues returning 63 over and over again as if it is not progressing due to this",
        "created_at": "2021-12-30T14:41:38.472000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "related: is there a spec for the testnet folder config that isn't in an archive repo? https://github.com/ethereum/eth2.0-pm/blob/f1faca34b712b21602437b7627192cb9ba64edff/interop/deposit_contract_testnets/README.md",
        "created_at": "2021-12-30T14:44:41.205000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e are you embedding a valid eth1 starting point in the genesis beacon state? And is the RPC connected? And correct port? There's quite a bunch of things that could go wrong if you are setting up a new testnet.\n\nBtw, I already made a lighthouse-geth pre-merge simulator. Forking/extending that one would help save you some setup problems. For that simulator to work with the merge I think the only changes would be updating ZRNT dependency (config and state format), setting the fork epoch / TTD, and switching lighthouse to new engine API endpoint.",
        "created_at": "2021-12-30T16:05:47.496000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "probably not, i'm just building off the pre-merge simulator you made",
        "created_at": "2021-12-30T16:06:34.269000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Can I follow your changes somewhere?",
        "created_at": "2021-12-30T16:06:54.765000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "yes i have a draft pr here: https://github.com/ethereum/hive/pull/495",
        "created_at": "2021-12-30T16:08:35.855000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "let me push my current wip",
        "created_at": "2021-12-30T16:08:42.281000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Also, let's discuss in \u003c#910910348922589184\u003e or in DM",
        "created_at": "2021-12-30T16:08:44.715000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Do all the clients use the RPC port for the engine (instead of previous user RPC port) yet? Maybe \u003c@!199561711278227457\u003e knows? In the \u003c#910910348922589184\u003e channel it just passed by as one possible configuration issue. And in the new year we should sort out the authentication/protection of this separate endpoint.",
        "created_at": "2021-12-30T17:28:35.128000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Yup, all of the ELs I'm running use the same port. Not sure what the status of separating the port/auth/protection is, but I agree it needs to be a priority.",
        "created_at": "2021-12-30T17:34:12.480000+00:00",
        "attachments": null
    }
]