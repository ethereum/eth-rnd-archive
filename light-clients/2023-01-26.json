[
    {
        "author": "uink45",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hey \u003c@881905303011086387\u003e, in the following function, if `store.best_valid_update.finalized_header` is being set to `store.best_valid_update.attested_header`, then wouldn't `store.best_valid_update.finality_branch` need to be modified as well so the proof corresponds to `store.best_valid_update.attested_header`? Function:\n```\ndef process_light_client_store_force_update(store: LightClientStore, current_slot: Slot) -\u003e None:\n    if (\n        current_slot \u003e store.finalized_header.beacon.slot + UPDATE_TIMEOUT\n        and store.best_valid_update is not None\n    ):\n        # Forced best update when the update timeout has elapsed.\n        # Because the apply logic waits for `finalized_header.beacon.slot` to indicate sync committee finality,\n        # the `attested_header` may be treated as `finalized_header` in extended periods of non-finality\n        # to guarantee progression into later sync committee periods according to `is_better_update`.\n        if store.best_valid_update.finalized_header.beacon.slot \u003c= store.finalized_header.beacon.slot:\n            store.best_valid_update.finalized_header = store.best_valid_update.attested_header\n        apply_light_client_update(store, store.best_valid_update)\n        store.best_valid_update = None\n```",
        "created_at": "2023-01-26T05:20:32.987000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "In theory, yes, but `apply_light_client_update` doesn't look at `finality_branch`, and the `best_valid_update` is deleted after applying it",
        "created_at": "2023-01-26T08:26:40.138000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There are folks exploring that, actually, wouldn't dismiss it as unfeasible yet",
        "created_at": "2023-01-26T08:27:43.201000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/beacon-APIs/pull/293\nbeacon-APIs updated for Capella light client endpoints",
        "created_at": "2023-01-26T16:22:56.058000+00:00",
        "attachments": null
    }
]