[
    {
        "author": "jeremyakatsa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@539495253418180618\u003e \u003c@646424665572507648\u003e Any chance you guys can record the calls and post them online somewhere for others to review/comment on? \n\nSome people (due to time constraints) cannot attend those zoom calls at said times…",
        "created_at": "2021-10-14T01:11:45.099000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Sure. We can record the relevant meetings in the future.",
        "created_at": "2021-10-14T01:15:46.787000+00:00",
        "attachments": []
    },
    {
        "author": "jeremyakatsa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Awesome.",
        "created_at": "2021-10-14T01:36:14.758000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "what was the verdict? I got the impression most cohort participants wanted to work on the portal network, perhaps because of Piper's presence. I'd be more interested in BC light-clients cause those can be out of paper right now and be deployed before the merge without any intervention from teams (or at least without any consensus changes).",
        "created_at": "2021-10-14T11:31:57.614000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I missed the call, but if anyone is planning a C++ version of such a client, I'd help",
        "created_at": "2021-10-14T11:32:25.590000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "No particular verdict, I think the CDAP participants just wanted to hear more, think they are going to consider their own path forward, we are here to support them where we can",
        "created_at": "2021-10-14T11:33:02.946000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah the point of relative timing came up — we can build beacon chain light clients today, portal network is a larger effort and still evolving from what I can tell",
        "created_at": "2021-10-14T11:34:13.775000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It may even be that the portal network benefits from efforts in having a finished BC light client",
        "created_at": "2021-10-14T11:34:54.997000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Most consensus teams have some kind of beacon chain light client in the works (or even ready for mainnet, lodestar)",
        "created_at": "2021-10-14T11:35:10.614000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm only aware of chainsafe's, didn't know of others. Only heard from prysm but wasn't public",
        "created_at": "2021-10-14T11:35:47.819000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah we discussed the idea of the portal network acting as a data source for the consensus light client",
        "created_at": "2021-10-14T11:35:49.092000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Right, this came up the other day in \u003c#595721451651465227\u003e arguing with \u003c@!301186049323958275\u003e",
        "created_at": "2021-10-14T11:36:15.699000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "This is what I was alluding to with “big design space” above",
        "created_at": "2021-10-14T11:36:18.290000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So is the understanding correct that BC light clients plus some way of solving data-availability would be the main goal to attain?",
        "created_at": "2021-10-14T11:37:17.702000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and that the Portal Network would solve the data-availability problem for those clients.",
        "created_at": "2021-10-14T11:37:35.016000+00:00",
        "attachments": []
    },
    {
        "author": "_jmc_.",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "We didnt come to a conclusion in the call yesterday but imho a possible route forwards for the cdap group is to split into two branches, one aiming to spec out and build a BC light client on the existing p2p network and maybe a separate branch exploring how the portal network could become a de facto light client server later. We'll chat about it in our next call and see how things fall out.",
        "created_at": "2021-10-14T14:08:19.888000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "If anyone successfully wraps their head around the two ideas and how they may relate to each other (traditional beacon chain light client approach and whatever ideas there are for portal network based things) I'd be really interested in seeing that (and reading it) as a written up document that tried to capture all the moving parts.",
        "created_at": "2021-10-14T14:42:23.744000+00:00",
        "attachments": []
    },
    {
        "author": "jeremyakatsa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I’m already 2+ weeks into building out a version of the BC light client prototype, so I can continue being part of that branch for the P2P network.",
        "created_at": "2021-10-14T16:32:52.041000+00:00",
        "attachments": []
    },
    {
        "author": "_jmc_.",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Hi Jeremy, awesome - we should arrange a chat in a time zone that works for you so we can coordinate",
        "created_at": "2021-10-14T16:44:19.520000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I am writing up something of this sort. I will share with you next week after I gather more information.",
        "created_at": "2021-10-14T17:04:27.535000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Very quickly, I think there could be three separate efforts.\n1. beacon-chain light-client core client-side logic\n2. beacon-chain light-client networking/RPC layer, similar to LES\n3. portal network as a data source for beacon-chain\n\nThe easiest approach to building a functioning BC light client is probably 1+2. However, 1+3 is might be a more robust long term strategy. If we could coordinate the design, it would be best if we could build 1+2 in such a way that `2` could be swapped out easily and replace with it `3` later on.",
        "created_at": "2021-10-14T17:04:46.217000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "As far as I could gather,\n- Lodestar already has a prototype that contains elements of `1` and `2` https://hackmd.io/hsCz1G3BTyiwwJtjT4pe2Q?view\n\n- Prysm is starting an effort along the path of `1+2`.  https://github.com/prysmaticlabs/prysm/compare/light?expand=1 \n- We do not have the specs written out for the subprotocols to support `3` (portal network).",
        "created_at": "2021-10-14T17:08:36.096000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "IIUC: `1` is more about the logic for how to take the data from `2` or `3` and determine the canonical chain.  `2` and `3` are alternative ways to get the necessary protocol data in a manner that is provable/verifyable/etc.",
        "created_at": "2021-10-14T17:27:38.325000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yup, that is correct. `1` could be considered all client side logic. `2` and `3` are alternative ways to get the necessary data from peers.",
        "created_at": "2021-10-14T17:32:39.595000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "If we could coordinate the design effort, we could make it such that both a **light-client** or **portal-light-client** could take advantage the same client side logic.",
        "created_at": "2021-10-14T17:33:53.687000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Or we could build two things `1+2`  (light-client), and then `1'+3` (portal-light-client)",
        "created_at": "2021-10-14T17:34:20.426000+00:00",
        "attachments": []
    },
    {
        "author": "_jmc_.",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I think the client side logic for determining the canonical chain is fairly established as the current and upcoming sync committees are reported in the block headers so the block signatures can be verified. What is less clear (maybe just to me, maybe generally) is how beacon nodes will serve merkle branches to light clients making requests for specific execution data.",
        "created_at": "2021-10-14T17:38:28.442000+00:00",
        "attachments": []
    },
    {
        "author": "djrtwo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "food for thought on how to serve data wrt (1). A gossip channel (one for per-slot, and one for per-epoch) for light-client updates would make quite a bit of sense for light  clients continually following the head. Rather than relying on a server for each update. Gossip for such updates would require just one actor to seed the gossip channel with the update",
        "created_at": "2021-10-14T17:40:57.786000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the client-side logic will be more than just updating to the latest header.",
        "created_at": "2021-10-14T17:40:58.707000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "client-side work could be: updating header, using and constructing proofs, chain reorg, etc. Maybe, a light-client could replace a full client for someone who is running a validator node. If all of those codes are sufficieintly de-coupled from the \"p2p\" layer, then the light-client could evolve the p2p layer.",
        "created_at": "2021-10-14T17:46:14.556000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "that is good idea.",
        "created_at": "2021-10-14T17:48:27.953000+00:00",
        "attachments": []
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "it is a slight lean toward what the portal network. we could just create these gossip channels/subnet as part of the portal network.",
        "created_at": "2021-10-14T17:50:33.878000+00:00",
        "attachments": []
    },
    {
        "author": "jeremyakatsa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I can continue working on the logic (in Java [based off the Consensys Teku protocol])… Will sift through all this info.",
        "created_at": "2021-10-14T18:26:30.642000+00:00",
        "attachments": []
    },
    {
        "author": "trent_vanepps",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://twitter.com/ChainSafeth/status/1448725445038518273?s=20",
        "created_at": "2021-10-14T21:57:07.463000+00:00",
        "attachments": []
    }
]