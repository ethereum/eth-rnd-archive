[
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/specs/altair/light-client/p2p-interface.md\n\u003e The gossip ForkDigestValue is determined based on `compute_fork_version(compute_epoch_at_slot(finality_update.attested_header.beacon.slot))`.\n--\u003e attested header",
        "created_at": "2025-03-24T11:22:07.221000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "there are tests for this, btw. https://github.com/ethereum/consensus-specs/blob/dev/tests/formats/light_client/sync.md",
        "created_at": "2025-03-24T11:22:34.596000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and, https://github.com/ethereum/consensus-specs/blob/dev/tests/formats/light_client/data_collection.md (for the server side if you are locally collecting the LC data as a BN)",
        "created_at": "2025-03-24T11:23:13.289000+00:00",
        "attachments": null
    },
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks \u003c@881905303011086387\u003e",
        "created_at": "2025-03-24T11:26:04.754000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "np. and also, keep in mind there can be slots without blocks. the situation you describe can happen not only in the first slot of a new fork.\nthe tests are quite exhaustive and cover scenarios where `finalized_header`, `attested_header`, `fork_version_slot`, and `signature_slot` all come from four different forks.",
        "created_at": "2025-03-24T11:41:55.265000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "that way, it will still work even if there happens to be an emergency fork in some future where forks are not 8192-slot aligned (Altair for example also wasn't 8192 slot aligned)",
        "created_at": "2025-03-24T11:44:12.737000+00:00",
        "attachments": null
    },
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "nice. I will try the tests.",
        "created_at": "2025-03-24T11:45:31.657000+00:00",
        "attachments": null
    }
]