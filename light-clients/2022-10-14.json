[
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Btw I renamed the repo to Kevlar and publicly announced the project https://twitter.com/shresth3103/status/1580735567075377152",
        "created_at": "2022-10-14T01:46:28.457000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Is it also based on the light client data provided in https://github.com/ethereum/consensus-specs/blob/dev/specs/altair/light-client/p2p-interface.md\n\nor are you using separate way of obtaining the data?",
        "created_at": "2022-10-14T13:33:27.995000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "As I started before this was finalized I used the lodestar api but in the next steps I would like to use the standard libp2p api",
        "created_at": "2022-10-14T13:34:47.897000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Most think are very modular so it should be very easy to switch",
        "created_at": "2022-10-14T13:37:16.524000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "OK, so all the extra ‚Äúprover nodes‚Äù are not needed technically. Will give you a shoutout as well in my talk.",
        "created_at": "2022-10-14T14:20:18.769000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/beacon-APIs/pull/247\nrest is also standardized btw",
        "created_at": "2022-10-14T14:21:09.327000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "portal network is still an open PR",
        "created_at": "2022-10-14T14:21:32.545000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://app.devcon.org/schedule/NENCP9",
        "created_at": "2022-10-14T14:21:41.918000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Aah the prover nodes are currently needed for the optimistic sync. I was too lazy to fork the lodestar and add the api so I created separate provers which are themselves light clients. So to the run the sync protocol based light client no extra provers are needed",
        "created_at": "2022-10-14T14:25:46.962000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Thanks for the shoutout. Feel free to reach out to me if you need any other information",
        "created_at": "2022-10-14T14:26:17.949000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "OK, so just lmk if I should mention it as an implementation or not. The talk is about the base protocol, not about any zk based layers on top. Seems like you are there",
        "created_at": "2022-10-14T14:26:48.791000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "its alright if it still needs some updating to latest routes",
        "created_at": "2022-10-14T14:27:29.251000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "No, the idea is build a light client based RPC proxy with is abstracted from how the sync happens",
        "created_at": "2022-10-14T14:27:48.249000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You can mention it in the talk I think",
        "created_at": "2022-10-14T14:28:04.705000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yeah but I mean, the proxy itself connects to the LC api and not a different api for obtaining latest head, right?",
        "created_at": "2022-10-14T14:28:25.650000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "(the lodestar one is very close to the official LC api, so its alright if its that one)",
        "created_at": "2022-10-14T14:29:12.293000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yaah",
        "created_at": "2022-10-14T14:29:12.453000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yaah",
        "created_at": "2022-10-14T14:29:24.495000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There are two implementation for the light client to sync: Sync Protocol and Optimitic Sync Protocol. Only the Optimitic Sync protocol need those provers. But the normal Sync Protocol doesn't need those provers and is just using the lodestar api",
        "created_at": "2022-10-14T14:31:17.542000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You can specify which sync method to use by `--client light` or `--client optimistic`",
        "created_at": "2022-10-14T14:32:18.844000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "OK that's great. Yeah, the regular one is the one that the talk is about. Will mention your implementation as well üôÇ Thanks for the explanations!",
        "created_at": "2022-10-14T16:06:43.834000+00:00",
        "attachments": null
    },
    {
        "author": "dapplion",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That's really cool! Good to see progress on this area",
        "created_at": "2022-10-14T20:06:15.406000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@688748669268132001\u003e and \u003c@881905303011086387\u003e you guys should try the tool! Both of you have been very helpful for the development  of this tool. You guys answered multiple of my questions regarding Ethereum specifications",
        "created_at": "2022-10-14T20:12:01.354000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@563394111214714881\u003e Really cool project. I'm currently integrating it with Chauffeur, the self-hosted ENS gateway (from eth.limo). \n\nWhen you get a chance, could you take a look at https://github.com/shresthagrawal/kevlar/pull/4 ? It'd be nice to be able to target a docker image under your dockerhub username, instead of using my own.",
        "created_at": "2022-10-14T20:54:49.516000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@213402680637259777\u003e amazing! I will check it out soon",
        "created_at": "2022-10-14T21:41:42.809000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes, the help was important! Do you folks mind if we include you on our paper acknowledgements? What are the preferred names we should use?",
        "created_at": "2022-10-14T22:01:06.394000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I've been digging into how Kevlar works, and I'm super excited about it. However, question, doesn't this move the trust assumptions into eth_createAccessList?",
        "created_at": "2022-10-14T22:01:19.137000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "We're getting it peer reviewed and published on a major academic conference very soon.",
        "created_at": "2022-10-14T22:01:23.712000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So the access list is used to know which accounts will be required for eth_call and eth_estimateGas. But every data that is pushed into the EVM state manager is verified using Merkle Inclusion proof. If eth_createAccessList returns extra accounts it doesn't hurt as they will not be used. If eth_createAccessList misses some accounts that will be used in the eth_call then ideally evm statemanager should throw the error. This is not implemented yet but it should not be very difficult to implement this",
        "created_at": "2022-10-14T22:44:11.306000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Feel free to reach out if you have more questions regarding the tool",
        "created_at": "2022-10-14T22:45:12.690000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "What I'm wondering is if the response of eth_createAccessList is semantically verified against the state root in some way that's tamper resistant? How is the access list associated with the specific contract call data in a way that doesn't presume that the RPC provider is honest?",
        "created_at": "2022-10-14T22:48:12.408000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So the idea is to get the verified results of eth_call and eth_estimateGas. A naive approach is to simply run an evm with a custom state manager and every time there is a storage or code access, you simply get the account, storage and do a merkle inclusion proof. But this will be extremely slow",
        "created_at": "2022-10-14T22:51:34.098000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "To avoid this you would like to preload the evm with everything you would need",
        "created_at": "2022-10-14T22:51:54.110000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "You can use the createAccessList to know everything that is required for the eth_call before hand",
        "created_at": "2022-10-14T22:52:37.569000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Fetch everything in batches, load it into the evm and then run the eth_call",
        "created_at": "2022-10-14T22:52:54.077000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "This is much faster and easier to implement",
        "created_at": "2022-10-14T22:53:06.821000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "If I'm a malicious RPC, could I not respond to eth_createAccessList with data that's within the state tree, but isn't actually the data that an honest RPC would respond with? Or is there there a relationship between each piece of EVM state, and a determinstic entrypoint, such that running the eth_call with tampered data would fail?",
        "created_at": "2022-10-14T22:55:58.656000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So as an Malicious RPC you can either respond with Extra items or less items in the access list",
        "created_at": "2022-10-14T22:57:12.112000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "extra items are not a problem, it might make the things slower",
        "created_at": "2022-10-14T22:57:29.833000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "less items could be fixed on the evm level by saying if any item outside the ones we have loaded is accessed please throw an error",
        "created_at": "2022-10-14T22:58:02.120000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "does this make sense?",
        "created_at": "2022-10-14T22:58:43.823000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That part does make sense. My intuition is that this isn't easily tampered with because there's a cryptographic relationship between all of the state, and the entrypoint to a call is determined by the contract address and method signature, such that a set of parameters will traverse the provided EVM state deterministically. Just trying to actually verify that before accepting it as a valid security assumption. üôÇ",
        "created_at": "2022-10-14T23:01:37.424000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\"Isn't easily\" is really \"isn't, unless there's a hash collision found\"",
        "created_at": "2022-10-14T23:03:49.177000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "On the availability side of things (to make sure we receive enough data and are not eclipsed), it may make sense to connect to multiple RPCs in the future",
        "created_at": "2022-10-14T23:04:39.842000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes",
        "created_at": "2022-10-14T23:05:39.430000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah, it would be good to surface that clearly in the README as a consideration. When I first started digging in, it wasn't immediately obvious that this was using a third-party RPC that would need to have eth_createAccessList and eth_getProof support.",
        "created_at": "2022-10-14T23:06:00.649000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes",
        "created_at": "2022-10-14T23:06:17.010000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Some of our architecture is discussed in the paper.",
        "created_at": "2022-10-14T23:06:20.936000+00:00",
        "attachments": null
    },
    {
        "author": "shresth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "we are working on this",
        "created_at": "2022-10-14T23:06:21.877000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "(Although not every detail on the engineering side of things that is Ethereum-specific)",
        "created_at": "2022-10-14T23:06:37.270000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Overall I'm very impressed. I might rejigger some of this for a specific use-case of proving ENS resolutions, such that we can surface that proof in eth.limo's responses.",
        "created_at": "2022-10-14T23:07:17.110000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "https://arxiv.org/pdf/2209.08673.pdf",
        "created_at": "2022-10-14T23:07:34.496000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Check page 10.",
        "created_at": "2022-10-14T23:07:37.147000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Happy to help out if you need anything. Please submit issues (or PRs!) if you face any problems!",
        "created_at": "2022-10-14T23:08:22.331000+00:00",
        "attachments": null
    },
    {
        "author": "frozenfire.eth",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Do you guys have a Discord/TG/elsewhere? Thinking about how to make this more production-ready, but those thoughts might be too low signal for here. üôÇ",
        "created_at": "2022-10-14T23:16:34.072000+00:00",
        "attachments": null
    }
]