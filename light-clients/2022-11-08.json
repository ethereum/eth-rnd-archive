[
    {
        "author": "philngo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "We're really close to pushing `v1.2.0` of Lodestar which includes serving light client data via p2p from our full node implementation: https://github.com/ChainSafe/lodestar/pull/4365. We host some public endpoints for light client implementers to consume the data if you didn't want to run Lodestar yourself and will try to start pushing light client gossip to help devs out. Will definitely share details to help with you guys implementing p2p once we're there!",
        "created_at": "2022-11-08T00:22:37.327000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@578356786889752586\u003e we're very interested in pushing superlight RPC endpoints to lodestar (in addition to light endpoints)",
        "created_at": "2022-11-08T00:32:16.600000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Awesome, will DM you to dig deeper with Lodestar team",
        "created_at": "2022-11-08T00:47:55.096000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003cjoeand1\u003e Hi all, does anyone know where I can find an explanation of why light clients became much easier in PoS Ethereum? The  announcement from A16Z said Helios was only possible due to the merge, but I can't find anymore information on why that is the case",
        "created_at": "2022-11-08T02:37:56.398000+00:00",
        "attachments": null
    },
    {
        "author": "dionyziz",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@578356786889752586\u003e best to talk here so that \u003c@563394111214714881\u003e can be involved also!",
        "created_at": "2022-11-08T03:37:32.471000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003cDolshansky\u003e I've been thinking about proposing that Pocket add a chain ID for ETH clients that can support light client.\n\nWe currently handle ~200MM daily ETH requests, but there is no differentiation of the consensus client relaying the RPC request.\n\nBy adding it, we could create an incentive for the network's node runners to use either the nimbus or lodesta, and others in the future.\n\nI've already created a ticket internally to get others thinking about it, but wec ould also go via the DAO path (https://forum.pokt.network/) if others here see benefit in it as well.",
        "created_at": "2022-11-08T03:53:44.776000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Do you have a short writeup/blog/doc about the trust model/verification mechanism you are using?",
        "created_at": "2022-11-08T04:08:52.920000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Wrote a blog post that goes into a couple of the mechanisms in which it works, but doesn't go crazy deep: https://t.co/BXtuBStKVV",
        "created_at": "2022-11-08T04:10:31.570000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "But happy to answer any deeper questions about how it works",
        "created_at": "2022-11-08T04:10:51.090000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Am I correct in understanding that the root of trust is a beacon blockhash within the weak subjectivity period?",
        "created_at": "2022-11-08T04:12:28.391000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yep",
        "created_at": "2022-11-08T04:12:39.289000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "How does the user provide that beacon blockhash and/or where is it sourced from?",
        "created_at": "2022-11-08T04:12:56.530000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "So if the user doesn't provide it, there's a hard coded value. Once the client starts though, it will cache the most recently valid finalized checkpoint hash for future use. Of course this has some problems since if the user doesn't turn their node on for greater than two weeks you can be tricked",
        "created_at": "2022-11-08T04:14:28.805000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "What happens in that scenario?",
        "created_at": "2022-11-08T04:14:42.183000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Is the user told to go download an updated client, or is there a way for theme to provide a beacon blockhash?",
        "created_at": "2022-11-08T04:14:57.418000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "There is a --checkpoint flag where you can set it yourself",
        "created_at": "2022-11-08T04:15:27.765000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Any thoughts on how this would be acquired for apps that want to embed this into their app (e.g., as WASM)?",
        "created_at": "2022-11-08T04:16:05.049000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\"An exercise for the integrator\" is an acceptable answer here.  ðŸ˜…",
        "created_at": "2022-11-08T04:16:22.855000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah that's my thought. I think depending on the platform you have some options. Could just cache it in the browsers local storage or something",
        "created_at": "2022-11-08T04:17:16.371000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Do you require a custom RPC server, or are you leaning on `eth_getProof` for the merkle proofs for state?",
        "created_at": "2022-11-08T04:17:22.026000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Leaning on eth_getProof",
        "created_at": "2022-11-08T04:17:34.630000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "And a few other requests. Make heavy use of access lists as well",
        "created_at": "2022-11-08T04:17:48.503000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Do you have any idea on the network data volume required to utilize an app like Uniswap?",
        "created_at": "2022-11-08T04:17:57.328000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Merkle proofs can get crazy big for complex eth_calls...",
        "created_at": "2022-11-08T04:18:37.036000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Unfortunately somewhat high, when the Uniswap app starts up, it makes a multi call to fetch like 250+ token balances. This call takes a full 10 seconds to complete due to alchemy rate limits",
        "created_at": "2022-11-08T04:18:56.242000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "But that's the only time I've seen calls take more than like 2 seconds",
        "created_at": "2022-11-08T04:19:19.528000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah, that is my primary concern with this approach and why I think many haven't built it.  I think everyone is waiting for Verkle trees before going hard on light clients for this exact reason.",
        "created_at": "2022-11-08T04:19:42.253000+00:00",
        "attachments": null
    },
    {
        "author": "ncitron",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yeah I agree. Anxiously waiting for the verge",
        "created_at": "2022-11-08T04:20:37.265000+00:00",
        "attachments": null
    },
    {
        "author": "claravanstaden",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Great article! Why greater than 2 weeks, specifically?",
        "created_at": "2022-11-08T09:03:26.855000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That is the weak subjectivity period length (approximately) I think.",
        "created_at": "2022-11-08T09:15:00.362000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "IIUC, an attacker can withdraw enough staked ETH over this period such that they could make you follow the wrong chain during syncing, but since they have withdrawn they cannot be punished.",
        "created_at": "2022-11-08T09:15:58.211000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I believe it is a function of the speed at which validators can withdraw.",
        "created_at": "2022-11-08T09:16:09.080000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "(hopefully someone corrects me if I'm wrong about this!)",
        "created_at": "2022-11-08T09:16:37.137000+00:00",
        "attachments": null
    },
    {
        "author": "claravanstaden",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I also think so. I was wondering if this points to some specific validator withdrawal period parameter.",
        "created_at": "2022-11-08T09:20:48.496000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003cDolshansky\u003e I believe the unbinding period is 3 weeks atm",
        "created_at": "2022-11-08T14:26:37.829000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@881905303011086387\u003e could you please give me an idea how `ExecutionPayloadHeader` is gonna be obtained by light client, re: https://github.com/ethereum/execution-apis/pull/318. The problem I can see is that this header exists either in the state or in the form of a full `ExecutionPayload` included into beacon block body. Is it planned to extend Light Client protocol with execution payload header information and the corresponding proof linked to beacon block root?",
        "created_at": "2022-11-08T14:34:32.083000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Yes, the LC protocol will be extended to serve `ExecutionPayloadHeader`. \nMy current draft is here: https://github.com/etan-status/consensus-specs/commit/lc-eph\nCheck file `specs/capella/light-client/sync-protocol.md` and `specs/capella/light-client/full-node.mod`",
        "created_at": "2022-11-08T14:55:21.744000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "5e05cacd82615c0795cd594777310c1ab3ada13124bac777abf458e7a2fb3223"
            }
        ]
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Currently, for it to be useful in driving LES, the RLP `transactions_hash` and RLP `withdrawals_hash` would be needed as well, so that LES can derive the full execution block header from the LC data",
        "created_at": "2022-11-08T14:56:20.703000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "For the light client, it is not reasonable to expect downloading full blocks, hence just including the `ExecutionPayloadHeader` is the goal there.",
        "created_at": "2022-11-08T15:06:14.915000+00:00",
        "attachments": null
    }
]