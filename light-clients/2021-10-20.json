[
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "As suggested by \u003c@!364458974906548225\u003e , I wrote up a post on how to think about classify different level of beacon chain light client.",
        "created_at": "2021-10-20T19:09:17.736000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "See: https://ethresear.ch/t/beacon-chain-light-client-classification/11061",
        "created_at": "2021-10-20T19:09:20.567000+00:00",
        "attachments": null
    },
    {
        "author": "jeremyakatsa",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "This is awesome man. Great work!",
        "created_at": "2021-10-20T19:10:55.817000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I am going to write up another post that discusses the interplay between \"input data\" and \"networking\".",
        "created_at": "2021-10-20T19:11:41.829000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "The goal for these posts is to allow someone to more easily define a \"light client proposal\". That is, a light client implementation proposal should at least define two things: 1) what APIs is it capable of answering 2) where does it get its input data from.",
        "created_at": "2021-10-20T19:13:54.518000+00:00",
        "attachments": null
    },
    {
        "author": "dtb_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "continuing yesterday's convo and \"level 3\" -- tbd if this case is possible, but in ideal world, it would be. however, in order to determine the set of validators attesting to or proposing blocks in each slot, a light client would need to have access to the entire state of validators to then compute attesters/proposers...which would make it much to heavy, right? just curious if/how this computation could be enabled without storing the full validator list",
        "created_at": "2021-10-20T19:48:03.140000+00:00",
        "attachments": null
    },
    {
        "author": "dtb_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "obviously, its an idea for the future state and not fully baked...just wondering if there's any thought as to how to make it possible",
        "created_at": "2021-10-20T19:48:17.820000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "It is possible that level 3 is a stretch; more details probably need to work out there....The attesting client only needs to know which (epoch-slot) he is assigned to and attest the blocks associated with that slot.",
        "created_at": "2021-10-20T19:51:18.436000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I have to double check the \"committee assignment\" algorithm to see how much beacon-chain state information it requires to perform that calculation. But my hunch is that it shouldn't require the full validator list.",
        "created_at": "2021-10-20T19:52:51.373000+00:00",
        "attachments": null
    },
    {
        "author": "dtb_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Gotcha, yeah I guess an \"attesting light client\" could be told what their attestation duties are and wouldnt need state for that...there'd need to be no finality delay tho such that they could be told their duties in real-time. Not my expertise on that aspect lol still learning networking. However, at least in the current specs, computing the beacon or sync committee would require full beacon state https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/beacon-chain.md#get_beacon_committee",
        "created_at": "2021-10-20T20:02:18.121000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Here is the post on light-client networking. https://ethresear.ch/t/beacon-chain-light-client-networking/11063",
        "created_at": "2021-10-20T20:52:35.145000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Look at `compute_committee` and `compute_shuffled_index`.",
        "created_at": "2021-10-20T20:53:55.355000+00:00",
        "attachments": null
    },
    {
        "author": "dtb_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "thanks, so `compute_committee` takes a sequence of validator `indices` -- i think this is the entire active validator set of indices? and then the shuffled index is based on the length of those indices, so basically the same dependency. aka level 3 depends on whether  `indices` is or isnt the full active validator set as `indices`?",
        "created_at": "2021-10-20T21:25:34.887000+00:00",
        "attachments": null
    },
    {
        "author": "jinfwhuang",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "what if one is only interested in knowing the committee assignment of a single validator index, instead of a list ?",
        "created_at": "2021-10-20T21:27:06.260000+00:00",
        "attachments": null
    },
    {
        "author": "dtb_",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "hmm yeah i'm not sure. it seems like phase0/altair specs require state as well as an individual validator's index for most of the related functions (e.g., `is_assigned_to_sync_committee` in the altair/validator specs would kinda relate). maybe if a sync committee validator could compute a subset of light client attesters, and then they could store a list of just those indices in `LightClientUpdate` or something? to help answer the question \"is this index a light-client-attester\" for the light client? idk",
        "created_at": "2021-10-20T22:08:21.530000+00:00",
        "attachments": null
    }
]