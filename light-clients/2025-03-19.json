[
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "How should the SSZ response of the `/light_client/updates` be made? where is the wire encoding defined?\n\nshould it be like this? :\n`response_chunk_len, (chunk0.context, chunk0.payload_offset),  (chunk1.context, chunk2.payload_offset), ..., payload0, payload1, ...`\n\nI can't find much info on this except https://ethereum.github.io/beacon-APIs/#/Beacon/getLightClientUpdatesByRange\n\nCC. \u003c@881905303011086387\u003e \u003c@358120958726373381\u003e",
        "created_at": "2025-03-19T11:07:40.928000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003c@1234160924953411674\u003e scammer \u003c@\u0026595685821026271242\u003e \n\n(Seriously, what are they even doing in this server?)",
        "created_at": "2025-03-19T11:11:25.069000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003cetan_status\u003e Select \"application/octet-stream\" under \"media type\", and then click on \"Schema\" under the dropdown to see the format.\n\n```\n\nSequence of zero or more response_chunk. Each successful response_chunk MUST contain a single LightClientUpdate payload:\n(\n  response_chunk_len: Little-endian Uint64 byte length of `response_chunk`\n  response_chunk: (\n    context: 4 byte `ForkDigest`\n    payload: SSZ serialized payload bytes\n  )\n)```\n (re @Lightclient_bot: \u003cinspector.butters\u003e How should the SSZ response of the `/light_client/updates` be made? where is the wire encoding defined?\n\nshould it be like this? :\n`response_chunk_len, (chunk0.context, chunk0.payload_offset),  (chunk1.context, chunk2.payload_offset), ..., payload0, payload1, ...`\n\nI can't find much info on this except https://ethereum.github.io/beacon-APIs/#/Beacon/getLightClientUpdatesByRange\n\nCC. \u003c@881905303011086387\u003e @0xunclebill)",
        "created_at": "2025-03-19T11:24:02.918000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003cetan_status\u003e so, it's the payload directly, inline, no offset",
        "created_at": "2025-03-19T11:24:55.496000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\u003cetan_status\u003e you can compare against http://unstable.sepolia.beacon-api.nimbus.team for example",
        "created_at": "2025-03-19T11:25:56.613000+00:00",
        "attachments": null
    },
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "so like this?\n\n`response_chunk_len, chunk0.context, chunk0.payload, chunk1.context, chunk1.payload, ...`",
        "created_at": "2025-03-19T12:35:48.621000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the `response_chunk_len` is only over an individual chunk, so:\n`chunks[0].context.len + chunks[0].payload.len, chunks[0].context, chunks[0].payload, chunks[1].context.len + chunks[1].payload.len, chunks[1].context, chunks[1].payload, ...`",
        "created_at": "2025-03-19T12:37:59.755000+00:00",
        "attachments": null
    },
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "in that case, I think the lighthouse implementation might be wrong. I'm looking for a beacon endpoint if you have one from them. \n\nhttps://github.com/sigp/lighthouse/blob/stable/beacon_node/http_api/src/light_client.rs#L34",
        "created_at": "2025-03-19T13:17:20.594000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "http://unstable.sepolia.beacon-api.nimbus.team/ try this one on sepolia",
        "created_at": "2025-03-19T13:18:37.818000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "or https://www.lightclientdata.org for mainnet",
        "created_at": "2025-03-19T13:18:56.246000+00:00",
        "attachments": null
    },
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I meant for lighthouse",
        "created_at": "2025-03-19T13:18:57.621000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm using https://www.lightclientdata.org in https://eth-light.xyz - it syncs all the blocks based on SSZ endpoint",
        "created_at": "2025-03-19T13:19:14.317000+00:00",
        "attachments": null
    },
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "yes I've verified using those already\nhttps://s1na.github.io/light-sync-endpoints/ has them listed.",
        "created_at": "2025-03-19T13:19:58.829000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Do you know what's the current state of adoption across clients? for light client data on libp2p? and is it turned on by default?",
        "created_at": "2025-03-19T14:33:00.791000+00:00",
        "attachments": null
    },
    {
        "author": "inspector.butters",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "not sure. \nprysm is not gossiping yet, but soon will be. and I'm hoping we can have it on by default.  \nI assume lighthouse does. (and it's turned on by default). \nI think nimbus and lodestar do as well, and I have no info on teku and grandine",
        "created_at": "2025-03-19T14:38:51.174000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Lighthouse will be broadcasting by default soon\n\nwe already validate + rebroadcast by default",
        "created_at": "2025-03-19T18:56:48.276000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Our plan is to only broadcast when the validator attached to a LH bn is in an active sync committee",
        "created_at": "2025-03-19T19:03:44.135000+00:00",
        "attachments": null
    }
]