[
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "awesome will try it out on ethereumjs!",
        "created_at": "2023-04-25T06:09:04.186000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I want the faster one, and I have no problems integrating both at the same time",
        "created_at": "2023-04-25T07:29:44.429000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The SIGILL issue seems to be something very nasty really that will bite everyone randomly",
        "created_at": "2023-04-25T07:30:14.424000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "According to an upstream bugreport, 25% of cloud VMs will run CPUs that crash",
        "created_at": "2023-04-25T07:30:33.053000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(unless you shell out for really high env VMs)\\",
        "created_at": "2023-04-25T07:30:42.669000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't think it will be acceptable to have KZG crash randomly at runtime",
        "created_at": "2023-04-25T07:31:04.447000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We *really* should have that fixed before shipping it out",
        "created_at": "2023-04-25T07:31:29.603000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Extremely strongly suggest fixing that",
        "created_at": "2023-04-25T07:31:36.580000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am the plan for Geth and I hve yet to see which library is better. For now, both have blocking shrotcomings",
        "created_at": "2023-04-25T07:32:21.292000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Note, my fit now is not that this issue exists, that's natural and I opened a bugreport. My very serious fit is that this was a known issue and everyone was like \"myeah, we don't care\". How can such a thing happen?",
        "created_at": "2023-04-25T07:43:22.259000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Whatâ€™s the blocking shortcoming of the pure golang version?",
        "created_at": "2023-04-25T07:45:50.740000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/crate-crypto/go-kzg-4844/issues/44",
        "created_at": "2023-04-25T07:51:07.746000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I can look into this now -- exposing that parameter should not be hard -- let me know if any other issues arise",
        "created_at": "2023-04-25T08:18:08.542000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've released a 0.1.2 that you can use which by default sets the number of go routines to 1 and allows you to set it to a different number via an exposed function",
        "created_at": "2023-04-25T08:41:22.774000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Seems that's not enough, the underlying lib that go-kzg uses does not honour its own concurrency config",
        "created_at": "2023-04-25T14:02:08.841000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it goes ahead and spins up goroutines anyway for certain operations, even if configured not to",
        "created_at": "2023-04-25T14:02:22.486000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@555483069038198827\u003e feel free to name this situation appropriately since you didn't like me calling it a shitshow ðŸ˜›",
        "created_at": "2023-04-25T14:02:53.429000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e a missing feature?",
        "created_at": "2023-04-25T14:03:19.321000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e is spinning up goroutines in any way a danger? worst case it just wastes some resources, right?",
        "created_at": "2023-04-25T14:04:03.091000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "performance is unpredictable",
        "created_at": "2023-04-25T14:06:29.706000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Running it on \"1 thread\" takes 6.7ms, running it on \"20 threads\" takes 6ms",
        "created_at": "2023-04-25T14:07:25.494000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e so?",
        "created_at": "2023-04-25T14:07:46.280000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it highlights that it's threading is mostly moot and I can't disable it",
        "created_at": "2023-04-25T14:08:09.902000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "nor control it to be more meaningful",
        "created_at": "2023-04-25T14:08:25.044000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't like it when a low level library makes high level decisions, expecially when those are wrong",
        "created_at": "2023-04-25T14:08:53.894000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e your numbers feel wrong, what operation is this for? I would be very surprised if you can compute a commitment in 6.7 ms on one thread",
        "created_at": "2023-04-25T14:09:56.644000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hence why I placed them in quotation marks ðŸ™‚",
        "created_at": "2023-04-25T14:10:13.723000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "becuse you cannot control it",
        "created_at": "2023-04-25T14:10:17.483000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "from the outside the numbers are arbitrary rollercoasters",
        "created_at": "2023-04-25T14:10:29.247000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "you cannot meaningfully measure it, nor optimise with it, nor figure out what's the best way for your specific use case",
        "created_at": "2023-04-25T14:10:58.855000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "the library makes internal decisions on something it should not",
        "created_at": "2023-04-25T14:11:07.968000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e fair enough. You are running in open doors here, I also like to get single thread numbers for benchmarks. Still it works and I don't see an obvious problem for the user.",
        "created_at": "2023-04-25T14:11:36.526000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e You have made your feature request and it's going to get implemented, what more do you want?",
        "created_at": "2023-04-25T14:11:50.211000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It needs rto be implemented in gnark-crypto",
        "created_at": "2023-04-25T14:12:10.584000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "because that's what's broken",
        "created_at": "2023-04-25T14:12:18.154000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and designing it will be extremely hard because of how the code is architected",
        "created_at": "2023-04-25T14:12:49.798000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so no, it won't get implemented, trust me",
        "created_at": "2023-04-25T14:12:54.721000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e that seems unlikely, that it is so hard to implement",
        "created_at": "2023-04-25T14:14:16.357000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "disabling concurrency? maybe someone will hack it in. making it fully configurable so that you can optimise for it? I'm not even sure how you can model that to meaningfully configure",
        "created_at": "2023-04-25T14:14:33.436000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "implementing it is probably trivial, designing the config meaningfully is probably hard",
        "created_at": "2023-04-25T14:15:02.467000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "surprise me I guess ðŸ˜›",
        "created_at": "2023-04-25T14:15:22.507000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I just don't see anyone putting the effort into it - to truly elegantly do it - and get it upstreamed, sorry",
        "created_at": "2023-04-25T14:15:49.819000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e what about simply having two functions so you can choose between concurrency or no? Seems fine to me",
        "created_at": "2023-04-25T14:16:56.476000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e alternatively specify number of threads as a param",
        "created_at": "2023-04-25T14:17:06.123000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e like I just don't see your behaviour here as very constructive\n\n\"Hey, I want the library to behave like this. Haha and by the way what I want is actually impossible so deal with it\"",
        "created_at": "2023-04-25T14:17:46.925000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e I would love to have more constructive discussions with you on how to make the libraries better, ideally back in January and not now. I guess that would be the advantage of doing something hacky first, so that you can find out about these things.",
        "created_at": "2023-04-25T14:18:26.138000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah yes, sure. I would also prefer not to have to write production code and be able to yolo my whole fucking life, wouldn't it be grant",
        "created_at": "2023-04-25T14:19:06.868000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh, hope you remember all those things we said to you last year about Verkel",
        "created_at": "2023-04-25T14:19:53.370000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Because we did tell you where it fails and what won't work and the perf issues",
        "created_at": "2023-04-25T14:20:09.086000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Just so you don't tell me in a year that you didn't know",
        "created_at": "2023-04-25T14:20:15.918000+00:00",
        "attachments": []
    },
    {
        "author": "karalabe",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "peace out",
        "created_at": "2023-04-25T14:20:18.333000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e but you were not open to understanding how your objections could be resolved. When we talked about some of the details that you claimed were impossible to solve, we did actually find solutions",
        "created_at": "2023-04-25T14:21:10.587000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003cdankrad\u003e it's an iterative process",
        "created_at": "2023-04-25T14:21:21.045000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This is a public complain for BLST everywhere, we rolled out our own hashing assembly with CPU detection instead of bothering trying to open PRs to them in part because of this.",
        "created_at": "2023-04-25T15:28:11.156000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't really understand how this piece of software that was funded in large part by the EF (AFAIK) has this feature that multiple coredevs from multiple teams asked them to do and they still managed to ignore these requests",
        "created_at": "2023-04-25T15:29:10.776000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we have had several validators crashing when we defaulted to BSLT + ADX, we had to revert it and by it not being default I suspect that the vast majority of prysm nodes run a really underperforming BLS signature verification library",
        "created_at": "2023-04-25T15:31:25.619000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is not that we didn't care, the first request was before mainnet launch https://github.com/supranational/blst/issues/10  and every single team requested this. Surely enough, soon we started crashing on runtime https://github.com/supranational/blst/issues/31 \nBut what can we do, options are we either roll out our own assembly (as we did with SHA256) or we have to take it. At least now we have Gnark to test with. Although in my personal computers it benchmarks slower than BLST.",
        "created_at": "2023-04-25T15:36:15.727000+00:00",
        "attachments": []
    }
]