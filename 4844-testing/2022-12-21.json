[
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Update: Prysm has an issue on devnet3, its having trouble syncing past 2000 due to rate limiter is getting shared between block and blob. Peers will getting dropped after a while. I'll attemp to fix this today",
        "created_at": "2022-12-21T00:03:30.989000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "am getting invalid stateroot as soon as capella starts",
        "created_at": "2022-12-21T09:10:50.484000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "156d7067ceeec65ca41691ebfe264c1fac5b7d15c7bd308fdda349d52eaa1e68"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "does this testnet includes bounded withdrawals?",
        "created_at": "2022-12-21T09:12:58.169000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "iirc withdrawal is treated as no-op",
        "created_at": "2022-12-21T09:18:20.998000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "are you passing the latest spec test?",
        "created_at": "2022-12-21T09:18:32.303000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so disabled withdrawals?",
        "created_at": "2022-12-21T09:18:35.225000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes by disabling withdrawals in spec tests via some configuration",
        "created_at": "2022-12-21T09:19:10.952000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thats why i asked this but from reply i inferred that withdrawals is enabled",
        "created_at": "2022-12-21T09:19:44.227000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Prysm follows the spec here",
        "created_at": "2022-12-21T09:22:23.371000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "IMG_4949.png",
                "content": "e847754ed4681872a299509d1370ed13f239755af9270ef912820f0d9e1c9866"
            }
        ]
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If people want withdrawal we can restart devnet with withdrawal enabled",
        "created_at": "2022-12-21T09:22:41.771000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok, let me disable withdrawals and try to sync, but it would be good that we now run with proper withdrawals",
        "created_at": "2022-12-21T09:23:06.049000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes am able to sync past capella now",
        "created_at": "2022-12-21T09:24:40.085000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "am getting stuck on slot 159, so not syncing slot 160",
        "created_at": "2022-12-21T09:26:00.835000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Maybe we can run withdrawals starting devnet4. Withdrawal also has alignment issues such as blockValue and bounded check. It will be good to wait for it to be more stable",
        "created_at": "2022-12-21T09:27:12.280000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What is the error?",
        "created_at": "2022-12-21T09:27:21.062000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ahh getting this error",
        "created_at": "2022-12-21T09:27:26.734000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "30b8cfa555342d96497b9f66216bdca1db971fa8f51e09722395c74f8c0f6970"
            }
        ]
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah forkDigest. \u003c@159152274659082240\u003e and I were talking about it",
        "created_at": "2022-12-21T09:28:07.061000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I haven't had time. I'll look into it soon",
        "created_at": "2022-12-21T09:28:46.487000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "these are the forkdigest mappings we got: ```typescript\n{\n  forkNameByForkDigest: Map(5) {\n    '30dcb640' =\u003e 'phase0',\n    '77fcecf8' =\u003e 'altair',\n    '48f5acb3' =\u003e 'bellatrix',\n    '47052036' =\u003e 'capella',\n    '3715b697' =\u003e 'eip4844'\n  },\n\n```",
        "created_at": "2022-12-21T09:56:41.891000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "one other thing, the config.yaml in the config, can we restore PRESET_BASE to mainnet, CONFIG_NAME can stay testnet i guess",
        "created_at": "2022-12-21T10:19:46.275000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "also i guess now am being rate limited  with all the random experiments i been trying üòÖ",
        "created_at": "2022-12-21T10:21:25.090000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah prysm is being really strict, pushed a fix in the morning",
        "created_at": "2022-12-21T10:26:19.892000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Need to update nodes cc \u003c@159152274659082240\u003e",
        "created_at": "2022-12-21T10:26:35.189000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This matches what I have locally",
        "created_at": "2022-12-21T13:14:36.901000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "okk, so how would we be getting the `5cff0600` in req/res response ü§î",
        "created_at": "2022-12-21T13:16:48.220000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this is what I got from peer `16Uiu2HAm1oEch6uXffoGZ32kPTiyjycfX9yDuBJSWtmagBSk9HTN`. Not sure who that is\n```\nlocal   3715b697\nremote  4a26c58b\n```",
        "created_at": "2022-12-21T13:21:04.140000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think we should set up a real bootnode",
        "created_at": "2022-12-21T13:21:31.926000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so bad remote here as well",
        "created_at": "2022-12-21T13:22:17.705000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i got this `5cff0600` from the first enr which was listed in the hackmd i think",
        "created_at": "2022-12-21T13:22:43.844000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@159152274659082240\u003e / \u003c@427491045308235776\u003e i was trying to generate a tx test for minimal preset for lodestar using java script binding for c-kzg, but i discovered that FIELD_ELEMENTS_PER_BLOB is hardcoded , would it be possible to have an \"init\" function which can set these values in the lib, else we should just make the minimal preset value for FIELD_ELEMENTS_PER_BLOB same as mainnet",
        "created_at": "2022-12-21T15:01:34.586000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't see your peer connection or request on the first enr node. Not sure where that fork digest comes from. Could you try using the other two enrs?",
        "created_at": "2022-12-21T15:20:12.694000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think i see the issue. A context isn't written in the response. \u003c@363800010518822915\u003e according to the code this is because `blobs_sidecar_by_range` uses the `v1` schema. Though I don't see this behavior explained in the spec. Shouldn't the fork digest always be included after atlair regardless of the schema version?",
        "created_at": "2022-12-21T15:48:30.111000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So the invalid context you were seeing is probably the first 4 bytes of the `BlobsSidecar` message.",
        "created_at": "2022-12-21T15:49:02.636000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yea this also wasn't clear to me ^ I think we might as well include context bytes even though we don't technically need them so long as blobs exist in one fork",
        "created_at": "2022-12-21T16:23:56.176000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "we should probably include context bytes to future proof it .. I'm not sure if this necessitates this becoming a V2? or if we can just label it a V1 and be explicit it includes context bytes?",
        "created_at": "2022-12-21T16:25:06.717000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yup let's do that. Leaving it as V1 with context.",
        "created_at": "2022-12-21T16:26:41.500000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that way there would be no need for v2 üòÜ",
        "created_at": "2022-12-21T16:28:16.931000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don‚Äôt think you can make the minimal preset the same as Mainnet because the minimal one is used for performance purposes.\n\nI asked Dan a week or so ago about this and it would require you to rebuild the bindings because that constant is hardcoded at compile time",
        "created_at": "2022-12-21T17:24:12.973000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So it‚Äôs possible to have a minimal npm package and a Mainnet npm package, but that‚Äôs quite messy imo",
        "created_at": "2022-12-21T17:24:47.773000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes it would be super messy,  but apart from spec tests, it effectively undermines using the minimal so the compile time setting is not ideal. i think the better UX would be to specify the values on init/loading the lib, but i am not sure how much work it would be to make them dynamic",
        "created_at": "2022-12-21T17:35:45.473000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Its a property of the c library, so its a bit of effort to config that at runtime. I can look into solutions and get back to you üôÇ \n\nIn the meantime I guess you can use mainnet preset and its not a hard blocker?",
        "created_at": "2022-12-21T18:30:00.694000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes, its not a blocker and probably can figure out a way to overrdde it in my tests\nand thanks for looking into this üôè",
        "created_at": "2022-12-21T18:35:31.157000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003casn_d6\u003e we could make it a dynamic parameter the same way the trusted setup is loaded in runtime but we should have a strong reason for it. feature bloating the c lib is no bueno. (apart from the extra function we would also probably need to add a bunch of sanity checks to make sure that the specified parameter is reasonable)",
        "created_at": "2022-12-21T18:47:49.205000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "^^^ agreed, then we should just do away with differences in minimal and mainnet settings",
        "created_at": "2022-12-21T19:09:07.554000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think they were there for a reason related to the consensus-specs being in python",
        "created_at": "2022-12-21T19:10:42.665000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "how are the other go/rust libs dealing with it?",
        "created_at": "2022-12-21T19:23:24.921000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "pawan is sick, but I think he's adding a compile time flag for the minimal and mainnet `FIELD_ELEMENTS_PER_BLOB` config to the rust bindings",
        "created_at": "2022-12-21T19:38:50.538000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/ethereum/c-kzg-4844/pull/16",
        "created_at": "2022-12-21T19:56:33.260000+00:00",
        "attachments": null
    }
]