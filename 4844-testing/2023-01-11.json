[
    {
        "author": "jimmygchen",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We've had a some previous discussions on whether we introduce a `submitBlindedBlockV2` or reuse existing `submitBlindedBlock` for the builder flow. The current proposal is to reuse the existing endpoint (although we may want to add consensus version to request header), \u003c@792822129019584562\u003e raised that adding a V2 would be a lot cleaner (I'm assuming in the CL). I'd be interested to hear if there's any strong opinions on this?\nhttps://github.com/ethereum/builder-specs/pull/61",
        "created_at": "2023-01-11T01:17:24.358000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "cc \u003c@539495253418180618\u003e \u003c@340345049063882753\u003e",
        "created_at": "2023-01-11T01:18:52.805000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The other hard forks have used the existing api. I donâ€™t see any reason we wouldnâ€™t just follow that existing pattern now. It would be bad to have to have a new api for very hard fork.",
        "created_at": "2023-01-11T02:32:36.949000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah I agree. I think the argument is that it now returns the payload in a different structure (and not just adding a field), and makes type handling more complicated. Maybe I'm missing something but I don't see this as a major concern if CL needs to handle the payload differently anyway. However, I think we might want to include consensus version in the request payload - there is an open mev-boost PR to decode using Capella and fallback to Bellatrix, but this would get more complicated when the payload changes again in 4844. Would be nice to adopt the existing pattern of using the consensus version header to determine how to parse it",
        "created_at": "2023-01-11T02:45:10.636000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "adding version (fork) is a good thing, plus if the response structure is changing, i would prefer to version(v2) the api for cleaner and straightforward typing (and hence cleaner and more maintainable code)",
        "created_at": "2023-01-11T07:24:30.214000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i think the versioning rules are clear on the beacon API specs docs: https://ethereum.github.io/beacon-APIs/ (just top of the page here)",
        "created_at": "2023-01-11T15:20:10.301000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "if we want to change those rules we can have that discussion but that happens separately from the capella and 4844 work that needs to happen in parallel anyway",
        "created_at": "2023-01-11T15:20:49.053000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i don't see why we can't just follow the same pattern for versioning that the beacon APIs has settled on \u003c@466006586477772831\u003e , where the fork description is given in a `version` metadata key",
        "created_at": "2023-01-11T15:22:25.200000+00:00",
        "attachments": []
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ideally in a way where it's guaranteed to be serialized first, so one doesn't have to buffer up an entire input and then figure out post hoc which type it is",
        "created_at": "2023-01-11T15:27:59.902000+00:00",
        "attachments": []
    },
    {
        "author": "henridf",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Why does the `BeaconBlockAndBlobsSidecarByRoot` RPC return `ResourceUnavailable` for finalized roots? This seems inconsistent with `BeaconBlocksByRoot` which doesn't return an error for finalized roots.",
        "created_at": "2023-01-11T16:44:58.830000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "im not sure we can get this guarantee from JSON? but agree that's preferable if possible",
        "created_at": "2023-01-11T17:48:26.066000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "perhaps you can get stronger guarantees here by leveraging the HTTP header structure",
        "created_at": "2023-01-11T17:48:43.433000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(so then we want the `Consensus Version` tag as well)",
        "created_at": "2023-01-11T17:48:56.363000+00:00",
        "attachments": []
    },
    {
        "author": "tersec",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "agree, JSON is not defined to readily allow this, but it's one of the bigger headaches in the REST API",
        "created_at": "2023-01-11T18:37:14.878000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@159152274659082240\u003e Not sure if you can answer this but do you know which commit on your prysm fork I should be using for \"devnet-4\" ready interop testing?  I'm trying to build prysm locally from the current head commit of your 4844 branch following the instructions in INTEROP.md but the build fails part way through",
        "created_at": "2023-01-11T18:42:33.871000+00:00",
        "attachments": []
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That fork is no longer maintained. Development is now at https://github.com/prysmaticlabs/prysm/tree/eip4844",
        "created_at": "2023-01-11T18:45:02.142000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ah, ok, thanks!",
        "created_at": "2023-01-11T18:45:15.292000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so the change in format of the respose from directly execution payload to : {execution_payload, blobs_sidecar} should warrant the new version i guess",
        "created_at": "2023-01-11T18:45:54.507000+00:00",
        "attachments": []
    },
    {
        "author": "robocopsgonemad",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "is there a pandaops type of page that has all the relevant genesis files etc for the 4844 devnets?",
        "created_at": "2023-01-11T20:43:20.957000+00:00",
        "attachments": []
    },
    {
        "author": "henridf",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/issues/3204",
        "created_at": "2023-01-11T20:52:44.663000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e \u003c@539495253418180618\u003e thanks for bringing up the versioning rules. I think that gives us a good reason to bump up the version. I hear that we shouldn't bump version just because it's a new fork or introducing new fields, and I agree - however this change requires a structural change to the response rather than just adding new fields, so I think what \u003c@792822129019584562\u003e suggested make sense and adheres to the rules on the beacon API spec (I think it helps to add that to the builder spec as well). On top of that, I'll add the `Consensus Version` to the HTTP request header. Any other suggestions please let me know ðŸ™‚",
        "created_at": "2023-01-11T23:48:59.417000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What is the structural change here?",
        "created_at": "2023-01-11T23:59:25.155000+00:00",
        "attachments": []
    }
]