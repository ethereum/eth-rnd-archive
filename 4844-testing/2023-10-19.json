[
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@427491045308235776\u003e \u003c@206016661470314496\u003e Hi, I'm wondering if there's a better way of dealing with the crypto library dependency graph for Prysm and was hoping you could help me. We depend on geth for many types, and geth depends on go-kzg. Now in order to pass spectests for example with the new trusted setup, the following steps need to be coordinated:\n- Go-kzg adds the changes\n- geth points to those\n- prysm then points to that version of geth and go-kzg\n- go-kzg releases a new version\n- geth points to that\n- only then prysm points to the released version of go-kzg.\n\nThis is in big part a prysm caused problem cause we depend on geth presumably it's not so bad for geth cause geth can simply wait until it sees fit to update to a new go-kzg version (did I get this right?), but this does not seem to be maintainable for us as is. cc. \u003c@476250636548308992\u003e",
        "created_at": "2023-10-19T11:52:55.357000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If geth is okay not pointing to an official released version, then we can point to master of go-kzg and also master of c-kzg, then have prysm use that branch until its merged.\n\nIf go-kzg makes a release now, then since golang doesn't respect semver pre 1.0, we may have some users being automatically updated to the new breaking change version",
        "created_at": "2023-10-19T12:16:55.082000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "idk if this is a clue, but those two do not timeout for me running locally with a single instance of besu.",
        "created_at": "2023-10-19T12:26:47.987000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I've made this PR to geth to update it to use the latest commits from c-kzg and go-kzg: https://github.com/ethereum/go-ethereum/pull/28383\n\nThe main change is the trusted setup file",
        "created_at": "2023-10-19T12:40:00.843000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's sorta silly that three different repos are replicating this trusted setup file because none can trust the other ðŸ™‚",
        "created_at": "2023-10-19T12:49:40.972000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "cc \u003c@543900561460822016\u003e , could you add this to your devnet-10 branch please ? ðŸ˜„",
        "created_at": "2023-10-19T12:53:08.131000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "go-kzg has a method which uses the mainnet trusted setup, so it does not require you to pass it as input, though I think its reasonable that clients store their own json file and use the generic method due to the importance of the trusted setup file",
        "created_at": "2023-10-19T12:57:07.323000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yea we know that you keep the file, but we can't rely on this, so we download the trusted setup from the spec repo, parse it at startup with go-kzg. I assume geth does the same",
        "created_at": "2023-10-19T12:59:57.389000+00:00",
        "attachments": null
    }
]