[
    {
        "author": "holiman",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I did some benchmarking of the point eval precompile, based on go-ethereum (which is based on go-kzg). Results are here: https://github.com/ethereum/benchmarking/blob/master/shanghai/README.md  -- based on that, I'd recommend pricing it at 100K (bump by 2x).",
        "created_at": "2022-11-28T13:17:01.015000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The actual test vectors used can be found on this branch: https://github.com/holiman/go-ethereum/commits/eip-4844",
        "created_at": "2022-11-28T13:19:32.042000+00:00",
        "attachments": []
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So I've found a more up to date prysm impl here: https://github.com/prysmaticlabs/prysm/commits/eip4844\n\nIs there a geth/erigon implementation that includes withdrawals fields in the APIs?",
        "created_at": "2022-11-28T14:50:46.019000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "geth: https://github.com/mdehoog/go-ethereum (eip-4844 branch)",
        "created_at": "2022-11-28T14:57:30.807000+00:00",
        "attachments": []
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "When testing against this, I got errors saying `V2` endpoints don't exist. It does look like withdrawals support is included there, so maybe support is included on `V1`  endpoints?",
        "created_at": "2022-11-28T15:14:02.468000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "which endpoints? the `bls_to_execution_changes` one for example is a `v1` endpoint",
        "created_at": "2022-11-28T15:19:24.982000+00:00",
        "attachments": []
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "endpoints related to payloads (getPayload, newPayload )",
        "created_at": "2022-11-28T15:20:22.230000+00:00",
        "attachments": []
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "AFAIK, the endpoints haven't been implemented in any EL client yet. \u003c@390327547038007297\u003e is working on adding them to geth.",
        "created_at": "2022-11-28T19:05:30.137000+00:00",
        "attachments": []
    },
    {
        "author": "roberto.bayardo",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yup, let me see if I can get to this today. \u003c@607055410104500244\u003e if you dm me your github ID I can tag you on any PRs?",
        "created_at": "2022-11-28T19:07:32.115000+00:00",
        "attachments": []
    },
    {
        "author": "realbigsean",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thanks! can do",
        "created_at": "2022-11-28T19:08:44.433000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "**4844 Implementers' Call tomorrow 15:30 UTC**\nAgenda: https://github.com/ethereum/pm/issues/679",
        "created_at": "2022-11-28T19:12:22.744000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hi \u003c@415109946682769408\u003e have we had a chance to re-build spec tests with https://github.com/ethereum/consensus-specs/pull/3127 ?\nWould love for all of us to to be passing 4844 spec tests before any testnet",
        "created_at": "2022-11-28T19:36:27.091000+00:00",
        "attachments": []
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks for doing this. Yeah it makes sense to me that it should be 100K for the average worse case.\nAre the other precompiles priced using a similarly using worse case benchmarks?",
        "created_at": "2022-11-28T20:30:01.981000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, we have tried to find the worst cases, and price based off of that. \n\nHowever, the go-kzg might be not the final form, or fully optimized yet (?).",
        "created_at": "2022-11-28T20:32:30.823000+00:00",
        "attachments": []
    },
    {
        "author": "inphi",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Its performance characteristic is similar to the final form c-kzg. They both use the same algo pairing algo so I imagine the worst expensive fuzz corpuses will have identical benchmarks.",
        "created_at": "2022-11-28T20:35:08.470000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "~~I tried running the test cases directly on go-kzg and Iâ€™m getting sporadic results, did this happen for you?~~ Linter added an implicit conversion",
        "created_at": "2022-11-28T22:02:25.915000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ie the worse case changes depending on the benchmark run. Asking because its not 100% intuitive to me that the failure case takes longer than the correct case, I would have expected the failure cases to be faster due to not passing some precondition checks or around the same",
        "created_at": "2022-11-28T22:02:58.231000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Here is the branch I'm using to benchmark the failure cases on go-kzg for critique: https://github.com/kevaundray/go-kzg/blob/kw/benchmark-gas-cost/eth/eth_test.go#L26",
        "created_at": "2022-11-28T22:30:40.796000+00:00",
        "attachments": []
    },
    {
        "author": "kevaundray",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So the benchmark decodes the hex string into bytes, calls the precompile and benchmarks how long it takes to execute the pointEval function. Let me know if theres a discrepancy between those benchmarks and the ones that produced the increase in memory usage",
        "created_at": "2022-11-28T22:31:58.188000+00:00",
        "attachments": []
    }
]