[
    {
        "author": "viksettle0712",
        "category": "general",
        "parent": "",
        "content": "Hello guys, I was wondering if you are aware of any staking smart contract taking time into consideration? many thanks!",
        "created_at": "2021-07-15T10:58:59.873000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This isn't the appropriate Discord server to ask about such things.  This server is for Ethereum core development and research.",
        "created_at": "2021-07-15T11:06:31.561000+00:00",
        "attachments": []
    },
    {
        "author": "viksettle0712",
        "category": "general",
        "parent": "",
        "content": "I am doing research... where should I ask then?",
        "created_at": "2021-07-15T11:15:07.333000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This server is for research about the Ethereum core protocol and client development.  You can try Reddit or Twitter for questions about apps built on Ethereum, or just internet searches.",
        "created_at": "2021-07-15T11:26:43.546000+00:00",
        "attachments": []
    },
    {
        "author": "seroze1",
        "category": "general",
        "parent": "",
        "content": "1) what is the use of merkle trees, so given two lists of data of same size,  merkle trees can help us figure the index at which first mismatch occurs, across  those two lists.",
        "created_at": "2021-07-15T18:03:11.078000+00:00",
        "attachments": []
    },
    {
        "author": "alyeska_97",
        "category": "general",
        "parent": "",
        "content": "Let us say that there is a block of tx limit `n` that a miner is mining. \u2028\u2028There are more than `n` txs in the tx pool to pick from.\n\nPeople can get MEV by front-running a tx, or buying an asset before someone else buys it, so that they can sell their shares for a higher price.\u2028\u2028The method for doing this is to make their txâ€™s gas price is higher than the tx price of the tx they are front running (still a bit confused why miners look at gas price instead of just gas price * gas used?)\n\nWhen the miner is adding txs to a block, as long as they add the n most profitable txs, in ANY order, they will make the same profit (unless they are front-running txs in the block themselves :P)\n\nSo how exactly does making your tx price higher than another tx help you front-run?",
        "created_at": "2021-07-15T18:29:55.857000+00:00",
        "attachments": []
    },
    {
        "author": "alyeska_97",
        "category": "general",
        "parent": "",
        "content": "Thank you! Also, do you have any idea why we are calling the max priority fee the `maxPriorityFeePerGas` and the max totalFee `maxTotalFeePerGas`? It seems from name that these two things should be acting as conversion rates, but instead they \"are\" the fees.",
        "created_at": "2021-07-15T18:37:12.103000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Because the fee is a per-gas cost",
        "created_at": "2021-07-15T18:48:24.134000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "So if the maxPriorityFee is 10 gwei, you aren't paying \"10 gwei\" for your transaction, you are paying 10 gwei * gasUsed",
        "created_at": "2021-07-15T18:48:50.348000+00:00",
        "attachments": []
    },
    {
        "author": "seroze1",
        "category": "general",
        "parent": "",
        "content": "can you point out the repo where i can check this?",
        "created_at": "2021-07-15T19:01:09.342000+00:00",
        "attachments": []
    },
    {
        "author": "alyeska_97",
        "category": "general",
        "parent": "",
        "content": "So the actual maximum total Fee you can Pay is:\nMin( `baseFeePerGas` +`maxPriorityFeePerGas`, `maxFeePerGas`)?",
        "created_at": "2021-07-15T19:07:08.070000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "There isn't really a repository for this... it's basically just that `maxPriorityFeePerGas` and `maxFeePerGas` replace `gasPrice`.",
        "created_at": "2021-07-15T19:26:04.898000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "`gasPrice` is the same: a gas price of 10 gwei doesn't mean you pay 10 gwei for your transaction, it means you pay 10 gwei _per unit of `gasUsed`. In a way, the 1559 terms just make this more explicit",
        "created_at": "2021-07-15T19:26:38.420000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "There only time where you pay `maxFeePerGas` is if `baseFeePerGas` + `maxPriorityFeePerGas` == `maxFeePerGas`, so in other words, that `min()` function is a bit redundant given the only time where the right term is the `min`, it's equivalent to the left one.",
        "created_at": "2021-07-15T19:29:16.667000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "The best way to think of `maxFee`, imo, is as a \"buffer\" in case the `baseFee` moves between when you send the txn and when it gets included.",
        "created_at": "2021-07-15T19:29:47.421000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "For example, if the current base fee is 100, and you send a txn with a `maxFee` of 100, and the block was \u003e50% full, then you wouldn't get included because the next block's `baseFee` would be \u003e100",
        "created_at": "2021-07-15T19:30:29.799000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "So if, instead, you use a `maxFee` of 200 (and say a tip of 5), then you get the following scenarios:\n\nIf included in current block (`baseFee` =100), then you pay 100+5, and get a 95 gwei per gas refund. \n\nIf that block was 100% full, `baseFee` in next block = 112.5, so you pay 117.5 and get 82.5 as a refund. \n\nIf _that_ block was also full, then you'd pay ~130, and get a refund of ~70, etc.",
        "created_at": "2021-07-15T19:32:22.501000+00:00",
        "attachments": []
    },
    {
        "author": "alyeska_97",
        "category": "general",
        "parent": "",
        "content": "Got it, that is helpful! Kind of like a safety mechanism ðŸ˜„ \n\nI am curious to know if you guys check the `maxPriorityFeePerGas` to make sure that the current `baseFeePerGas` + `maxPriorityFeePerGas` is \u003c= `maxFeePerGas`?",
        "created_at": "2021-07-15T19:50:04.269000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "You can't check against the `baseFee` easily, but the clients don't allow `maxPriorityFee` to be larger than `maxFee`",
        "created_at": "2021-07-15T19:51:05.900000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "It's OK to send a txn where `maxFee` \u003c `baseFee` (but it may get removed from the txn pool), it's equivalent to sending a transaction today which is lower than the current `gasPrice`: it likely won't get mined, can get forgotten, etc. but if you're lucky it may be mined cheap when prices drop",
        "created_at": "2021-07-15T19:51:49.829000+00:00",
        "attachments": []
    }
]