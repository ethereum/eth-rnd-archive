[
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "I'm trying to understand the new rollup-centric roadmap. I remember a year ago, the eth2 roadmap had a concept of multiple execution environments, which would abstract the execution semantics of any conceivable programmable blockchain. They were kind of analogous to virtual machines.\n\nIt kind of looks like (in this rollup-centric roadmap) that rollups are analogous to execution environments. If that's the case then the experience is basically the same to the end user?\n\nIt looks like composability is preserved within a roll-up, and Vitalik said cross roll-up transactions present are the same problem as cross-shard transactions",
        "created_at": "2021-01-21T18:06:04.056000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yeah, we could always bring EEs back to L1 at some future point -- but if we end up with a robust L2 ecosystem then we likely won't need to as the benefits can be had w/o adding a bunch of base layer complexity",
        "created_at": "2021-01-21T19:25:10.553000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yeah cross-rollup transactions are much like cross-shard transactions -- i've heard vitalik call these \"domains\" and i like the terminology",
        "created_at": "2021-01-21T19:25:54.977000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "so you have synchronous vs async domains -- b/t two rollups would be asynchronous",
        "created_at": "2021-01-21T19:26:13.799000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "although now that i'm thinking about it -- it may be more straightforward to do some kinds of things b/t rollups that would be clunkier b/t shards, e.g. two rollups could be connected by a state channel to quickly move assets w/o have to go through the base layer",
        "created_at": "2021-01-21T19:28:21.426000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "the closest thing to that w/ shards is optimistic execution but is easier wrt base layer complexity bc the effects are limited to only those L2 participants in the system, rather than everyone on L1",
        "created_at": "2021-01-21T19:29:36.386000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "So Vitalik also addressed a situation where one roll-up might absorb a significant amount of the transaction space on Ethereum, and he said if they became too exploitative then we would essentially \"nationalize\" them by enshrining the roll-up in the base layer and making ETH the roll-up token.\n\nWouldn't a better way to prevent this be to just have an 'official' permissionless roll-up that's open source and developed and maintained by the ecosystem? Basically a 'public option' that other rollups compete with? Wouldn't that ensure that no roll-up could become exploitative?",
        "created_at": "2021-01-21T19:59:42.451000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i think we have to define what \"official\" means",
        "created_at": "2021-01-21T20:01:16.820000+00:00",
        "attachments": []
    },
    {
        "author": "zerowei4320",
        "category": "general",
        "parent": "",
        "content": "Iirc we don‚Äôt want to start by providing a way that hinders users exploring viable alternatives. The market will do a better job of finding a good shelling point and if any one ends up really controlling the narrative, we ‚Äúacquire‚Äù them",
        "created_at": "2021-01-21T20:01:34.420000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "but generally we will see multiple deployments of rollups competing over the coming months",
        "created_at": "2021-01-21T20:01:41.904000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yeah -- i'm not too worried about this right now",
        "created_at": "2021-01-21T20:02:07.118000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "fwiw a reason to support eip-1559 is that it enshrines ETH as part of this \"takeover rollup\" token",
        "created_at": "2021-01-21T20:02:41.416000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Not official in terms of special abilities at the base layer but I guess in terms of funding for continuous development and all assets being open sourced for censorship resistance",
        "created_at": "2021-01-21T20:02:43.767000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i think all the serious L2 efforts are funded by various ecosystem stakeholders rn",
        "created_at": "2021-01-21T20:03:24.606000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "I don't see how we can maintain censorship resistance without an open source permissionless roll-up",
        "created_at": "2021-01-21T20:03:34.831000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "and they are certainly all open-sourced or will be",
        "created_at": "2021-01-21T20:03:36.764000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "maybe parts of starkware/cairo are not",
        "created_at": "2021-01-21T20:03:50.376000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Ah but zkSync will be?",
        "created_at": "2021-01-21T20:04:09.890000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i would personally prefer to only put assets into an opensource L2",
        "created_at": "2021-01-21T20:04:14.371000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "is it not already?",
        "created_at": "2021-01-21T20:04:21.441000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "I'm not sure. It's just that if something is entirely open source then there's no need to \"nationalize\" it as we can just fork",
        "created_at": "2021-01-21T20:05:07.204000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "https://github.com/matter-labs/zksync ?",
        "created_at": "2021-01-21T20:05:08.658000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i'm hoping L2 ecosystems are complimentary w/ L1 community",
        "created_at": "2021-01-21T20:06:06.215000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "I guess I had more questions about the UX - let's suppose that zk roll-up are supported inside wallets, if that's the case, is it possible for a user to operate entirely inside a roll-up without even knowing it (meaning they wouldn't have to transact from their wallet to the roll-up first)?",
        "created_at": "2021-01-21T20:08:04.231000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "They could create a roll-up address in the same way they create an ethereum address now and direct an exchange to send funds to it and then utilize any of the dapps inside the roll-up in the same way they interact with L1 today?",
        "created_at": "2021-01-21T20:09:32.002000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Thanks for your help btw!",
        "created_at": "2021-01-21T20:12:46.457000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "sure, happy to chat about this stuff üôÇ",
        "created_at": "2021-01-21T20:14:06.677000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "they probably could",
        "created_at": "2021-01-21T20:14:18.230000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "the missing step would just be a \"liquidity provider\" who would have spare assets to front the deposit",
        "created_at": "2021-01-21T20:14:36.938000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "the normal flow is: I have some DAI on L1; i deposit the DAI to the rollup contract, i can blah blah blah the DAI in the L2; when i want, i can withdraw from the smart contract back to wherever on L1",
        "created_at": "2021-01-21T20:15:15.530000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "actually you wouldn't even need the LP i had in mind",
        "created_at": "2021-01-21T20:15:43.223000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "let's say i want to send you zkDAI; assuming i already had the dai in the rollup, i would just send to you",
        "created_at": "2021-01-21T20:16:04.224000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "and you would get a zksync aware wallet that would show your balance",
        "created_at": "2021-01-21T20:16:18.049000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "generally the UX is all the same, with the additional step of withdrawal/deposits to L1/L2 as desired",
        "created_at": "2021-01-21T20:17:02.362000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "there are edge cases to think about, e.g. if the rollup operator(s) are malicious bc then you have a \"mass exit\" scenario",
        "created_at": "2021-01-21T20:17:22.543000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "but for the most part, things should look and feel like they do today (just w/ much lower  fees and ideally much faster confirmation times)",
        "created_at": "2021-01-21T20:17:41.285000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "I guess my question is more like suppose I have no assets on any roll-up or even on L1",
        "created_at": "2021-01-21T20:18:47.170000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Will I need to do 2 steps?\n1. Generate public/private key for L1\n2. Generate public/private key for L2",
        "created_at": "2021-01-21T20:19:50.486000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Or can I just do step 2 and then operate inside the L2 the exact same way I would operate on L1 today",
        "created_at": "2021-01-21T20:20:43.776000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "And I won't even have to think about the fact that I'm on an L2 until I wish to exit it?",
        "created_at": "2021-01-21T20:22:09.761000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "(2) is sufficient",
        "created_at": "2021-01-21T20:23:14.645000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "someone will have to send you assets inside the L2",
        "created_at": "2021-01-21T20:23:26.731000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "But that's the same experience you have on L1 today",
        "created_at": "2021-01-21T20:23:43.829000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yeah, i'm saying the UX should look mostly the same",
        "created_at": "2021-01-21T20:24:09.756000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "So if I bought assets on an exchange I could presumably give them my L2 address and they'll just send it right there",
        "created_at": "2021-01-21T20:24:10.608000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "right",
        "created_at": "2021-01-21T20:24:20.180000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "the exchange may have to move some assets around on their end",
        "created_at": "2021-01-21T20:24:31.774000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "but they could do this for users, and i don't see why they wouldn't for very popular L2s",
        "created_at": "2021-01-21T20:24:45.049000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Then I guess the only question is what they use to pay for gas",
        "created_at": "2021-01-21T20:24:52.886000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "until the rollup has to settle to L1, no gas üôÇ",
        "created_at": "2021-01-21T20:25:28.275000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "but then they just use ETH like today",
        "created_at": "2021-01-21T20:25:40.900000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "If it's the non-optimistic type, wouldn't it need to publish every time the state changes?",
        "created_at": "2021-01-21T20:26:23.354000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "generally but depends on the security model of the rollup",
        "created_at": "2021-01-21T20:27:09.072000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "In which case, if you submitted an L2 transaction, your tx would be part of the state change, at which point you pay a fraction of the gas fees to be included",
        "created_at": "2021-01-21T20:27:13.646000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "if an exchange anchors to an L2 they could do a bunch of transactions and only settle the net flows after some time",
        "created_at": "2021-01-21T20:27:29.465000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "or the operator pays for gas",
        "created_at": "2021-01-21T20:28:01.607000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "again, depends on arrangment b/t users and rollup operators",
        "created_at": "2021-01-21T20:28:12.289000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Ah I suppose I skipped ahead to the part where the exchange has sent you some funds and now you're using smart contracts within the roll-up",
        "created_at": "2021-01-21T20:28:14.341000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "I would think you'd pay fees to the operator to get you tx included in the block",
        "created_at": "2021-01-21T20:29:00.629000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Operator replaces miner in the current user experience essentially",
        "created_at": "2021-01-21T20:29:39.326000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yep",
        "created_at": "2021-01-21T20:32:03.542000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "you could imagine sponsoring rollup usage though and paying fees for users or something",
        "created_at": "2021-01-21T20:32:20.074000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Gotcha. So to mimic the current UX with the same security guarantees \u0026 censorship resistance you would need an L2 that:\n1) uses ZK-rollups with validity proofs\n2) is entirely permissionless \u0026 opensource\n3) allows anyone to be an operator\n4) crypto-economically incentivizes operators to compete",
        "created_at": "2021-01-21T20:36:27.312000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "I would think the simplest way to achieve 3/4 would be to pay fees to the operator with each tx just like at the base layer",
        "created_at": "2021-01-21T20:37:42.275000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "thats generally the idea",
        "created_at": "2021-01-21T20:38:42.487000+00:00",
        "attachments": []
    },
    {
        "author": "ethdreamer",
        "category": "general",
        "parent": "",
        "content": "Are there any L2s currently working towards this model? I know cairo isn't entirely open source. I think zkSync still has a validator system for operators",
        "created_at": "2021-01-21T20:39:31.872000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "im not sure",
        "created_at": "2021-01-21T20:55:49.030000+00:00",
        "attachments": []
    }
]