[
    {
        "author": "benjaminion",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Benchmarking pairing-friendly elliptic curves libraries: https://hackmd.io/@zkteam/rJsRVWnJ_ (new from my PegaSys R\u0026D colleagues)",
        "created_at": "2021-01-27T10:15:10.994000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!570268431522201601\u003e If you want to have fast non-constant time inversions, there is a great implementation in OpenZKP (as far as I remember it's one used in GMP, not sure about the name of it, but much more readable)",
        "created_at": "2021-01-27T15:24:03.372000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The one is GMP is outdated",
        "created_at": "2021-01-27T15:24:47.741000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "constant time inversion here is as fast as GMP non constant-inversion: https://github.com/bitcoin-core/secp256k1/pull/767",
        "created_at": "2021-01-27T15:25:55.597000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!573787335796326400\u003e should I provide scripts to measure my own library? Also you don't measure G2 scalar mul, MCL would be signicantly faster than other pairing libs (beside mine) because no other library is using endomorphism acceleration there.",
        "created_at": "2021-01-27T15:29:09.889000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I didn't finish BW6-761 pairing though, got lost in line accumulation/miller loop maths.",
        "created_at": "2021-01-27T15:29:45.702000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Note that libsecp256k1 is integrating the Bernstein-Yang paper, but Thomas Pornin released an even faster GCD this summer: https://github.com/pornin/bingcd",
        "created_at": "2021-01-27T15:34:07.051000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "is that the inversion you were refering to \u003c@!381789485777682434\u003e https://github.com/0xProject/OpenZKP/blob/a4fbf23d65f3f2443a8db5ae192f61b7d812a5f7/algebra/u256/src/arch/generic/lehmer_gcd.rs#L424-L475 ?",
        "created_at": "2021-01-27T15:55:02.521000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "This is a question for the Gnark team ðŸ˜€ I can put you in contact if you are not already (Youssef, or Thomas, or Gautam)",
        "created_at": "2021-01-27T15:55:06.621000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I'm on the Gitter but I don't launch gitter anymore :p",
        "created_at": "2021-01-27T15:55:27.049000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It turns out that I was a bit premature posting the link - BW6 is still work in progress in that article as well, but I believe the rest is up to date.",
        "created_at": "2021-01-27T15:56:04.332000+00:00",
        "attachments": null
    },
    {
        "author": "elmarroqui_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Iâ€™m here btw :p (this is Youssef)",
        "created_at": "2021-01-27T15:56:28.579000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "actually I don't see the Gitter anymore :?",
        "created_at": "2021-01-27T15:56:49.376000+00:00",
        "attachments": null
    },
    {
        "author": "elmarroqui_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "That would be awesome \u003c@570268431522201601\u003e if you share the scripts so that I can add you lib.",
        "created_at": "2021-01-27T15:57:16.005000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Looks so",
        "created_at": "2021-01-27T15:57:20.636000+00:00",
        "attachments": null
    },
    {
        "author": "elmarroqui_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For G2, gurvy also uses endomorphism acceleration but the difference with MCL is that MCL uses a 4-decomposition. For the goal of the benchmark, Iâ€™Â m not sure GLV/GLS optimizations would change anything since the multiexp implementations (in all libs?) do not use them.",
        "created_at": "2021-01-27T15:58:18.936000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Install nim, using your package manager. Nim 1.4.2 is the latest one, then\n\n```\ngit clone https://github.com/mratsim/constantine\nnimble bench_ec_g1_clang\nnimble bench_ec_g2_clang\nnimble bench_pairing_bn254_snarks_clang\nnimble bench_pairing_bls12_381_clang\nnimble bench_pairing_bls12_377_clang\n```",
        "created_at": "2021-01-27T15:59:25.809000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "you can also do\n```\ngit clone https://github.com/mratsim/constantine\nnimble bench_ec_g1_gcc\nnimble bench_ec_g2_gcc\nnimble bench_pairing_bn254_snarks_gcc\nnimble bench_pairing_bls12_381_gcc\nnimble bench_pairing_bls12_377_gcc\n```\nbut GCC is bad at crypto, terribad.",
        "created_at": "2021-01-27T16:00:02.516000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I was under the impression that Barrentenberg and gnark used them.",
        "created_at": "2021-01-27T16:04:31.949000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I didn't came across inversion beased on lehmer yet, interesting, thanks",
        "created_at": "2021-01-27T16:11:30.013000+00:00",
        "attachments": null
    },
    {
        "author": "mratsim",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "also \u003c@!689069850890338346\u003e this might be interesting for your team: https://github.com/mratsim/constantine/blob/master/docs/optimizations.md most of the optimizations I'm aware of.",
        "created_at": "2021-01-27T16:12:41.503000+00:00",
        "attachments": null
    },
    {
        "author": "elmarroqui_",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "excellent! that's indeed very helpul thank you.",
        "created_at": "2021-01-27T16:14:58.428000+00:00",
        "attachments": null
    }
]