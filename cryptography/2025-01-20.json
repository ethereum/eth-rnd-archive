[
    {
        "author": "kevaundray",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think I've seen any library with this functionality or at the very least, its not common in a cryptography library. \nWhat I usually see is a function that takes in a byte slice `[]byte` and then returns a scalar which encodes the data *but* it truncates if the data does not fit into a scalar or it returns an error if it does not fit into a scalar.\n\n\u003c@360491619402776577\u003e I believe you had a library that allowed one to efficiently encode data into blobs, which sounds closer to what I think Potuz is asking for",
        "created_at": "2025-01-20T14:03:13.601000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "https://github.com/MariusVanDerWijden/blob-me-baby (no guarantees)",
        "created_at": "2025-01-20T14:04:40.512000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah I can do that (already done it for Ristretto) but I'm pretty sure every single person doing Pedersen commitments has faced this problem and I'd be surprised if this is not already done correctly. \n\n\u003c@360491619402776577\u003e did you do it the most efficient way using the maximum number of bits available or did you truncate at the byte level?",
        "created_at": "2025-01-20T14:06:05.909000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think I have one for the maximum number of bits as well",
        "created_at": "2025-01-20T14:08:07.818000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah I agree that someone must have come across this usecase before.\n\nWhat I usually see is:\n\n- Assume data fits into a scalar, since its a unsigned integer of say 64 bits\n- Pack it by using half of the scalar. So each ristretto scalar encodes 128 bits\n- Use some hash-to-scalar (elligator) method which truncates data",
        "created_at": "2025-01-20T14:26:16.672000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ristretto scalars are 252 bits and typically are encoded from 32 bytes. Problem is that I need to make linear operations on actual data, so can't truncate anything. Anyway, for my POC I'm being very lazy and using 248bits instead of 251+ and be happy with the loss of performance.",
        "created_at": "2025-01-20T14:28:44.573000+00:00",
        "attachments": null
    }
]