[
    {
        "author": "trentmohay2268",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Looks like we're going to track the lowest-block in an import, and after import completion, we update our low-watermark to the higher of the existing watermark or min-block in import.\nFor attestations, we're treating the source and target epochs as independent variables, and applying updating each watermark using the same logic (`max(current, min_import)`)",
        "created_at": "2020-11-19T00:12:47.657000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "and exports exclude entries prior to the low water mark?",
        "created_at": "2020-11-19T00:13:45.229000+00:00",
        "attachments": []
    },
    {
        "author": "trentmohay2268",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I haven't got to that bit yet - but I THINK it seems like a senslble option",
        "created_at": "2020-11-19T00:14:01.964000+00:00",
        "attachments": []
    },
    {
        "author": "trentmohay2268",
        "category": "Consensus Layer",
        "parent": "",
        "content": "wrt 'do not export below Low-watermark', it sounds like the right thing to do - and overcomes issues like a gap leaving a gap between signed and imported entries when re-exporting",
        "created_at": "2020-11-19T00:27:20.314000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yep, its really the only way to ensure the semantics of the exported file match up with what you know.  Basically the earliest entry indicates the low water mark, so you have to omit anything before the low watermark in your DB.  You'd have to omit any attestation that has either the source or target below the watermark even if one is above.",
        "created_at": "2020-11-19T00:31:56.216000+00:00",
        "attachments": []
    }
]