[
    {
        "author": "ralexstokes",
        "category": "Consensus Layer",
        "parent": "",
        "content": "it looks like the deposit cli tool follows EIP 2334 but it would be fairly straightforward to modify the code to do what you wanted",
        "created_at": "2020-09-25T01:29:36.357000+00:00",
        "attachments": []
    },
    {
        "author": "mysticryuujin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Is there a way to determine what the widthdraw public key is for a validator deposit?",
        "created_at": "2020-09-25T13:29:36.656000+00:00",
        "attachments": []
    },
    {
        "author": "mysticryuujin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Oh it looks like maybe beaconscan presents that info once it is processed in the beacon chain",
        "created_at": "2020-09-25T13:32:05.245000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus Layer",
        "parent": "",
        "content": "withdrawal pubkey is not published in the deposit. Instead, a SHA-256 hash of the pubkey is included",
        "created_at": "2020-09-25T13:37:07.003000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Since there may be different withdrawal methods, it's just a digest of the necessary information",
        "created_at": "2020-09-25T13:37:26.932000+00:00",
        "attachments": []
    },
    {
        "author": "mysticryuujin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "So if I know the pub key, I can sha256 it and validate it's correct against the \"withdraw_credentials\"?",
        "created_at": "2020-09-25T13:37:47.920000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus Layer",
        "parent": "",
        "content": "A prefix byte in this 32 byte \"withdrawal credentials\" is used to determine the type of withdrawal. Right now there's only the pubkey type",
        "created_at": "2020-09-25T13:37:53.644000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yes, it's outlined in the spec that accompanies the deposit contract. I'll get you a link",
        "created_at": "2020-09-25T13:38:24.223000+00:00",
        "attachments": []
    },
    {
        "author": "protolambda",
        "category": "Consensus Layer",
        "parent": "",
        "content": "https://github.com/ethereum/eth2.0-specs/blob/v0.12.3/specs/phase0/deposit-contract.md#withdrawal-credentials",
        "created_at": "2020-09-25T13:40:11.403000+00:00",
        "attachments": []
    },
    {
        "author": "mysticryuujin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "hmmm I'm not having much luck figuring this out. Pubkey is hex string `0xblah` but `sha256(bytes[] blah)` looks nothing like `withdrawal_credentials` pretty sure I'm missing a step lol",
        "created_at": "2020-09-25T14:17:02.453000+00:00",
        "attachments": []
    },
    {
        "author": "mysticryuujin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "i'm a shitty coder so, sorry up front haha\n\nethdo is converting the `bytes[] pub` to `var key bls.PublicKey` with `key.Deserialize(pub);`\n\nThat's where I get lost",
        "created_at": "2020-09-25T14:19:38.959000+00:00",
        "attachments": []
    },
    {
        "author": "mysticryuujin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "plus trying to do it in python ðŸ™‚",
        "created_at": "2020-09-25T14:19:53.446000+00:00",
        "attachments": []
    },
    {
        "author": "mysticryuujin",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think I figured it out from the eth2.0-deposit-cli tool ðŸ¥³",
        "created_at": "2020-09-25T14:32:27.751000+00:00",
        "attachments": []
    }
]