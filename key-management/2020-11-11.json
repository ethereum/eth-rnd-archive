[
    {
        "author": "trentmohay2268",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Playing with the ref tests for interchange format - and it appears the 'test inputs' (i.e. blocks/attestations which should_pass/fail) at the end of the file, in the main, don't have corresponding signing_roots - are they meant to? i.e. without a signing root, only a subset of slashing rules can be exercised",
        "created_at": "2020-11-11T04:11:35.347000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e Playing with the ref tests for interchange format - and it appears the 'test inputs' (i.e. blocks/attestations which should_pass/fail) at the end of the file, in the main, don't have corresponding signing_roots - are they meant to? i.e. without a signing root, only a subset of slashing rules can be exercised\n\u003c@!681273808841474198\u003e I'm working on these tests right now and drafting a few proposed changes. If you're registered on Eth Magicians I'll tag you (https://ethereum-magicians.org/t/eip-3076-validator-client-interchange-format-slashing-protection/)",
        "created_at": "2020-11-11T04:17:58.331000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e for us in prysm, our most secure setup at the moment is using a remote signer that a validator reaches out to for public keys and to request signing of objects. This remote signer is a separate box you control and is airgapped from the rest of the eth2 code (the client)",
        "created_at": "2020-11-11T04:19:58.133000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "but yes worst case is still someone breaks into your remote signer and steals the keys and gets you slashed",
        "created_at": "2020-11-11T04:20:24.876000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@!681273808841474198\u003e That's a good point though, I'll add optional `signing_root`s to the blocks signed at the end",
        "created_at": "2020-11-11T04:21:37.669000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "(and attestations)",
        "created_at": "2020-11-11T04:21:42.399000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e The max an attacker can do is get you slashed, which is ~1ETH under normal circumstances but can be up to 100% of your balance if the attacker gets a large number of other validators slashed at the same time\n\u003c@381589490130616320\u003e is this slashing a one time thing, or can they repeat it?  If it is repeatable what is the frequency of repetition allowed?  Can one setup external monitoring/alerting with an unrelated node that can detect when the first slash occurs so I can intervene and roll keys?  If it is possible to monitor externally, are there existing tools for this?",
        "created_at": "2020-11-11T04:40:46.515000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Once a validator key is marked as slashed, it is marked for exit and will bleed funds until its status is EXITED and slashed set to true",
        "created_at": "2020-11-11T04:42:08.501000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@!681273808841474198\u003e I'd love your feedback on https://ethereum-magicians.org/t/eip-3076-validator-client-interchange-format-slashing-protection/4883/2",
        "created_at": "2020-11-11T06:14:58.668000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e https://unvetica.com/eth-staker-community-call-10-secret-shared-validators-and-trustless-staking-pools/\n\u003e and a proof of concept: https://github.com/dankrad/python-ssv\n\u003c@!203220829473996800\u003e Great to see interest in the SSV project. If anyone has time/ willing to contribute that would be great!",
        "created_at": "2020-11-11T07:34:01.672000+00:00",
        "attachments": null
    },
    {
        "author": "trentmohay2268",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e \u003c@!681273808841474198\u003e I'd love your feedback on https://ethereum-magicians.org/t/eip-3076-validator-client-interchange-format-slashing-protection/4883/2\n\u003c@!602753420033785856\u003e We've refactored our \"ruleset\" in web3signer to accomodate the concept of importing data which would otherwise conflict with existing data (or other data in the import file).\nI.e. we import _everything_ in the import regardless of its validity (other than maybe an attestation where source\u003etarget) - thus our db may contain surrounded attestations, meaning you can resign neither the surroud-er nor the surround-ee...",
        "created_at": "2020-11-11T08:01:52.129000+00:00",
        "attachments": null
    },
    {
        "author": "trentmohay2268",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Our DB supports a \"null\" signing_root - which effectively means we will never re-sign an artifact at that targetEpoch/Slot",
        "created_at": "2020-11-11T08:03:11.691000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e Once a validator key is marked as slashed, it is marked for exit and will bleed funds until its status is EXITED and slashed set to true\n\u003c@311971895828283393\u003e Is this something one case easily alert on?  What is the speed at which the bleed out occurs?",
        "created_at": "2020-11-11T08:08:07.582000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e \u003c@311971895828283393\u003e Is this something one case easily alert on?  What is the speed at which the bleed out occurs?\n\u003c@301186049323958275\u003e  No, once you’re slashed it’s too late. Getting slashed is irreversible, the only thing you can do to minimise losses is to stay online until you are “exited” (validators are removed gradually, so you might have to keep attesting for a little while even after you’re slashed). Your balance then bleeds over the course of weeks until halfway through your ejection when a penalty proportional to the total number of slashings kicks in (this is usually the more severe penalty).",
        "created_at": "2020-11-11T08:13:23.854000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "The exit delay is usually short (hours/days) but the bleed is long (weeks)",
        "created_at": "2020-11-11T08:14:06.489000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Wouldn't the attacker continue to submit bad attestations during this time (while waiting to exit)?",
        "created_at": "2020-11-11T08:14:20.078000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Probably yes, but the extra damage would be marginal compared to everything else",
        "created_at": "2020-11-11T08:14:46.954000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "So if my key is compromised, I don't have to do anything to minimize losses?  If my node stays online and continues to attest, either it will succeed and minimize my losses, or the attacker will continue to attack and my staying online will just waste electricity but otherwise won't hurt anything.  Eventually I'll automatically exit (no human intervention required) and then at some point in the future after a human has rolled the keys and plugged the hole, I could join back in if I desired?",
        "created_at": "2020-11-11T08:17:36.530000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e Yeah. That’s right. I assume by “rolling keys” you mean switching to a new key with new ETH (your slashed+exited validator would need to wait until phase 1.5/2 to be able to transfer its balance anywhere)",
        "created_at": "2020-11-11T08:22:14.764000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Oh, I can't roll keys until ETH 1.5/2?!",
        "created_at": "2020-11-11T08:22:48.576000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I knew the ETH was locked into ETH 2, I didn't realize that I couldn't roll my keys until then!",
        "created_at": "2020-11-11T08:23:06.418000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Good OpSec is to *regularly* roll signing keys... this seems like a bad idea to completely disallow key rolling...",
        "created_at": "2020-11-11T08:23:26.059000+00:00",
        "attachments": null
    }
]