[
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@!88765147048333312\u003e is there a way to union types in open rpc? for example (in typescript) `{one: string, two: string} \u0026\u0026 ( {three: string} || {four: string})` which is to say it's either `{one, two, three}` or `{one, two, four}`",
        "created_at": "2021-05-16T08:35:40.765000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "this is particularly useful for 1559 changes which will add a new return type while not deleting the previous",
        "created_at": "2021-05-16T08:36:22.996000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "I suppose we could just say that the old is old is just standard and new is 1559 or something",
        "created_at": "2021-05-16T08:38:46.395000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yes, I looked into it a while back and found it was possible.",
        "created_at": "2021-05-16T08:50:43.300000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Something like `anyOf` I thinik.",
        "created_at": "2021-05-16T08:50:50.718000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Oh, sorry, `anyOf` is union, but you want intersection.",
        "created_at": "2021-05-16T08:51:43.148000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "such as `oneOf`?",
        "created_at": "2021-05-16T08:55:28.973000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "No, that is a weird thing.",
        "created_at": "2021-05-16T08:55:42.765000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "It is a union, bet it doesn't support subsets.",
        "created_at": "2021-05-16T08:55:53.288000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I don't actually know why you would ever use it instead of `anyOf`.",
        "created_at": "2021-05-16T08:56:08.839000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "`allOf` I think is what you want.",
        "created_at": "2021-05-16T08:56:29.541000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "`allOf({one, two}, anyOf({three},{four}))`",
        "created_at": "2021-05-16T08:57:05.989000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "oh okay cool",
        "created_at": "2021-05-16T08:57:57.636000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "do you have the documentation at hand?",
        "created_at": "2021-05-16T08:58:11.902000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Nope.  Just examples.  \u003chttps://github.com/open-rpc/examples/blob/master/service-descriptions/petstore-expanded-openrpc.json\u003e",
        "created_at": "2021-05-16T08:58:20.109000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "That one uses `allOf` in it, I think one of the other examples uses `anyOf`.",
        "created_at": "2021-05-16T08:58:48.202000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "weird, looks like the docs don't have much on it (from a cursory look) \u003c@!88765147048333312\u003e do you know about this at all?",
        "created_at": "2021-05-16T08:59:31.510000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "Okay, I can use it, then / figure it out",
        "created_at": "2021-05-16T08:59:45.620000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "They have a Discord server, may be worth asking in there to see if someone can give a quick answer.",
        "created_at": "2021-05-16T08:59:49.555000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Ah, they are part of JSON Schema, not OpenRPC.",
        "created_at": "2021-05-16T09:01:28.409000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003chttps://json-schema.org/understanding-json-schema/reference/combining.html\u003e",
        "created_at": "2021-05-16T09:01:34.707000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "oh nice find, thanks",
        "created_at": "2021-05-16T09:04:01.851000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "wouldn't it just be oneOf though?",
        "created_at": "2021-05-16T09:05:13.213000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "becuase if you did anyOf then that'd say you could have the removed + added stuff on the transaction",
        "created_at": "2021-05-16T09:05:34.526000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "so oneOf would presumably prevent that, no?",
        "created_at": "2021-05-16T09:05:53.041000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "`oneOf` would work in place of `anyOf` there, but not always.",
        "created_at": "2021-05-16T09:15:59.296000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Hmm, actually I see what you are saying now.",
        "created_at": "2021-05-16T09:16:46.828000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "If someone sent `{one, two, three, four}`, that would match `allOf({one, two}, anyOf({three},{four}))` but it would not make sense.",
        "created_at": "2021-05-16T09:17:11.385000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "OK, I'm convinced that `oneOf` is right here.",
        "created_at": "2021-05-16T09:17:19.869000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e updated PR https://github.com/ethereum/eth1.0-specs/pull/47",
        "created_at": "2021-05-16T09:45:47.992000+00:00",
        "attachments": null
    }
]