[
    {
        "author": "m.kalinin",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e can we engage Arbitrum into the `safe` block discussion please?",
        "created_at": "2025-08-14T15:32:00.138000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Execution Layer",
        "parent": "",
        "content": "I can, but also probably I or \u003c@363800010518822915\u003e can represent them. cc  \u003c@589001195444502528\u003e",
        "created_at": "2025-08-14T15:34:05.239000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Execution Layer",
        "parent": "",
        "content": "In short: Arbitrum will be happy to have fast confirmed block available by RPC cause we want to consume it for things like deposits and the such. But still need some longer safe block that does not rely on synchrony conditions on the chain for execution consumption. Perhaps that can be finalized anyway so it should be in principle fine",
        "created_at": "2025-08-14T15:35:30.571000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Execution Layer",
        "parent": "",
        "content": "the question is: if we switch `safe` head from [unrealized] justified block to fast confirmed block, will that break anything on their side?",
        "created_at": "2025-08-14T15:35:49.519000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Execution Layer",
        "parent": "",
        "content": "the concern is reorg",
        "created_at": "2025-08-14T15:37:00.933000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003e But still need some longer safe block that does not rely on synchrony conditions on the chain for execution consumption\n\nI should say that justified block relies on synchrony conditions. Because in the case of asynchrony, a justified block can be reorged out, at least in theory, not sure if such reorg is allowed by the implementations",
        "created_at": "2025-08-14T15:37:04.274000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Execution Layer",
        "parent": "",
        "content": "but as a quick update, I've been testing arbitrum nitro node with prysm running safe head\nnot as a sequencer, but a node following a chian on mainnet (it's a bit useless testing)\nthe real testing is to run arbitrum sequencer with safe head that following a parent chain like holesky",
        "created_at": "2025-08-14T15:38:45.580000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Execution Layer",
        "parent": "",
        "content": "yeah, holesky would be a good test for the conf rule",
        "created_at": "2025-08-14T15:39:15.512000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Execution Layer",
        "parent": "",
        "content": "are there still many reorgs on holesky?",
        "created_at": "2025-08-14T15:39:34.747000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Execution Layer",
        "parent": "",
        "content": "A good confirmation rule would not go back even in a chain that is reorgling a lot. The good test would be under asynchrony in which the confirmed block would go back. Anyway having said so I *think* Arbitrum no longer relies on \"Safe\" so it may not be an issue.",
        "created_at": "2025-08-14T15:41:38.407000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003e A good confirmation rule would not go back even in a chain that is reorgling a lot. \n\nI agree, however, synchrony is one of the assumptions of the fast confirmation rule. And if there is a reorg due to a period of asynchrony it can also affect a confirmed block. It should be quite rare event tho",
        "created_at": "2025-08-14T15:49:08.100000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Execution Layer",
        "parent": "",
        "content": "I think batch posting and delayed mesage consuming *by default uses safe head*. It's a parameter that can be configured to using latest or finalized.\nhttps://github.com/OffchainLabs/nitro/blob/743a7807d11ea0aa24359915332e42f91c6c1059/arbnode/batch_poster.go#L1464-L1463\nhttps://github.com/OffchainLabs/nitro/blob/58945f3688fa2e198eb4dc6ac15596ff3372c48b/arbnode/delayed_sequencer.go#L119-L118",
        "created_at": "2025-08-14T17:45:35.942000+00:00",
        "attachments": null
    }
]