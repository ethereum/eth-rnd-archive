[
    {
        "author": "ryanleeschneider",
        "category": "Execution Layer",
        "parent": "",
        "content": "Out of curiosity what client/version is `rpc.zhejiang.ethpandaops.io` running?  Shouldn't `withdrawals` be omitted until `withdrawalRoot` is included?\n\n```\ncurl https://rpc.zhejiang.ethpandaops.io/ -H 'Content-Type: application/json' -d '{\"method\":\"eth_getBlockByNumber\",\"params\":[\"latest\",false],\"id\":1,\"jsonrpc\":\"2.0\"}'\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":{\"baseFeePerGas\":\"0x7\",\"difficulty\":\"0x0\",\"extraData\":\"0xd883010b00846765746888676f312e31392e35856c696e7578\",\"gasLimit\":\"0x1c9c380\",\"gasUsed\":\"0x0\",\"hash\":\"0x004bb6b851562e5168611c6d04681396e3030b393280ec8685d8737e32b12faf\",\"logsBloom\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"miner\":\"0xf97e180c050e5ab072211ad2c213eb5aee4df134\",\"mixHash\":\"0x270e787669a38aa2aac84dfac068d91e2a4de0c068174c60949775e0b6ab47c2\",\"nonce\":\"0x0000000000000000\",\"number\":\"0x9402\",\"parentHash\":\"0xeb60b00084e06eefbaa7ac440f2a1673d0dcd62834a92e25e18930e7647d6733\",\"receiptsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"size\":\"0x219\",\"stateRoot\":\"0xb9f2da8accb9170adbd999e39bda94d546d3a43c0ce50b954853a658456c5b07\",\"timestamp\":\"0x63e19600\",\"totalDifficulty\":\"0x1\",\"transactions\":[],\"transactionsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"uncles\":[],\"withdrawals\":null}}\n```",
        "created_at": "2023-02-07T00:09:09.258000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Execution Layer",
        "parent": "",
        "content": "the idea was that the withdrawals are small enough to not need to pass a root (like with transactions) and instead just pass the full data",
        "created_at": "2023-02-07T03:42:22.879000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Execution Layer",
        "parent": "",
        "content": "separately, the json rpc APIs are not separately versioned so `null` is returned if things are pre-capella (like now)",
        "created_at": "2023-02-07T03:43:16.552000+00:00",
        "attachments": []
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution Layer",
        "parent": "",
        "content": "I find it odd that a null `withdrawals` is included but `withdrawalsRoot` is omitted, seems like both should be either there or absent, looking at the geth code that's my understanding of how it works there: https://github.com/ethereum/go-ethereum/blob/master/internal/ethapi/api.go#L1256-L1258",
        "created_at": "2023-02-07T23:27:23.256000+00:00",
        "attachments": []
    }
]