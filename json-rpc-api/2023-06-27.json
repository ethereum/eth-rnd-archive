[
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "Currently the execution-apis spec for `eth_estimateGas` doesn't specify what value is used for `Block` if it isn't specified. In Geth prior to 1.12.0 it defaulted to `pending` but now has changed to `latest`. This has turned out to break a bunch of stuff - most notably anything that tries to access the block hash of the current chain head block because that's not available on-chain when using `latest` but is for `pending`. \n\nSo it seems like specifying the default is important, but I'm not sure what that default should be. Right now I'd love to go back to pending but I'm not sure why geth chose to change to latest. It was https://github.com/ethereum/go-ethereum/pull/24363 but I don't understand what the PRÂ description is saying.",
        "created_at": "2023-06-27T01:35:19.265000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Execution Layer",
        "parent": "",
        "content": "From what I can see, besu always uses `latest` and doesn't support the second parameter to specify a target block for `eth_estimateGas`.  Besu only supports `pending` for `eth_getTransactionCount` though and never actually builds a pending block or applies those transactions.",
        "created_at": "2023-06-27T03:22:29.514000+00:00",
        "attachments": []
    }
]