[
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "What version of Node and npm are used in `execution-apis` ? I'd be happy to set a minimum for the repo's `package.json` That way moving forward, everyone that joins will at least have the same exact dependency tree in `node_modules`  when they `npm install`. Prevents issues like \"well, it worked on my local environment...\" ðŸ˜‚",
        "created_at": "2021-11-13T01:56:13.201000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "Also, I'm looking at \n```\n        \"params\": [\n            {\n                \"name\": \"Proof-of-work hash\",\n                \"required\": true,\n                \"schema\": {\n                    \"$ref\": \"#/components/schemas/bytes32\"\n                }\n            },\n```\n... how would I change this to an 8 byte type ? I can't find `byte8` base type here: https://github.com/ethereum/execution-apis/blob/main/src/schemas/base-types.json",
        "created_at": "2021-11-13T02:11:55.240000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "Actually I figured it out.. The base-types.json was throwing me off.\n```\n        \"byte\": {\n        \"title\": \"hex encoded byte\",\n        \"type\": \"string\",\n        \"pattern\": \"^0x([0-9,a-f,A-F]?){1,2}$\"\n    },\n    \"bytes\": {\n        \"title\": \"hex encoded bytes\",\n        \"type\": \"string\",\n        \"pattern\": \"^0x[0-9a-f]*$\"\n    },\n         ????       \u003c----------------------- I was expecting a bytes8 with a title like \"8 hex encoded bytes\" or a pattern like \"pattern\": \"^0x[0-9a-f]{16}$\"\n    \"bytes32\": {\n        \"title\": \"32 hex encoded bytes\",\n        \"type\": \"string\",\n        \"pattern\": \"^0x[0-9a-f]{64}$\"\n    },\n```",
        "created_at": "2021-11-13T02:31:31.723000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "Is this right? https://github.com/ethereum/execution-apis/pull/124",
        "created_at": "2021-11-13T02:44:27.912000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "i think lts (v14.15.1) would be a good min",
        "created_at": "2021-11-13T02:58:11.155000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "i think you're gonna need to create the type since it hasn't been used before",
        "created_at": "2021-11-13T02:58:46.457000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "Would that be necessary?\nI found another \"Nonce\" type elsewhere and it was using the regular `bytes` schema. https://github.com/ethereum/execution-apis/blob/main/src/schemas/block.json#L82-L85",
        "created_at": "2021-11-13T03:00:49.905000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "bytes allows an arbitrary number of bytes, we should use the most prescriptive types that we can in the spec and in the case of the PoW nonce (different than account nonce) the max size is only 8 bytes",
        "created_at": "2021-11-13T03:05:08.951000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "so is `src/schemas/base-types.json` the proper place to define bytes8 ?",
        "created_at": "2021-11-13T03:07:22.384000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "yes it is!",
        "created_at": "2021-11-13T03:07:32.452000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "should I define bytes16 while i'm at it? is there such a thing?  And do these data types come from solidity data types?",
        "created_at": "2021-11-13T03:10:37.561000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "a quick internet scan says that bytes1, bytes2, bytes3,... up to bytes32.... exist in Solidity. I guess for now, i'll just define bytes8 and if a new one comes around, just define that then.",
        "created_at": "2021-11-13T03:13:09.937000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "i would keep the diff minimal, only added what is necessary at this time",
        "created_at": "2021-11-13T03:16:32.559000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "I just noticed something. Does it matter that the pattern for `byte`  allows for characters `[0-9,a-f,A-F]` but the patterns for `bytes`, `bytes32` `bytes64` are only lowercase `a-f` ?",
        "created_at": "2021-11-13T03:17:17.727000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "this could be something we look into more, but generally i wrote this to be as strict as possible and so AFAIK geth doesn't return any uppercase hex values (maybe a checksum address? but don't recall)",
        "created_at": "2021-11-13T03:19:19.032000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "i think it accept upper case hex, but for the spec i think it's better to say it's not accepted to maintain strictness",
        "created_at": "2021-11-13T03:19:54.782000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "no worries. I'll just go wth the least amount of changes and continue the consistency with the other bytes types",
        "created_at": "2021-11-13T03:19:55.670000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "thank you - be sure to be mindful of this existing issue https://github.com/ethereum/execution-apis/issues/106",
        "created_at": "2021-11-13T03:20:30.031000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "actually sorry - i don't think this is an issue with bytes8 because it *must* be 8 bytes, `0x0` is invalid",
        "created_at": "2021-11-13T03:21:13.291000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "is that issue just fixing the pattern to allow 0x0?",
        "created_at": "2021-11-13T03:22:26.087000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "i think so",
        "created_at": "2021-11-13T03:22:47.445000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "okay i fixed that too. I'll be updating the PR in a min",
        "created_at": "2021-11-13T03:35:58.333000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "cool. It's ready for review. I kept the two issues as two separate commits. LMK if you want me to squash that into 1 commit.",
        "created_at": "2021-11-13T03:45:44.503000+00:00",
        "attachments": []
    },
    {
        "author": "deliriumdrop",
        "category": "Execution Layer",
        "parent": "",
        "content": "https://github.com/ethereum/execution-apis/pull/124",
        "created_at": "2021-11-13T03:45:48.748000+00:00",
        "attachments": []
    }
]