[
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e I figured out why Nethermind supports both input and data on a transaction, and why we should consider fixing Geth...",
        "created_at": "2021-08-26T17:56:22.332000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Apparently Geth uses `input` when returning a transaction over JSON-RPC, but it expects `data` when receiving a transaction over JSON-RPC.",
        "created_at": "2021-08-26T17:56:56.214000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "This causes pain for integrators because they have to have two different transaction data structures in their codebase, which inevitably leads to bugs.",
        "created_at": "2021-08-26T17:57:29.359000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I recommend we get a patch for Geth out that adds a data field to returned transactions that mirrors the input field, and make a deprecation announcement for the input field.  EOL can be measured in years if we want, but I think we should start now.",
        "created_at": "2021-08-26T17:59:03.992000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "cc \u003c@360491619402776577\u003e",
        "created_at": "2021-08-26T17:59:09.536000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "This would also eventually let Nethermind delete the code they have for returning both (which they do so integrators don't have to suffer I suspect).",
        "created_at": "2021-08-26T18:00:14.068000+00:00",
        "attachments": null
    },
    {
        "author": "fvictorio",
        "category": "Execution Layer",
        "parent": "",
        "content": "I think you need two structures anyway. Tx input and output are slightly different. That's what we do anyway.",
        "created_at": "2021-08-26T18:01:51.917000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Execution Layer",
        "parent": "",
        "content": "```\n// We accept \"data\" and \"input\" for backwards-compatibility reasons.\n    // \"input\" is the newer name and should be preferred by clients.\n    // Issue detail: https://github.com/ethereum/go-ethereum/issues/15628\n```",
        "created_at": "2021-08-26T18:01:54.339000+00:00",
        "attachments": null
    },
    {
        "author": "fvictorio",
        "category": "Execution Layer",
        "parent": "",
        "content": "But consistency is always good anyway, so using only data makes sense",
        "created_at": "2021-08-26T18:02:17.884000+00:00",
        "attachments": null
    },
    {
        "author": "fvictorio",
        "category": "Execution Layer",
        "parent": "",
        "content": "Oh, `input` is the new one? Weird",
        "created_at": "2021-08-26T18:02:33.461000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "are you sure it doesn't also expect / allow `input`?",
        "created_at": "2021-08-26T18:05:12.094000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "If you all claim it should I can research more.",
        "created_at": "2021-08-26T18:06:37.485000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "```\n\u003e params = { input: \"0x6001\", from: personal.listAccounts[0], gas: 100000 }\n\u003e personal.sendTransaction(params)\n\"0x659bd022a69b16afcebb92ab9e5bd59e7a2cef9344e5f65d12ab7e5c79c2b314\"\n```",
        "created_at": "2021-08-26T18:09:45.779000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "seems to accept `input`",
        "created_at": "2021-08-26T18:09:58.500000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I'll chalk it up to doing something wrong on my end then.  At least now I understand why there is both input and data.",
        "created_at": "2021-08-26T18:10:25.040000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "At least we uncovered a bug out of this! https://github.com/ethereum/go-ethereum/pull/23476",
        "created_at": "2021-08-26T20:05:04.299000+00:00",
        "attachments": null
    }
]