[
    {
        "author": "smartprogrammer",
        "category": "Execution Layer",
        "parent": "",
        "content": "Hey guys,\nWe got the following issue:\nhttps://github.com/NethermindEth/nethermind/issues/6641\nlooks to me like this could be an important aspect to standardise in the jsonRPC response. My opinon is that depending on strings is futile. and we should possibly try to depend on error codes for tx failure errors instead. \nGeth implementation:\nhttps://github.com/ethereum/go-ethereum/blob/master/core/error.go\nNeth implementation:\nhttps://github.com/NethermindEth/nethermind/blob/master/src/Nethermind/Nethermind.TxPool/AcceptTxResult.cs\nnot sure where besu stands for this one.\ncc. \u003c@259648573401071617\u003e  and \u003c@194432762315407360\u003e  üôè",
        "created_at": "2024-02-05T11:43:21.163000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yes, we should standardize error codes instead of error messages",
        "created_at": "2024-02-05T11:57:04.066000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "At the moment, we only have a single custom error code: when eth_call or eth_estimateGas hits a revert, Geth returns error code 3",
        "created_at": "2024-02-05T11:58:13.894000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "I have added a hive test to check this behavior and while other clients including Nethermind catch the revert and return an error, we do not all agree on the code in this situation",
        "created_at": "2024-02-05T11:59:29.265000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "As a first step, I propose we come up with a list of error situations",
        "created_at": "2024-02-05T11:59:39.754000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "Then we can assign the codes and add rpc-compat tests",
        "created_at": "2024-02-05T11:59:58.995000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution Layer",
        "parent": "",
        "content": "This list should be prioritized, in case there are multiple things wrong with a single call.",
        "created_at": "2024-02-05T16:40:12.359000+00:00",
        "attachments": null
    }
]