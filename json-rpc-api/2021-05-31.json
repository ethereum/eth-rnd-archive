[
    {
        "author": "fvictorio",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e is there anything decided about the behavior of the `eth_sendTransaction` RPC method? I've thought a bit about this, and the way I'd implement it in Hardhat would be like this:\n\n- If `gasPrice` is combined with `maxFeePerGas` or `maxPriorityFeePerGas` (or both), throw an \"invalid input\" error.\n- If only `gasPrice` is passed, then this is interpreted as `{ maxFeePerGas: gasPrice, maxPriorityFeePerGas: gasPrice }`\n- If only one of `maxFeePerGas` and `maxPriorityFeePerGas` is passed, throw an \"invalid input\" error\n- If `maxPriorityFeePerGas` is bigger than `maxFeePerGas`, throw an \"invalid arguments\" error",
        "created_at": "2021-05-31T13:31:29.579000+00:00",
        "attachments": null
    },
    {
        "author": "fvictorio",
        "category": "Execution Layer",
        "parent": "",
        "content": "But we are probably willing to make changes for better compatibility with geth",
        "created_at": "2021-05-31T13:31:59.524000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003e If gasPrice is combined with maxFeePerGas or maxPriorityFeePerGas (or both), throw an \"invalid input\" error.\nyes, this should return an error\n\n\u003e If only gasPrice is passed, then this is interpreted as { maxFeePerGas: gasPrice, maxPriorityFeePerGas: gasPrice }\nno, if only `gasPrice` is passed then the transaction will be sent with using it (although 1559 will be definition understand it as you've described)\n\n\u003e If only one of maxFeePerGas and maxPriorityFeePerGas is passed, throw an \"invalid input\" error\ni believe yes, it should throw",
        "created_at": "2021-05-31T13:40:48.716000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003e if maxPriorityFeePerGas is bigger than maxFeePerGas, throw an \"invalid arguments\" error\nyes it should throw",
        "created_at": "2021-05-31T13:41:18.708000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@!130156954273316865\u003e sorry i didn't get to debugging `eth_sendTransaction` more last week - a new PR has superseded mine: https://github.com/ethereum/go-ethereum/pull/22964",
        "created_at": "2021-05-31T13:42:18.547000+00:00",
        "attachments": null
    },
    {
        "author": "fvictorio",
        "category": "Execution Layer",
        "parent": "",
        "content": "Thank you! Yes, the third point was confusing. It will be a legacy tx, the protocol will interpret it like that as per 1559, but the results of `eth_getTransactionByHash` (and company) and the receipt will be legacy",
        "created_at": "2021-05-31T13:44:11.039000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Execution Layer",
        "parent": "",
        "content": "btw your thoughts would be appreciated on https://github.com/ethereum/eth1.0-specs/pull/201 if you have a chance to review",
        "created_at": "2021-05-31T13:45:20.241000+00:00",
        "attachments": null
    },
    {
        "author": "fvictorio",
        "category": "Execution Layer",
        "parent": "",
        "content": "Sure, will do!",
        "created_at": "2021-05-31T14:27:03.069000+00:00",
        "attachments": null
    }
]