[
    {
        "author": "s1na",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@\u0026836981603216654336\u003e \u003c@\u0026688101493978562687\u003e \u003c@\u0026652918665943056397\u003e \u003c@\u00261070471163219824730\u003e  who would be a good point of contact for rpc-related issues from your team?",
        "created_at": "2025-09-24T10:25:02.222000+00:00",
        "attachments": null
    },
    {
        "author": "mattsse",
        "category": "Execution Layer",
        "parent": "",
        "content": "me for reth",
        "created_at": "2025-09-24T10:26:08.332000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Execution Layer",
        "parent": "",
        "content": "Depends on api, just ping nethermind. If it's a DM, write to me I will find people",
        "created_at": "2025-09-24T10:27:03.274000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@745384946310578317\u003e for Erigon",
        "created_at": "2025-09-24T10:32:59.699000+00:00",
        "attachments": null
    },
    {
        "author": "lu_pinto",
        "category": "Execution Layer",
        "parent": "",
        "content": "add me to the DM if you're opening one and I will find ppl as well",
        "created_at": "2025-09-24T11:09:51.324000+00:00",
        "attachments": null
    },
    {
        "author": ".j8j",
        "category": "Execution Layer",
        "parent": "",
        "content": "Hi \u003c@806184091690598420\u003e \u003c@259648573401071617\u003e  Iâ€™ve submitted the engine get blob v1 fix, PTAL",
        "created_at": "2025-09-24T11:18:01.816000+00:00",
        "attachments": null
    },
    {
        "author": "mattsse",
        "category": "Execution Layer",
        "parent": "",
        "content": "ah nice, I just created an issue for this after this was flagged in sherlock",
        "created_at": "2025-09-24T11:19:16.809000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Execution Layer",
        "parent": "",
        "content": "me for besu",
        "created_at": "2025-09-24T14:11:30.137000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e  \u003c@758579010027782144\u003e actually we have a flag for tests which are supposed to be 'spec-only'",
        "created_at": "2025-09-24T14:47:08.484000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "for these tests, we should not expect the value to be exactly the same",
        "created_at": "2025-09-24T14:47:43.333000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "it should just match the type of the response from the spec",
        "created_at": "2025-09-24T14:47:58.885000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "unfortunately this is not implemented in the hive simulator so far, because it does not have access to the spec types",
        "created_at": "2025-09-24T14:48:27.448000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Execution Layer",
        "parent": "",
        "content": "Test: eth_getBlockByNumber/get-block-london-fork\n\nWe do return totalDifficulty while we don't for post-merge blocks, I think it makes sense, and test complains about our behaviour here\n\ncc: \u003c@628018527470616606\u003e",
        "created_at": "2025-09-24T16:15:01.536000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "I refilled the tests after removing TD in Geth",
        "created_at": "2025-09-24T17:04:43.161000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "We can't return TD anymore because we don't store it in the database",
        "created_at": "2025-09-24T17:05:05.879000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "The field has also been removed from the spec AFAIK",
        "created_at": "2025-09-24T17:05:26.881000+00:00",
        "attachments": null
    },
    {
        "author": "kclowes",
        "category": "Execution Layer",
        "parent": "",
        "content": "Is there a reason we shouldn't make the check for TD optional?",
        "created_at": "2025-09-24T17:06:44.896000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yes. So first of all, we can't make it optional in tests because we'd have to rewrite the comparison logic in the tests to be type-aware (like if there is an optional field in an object in an array, we'd need to allow presence/absence of that field). But more importantly, we want the clients to be aligned for all APIs as much as possible.",
        "created_at": "2025-09-24T17:10:58.593000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "One could argue it doesn't hurt to have additional outputs in responses, but I feel it's important that we finally get to a state where all clients agree on outputs for all basic calls like getBlock etc.",
        "created_at": "2025-09-24T17:12:43.796000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "Once we reach that stage, we can carefully expand the scope of the API and evolve it together by adding more fields, more methods, etc.",
        "created_at": "2025-09-24T17:13:20.227000+00:00",
        "attachments": null
    },
    {
        "author": "s1na",
        "category": "Execution Layer",
        "parent": "",
        "content": "Just linking the spec PR for td being remved: https://github.com/ethereum/execution-apis/pull/570",
        "created_at": "2025-09-24T17:18:32.578000+00:00",
        "attachments": null
    },
    {
        "author": "kclowes",
        "category": "Execution Layer",
        "parent": "",
        "content": "All right, the issue convinced me since it has such widespread consensus to remove. I do find it counterintuitive though that the test is for the London fork where totalDifficulty was returned at that time. I was looking at fails last week, and I think Besu returns TD too, but has a stale PR [here](https://github.com/hyperledger/besu/pull/8430) to remove",
        "created_at": "2025-09-24T17:32:30.896000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "Execution Layer",
        "parent": "",
        "content": "Something else entirely: I have a little proposal that we could discuss. I'd like to add an RPC endpoint that gives information about long-running tasks which are being performed on the node.\n\nFor Geth, after syncing the chain from the network, we have to perform some indexing in order to get the node into a fully functioning state. We may also need to convert the database to a newer version sometimes, or rebuild indexes after an upgrade. \n\nAt this time, we have the `eth_syncing` endpoint, which returns `false` or an object containing arbitrary keys and values. If an object is returned from `eth_syncing`, the intended meaning is that the RPC endpoint may not be fully ready, so it shouldn't be used by load-balancers, for example. I always felt this interface is a bit limiting, since the output fields in `eth_syncing` are client-specific and thus can't really be interpreted.\n\nIn Geth we report some indexing progress through `eth_syncing`, but not for everything.  I'd be curious how other clients deal with this issue. \n\nFor my proposal, I'd want to standardize on an endpoint like `eth_nodeStatus` or something similar, that returns a JSON array of ongoing maintenance tasks. While the details would need to be figured out, I'd say at minimum we want to know the name of each task, some indication of progress, perhaps even an estimate of the remaining time.\n\nIdeally, there would be a way for the consumer of the method to know how each task impacts the readiness and/or performance of the API. Let me give an example: geth has an index for `getLogs` that takes some time to build. You can call `getLogs` even while the index is still being created, but it will fall back to unindexed search. For some users, the logs index being built does not impact API readiness status, since they may not be using `getLogs` much. Other users may want to take their node out of the load-balancer while the index is building.",
        "created_at": "2025-09-24T18:31:24.847000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Execution Layer",
        "parent": "",
        "content": "We might finally phase it out, but in theory we still support AuRa and Clique and we know some exotic networks use them, they still need total difficulty. We stopped serving it for blocks after the merge. Would be good for tests to be actually mindful of some nuances rather than blindly following Geth in those regards, especially when changes are basically retcons like with TD.",
        "created_at": "2025-09-24T21:08:46.101000+00:00",
        "attachments": null
    }
]