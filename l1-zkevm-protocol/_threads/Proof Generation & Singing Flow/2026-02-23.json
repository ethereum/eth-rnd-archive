[
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I guess we would need to create a new github.com/ethereum/prover-specs repo, and write what you asked in the corresponding `validator.md` file, as done for the builder spec [here](https://github.com/ethereum/builder-specs/blob/main/specs/bellatrix/validator.md#block-proposal).\n\nI will write the equivalent thing in a new `validator.md` file in the EIP8025 directory in the consensus spec in the meantime.",
    "created_at": "2026-02-23T10:13:46.211000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "> When we progress to mandatory proofs I also think this solution makes the most sense.\nWhy only for mandatory proofs? This flow seems simpler even for optional proofs.\nEspecially, this flow does not need the VC to initiate a request to the BN.\n(I think we should avoid VC -> BN requests)",
    "created_at": "2026-02-23T10:15:26.268000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Yes, I agree that it's good for optional proofs as well, that's what I was trying to communicate.",
    "created_at": "2026-02-23T12:52:19.275000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "It would be good to understand how both local and external payload building work, and the flows associated with these processes, and try to model analogous processes for proof generation.",
    "created_at": "2026-02-23T12:54:01.594000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Created this preliminary PR: https://github.com/ethereum/consensus-specs/pull/4943",
    "created_at": "2026-02-23T13:23:44.846000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Wait, I may have deleted some useful stuff haha",
    "created_at": "2026-02-23T13:24:55.411000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I've just taken a look at the way that the validator specs are implemented for payload building, and I think it is more similar to the way that the proof generation specs were defined before.",
    "created_at": "2026-02-23T13:31:41.035000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Maybe no changes to specs required.",
    "created_at": "2026-02-23T13:32:51.842000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "For payload building:\n1. The BN calls the VC with an unsigned blinded beacon block.\n2. The VC signs a blinded beacon block and returns it to the BN.\n3. The BN sends the signed blinded beacon block to the builder\n4. The builder gossip the (unblinded) beacon block on the network",
    "created_at": "2026-02-23T13:35:36.822000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "That's the implementation details, right? Not the way the specs are defined.",
    "created_at": "2026-02-23T13:36:08.196000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Sure. However, the current [prover.md](https://github.com/ethereum/consensus-specs/blob/master/specs/_features/eip8025/prover.md#constructing-the-signedexecutionproof) file also shows some implementation details.",
    "created_at": "2026-02-23T13:38:08.061000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Maybe we should remove them?",
    "created_at": "2026-02-23T13:38:25.987000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I think it's a reasonable level of detail.",
    "created_at": "2026-02-23T13:39:49.738000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "For reference this is how payload building is defined in the specs https://github.com/ethereum/consensus-specs/blob/master/specs/bellatrix/validator.md#block-proposal",
    "created_at": "2026-02-23T13:40:09.814000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "However I don't really like this:\n```\nThe proof engine generates proofs asynchronously and delivers them to the prover via POST /eth/v1/prover/execution_proofs. Each proof is delivered with its associated proof_gen_id to link it to the original request.\n```",
    "created_at": "2026-02-23T13:42:15.668000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I have discussed with Kev that we should make `request_proofs` a subscription or poll-based method on the proof engine backend (zkboost) and not use a callback method.",
    "created_at": "2026-02-23T13:43:01.423000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I updated and undrafted my PR to the current state of the Prysm implementation.",
    "created_at": "2026-02-23T13:48:21.220000+00:00",
    "attachments": []
  },
  {
    "author": "manunlp",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I don't know if it is too detailed or not enough. Feel free to close it if it does not correspond the spec standard!",
    "created_at": "2026-02-23T13:48:51.803000+00:00",
    "attachments": []
  }
]