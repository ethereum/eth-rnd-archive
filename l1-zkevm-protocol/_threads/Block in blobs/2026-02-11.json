[
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "2 more things I figured:\n* BiB needs no versioning as the versioning are the forks and we cannot change the encoding without a fork anyway.\n* We may also not need to now the tx length in the blob. You know the blob count and you know that each blob is a chunk of a payload",
    "created_at": "2026-02-11T09:28:35.872000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "We can have a commitment versioning (`01 || sha256(commitment)[1:]`) but should't encode the version into the blob.",
    "created_at": "2026-02-11T09:47:40.605000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "- yes I agree, can do versioning via eip number\n- the tx length is not in the blob?",
    "created_at": "2026-02-11T10:13:55.753000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I donâ€™t think this is needed either since the commitment version would only change over hard forks",
    "created_at": "2026-02-11T10:15:01.011000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "agree yeah",
    "created_at": "2026-02-11T11:24:32.279000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "will add it to my PR",
    "created_at": "2026-02-11T11:24:46.246000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "right now there is a 4 byte `txs_length` in the EIP and I don't think it's needed",
    "created_at": "2026-02-11T11:26:32.773000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "How would we distinguish between the padding applied to the blob?",
    "created_at": "2026-02-11T11:31:49.679000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Imagine I have two payloads:\n\nPayload 1: `[8,8]`\n\nPayload 2: `[8,8,0]`\n\nSo payload 1 consists of two bytes `8` and `8` .\n\nNow lets say a blob is four bytes for this example. \n\nI cannot distinguish between payload 1 and payload 2 without their lengths because the encoding looks like this `[8,8,0,0]`",
    "created_at": "2026-02-11T11:38:05.901000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "yeah, hmmm, good point",
    "created_at": "2026-02-11T12:01:10.170000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "it must be kept yeah",
    "created_at": "2026-02-11T12:01:23.044000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "only in the last block, I guess",
    "created_at": "2026-02-11T12:01:53.212000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "*last blob",
    "created_at": "2026-02-11T12:01:58.872000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "We could do \"The blob at index `payload_blob_count -1` (the last one), must encode the `txs_length`  of the payload into the first 4 bytes.",
    "created_at": "2026-02-11T12:03:44.325000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "It currently encodes it in the first blob -- probably doesn't matter whether its first or last?",
    "created_at": "2026-02-11T12:36:51.829000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "hmm yeah, you're right, you'd need all of them anyways.",
    "created_at": "2026-02-11T12:47:36.501000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "This is something that could change with a separate chunking EIP that tries to be smarter about the encoding but for now it's fine to keep it in the first 4 bytes, even if it only matters for the last blob",
    "created_at": "2026-02-11T12:48:29.836000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Thinking about it, might be cleaner to put it in the last blob actually..",
    "created_at": "2026-02-11T12:48:45.590000+00:00",
    "attachments": []
  },
  {
    "author": "nero_eth",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "then, nowing the payload_blob_count, each blob has enough info to be read without padding. E.g. `get_blob_data(payload_blob_count, blob)` is then possible. instead of `get_blob_data(payload_blob_count, blob[0], blob)`",
    "created_at": "2026-02-11T12:50:28.286000+00:00",
    "attachments": []
  }
]