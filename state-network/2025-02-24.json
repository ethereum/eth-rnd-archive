[
    {
        "author": "kevaundray",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "What happens when the total amount of state we need to store is more than the network capacity?\n\nie if there are 100 nodes whom all signal that they want to allocate 1MB to the network totalling 100MB capacity, but the total amount of data to store is say 200MB",
        "created_at": "2025-02-24T10:42:23.119000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "The network breaks.",
        "created_at": "2025-02-24T11:05:22.778000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "IIUC, it is assumed that the total storage space across the network is `\u003e= state * replication_factor`.",
        "created_at": "2025-02-24T11:05:57.626000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Do you know in what way it breaks and if itâ€™s possible to know what is the network capacity?",
        "created_at": "2025-02-24T12:02:22.430000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "A good question for \u003c@364458974906548225\u003e I think (or at least he can ping the right people to answer).",
        "created_at": "2025-02-24T12:03:41.876000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Would also be interested in the replication factor or maybe the docs that specify it!",
        "created_at": "2025-02-24T12:35:31.835000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Nobody on the network would store the content, therefore you won't be able to find it if you search for it",
        "created_at": "2025-02-24T14:00:16.701000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "`replication_factor` is not some parameter that is configurable or something...\nIt's just a ratio between total network capacity and required capacity, that we use as a reliability/discoverability measure, nothing else",
        "created_at": "2025-02-24T14:02:53.209000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "\u003c@427491045308235776\u003e , does this answer your question?",
        "created_at": "2025-02-24T14:03:39.451000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I think degrades is a better term than breaks in this situation.  Of the network only has capacity for 50% of the data, then only 50% would be available. \n\nIt would be broken in the sense that much high level functionality would not work.  It would be degraded in the sense that you would still be able to retrieve some information. Simple things like some account balance lookups would still work.",
        "created_at": "2025-02-24T15:10:20.436000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Data is unprioritized right?  There is no mechanism for preferring higher replication factor for \"recently touched data\" or anything like that?",
        "created_at": "2025-02-24T16:37:57.456000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Nothing on the protocol level, but a client implementation could potentially do that",
        "created_at": "2025-02-24T16:55:05.447000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Yep! Thank you",
        "created_at": "2025-02-24T20:27:18.459000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Is there no way to know when this is the case, without something not working for users?",
        "created_at": "2025-02-24T20:28:01.142000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Yes, it is very easy to monitor for this condition, and in general, to derive total storage capacity and replication value in the network.",
        "created_at": "2025-02-24T20:30:04.651000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Is the replication factor the same or basically the same for all data?",
        "created_at": "2025-02-24T20:31:01.768000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "In fact, we already do.  \n\nhttps://glados.ethdevops.io/\n\nThis graph on glados shows current replication value.",
        "created_at": "2025-02-24T20:31:06.255000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_from_2025-02-24_13-30-36.png",
                "content": "ba516bf6cc6b8377501df32948382ba040d6ee2bdd3b9e02d3542cc417c1a23b"
            }
        ]
    },
    {
        "author": "pipermerriam",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "All data in a single network is \"equal\", so in history network, headers, bodies, and receipts are all \"competing/sharing\" the same pool of storage capacity and \"equally\" reprisented in the databases of the nodes that are part of that network.",
        "created_at": "2025-02-24T20:32:17.347000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "So yes, replication factor in a given network will be the same for all data in that network.",
        "created_at": "2025-02-24T20:34:16.863000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Ah I see, gracias",
        "created_at": "2025-02-24T20:34:24.666000+00:00",
        "attachments": null
    }
]