[
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "New release for EIP-7692 (EOF) fixtures on top of Prague: https://github.com/ethereum/execution-spec-tests/releases/tag/eip7692-prague%40v1.0.5",
        "created_at": "2024-07-03T00:09:06.857000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Awesome ðŸ˜„",
        "created_at": "2024-07-03T08:04:37.584000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "After we pass 1.0.4 we will see if we pass 1.0.5. (20 tests to go ðŸ™‚ )",
        "created_at": "2024-07-03T08:04:47.228000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I have a container check which I'm not sure is in the tests, I just thought of this when writing EOF execution\n\nWe can have a subcontainer in EOF which is BOTH a valid runtime container AND an initcode container. The only way this is possible if the only terminating instruction in this container is REVERT\n\nWhen targeted to by EOFCreate, this code is fine (initcode)\nWhen targeted by RETURNCONTRACT, this code is not fine (run time code)\n\nTherfore, this container is invalid",
        "created_at": "2024-07-03T08:07:26.233000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I had to give this some thought but I think this scenario is possible, because if the parent container runs in initcode mode it can thus both run RETURNCONTRACT and EOFCREATE, so it can either create a new contract or deploy one",
        "created_at": "2024-07-03T08:08:16.958000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "So I think this is a valid scenario ðŸ˜…",
        "created_at": "2024-07-03T08:08:26.599000+00:00",
        "attachments": []
    },
    {
        "author": "pdobacz",
        "category": "Testing",
        "parent": "",
        "content": "IIRC, current spec allows a container which only ever terminates with REVERT (or INVALID!), but it can be pointed to by either RETURNCONTRACT's or EOFCREATE's in the parent, never a mix, respective rules:\n\n\u003e - it is an error for a container to contain both `RETURNCONTRACT` and either of `RETURN` or `STOP`.\n\u003e - it is an error for a subcontainer to never be referenced in its parent container\n\u003e - it is an error for a given subcontainer to be referenced by both `RETURNCONTRACT` and `EOFCREATE`",
        "created_at": "2024-07-03T08:31:04.436000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I somehow missed the third rule - thanks ðŸ™‚",
        "created_at": "2024-07-03T08:34:27.067000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ah it's the final rule, now I see",
        "created_at": "2024-07-03T08:34:46.877000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Thanks a lot ðŸ™‚",
        "created_at": "2024-07-03T08:34:49.435000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "From the description it seems I need EOF + 2935 + 7685 is that correct?",
        "created_at": "2024-07-03T08:45:38.303000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "EthJS just passed the 1.0.4 execution tests ðŸ˜„",
        "created_at": "2024-07-03T08:45:47.394000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "We fail 10 tests on 1.0.5 (https://github.com/ethereum/execution-spec-tests/releases/tag/eip7692%40v1.0.5)",
        "created_at": "2024-07-03T08:46:01.475000+00:00",
        "attachments": []
    },
    {
        "author": "pdobacz",
        "category": "Testing",
        "parent": "",
        "content": "I only now ported it to EIP-7620, maybe that's why. A branch was lingering without being pushed/merged. Now fixed and should be in sync.",
        "created_at": "2024-07-03T09:40:24.587000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ah yes, I think thats it ðŸ™‚ I saw it in the mega EOF spec but indeed my old page of 7620 does not have it",
        "created_at": "2024-07-03T09:43:20.251000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Thanks for the merge ðŸ™‚",
        "created_at": "2024-07-03T09:44:01.582000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Hey all, we also pass 1.0.5 tests now ðŸ˜„",
        "created_at": "2024-07-03T10:43:07.375000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I am now doing EOF header tests",
        "created_at": "2024-07-03T11:20:05.495000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "This file:\n\n`/fixtures/eof_tests/prague/eip7692_eof_v1/eip7620_eof_create/returncontract/returncontract_valid_index_255.json`\n\nHas num container sections 0x0100 - this should be invalid - right?\nBy EIP 3540 max container sections is 0x00FF (255)",
        "created_at": "2024-07-03T11:20:20.505000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Or well, I guess one could interpret the spec as: the max container sections is 255, but since it has to start at number 1, therefore 255 has to be encoded as 0x0100 ðŸ¤”",
        "created_at": "2024-07-03T11:35:37.969000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "But this does not match the 3540 spec:\n\n`[kind_container, num_container_sections, container_size+,]`\n\nNum container sections min/max: `    0x0001-0x00FF`",
        "created_at": "2024-07-03T13:52:27.783000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "I want to confirm that evmone/master is aligned with EOF tests 1.0.5",
        "created_at": "2024-07-03T15:18:07.503000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "Besu is also in line with 1.0.5",
        "created_at": "2024-07-03T16:09:49.061000+00:00",
        "attachments": []
    },
    {
        "author": "pdobacz",
        "category": "Testing",
        "parent": "",
        "content": "This indeed is off, `evmone` seems to admit num_container_sections of 0x0100, but spec says it shouldn't.",
        "created_at": "2024-07-03T16:32:47.162000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Yes see the \u003c#706868829900505180\u003e channel, we will change the spec ðŸ™‚",
        "created_at": "2024-07-03T16:33:08.729000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I'm about to open a PR ðŸ™‚",
        "created_at": "2024-07-03T16:33:12.951000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "It does make sense, container size has to be \u003e 1, but if you only allow it to 0xFF you can thus only have (net) 254 containers, and not 255",
        "created_at": "2024-07-03T16:33:40.592000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "This text is in 3540:\n\n\u003e the number of container sections must not exceed `256`. The number of container sections may not be `0`, if declared in the header\n\nI'll also update the EIP ðŸ™‚",
        "created_at": "2024-07-03T16:42:54.097000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I'm porting these tests to the correct file and enabling them: https://github.com/ethereum/execution-spec-tests/blob/consume-engine/tests/prague/eip7692_eof_v1/eip3540_eof_v1/code_validation_jump.py\n\nThis code is being marked as unreachable code by evmone, but I think it's incorrect?\n```\ne0 0003 e0 0003 e0 fffa 5b 00\n```",
        "created_at": "2024-07-03T18:28:26.100000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "It's the simplest form of this test: https://github.com/ethereum/execution-spec-tests/blob/cf0e49b7b400c408646c686a6076cbeffaa79d1e/tests/prague/eip7692_eof_v1/eip3540_eof_v1/code_validation_jump.py#L66",
        "created_at": "2024-07-03T18:28:54.029000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "This fails as well:\n```\ne0 0003 e0 0003 e0 fffa 00\n```",
        "created_at": "2024-07-03T18:30:24.780000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Ah wait, \"all opcodes have to be forward referenced\", forgot about that rule, test is invalid",
        "created_at": "2024-07-03T18:34:05.793000+00:00",
        "attachments": []
    }
]