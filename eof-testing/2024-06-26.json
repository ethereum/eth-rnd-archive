[
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/execution-spec-tests/blob/main/tests/prague/eip7692_eof_v1/eip7069_extcall/test_address_space_extension.py\nThis test produces a contract at 0xffffff... which doesn't work for us, since that is the system contract and we nuke the code when setting up the system account. Could we move that?\n```\n\"0xffffffffffffffffffffffffffffffffffffffff\": {\n                \"nonce\": \"0x00\",\n                \"balance\": \"0x00\",\n                \"code\": \"0xef0001010004020001000904000000008000023060005260206000f3\",\n                \"storage\": {}\n            }\n```\nIts for example in `tests/prague/eip7692_eof_v1/eip7069_extcall/test_address_space_extension.py::test_address_space_extension[fork_CancunEIP7692-blockchain_test-target_opcode_EXTSTATICCALL-EOFContract-max_20` \n\ncc \u003c@892053833121923094\u003e",
        "created_at": "2024-06-26T08:22:30.922000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Ahh I see, you want to test max 20?",
        "created_at": "2024-06-26T08:24:03.962000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I think if maybe we would set the nonce on the account, we wouldn't clear it",
        "created_at": "2024-06-26T08:30:11.414000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "yep, changing the nonce to 1 works for me",
        "created_at": "2024-06-26T08:34:10.765000+00:00",
        "attachments": []
    },
    {
        "author": "pdobacz",
        "category": "Testing",
        "parent": "",
        "content": "I noticed Op.DATALOADN might have been off when doing sth else, fix here https://github.com/ethereum/execution-spec-tests/pull/650",
        "created_at": "2024-06-26T11:48:37.694000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I think we only need to test the specific byte-length, so I think `0xfffffffffffffffffffffffffffffffffffffff0` would work as well",
        "created_at": "2024-06-26T14:08:15.479000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Let's follow the conversation here \u003c@508125616940515329\u003e :\n\nHey \u003c@275684146658148352\u003e, Jochem is currently running this release: https://github.com/ipsilon/execution-spec-tests/releases/tag/eip7692%40v1.0.4%2Bipsilon_bf37249b \n\njust wanted to check which other breaking changes on top of v1.0.4 does it contain?",
        "created_at": "2024-06-26T14:24:16.195000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "FYI: I am only running this on top of Cancun, so I am running Cancun + EOF and nothing else",
        "created_at": "2024-06-26T14:25:12.505000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I am rather sure I got something wrong in my test setup though ðŸ™‚",
        "created_at": "2024-06-26T14:25:26.095000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "That sounds like the way they should be run, what errors are you having?",
        "created_at": "2024-06-26T14:25:38.132000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "No tests are passing ðŸ˜¦ I would assume that some simple EOFs would be passing but they do not",
        "created_at": "2024-06-26T14:26:20.622000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "But let me get a full report before I claim here that I fail all ðŸ™‚",
        "created_at": "2024-06-26T14:26:41.804000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Do you have a super simple EOF test name? I can test against that name",
        "created_at": "2024-06-26T14:27:20.095000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Are you failing the `state_test`s folder tests or the `eof_tests` tests?",
        "created_at": "2024-06-26T14:27:36.050000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I am also failing all state_tests, but I pass the blockchain_tests (most of them)",
        "created_at": "2024-06-26T14:28:03.982000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Try the dupn/swapn tests, those are kinda easy to pass",
        "created_at": "2024-06-26T14:28:30.349000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Thanks Marius ðŸ™‚",
        "created_at": "2024-06-26T14:28:44.425000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I am doing the blockchain tests ATM",
        "created_at": "2024-06-26T14:28:54.489000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "interesting, what error are you getting on these?",
        "created_at": "2024-06-26T14:28:56.535000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Invalid stateroot, One thing I noticed is that parentBeaconRoot is not defined in the state_tests but the blockchain tests",
        "created_at": "2024-06-26T14:29:56.829000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Also try the tests in `eof_tests` they test the EOF container format and nothing else, they are a different fixture format type",
        "created_at": "2024-06-26T14:30:05.582000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "parent beacon root logic should not execute in the state test, because the contract for that is not included in the state test `pre`",
        "created_at": "2024-06-26T14:31:26.580000+00:00",
        "attachments": []
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Thats what I thought, but the stateroot is the same as the blockchain tests, thus we need to deploy the contract",
        "created_at": "2024-06-26T14:32:22.792000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ok at this point, it is in our testing runner, so will try to fix that ðŸ™‚ Thanks all ðŸ˜„",
        "created_at": "2024-06-26T14:32:48.476000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Ah, I think then `evmone` is executing the logic regardless of the contract deployment \u003c@275684146658148352\u003e",
        "created_at": "2024-06-26T14:33:21.234000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "`evmone-t8n`",
        "created_at": "2024-06-26T14:33:53.530000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I'll bring this up in the EOF meeting in a bit",
        "created_at": "2024-06-26T14:34:15.724000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "I would prefer it stay at `0xffff...ffff` as it is the very end of the range.  Adding nonce is fine as the accounts did have nonce prior to the `pre.deploy_contract` revisions.  Does `pre.deploy_contract` set nonce to 1?  It should as an early forks started requiring that for all contract deployments.",
        "created_at": "2024-06-26T14:46:48.595000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "Is the BLOCKHASH being stored in the blockhash contract?  If run with `prague` besu will generate the block hash, but `CancunEOF` won't.  If you run with `--traces` and the traces are identical, then I expect this is the problem",
        "created_at": "2024-06-26T14:47:46.850000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "It automatically sets it to one, if needed to be zero, we need to mark the test as a special test since it cannot be run on devnets or testnets (because deploy_contract is an actual contract deployment there and the nonce is equal to one)",
        "created_at": "2024-06-26T14:54:23.315000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "Not needed as zero.  After the call I can dig in to see what is happening",
        "created_at": "2024-06-26T14:58:19.809000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Initcode flag change PR:\nhttps://github.com/ethereum/execution-spec-tests/pull/651\n\nIt contains an example of how the output fixtures will change.\n\u003c@403707149043105803\u003e can you give me an approval if you deem the changes ok? thanks",
        "created_at": "2024-06-26T15:50:58.749000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "PRs for geth and execution-spec-tests to include the `isStateTest` into the t8n environment class:\nhttps://github.com/ethereum/go-ethereum/pull/30074\nhttps://github.com/ethereum/execution-spec-tests/pull/652\n\non geth's side, it inhibits withdrawals, system operations such as the parent beacon block root contract, mining rewards and the DAO fork operation. In prague we should inhibit all system contracts too",
        "created_at": "2024-06-26T16:23:36.230000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@403707149043105803\u003e \u003c@275684146658148352\u003e \u003c@360491619402776577\u003e \u003c@508125616940515329\u003e \u003c@226589605816696832\u003e",
        "created_at": "2024-06-26T16:24:13.167000+00:00",
        "attachments": []
    }
]