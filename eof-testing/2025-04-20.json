[
    {
        "author": "lu_pinto",
        "category": "Testing",
        "parent": "",
        "content": "I integrated these tests directly with Besu CI now. Danno mentioned there was a bug in the gas schedule of EXTCALL while halting. Fixed here: https://github.com/hyperledger/besu/pull/8569\n\nI noticed a huge number of failures in EOF container validation all because in our test framework we are asserting for exception messages present in the fixtures. Does it make sense to have all clients matching messages? I guess that doesn't get in the way of consensus, so probably we should not assert it? Can this be leaked in logs? What do folks think?",
        "created_at": "2025-04-20T23:00:19.149000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Note that the error messagse are client specific. Think of a situation where the consensus rule is: check A and B. If your client checks B first and then A (and both are in a test case \"wrong\"), then your client will report B but other clients might report A",
        "created_at": "2025-04-20T23:54:04.102000+00:00",
        "attachments": null
    },
    {
        "author": "lu_pinto",
        "category": "Testing",
        "parent": "",
        "content": "Well depends, there's also a sense of computing all the gas cost you can in advance to avoid DOS problems as much as you can",
        "created_at": "2025-04-20T23:55:46.472000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I don't think we should enforce error messages. If a certain order or priority of checks will be (somewhat) part of consensus then this implicitly means we limit clients the freedom for their own optimizations (since there now is this order of error checks)",
        "created_at": "2025-04-20T23:58:08.926000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "However, the fixtures having error messages is really handy and it is also a good idea to check them sometimes, to see if the test which you just passed threw a logical error message and not something completely unrelated (because that signals that there's something wrong somewhere)",
        "created_at": "2025-04-20T23:58:54.906000+00:00",
        "attachments": null
    }
]