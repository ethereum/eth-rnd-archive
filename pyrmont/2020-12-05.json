[
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!203220829473996800\u003e Here's something that you may be able to check on pyrmont. I noticed on mainnet that my attestations on slots that are 0 mod 32 vote for the wrong head and target. In all cases it was also the fact that the block came in late (6.5 seconds the first one and 11.8 the second one).  Now I can't do statistics with such a small sample. But I suppose that you will see a strong correlation between missed target votes and votes on slots multiple of 32. Assuming that late-arriving blocks are equally distributed across slots, you will be much more likely to have the wrong target (since you still point to the previous epoch) during slot 0. But even without this assumption, it seems reasonable that during the first slot clients are lower on resources since processing epoch boundaries takes a toll.",
        "created_at": "2020-12-05T10:44:04.846000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That's a known issue.  There are two problems.  First is the time it takes for the beacon node to carry out the epohc transition.  Various efficienceis can be brought in to play here.  Second is that validator clients don't know when the epoch transition is complete and they are able to fetch attestation data.  That could be fixed by providing an event from the beacon node to the valdiator client, but my attempts to push for this haven't met with a lot of takeup.",
        "created_at": "2020-12-05T10:56:06.933000+00:00",
        "attachments": []
    },
    {
        "author": "benjaminion",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Some of Vitalik's latest proposals seek to reduce the spike in load at epoch boundaries: https://hackmd.io/@HWeNw8hNRimMm2m2GH56Cw/HkTzLKOov",
        "created_at": "2020-12-05T11:05:48.273000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "indeed, out of my last 1000 attestations on pyrmont I see 19 wrong target votes, All but two are on the first slot of the epoch, and the two that aren't are on the second slot!",
        "created_at": "2020-12-05T11:21:53.919000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah I saw that proposal today.",
        "created_at": "2020-12-05T11:22:31.461000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "out of those 1000 attestations 21 are on slots multiple of 32, so this means that essentially I am missing all target votes on the first slots of epochs",
        "created_at": "2020-12-05T11:37:38.401000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "well actually 42 are on slots multiple of 32",
        "created_at": "2020-12-05T11:39:29.927000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "was counting wrong the lines",
        "created_at": "2020-12-05T11:39:35.948000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "so I miss half of them",
        "created_at": "2020-12-05T11:39:45.052000+00:00",
        "attachments": []
    },
    {
        "author": "benjaminion",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We have some improvements in progress in Teku (https://github.com/ConsenSys/teku/pull/3352) - this is merged in master and is soak-testing now on some of our Pyrmont nodes. May not make it into the very next release, but certainly the one after that, all being well. Pyrmont's size really challenges the epoch processing: we're not seeing this have any impact at all on mainnet for now.",
        "created_at": "2020-12-05T11:48:22.178000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "My numbers above for pyrmont are more or less compatible with mainnet",
        "created_at": "2020-12-05T11:49:57.960000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Just that I have a smaller sample",
        "created_at": "2020-12-05T11:50:08.260000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For mainnet",
        "created_at": "2020-12-05T11:50:11.954000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But I'm averaging 1% of blocks coming late and if 50% of the slots multiple of 32 come late (with an average of 1% across all slots) I guess is really the issue of proposals just being late at the beginning of epochs",
        "created_at": "2020-12-05T11:51:57.831000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Prysm already precomputes the validator statuses though",
        "created_at": "2020-12-05T11:56:40.865000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "While epoch transitions are expensive, it does seem off that this leads to a delay for a large amount of validators. Epoch transitions might add in an additional 50-100ms to the block processing time( last time I benchmarked) , This shouldn't lead to constant delays for the whole network, gossip validation just verifies the block validity and proposer index( which works irrespective the same for normal slots and transition slots)",
        "created_at": "2020-12-05T12:11:11.685000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't have metrics for Pyrmont, but for Medalla there was a noticeable difference between block arrival times for slot 0 and other slots, in the order of 500ms if I remember correctly.",
        "created_at": "2020-12-05T13:03:06.409000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll see if I can throw together something that can fetch these times for Pyrmont",
        "created_at": "2020-12-05T13:03:40.407000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I can quickly get these for pyrmont in my case today",
        "created_at": "2020-12-05T13:18:02.066000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm gathering `slot,slot%32,delay` with delay in ms for both pyrmont and mainnet.  Will dump the CSVs here once they have gathered some data.",
        "created_at": "2020-12-05T13:39:43.620000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm cooking but will do that retroactively for 10k slots in a bit",
        "created_at": "2020-12-05T14:22:23.086000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We only need the buckets per slot mod 32  i suppose",
        "created_at": "2020-12-05T14:22:56.525000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Useful for lining up data across multiple nodes, though.",
        "created_at": "2020-12-05T14:32:28.912000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That is the count of slots I got in each one",
        "created_at": "2020-12-05T15:11:05.645000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ahh, let me normalize better",
        "created_at": "2020-12-05T15:11:21.789000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This is what I got for mainnet :",
        "created_at": "2020-12-05T15:12:08.310000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n0  count: 777  delay: 2.01  threshold: 55\n1  count: 862  delay: 1.24  threshold: 44\n2  count: 860  delay: 0.96  threshold: 7\n3  count: 868  delay: 0.96  threshold: 13\n4  count: 871  delay: 0.89  threshold: 9\n5  count: 872  delay: 0.92  threshold: 12\n6  count: 873  delay: 0.84  threshold: 11\n7  count: 863  delay: 0.74  threshold: 8\n8  count: 872  delay: 0.76  threshold: 6\n9  count: 864  delay: 0.83  threshold: 10\n10  count: 863  delay: 0.75  threshold: 4\n11  count: 867  delay: 0.82  threshold: 9\n12  count: 873  delay: 0.82  threshold: 9\n13  count: 865  delay: 0.82  threshold: 13\n14  count: 869  delay: 0.75  threshold: 4\n15  count: 864  delay: 0.76  threshold: 5\n16  count: 870  delay: 0.73  threshold: 4\n17  count: 865  delay: 0.87  threshold: 6\n18  count: 865  delay: 0.81  threshold: 10\n19  count: 872  delay: 0.70  threshold: 2\n20  count: 867  delay: 0.78  threshold: 9\n21  count: 866  delay: 0.74  threshold: 4\n22  count: 865  delay: 0.82  threshold: 7\n23  count: 868  delay: 0.81  threshold: 11\n24  count: 854  delay: 0.78  threshold: 8\n25  count: 864  delay: 0.78  threshold: 8\n26  count: 870  delay: 0.80  threshold: 14\n27  count: 863  delay: 0.81  threshold: 8\n28  count: 868  delay: 0.95  threshold: 7\n29  count: 860  delay: 0.92  threshold: 9\n30  count: 867  delay: 0.92  threshold: 8\n31  count: 858  delay: 0.89  threshold: 6\n```",
        "created_at": "2020-12-05T15:12:18.335000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "count is the number of slots in each congruence class modulo 32",
        "created_at": "2020-12-05T15:12:32.055000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "delay is the average delay in seconds",
        "created_at": "2020-12-05T15:12:42.435000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and threshold is the number of blocks received after 4 seconds",
        "created_at": "2020-12-05T15:12:53.603000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think it's clear that there's a big statistical difference between the first couple of slots on an epoch",
        "created_at": "2020-12-05T15:13:17.002000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and the rest",
        "created_at": "2020-12-05T15:13:18.335000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "These are my numbers of pyrmont:\n```\n0  count: 1274  delay: 7.97  threshold: 675\n1  count: 1274  delay: 4.15  threshold: 262\n2  count: 1274  delay: 2.57  threshold: 81\n3  count: 1280  delay: 1.62  threshold: 30\n4  count: 1272  delay: 1.94  threshold: 17\n5  count: 1280  delay: 1.58  threshold: 18\n6  count: 1279  delay: 1.32  threshold: 14\n7  count: 1283  delay: 1.79  threshold: 8\n8  count: 1268  delay: 1.27  threshold: 12\n9  count: 1278  delay: 1.00  threshold: 7\n10  count: 1282  delay: 1.01  threshold: 9\n11  count: 1271  delay: 1.41  threshold: 14\n12  count: 1273  delay: 0.99  threshold: 5\n13  count: 1282  delay: 1.16  threshold: 9\n14  count: 1282  delay: 1.09  threshold: 10\n15  count: 1275  delay: 0.94  threshold: 3\n16  count: 1262  delay: 1.10  threshold: 10\n17  count: 1278  delay: 1.04  threshold: 10\n18  count: 1275  delay: 0.97  threshold: 6\n19  count: 1280  delay: 1.02  threshold: 12\n20  count: 1272  delay: 0.99  threshold: 10\n21  count: 1262  delay: 0.97  threshold: 10\n22  count: 1267  delay: 1.38  threshold: 5\n23  count: 1290  delay: 1.07  threshold: 8\n24  count: 1280  delay: 1.08  threshold: 11\n25  count: 1277  delay: 1.00  threshold: 8\n26  count: 1282  delay: 1.16  threshold: 15\n27  count: 1276  delay: 1.00  threshold: 11\n28  count: 1285  delay: 0.97  threshold: 7\n29  count: 1282  delay: 1.05  threshold: 8\n30  count: 1276  delay: 0.99  threshold: 9\n31  count: 1271  delay: 0.99  threshold: 12\n```",
        "created_at": "2020-12-05T15:14:08.771000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The fact the delay leaks in to the second slot is very concerning.",
        "created_at": "2020-12-05T15:14:38.422000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's worse, I can include dispersion and remove outliers if you want, but I think it's unnecessary",
        "created_at": "2020-12-05T15:14:38.765000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's clear in both networks, and perhaps \u003c@!203220829473996800\u003e and the teams cannot see this in pyrmont because of the localized nature of the network",
        "created_at": "2020-12-05T15:15:14.684000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm outside of their cluster, this is something to look at I think",
        "created_at": "2020-12-05T15:15:34.749000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If you have all the raw numbers then a distribution of the delay for 0, 1 and 2 would be interesting.",
        "created_at": "2020-12-05T15:15:36.920000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "do you mean give you buckets for each one of them? sure I can do that say \u003c \"0,5,  1, 2, 4, 10, \\infty\" seconds?",
        "created_at": "2020-12-05T15:16:37.344000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I can quickly code that",
        "created_at": "2020-12-05T15:16:40.936000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, if you can bucket it in 0.1s increments that would be interesting",
        "created_at": "2020-12-05T15:17:10.302000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "that should probably be exponential",
        "created_at": "2020-12-05T15:17:31.292000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm suspecting that by slot 2 you're going to be seeing many more attestations in the first couple of buckets than in slot 0",
        "created_at": "2020-12-05T15:17:44.254000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's less the distribution for a single slot than the comparision between slots 0 and 2 (for example)",
        "created_at": "2020-12-05T15:18:18.373000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "no no I mean that the size of the buckets should be increasing",
        "created_at": "2020-12-05T15:19:38.803000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah right.  Linear buckets should be fine for this purpose; we're just looking to get a rough idea of if even the best/fastest nodes are running late due to the epoch transition",
        "created_at": "2020-12-05T15:20:47.428000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This is pyrmont (I guess not enough data for mainnet)",
        "created_at": "2020-12-05T15:27:40.624000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "wait again need to normalize",
        "created_at": "2020-12-05T15:28:07.069000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n$ ./slot-delay.py \n0  count: 1276  delay: 7.97  \u003c 0.1: 0  \u003c0.2: 0 \u003c0.3:0 \u003c0.4:0  \u003c0.5:0 \u003c1:0 \u003c2:92 \u003c4:508 \u003c10:325  \u003c∞:351\n1  count: 1275  delay: 4.15  \u003c 0.1: 0  \u003c0.2: 0 \u003c0.3:0 \u003c0.4:2  \u003c0.5:2 \u003c1:64 \u003c2:600 \u003c4:345 \u003c10:189  \u003c∞:73\n2  count: 1276  delay: 2.57  \u003c 0.1: 0  \u003c0.2: 0 \u003c0.3:6 \u003c0.4:22  \u003c0.5:37 \u003c1:298 \u003c2:743 \u003c4:88 \u003c10:25  \u003c∞:57\n3  count: 1282  delay: 1.62  \u003c 0.1: 0  \u003c0.2: 1 \u003c0.3:6 \u003c0.4:20  \u003c0.5:55 \u003c1:367 \u003c2:763 \u003c4:40 \u003c10:17  \u003c∞:13\n```",
        "created_at": "2020-12-05T15:30:20.569000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is it understandable?",
        "created_at": "2020-12-05T15:30:31.474000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "perhaps better grained between 500ms and 1 second?",
        "created_at": "2020-12-05T15:30:55.878000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But it does get better between slot 0 and slot 3, I can give you all slots if you want too",
        "created_at": "2020-12-05T15:31:27.794000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c0.5 and \u003c1 show the low end, \u003c4 gives an idea of why we see problems with attesting to the correct head in the first slot, particularly.",
        "created_at": "2020-12-05T15:33:21.991000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah that's why I stopped there the 0.1 scale",
        "created_at": "2020-12-05T15:34:08.769000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We need less than 4 and strictly less",
        "created_at": "2020-12-05T15:34:33.194000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "To be able to attest",
        "created_at": "2020-12-05T15:34:41.267000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "One node is only one data point, of course, so there will be variance, but it's suitably indicative.",
        "created_at": "2020-12-05T15:35:23.191000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, but I'm seeing the same on two different networks",
        "created_at": "2020-12-05T15:35:44.971000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Wow, that is a delay of 8 seconds",
        "created_at": "2020-12-05T16:06:29.332000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That's The average",
        "created_at": "2020-12-05T16:06:41.634000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Half the blocks in that slot are lost cause they come after 4 seconds",
        "created_at": "2020-12-05T16:07:16.957000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "This explains exactly how half my votes on that slot are on the wrong target",
        "created_at": "2020-12-05T16:07:45.954000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So this is taking about 1/192 of our earnings :)",
        "created_at": "2020-12-05T16:08:38.019000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah its not great lol",
        "created_at": "2020-12-05T16:08:55.913000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh no, multiply that by two",
        "created_at": "2020-12-05T16:09:04.871000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Cause you can't get head right either",
        "created_at": "2020-12-05T16:09:12.399000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Then it becomes 1% of our earnings",
        "created_at": "2020-12-05T16:09:31.251000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Trying to understand why there is such a big disparity, does block production take that much longer for a \nblock at `slot % 32 == 0`",
        "created_at": "2020-12-05T16:10:42.693000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I wander if this can be turned into an attack vector since you know that half the network is not attesting on this slot",
        "created_at": "2020-12-05T16:11:06.335000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It shouldn't be so much longer, that half the votes end up on the older head",
        "created_at": "2020-12-05T16:11:07.531000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That's also something we can check, grab a few of these blocks and check if half the attestations are on the wrong target. \u003c@144468805697929216\u003e do you have this automatically? I can code it too if you don't have this",
        "created_at": "2020-12-05T16:12:44.832000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That will be across the whole network and not only my node",
        "created_at": "2020-12-05T16:13:13.514000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Mainnet is so smooth that we can do this only with slots congruent to 1 mod 32",
        "created_at": "2020-12-05T16:14:50.603000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@476250636548308992\u003e it's also an indication that the resources used in epoch transition are responsible for this, the fact that pyrmont, with 105K validators has horrible delays compared to mainnet",
        "created_at": "2020-12-05T16:23:25.363000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't have that to hand, sorry",
        "created_at": "2020-12-05T16:31:35.672000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Could also be that pyrmont servers are underpowered compared to their mainnet equivalents",
        "created_at": "2020-12-05T16:32:23.507000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I can do that, it will take a little more cause I don't keep the whole blocks. But I'll code this as soon as the two here fall asleep",
        "created_at": "2020-12-05T16:33:25.830000+00:00",
        "attachments": []
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That makes sense, might be something in the gossip layer , we will dig into this",
        "created_at": "2020-12-05T16:37:19.779000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So these are my numbers from the last few epochs on pyrmont. I took the second slot on each epoch and counted how many right votes on target it had:\n```\nEpoch : 3880, correct: 0.00%, wrong: 100.00%\nEpoch : 3879, correct: 69.15%, wrong: 30.85%\nEpoch : 3878, correct: 41.85%, wrong: 58.15%\nEpoch : 3877, correct: 1.89%, wrong: 98.11%\nEpoch : 3876, correct: 32.17%, wrong: 67.83%\nEpoch : 3875, correct: 30.33%, wrong: 69.67%\nEpoch : 3874, correct: 29.62%, wrong: 70.38%\nEpoch : 3873, correct: 1.57%, wrong: 98.43%\nEpoch : 3872, correct: 0.07%, wrong: 99.93%\nEpoch : 3871, correct: 4.91%, wrong: 95.09%\nEpoch : 3870, correct: 30.76%, wrong: 69.24%\nEpoch : 3869, correct: 0.05%, wrong: 99.95%\nEpoch : 3868, correct: 59.82%, wrong: 40.18%\nEpoch : 3867, correct: 0.00%, wrong: 100.00%\nTotal, correct: 22.27%, wrong: 77.73%\n```",
        "created_at": "2020-12-05T17:54:09.513000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "My node does not keep blocks more than those: but it's a brutal result!",
        "created_at": "2020-12-05T17:54:24.956000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Mainnet is bad, but it way better than this:",
        "created_at": "2020-12-05T17:54:36.885000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\nEpoch : 954, correct: 98.59%, wrong: 1.41%\nEpoch : 953, correct: 0.00%, wrong: 100.00%\nEpoch : 952, correct: 97.00%, wrong: 3.00%\nEpoch : 951, correct: 47.21%, wrong: 52.79%\nEpoch : 950, correct: 100.00%, wrong: 0.00%\nEpoch : 949, correct: 98.01%, wrong: 1.99%\nEpoch : 948, correct: 100.00%, wrong: 0.00%\nEpoch : 947, correct: 83.76%, wrong: 16.24%\nEpoch : 946, correct: 80.26%, wrong: 19.74%\nEpoch : 945, correct: 99.72%, wrong: 0.28%\nEpoch : 944, correct: 100.00%, wrong: 0.00%\nEpoch : 943, correct: 92.02%, wrong: 7.98%\nEpoch : 942, correct: 100.00%, wrong: 0.00%\nEpoch : 941, correct: 99.56%, wrong: 0.44%\nEpoch : 940, correct: 96.37%, wrong: 3.63%\nEpoch : 939, correct: 98.67%, wrong: 1.33%\nEpoch : 938, correct: 97.55%, wrong: 2.45%\nEpoch : 937, correct: 99.02%, wrong: 0.98%\nEpoch : 936, correct: 44.53%, wrong: 55.47%\nEpoch : 935, correct: 98.84%, wrong: 1.16%\nEpoch : 934, correct: 96.81%, wrong: 3.19%\nEpoch : 933, correct: 84.10%, wrong: 15.90%\nEpoch : 932, correct: 95.08%, wrong: 4.92%\nEpoch : 931, correct: 97.90%, wrong: 2.10%\nEpoch : 930, correct: 96.10%, wrong: 3.90%\nEpoch : 929, correct: 100.00%, wrong: 0.00%\nEpoch : 928, correct: 99.24%, wrong: 0.76%\nEpoch : 927, correct: 96.87%, wrong: 3.13%\nEpoch : 926, correct: 81.61%, wrong: 18.39%\nEpoch : 925, correct: 0.00%, wrong: 100.00%\nEpoch : 924, correct: 94.53%, wrong: 5.47%\nEpoch : 923, correct: 100.00%, wrong: 0.00%\nEpoch : 922, correct: 97.78%, wrong: 2.22%\nEpoch : 921, correct: 99.31%, wrong: 0.69%\nEpoch : 920, correct: 99.44%, wrong: 0.56%\nEpoch : 919, correct: 98.96%, wrong: 1.04%\nEpoch : 918, correct: 81.49%, wrong: 18.51%\nEpoch : 917, correct: 100.00%, wrong: 0.00%\nEpoch : 916, correct: 98.33%, wrong: 1.67%\n```",
        "created_at": "2020-12-05T17:55:13.661000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n...\nTotal, correct: 75.42%, wrong: 24.58%\n```",
        "created_at": "2020-12-05T17:55:50.289000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The total is over 100 epochs but it's too long for Discord",
        "created_at": "2020-12-05T17:56:01.104000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "if anyone wants the data I can send it",
        "created_at": "2020-12-05T17:56:08.437000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "doing pyrmont over 500 epochs gives the same statistics: 75% of wrong votes on the first slot block",
        "created_at": "2020-12-05T18:00:06.607000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So that's more than 1% of everyone's earnings",
        "created_at": "2020-12-05T18:00:21.680000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Mainnet over 500  epochs goes up to 30% wrong",
        "created_at": "2020-12-05T18:01:17.465000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So this is across the whole network and not only my own node",
        "created_at": "2020-12-05T18:03:23.337000+00:00",
        "attachments": []
    }
]