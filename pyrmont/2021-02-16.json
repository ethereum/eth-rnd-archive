[
    {
        "author": "dapplion",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "To Eth2 implementors: Would you mind sharing how much CPU time it takes your client to process and average epoch transition in Pyrmont (and / or mainnet)?",
        "created_at": "2021-02-16T14:10:44.618000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "depends what you mean by epoch transition - ie there's the spec part and the non-spec part - the spec part is fairly easy, it takes no time at all almost, but then there's a lot of surrounding work that does take time (pruning databases, cleaning unviable heads from dag etc) - here are some numbers for the spec part alone, in nimbus - this is loading 360k mainnet blocks, then running them through state transition _without_ bls verification (except deposits which are always verified) - without, because we trust blocks from the db:\n```\nAll time are ms\n     Average,       StdDev,          Min,          Max,      Samples,         Test\nValidation is turned off meaning that no BLS operations are performed\n    3612.418,        0.000,     3612.418,     3612.418,            1, Initialize DB\n       0.127,        0.494,        0.027,      182.982,       363345, Load block from database\n      22.364,        0.000,       22.364,       22.364,            1, Load state from database\n       0.210,        0.210,        0.029,      112.478,       357262, Advance slot, non-epoch\n      16.923,        6.513,        1.160,      460.544,        11524, Advance slot, epoch\n       1.404,        4.681,        0.014,      272.576,       363345, Apply block, no slot processing\n       0.000,        0.000,        0.000,        0.000,            0, Database store\n\nreal    14m21,302s\nuser    13m36,294s\n```",
        "created_at": "2021-02-16T15:59:16.305000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "as you can see, processing all of mainnet (as of a few weeks back) takes about 14-15m on my laptop, in terms of pure state transition, but syncing takes a couple of hours, so that should tell you something about how much impact verifying bls and writing and cleaning things in the database take",
        "created_at": "2021-02-16T16:00:17.449000+00:00",
        "attachments": null
    }
]