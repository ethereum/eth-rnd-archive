[
    {
        "author": "timbeiko",
        "category": "Cross-layer",
        "parent": "",
        "content": "Sorry for the late link, but 4844 call starting in ~8 mins!\n\nAgenda: https://github.com/ethereum/pm/issues/679\nZoom: https://ethereumfoundation.zoom.us/j/88332629239?pwd=YmNpVVpaVy93RXhOTS9DYmNtWGtLdz09",
        "created_at": "2022-11-29T15:22:53.723000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Cross-layer",
        "parent": "",
        "content": "The transaction receipt contains the `cumulative gas used` . Would it be useful to add a `cumulative data gas used` to the receipts tuple?\n\u003c@203220829473996800\u003e \u003c@415548822983278593\u003e \u003c@898563924440543283\u003e",
        "created_at": "2022-11-29T22:32:18.659000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Cross-layer",
        "parent": "",
        "content": "The data can already be derived from the block header and transaction contents, so the \"hydrate\" receipts method in geth can be modified to add it as metadata upon reading the receipts. And then just make it an optional field in the JSON api response. We've done something very similar to add L2 fields to the receipt data.",
        "created_at": "2022-11-29T23:24:41.646000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Cross-layer",
        "parent": "",
        "content": "See api: https://github.com/ethereum/go-ethereum/blob/master/internal/ethapi/api.go#L1605\nand `DeriveFields` https://github.com/ethereum/go-ethereum/blob/master/core/types/receipt.go#L399",
        "created_at": "2022-11-29T23:26:59.466000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Cross-layer",
        "parent": "",
        "content": "sure. but is there any value in surfacing this data gas used as an intrinsic receipt property?",
        "created_at": "2022-11-29T23:33:09.955000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's a nice-to-have. It will make some things easier when working with trusted local nodes, or to make non-critical things like dashboards. More serious users, like rollup implementations, likely won't use the receipt meta-data, but instead compute the costs themselves, to not trust whatever the L1 RPC service may claim in the response, if it's critical data.",
        "created_at": "2022-11-29T23:36:41.042000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Cross-layer",
        "parent": "",
        "content": "We can change the EIP to include the cumulative data-gas as part of the consensus-data in the receipt, so it can be verified against the receipt-root instead of recomputing it, but since recomputing it is quite trivial (compared to EVM execution), it doesn't seem worth the additional consensus change.",
        "created_at": "2022-11-29T23:39:03.577000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Cross-layer",
        "parent": "",
        "content": "Sounds good to me to not make it part of consensus then. Thanks.",
        "created_at": "2022-11-29T23:43:48.397000+00:00",
        "attachments": null
    },
    {
        "author": "roberto.bayardo",
        "category": "Cross-layer",
        "parent": "",
        "content": "maybe put it in an issue in the interop repo as a nice-to-have?",
        "created_at": "2022-11-29T23:47:44.246000+00:00",
        "attachments": null
    },
    {
        "author": "inphi",
        "category": "Cross-layer",
        "parent": "",
        "content": "sure, why not.",
        "created_at": "2022-11-29T23:49:56.865000+00:00",
        "attachments": null
    }
]