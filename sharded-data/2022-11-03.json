[
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e @hwwang @kevaundray @dankrad hello. hoping to get 3038 merged today so that c-kzg development can proceed in a stable fashion. sign-off reviews would be appreciated. thanks!",
        "created_at": "2022-11-03T09:50:14.561000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Should be okay to merge I think, since the changes you made on top of mine and Dankradâ€™s commits were minor/non-controversial (re @asn_d6: @hwwang @kevaundray @dankrad hello. hoping to get 3038 merged today so that c-kzg development can proceed in a stable fashion. sign-off reviews would be appreciated. thanks!)",
        "created_at": "2022-11-03T10:07:58.759000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e thanks",
        "created_at": "2022-11-03T10:08:37.562000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e was hoping for hsiao-wei to look at it as well, as I attempted to fix her review",
        "created_at": "2022-11-03T10:09:27.971000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e will give her some more time since she is semi-afk",
        "created_at": "2022-11-03T10:09:38.513000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e i'm hoping to avoid the situation where we merge this one, and tomorrow open a new one",
        "created_at": "2022-11-03T10:09:53.913000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e @dankrad let me know if u have any thoughts on https://github.com/ethereum/consensus-specs/pull/3038#discussion_r1012845245",
        "created_at": "2022-11-03T12:41:44.560000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e seems like you added a preset which might not need to be a preset.",
        "created_at": "2022-11-03T12:42:00.136000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e i mean like in theory we could encode field elements in 64 bytes or whatever, but I don't see why we would ever do that.",
        "created_at": "2022-11-03T12:44:53.661000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e It should just be a constant",
        "created_at": "2022-11-03T13:05:26.911000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e I defined it as a constant but somehow the testing broke",
        "created_at": "2022-11-03T13:05:49.921000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e ack thx",
        "created_at": "2022-11-03T13:09:24.641000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003chwwang\u003e \u003e \u003chwwang\u003e  thanks, I will make it constant after the CL call today (re @dankrad: It should just be a constant)",
        "created_at": "2022-11-03T13:12:38.290000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e I think it's pretty much ready. Just one Q here: https://github.com/ethereum/consensus-specs/pull/3038#discussion_r1012962139",
        "created_at": "2022-11-03T14:17:59.945000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e I know the `\"TESTING\"` return value of `retrieve_blobs_sidecar` is naughty, but I am even more worried about `None` as some clients might confuse this value with \"the blob is not available\" and thus mistakenly implement it such that it passes when a blob is not available",
        "created_at": "2022-11-03T14:19:25.271000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e I guess long term the proper solution is to have a blob sidecar storage/retrieval in the test environment but I did not know how to properly implement this!",
        "created_at": "2022-11-03T14:20:04.683000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e So I guess we could leave it as it is and defer until we implement that?",
        "created_at": "2022-11-03T14:20:19.199000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e ack. @hwwang maybe you have opinions about this one too.",
        "created_at": "2022-11-03T14:27:06.913000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003chwwang\u003e Iâ€™m fine with it in this PR.\n\nOn the other hand I have a minor nitpicking on `is_data_available`: it would only return True or throw exception, but its name feel like it may return False. ðŸ˜… Since we want to avoid using `try:â€¦ except:â€¦` in specs so Iâ€™m not sure how to address it cleanly. I suppose client teams will implement it in a better way.",
        "created_at": "2022-11-03T14:30:34.416000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e maybe we should fix it and make it return True or False once we fix this problem",
        "created_at": "2022-11-03T14:31:15.312000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e I think it's cleaner",
        "created_at": "2022-11-03T14:31:23.127000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e seems sorta orthogonal to the cryptography part of the PR",
        "created_at": "2022-11-03T14:34:50.696000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e if we can address this soon, that would work, but otherwise we could also merge this PR so that the cryptography can be stabilized, and we can fix the data availbility interface part in a new PR",
        "created_at": "2022-11-03T14:35:21.896000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e Yes agree with that",
        "created_at": "2022-11-03T14:36:24.186000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cdankrad\u003e let's address this later with proper testing impl",
        "created_at": "2022-11-03T14:36:34.290000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e on that note, i will wait for @hwwang to fix the bytes_per_field_element issue and I will merge later today. thanks all.",
        "created_at": "2022-11-03T14:38:28.493000+00:00",
        "attachments": []
    },
    {
        "author": "jessepollak",
        "category": "Cross-layer",
        "parent": "",
        "content": "awesome work y'all - excited to get this merged!",
        "created_at": "2022-11-03T14:40:29.939000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e OK! #3038 is now merged. Thanks @kevaundray @dankrad and @hwwang !!!",
        "created_at": "2022-11-03T15:02:07.728000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e @xrchz I think you can consider the cryptography API stable now for the purposes of continuing development on c-kzg! Godspeed!",
        "created_at": "2022-11-03T15:02:33.657000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Have also closed the two related issues for this (re @asn_d6: OK! #3038 is now merged. Thanks @kevaundray @dankrad and @hwwang !!!)",
        "created_at": "2022-11-03T15:06:24.809000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e there may be a type error in the spec",
        "created_at": "2022-11-03T15:52:07.095000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e unless `Blob` and `Polynomial` are still the same? I thought they are no longer",
        "created_at": "2022-11-03T15:52:40.326000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e they not",
        "created_at": "2022-11-03T15:52:50.163000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e anyway `compute_aggregated_poly_and_commitment` calls `hash_to_bls_field` with a `Sequence[Blob]` as its first arg, but the type signature for that function takes a `Sequence[Polynomial]`",
        "created_at": "2022-11-03T15:53:30.983000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003chwwang\u003e \u003e \u003chwwang\u003e  btw is it easy for c-kzg to switch the preset variables? i.e., we customized `FIELD_ELEMENTS_PER_BLOB: 4` in the CL minimal preset for faster testing (re @asn_d6: @xrchz I think you can consider the cryptography API stable now for the purposes of continuing development on c-kzg! Godspeed!)",
        "created_at": "2022-11-03T15:55:52.015000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e in theory it should work - I #define'd it",
        "created_at": "2022-11-03T15:56:17.951000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e \u003e \u003casn_d6\u003e  good point (re @xrchz: anyway compute_aggregated_poly_and_commitment calls hash_to_bls_field with a Sequence[Blob] as its first arg, but the type signature for that function takes a Sequence[Polynomial])",
        "created_at": "2022-11-03T15:56:30.282000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e @xrchz ok will fix. it requires a small mod on the iteration of the hash_to_bls_field()",
        "created_at": "2022-11-03T16:03:53.642000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e @hwwang perhaps we can sneak it into #3016 ðŸ˜…",
        "created_at": "2022-11-03T16:04:06.914000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e ah no there is an easier fix that doesnt require modding hash_to_bls-field",
        "created_at": "2022-11-03T16:06:32.221000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e sec",
        "created_at": "2022-11-03T16:06:33.740000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e @xrchz @hwwang https://github.com/ethereum/consensus-specs/pull/3077",
        "created_at": "2022-11-03T16:16:00.608000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e lgtm",
        "created_at": "2022-11-03T16:19:31.647000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e thx. it wouldn't surprise me if a few more type errors have sneaked in. python type checking is very weak when it comes to these custom types...",
        "created_at": "2022-11-03T16:20:47.856000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e am I right in thinking `evaluation_challenge` is basically `r ** n` in the field, where `n` is `len(kzg_commitments)`?",
        "created_at": "2022-11-03T16:24:40.980000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e seems like it yes",
        "created_at": "2022-11-03T16:25:37.809000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e not a big fan of how that code is written",
        "created_at": "2022-11-03T16:25:50.928000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e seems like a bit of a footgun",
        "created_at": "2022-11-03T16:25:57.423000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e it seems correct, but also not trivial to understand or implement",
        "created_at": "2022-11-03T16:26:24.426000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e even though the underlying logic is indeed simple â€” as you mentioned",
        "created_at": "2022-11-03T16:26:43.765000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e another approach would have been to call `compute_powers()` first with an extra length, and then split the output to `r_powers` and `evaluation_challenge` afterwards",
        "created_at": "2022-11-03T16:27:58.649000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e this way you let `compute_powers()` stay responsible for maintaining the powers, and the caller just splits the output",
        "created_at": "2022-11-03T16:28:42.734000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e thanks that makes sense",
        "created_at": "2022-11-03T16:31:03.127000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cxrchz\u003e `ENDIANNESS` == `\"little\"`? (can't see where it's defined)",
        "created_at": "2022-11-03T16:35:55.635000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e yes",
        "created_at": "2022-11-03T16:38:04.404000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e its defined in phase0 part of the spec",
        "created_at": "2022-11-03T16:38:06.219000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e sec",
        "created_at": "2022-11-03T16:38:06.982000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e https://github.com/ethereum/annotated-spec/blob/master/phase0/beacon-chain.md#constants",
        "created_at": "2022-11-03T16:39:53.597000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e merged #3077 too. thx @hwwang and @xrchz .",
        "created_at": "2022-11-03T16:47:28.003000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Yeah this is correct, both challenges can be computed in one round now (re @xrchz: am I right in thinking evaluation_challenge is basically r ** n in the field, where n is len(kzg_commitments)?)",
        "created_at": "2022-11-03T17:09:56.408000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ckevaundray\u003e \u003e \u003ckevaundray\u003e  Open to changing this, I wrote it the way I saw most python code being written. In my mind, I thought about using compute_powers and then taking the last element, but thought this looked simpler (re @asn_d6: not a big fan of how that code is written)",
        "created_at": "2022-11-03T17:11:21.409000+00:00",
        "attachments": []
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003casn_d6\u003e \u003e \u003casn_d6\u003e  ack. i guess we can leave as is for now. (re @kevaundray: Open to changing this, I wrote it the way I saw most python code being written. In my mind, I thought about using compute_powers and then taking the last element, but thought this looked simpler)",
        "created_at": "2022-11-03T17:30:41.936000+00:00",
        "attachments": []
    }
]