[
    {
        "author": "protolambda",
        "category": "Cross-layer",
        "parent": "",
        "content": "The engine API options for EIP-4844 to retrieve blob data:\n1. First the CL asks the execution payload with `getPayload(payloadID) -\u003e ExecutionPayload`, then it retrieves all blobs with `getBlobs(payloadID) -\u003e {kzgs: []KZGCommitment, blobs: []Blob}`\n2. First the CL asks the execution payload with `getPayload(payloadID) -\u003e ExecutionPayload`, then it scan the `execution_payload.transactions` for those of `BLOB_TX_TYPE`, extracts the `versioned_hashes`, and calls `getBlob(payloadID, versioned_hash) -\u003e (KZGCommitment, Blob)` to retrieve everything\n3. Change `getPayload` to `getPayloadAndBlobs(payloadID) -\u003e {payload: ExecutionPayload, kzgs: []KZGCommitment, blobs: []Blob}`, i.e. bundle everything in a single response\n\n1. Seems good because it doesn't break `getPayload`\n2. Is quite extreme, high-overhead, but does key every blob individually. Assuming the EL is pruning the blobs afterwards, I do expect it to keep them bundled, so this keying by versioned hash does not really help.\n3. Is super simple, and least amount of overhead, but involves a breaking change\n\ncc \u003c@!363800010518822915\u003e \u003c@!607055410104500244\u003e what do you think, what do you prefer in your prototypes? Also cc \u003c@!291925846556540928\u003e; I'll open an engine APIs PR with the best option, likely formatted as a feature-dir type of thing there too.",
        "created_at": "2022-03-10T15:18:07.856000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Agree. No on (2). I like (1) for the short-term prototype and (3) for the long-term",
        "created_at": "2022-03-10T15:22:21.211000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is good with me",
        "created_at": "2022-03-10T15:58:49.665000+00:00",
        "attachments": null
    }
]