[
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cbarnabasbusa\u003e disabled hourly build till its fixed upstream.",
        "created_at": "2025-10-09T13:03:52.790000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cbarnabasbusa\u003e As we keep getting notifications about the broken image building",
        "created_at": "2025-10-09T13:04:00.248000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e hey Thomas/Benedikt\n\nfor my signature unification proposal/PR (one unified aggregated singnature for everything in a block)\n\nif: I have a vote (Vx) which I didn't get from network but from a block (B1) lets say on a side branch, so the signature I have is aggregated with the block and I dont have separate signature\n\nand If I want to repack the vote into lets say a different branch in block B2, I should be able to prove/aggregate in that block B2's aggregated signature that this vote Vx was in a valid block signature B1,\n\nI should be able to to generated an aggregated proof signature for B1 like this right?\n\n(so the minimal signature VM can support these proof statements?)",
        "created_at": "2025-10-09T14:05:12.658000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cBenewagner\u003e not sure I fully understand what you want and why you want that. You want to prove in B2 that you know the signature in B1? Why would that be useful for B2? In terms of feasibility, note that you cannot do something like this with BLS (IIUC what you want), while it is in principle possible with generic STARKs. I assume it can be done with lean VM, but the VM is probably not optimized for that. @tcoratger , maybe you can comment",
        "created_at": "2025-10-09T16:42:15.637000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e lets say the signature was packed in B1, but helps achieve justification in B2",
        "created_at": "2025-10-09T16:59:19.366000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ctcoratger\u003e I'm not sure I understand either. Let me check if I understand your scenario correctly.\n\n- Block `B1` is created: It contains a set of data, including a specific vote you care about, `Vx`.\n- `AggSig_B1` is formed: The individual signature for `Vx` is mathematically combined with all other signatures in the block to create the single `AggSig_B1`.\n- `B1` is finally not the direction of the chain: The network consensus moves in a different direction. `B1` is a valid block, but it does not become part of the canonical, final chain. It is now on a \"side branch\".\n- Your problem: The vote `Vx` is valid and useful work done by a validator. You want to include it in a new block, `B2`, which is on the canonical chain. However, you do not possess the original, standalone signature for `Vx`; it is part of `AggSig_B1`.\n\nDo I understand correctly?\n\nIf so, I think that this would complexify a lot of things in the VM design because right now, the goal of the VM is of two types:\n- Aggregate a number X of fresh signatures and produce a proof of this.\n- Merge previous proofs of signature aggregation.\n\nBut once the proofs are produced, the goal is precisely to no longer have to worry about individual signatures so that the VM was not at all a designer for the use case that you have in mind I guess.",
        "created_at": "2025-10-09T17:01:08.934000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e re: **@tcoratger**\n\u003e I'm not sure I understand either. Let me check if I understand your scenario correctly.\n\n- Block B1 is created: It contains a set of data, including a specific vote you care about, Vx.\n- AggSig_B1 is formed: The individual signature for Vx is mathematically combined with all other signatures in the block to create the single AggSig_B1.\n- B1 is finally not the direction of the chain: The network consensus moves in a different direction. B1 is a valid block, but it does not become part of the canonical, final chain. It is now on a \"side branch\".\n- Your problem: The vote Vx is valid and useful work done by a validator. You want to include it in a new block, B2, which is on the canonical chain. However, you do not possess the original, standalone signature for Vx; it is part of AggSig_B1.\n\nDo I understand correctly?\n\nIf so, I think that this would complexify a lot of things in the VM design because right now, the goal of the VM is of two types:\n- Aggregate a number X of fresh signatures and produce a proof of this.\n- Merge previous proofs of signature aggregation.\n\nBut once the proofs are produced, the goal is precisely to no longer have to worry about individual signatures so that the VM was not at all a designer for the use case that you have in mind I guess.\nyes this is the scenario\n\nbut this is sort of merging a previous signature proof with a different proof path, these are some edge cases which would be very meanigful when handling forky and non finalizing network,  so even if its not fully optimized but can be done with reasonable perf, it would make sense to accomodate this",
        "created_at": "2025-10-09T17:05:42.675000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ctcoratger\u003e re: **@gr3999**\n\u003e yes this is the scenario\n\nbut this is sort of merging a previous signature proof with a different proof path, these are some edge cases which would be very meanigful when handling forky and non finalizing network,  so even if its not fully optimized but can be done with reasonable perf, it would make sense to accomodate this\nThat is possible because the VM is capable of ingesting X proofs and producing a single resulting proof as a proof of aggregation of the other proofs. So this is possible.",
        "created_at": "2025-10-09T17:07:39.271000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cgr3999\u003e ok so for the purposes of the PR that I am doing to merge/aggregate the block signatures I will assume that this can be handled while block producer generates an aggregated signature, even though for the current iteration the aggregated signature is just concatenation so individual signatures are recoverable",
        "created_at": "2025-10-09T17:10:07.134000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ctcoratger\u003e Yes as long as what you feed the VM with is either fresh signatures or proofs of previous aggregation, the VM can output a proof.\n\nBut I think that in your case this requires some tweaks because what we have in `B1` is not only `V(x)` ​​but a proof of aggregation of all the signatures which are found in `B1` (not only V(x) but hundreds of others) and from the proof you cannot really isolate one signature.",
        "created_at": "2025-10-09T17:19:53.436000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e re: **@tcoratger**\n\u003e I'm not sure I understand either. Let me check if I understand your scenario correctly.\n\n- Block B1 is created: It contains a set of data, including a specific vote you care about, Vx.\n- AggSig_B1 is formed: The individual signature for Vx is mathematically combined with all other signatures in the block to create the single AggSig_B1.\n- B1 is finally not the direction of the chain: The network consensus moves in a different direction. B1 is a valid block, but it does not become part of the canonical, final chain. It is now on a \"side branch\".\n- Your problem: The vote Vx is valid and useful work done by a validator. You want to include it in a new block, B2, which is on the canonical chain. However, you do not possess the original, standalone signature for Vx; it is part of AggSig_B1.\n\nDo I understand correctly?\n\nIf so, I think that this would complexify a lot of things in the VM design because right now, the goal of the VM is of two types:\n- Aggregate a number X of fresh signatures and produce a proof of this.\n- Merge previous proofs of signature aggregation.\n\nBut once the proofs are produced, the goal is precisely to no longer have to worry about individual signatures so that the VM was not at all a designer for the use case that you have in mind I guess.\n\u003e If so, I think that this would complexify a lot of things in the VM design \n\nThis needs to be considered in conjunction with Forkchoice design. In the current Forkchoice of FFG + LMD, not being able to do this would invalidate some of the assumptions about forkchoice. Clients rely on the hability of being able to take out attestations from every block in a reorged branch and reinsert them all in the canonical branch after a reorg. \n\nDepending on the flavor of 3SF this may no longer be mandatory or that important. But it will will be a feature that needs to be decided among three players: the finality gadget, the aggregation \u003cclipped message\u003e",
        "created_at": "2025-10-09T18:03:49.939000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ctcoratger\u003e Yes I see we need to think about this further, this could probably be integrated into the VM relatively well. I need to think about this further. For now we are on the simplest case of Aggregate/Merge and this is already super complex but yes I guess once the VM is stable with these 2 features we could think about it further as I know this should be possible",
        "created_at": "2025-10-09T18:14:59.402000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cBenewagner\u003e Tbh, this sounds very complex to me, and error prone. It also makes the design of the VM and the program we run with it harder, which already feels like a complex beast to me. \n\nDo we then need more complex arguments why the resulting consensus protocol is secure? \nAs you cannot have this with BLS, I assume this does not show up in the design and analysis of the current protocol, and in the analysis of 3SF, no?",
        "created_at": "2025-10-09T18:22:03.961000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e re: **@Benewagner**\n\u003e Tbh, this sounds very complex to me, and error prone. It also makes the design of the VM and the program we run with it harder, which already feels like a complex beast to me. \n\nDo we then need more complex arguments why the resulting consensus protocol is secure? \nAs you cannot have this with BLS, I assume this does not show up in the design and analysis of the current protocol, and in the analysis of 3SF, no?\nI think you must be confused by something because 1) we currently do this with BLS, the reason we can is that the attestation is not tied to any particular block to contain it and 2) current Ethereum would not work without this. Would not work in the sense that the only guarantee that Ethereum gives: economic safety, would not be true without this. \n\nSo I think you must be thinking on some other property and not this issue of reinsertion",
        "created_at": "2025-10-09T18:29:39.049000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cBenewagner\u003e Yeah, if we do it with BLS then I think I don’t understand what property you want. For BLS, you cannot take an individual signature out of an aggregate signature and aggregate it into another one. You would need the corresponding sk for it. But probably that’s not what was wanted here",
        "created_at": "2025-10-09T18:50:15.626000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e no, for BLS we take the whole aggregate and we add it back to another block",
        "created_at": "2025-10-09T18:50:37.221000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e we definitely cannot do this with single attestations",
        "created_at": "2025-10-09T18:50:44.019000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e but again this is both necessary and needed because of our current forkchoice, in which two attestations for different LMD head blocks on contending chains even, can be attesting for the same finality gadget checkpoint... if in Lean your attestations are only for head say for example, then there's no reason to be moving them around. But I think for 3SF these can be useful if there's no quorum on either branch",
        "created_at": "2025-10-09T18:52:43.002000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cBenewagner\u003e re: **@potuz0**\n\u003e we definitely cannot do this with single attestations\nRight this is what I thought was wanted, then we are on the same page",
        "created_at": "2025-10-09T18:53:19.726000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ctcoratger\u003e re: **@potuz0**\n\u003e no, for BLS we take the whole aggregate and we add it back to another block\nThat is natively possible with the new VM",
        "created_at": "2025-10-09T18:53:42.871000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e but presumably you are aggregating a lot of things now however right?",
        "created_at": "2025-10-09T18:54:25.241000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cpotuz0\u003e so the full aggregate may not be useful in the other chain",
        "created_at": "2025-10-09T18:54:36.637000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003ctcoratger\u003e Yes in this case this is more costly since instead of simply aggregating the only signature that matters to you with the new chain, you must aggregate a whole proof of signature aggregation with the new chain and that is more costly because then we have to do recursion.",
        "created_at": "2025-10-09T18:56:34.634000+00:00",
        "attachments": null
    }
]