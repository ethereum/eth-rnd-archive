[
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cturuslan\u003e re: **@salakhiev**\n\u003e Syncing works for qlean\u003c-\u003eqlean networks, but we couldn't verify it is compatibility with other clients yet\nTried syncing zeam node from qlean node (qlean branch (https://github.com/qdrvm/qlean-mini/pull/50)).\n\nStarted single qlean node first to generate chain of blocks,\nthen started zeam node to sync these blocks.\n\nCouldn't test that scenario with ream (\"Expected Ream to be started before genesis time\").\n\nZeam requested head block,\nbut couldn't import it (\"error.MissingPreState\"),\nmaybe it didn't request parent block before importing.\n\n\n\nAlso found two inconsistencies between zeam/ream implementations and spec.\n\n1. zeam (https://github.com/blockblaz/zeam/blob/03e19111c28cc134482351940537d93b296bd444/rust/libp2p-glue/src/req_resp/inbound_protocol.rs#L76-L92) and ream (https://github.com/ReamLabs/ream/blob/f8f1a8b0ac6d1c3b9a2b7d97f6173adba0550aa2/crates/networking/p2p/src/req_resp/inbound_protocol.rs#L133-L139) request-response protocols expect extra \"response status\" byte before varint prefixed response frame.\nCouldn't find \"response status\" in spec.\n\n2. according to spec (https://github.com/leanEthereum/leanSpec/blob/5eb470832733e26087c633081b51f875fc4c7102/src/lean_spec/subspecs/networking/reqresp/message.py#L80-L83) block request protocol response contains list of blocks,\nbut in zeam (https://github.com/blockblaz/zeam/blob/03e19111c28cc134482351940537d93b296bd444/pkgs/network/src/interface.zig#L346-L347) and ream (https://github.com/ReamLabs/ream/blob/f8f1a8b0ac6d1c3b9a2b7d97f6173adba0550aa2/crates/networking/p2p/src/req_resp/lean/messages/mod.rs#L39-L41) response is single block.\nWhat is expected response type?",
        "created_at": "2025-12-25T16:04:26.519000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003cKlean_b\u003e re: **@turuslan**\n\u003e Tried syncing zeam node from qlean node (qlean branch).\n\nStarted single qlean node first to generate chain of blocks,\nthen started zeam node to sync these blocks.\n\nCouldn't test that scenario with ream (\"Expected Ream to be started before genesis time\").\n\nZeam requested head block,\nbut couldn't import it (\"error.MissingPreState\"),\nmaybe it didn't request parent block before importing.\n\n\n\nAlso found two inconsistencies between zeam/ream implementations and spec.\n\n1. zeam and ream request-response protocols expect extra \"response status\" byte before varint prefixed response frame.\nCouldn't find \"response status\" in spec.\n\n2. according to spec block request protocol response contains list of blocks,\nbut in zeam and ream response is single block.\nWhat is expected response type?\nI looked into this and yes, zeam and ream prepend a 1-byte status code to responses\n  zeam/ream:   [status_u8][varint_length][ssz_snappy_payload]\n  qlean-mini:  [varint_length][ssz_snappy_payload] the spec does not define a response status byte  I think we copied this from Ethereum Beacon Chain also, the term response_chunk is never defined in the spec zeam/qlean are wire-incompatible right now.",
        "created_at": "2025-12-25T18:11:50.790000+00:00",
        "attachments": null
    }
]