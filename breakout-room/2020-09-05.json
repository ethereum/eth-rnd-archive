[
    {
        "author": "poojaranjan",
        "category": "Execution Layer",
        "parent": "",
        "content": "We can pin a message with an EIP name under discussion, if its helpful",
        "created_at": "2020-09-05T00:04:10.322000+00:00",
        "attachments": []
    },
    {
        "author": "hudsonjameson",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yeah pinning a message would help. My dear about naming it is that it will confuse people who may need to use the room for coordination beyond the EIP listed as the room name. Open to other comments though.",
        "created_at": "2020-09-05T00:27:54.968000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I'm fine with a channel per breakout, pinned message to EIP, or topic updates.  Keep in mind, that one can freely create, rename, delete channels in Discord so you *can* have ephemeral channels effectively.",
        "created_at": "2020-09-05T02:42:14.207000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "In another server I am in they have a whole set of channels that just rotate through usage so history is retained, but they can have per-question channels at any given point in time.",
        "created_at": "2020-09-05T02:42:48.583000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "May be overkill in this case.  ðŸ¤·",
        "created_at": "2020-09-05T02:42:54.684000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Hmm, removing RLP from 2718 introduces the problem of potential replay attacks with legacy transactions.",
        "created_at": "2020-09-05T13:57:45.396000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I *think* we can avoid it by just asserting that `6` and `9` is not a valid transaction type?",
        "created_at": "2020-09-05T13:58:05.676000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Current transaction signatures sign a payload that starts with `6` (pre-EIP-155) or `9` (post-EIP-155) since that is the first byte of an RLP encoded transaction of length 6/9.  So if you have a 2718 transaction where the first byte is the transaction type and the remaining bytes are the transaction payload, then you *may* end up with a signature overlap.",
        "created_at": "2020-09-05T14:05:11.137000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "I don't fully understand why is it a good idea allowing the translation to be transparent from old format to the wrapper format. The signature in that case only covers the inner payload.",
        "created_at": "2020-09-05T14:05:29.976000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "\u003e allowing the translation to be transparent from old format to the wrapper format\nWhat do you mean?",
        "created_at": "2020-09-05T14:05:47.390000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Currently, the translation from old format to new is *not* transparent.  You have to take a step to actually convert.",
        "created_at": "2020-09-05T14:06:53.831000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "On the call it was explained it can happen transparently in the client, e.g. old transactions remain valid.",
        "created_at": "2020-09-05T14:07:22.289000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Oh, old transactions remain valid only for client APIs, which is only a suggestion in the spec, not a requirement.",
        "created_at": "2020-09-05T14:07:45.425000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "This makes it so legacy signing tools (e.g., MetaMask) don't have to update.",
        "created_at": "2020-09-05T14:07:56.866000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "You mean `sendRawTransaction` or what exactly?",
        "created_at": "2020-09-05T14:08:05.530000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Yeah, `sendRawTransaction`.",
        "created_at": "2020-09-05T14:08:18.648000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "Well that practically means the old transaction format remains valid?",
        "created_at": "2020-09-05T14:08:42.627000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Not over devp2p or as part of a block (transaction merkle trie).",
        "created_at": "2020-09-05T14:08:51.582000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "If the signature does not extend beyond the payload, then the old format is valid, no matter what, if i understand it correctly.",
        "created_at": "2020-09-05T14:09:16.811000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "As one can freely wrap and unwrap without changing the signature.",
        "created_at": "2020-09-05T14:09:30.670000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "The issue I brought up above is that someone may have signed something 2 years ago like `[6, ...]` and once we introduce transaction type `6`, if we go with \"no RLP encoding, just first byte is type\" then `[6, ...]` may mean something different and that signature from 2 years ago may sign something valid and new.",
        "created_at": "2020-09-05T14:09:49.734000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "All transactions *except* type `0` **SHOULD** include the transaction type in the signature.",
        "created_at": "2020-09-05T14:10:40.081000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Otherwise you have to deal with ensuring there is no overlap between types, which is a big motivation for the EIP in the first place.",
        "created_at": "2020-09-05T14:11:02.180000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "ðŸ¤” I should strengthen the wording on that to say that the signed payload should include the transaction type *first*.",
        "created_at": "2020-09-05T14:11:29.277000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "Btw to avoid that overlap is why I had that weird idea for the first byte, see \u003c#745077610685661265\u003e.",
        "created_at": "2020-09-05T14:12:49.967000+00:00",
        "attachments": []
    },
    {
        "author": "axic3354",
        "category": "Execution Layer",
        "parent": "",
        "content": "But I am just trying to understand all aspects better, and whether it is a good idea allowing this transition period of old transactions remaining valid.",
        "created_at": "2020-09-05T14:12:58.078000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "Hmm, which weird idea?",
        "created_at": "2020-09-05T14:13:47.147000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I am generally against transition periods where we allow multiple formats of the same thing over the P2P protocol and in blocks if we can avoid it.",
        "created_at": "2020-09-05T14:14:17.413000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "In this case, I think we can avoid it pretty easily.",
        "created_at": "2020-09-05T14:14:31.017000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "The problem we face right now with introducing new transaction types (without 2718) is that you **MUST** ensure that there is no overlap in signed data with all other transaction types out there.  This rapidly becomes a minefield for EIP authors.",
        "created_at": "2020-09-05T14:15:52.526000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "It also is a burden on client developers because they can't just switch on some number, they have to differentiate between each transaction type in some special way.  Like \"if it starts with a 6 that means it is either legacy transaction type or that new one that doesn't use RLP and to tell the difference we need to read it as RLP and then check to see if the 6th item is an RLP list or not.\"",
        "created_at": "2020-09-05T14:17:42.488000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution Layer",
        "parent": "",
        "content": "I'm thinking about making legacy transactions type 6 (pre EIP-155) and type 9 (post EIP-155).  That may reduce client complexity a little bit (by making it easier to differentiate those two types without having to first decode everything), and it would protect us from future replay attacks for those type numbers.",
        "created_at": "2020-09-05T14:30:25.303000+00:00",
        "attachments": []
    }
]