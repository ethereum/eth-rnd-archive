[
    {
        "author": "holiman",
        "category": "Execution Layer",
        "parent": "",
        "content": "Another question that we should specify in the EIP, \u003c@!273808422753796097\u003e is when/how the `2600`/`100` cost should be applied, in terms of the `63/64ths` rule. I assume that the `2600`/`100` should be deducted _before_ calculating the `63/64ths` rule. And I think geth is erroneous as of right now cc \u003c@!403707149043105803\u003e",
        "created_at": "2020-09-24T07:02:51.425000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution Layer",
        "parent": "",
        "content": "I've now pushed a fix to geth, so that the base is immediately deducted, before the rest of the 'dynamic' gas-calculation is applied",
        "created_at": "2020-09-24T07:25:45.497000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution Layer",
        "parent": "",
        "content": "cc \u003c@!393119312350543872\u003e (pushed a fix to geth)",
        "created_at": "2020-09-24T07:26:19.483000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Execution Layer",
        "parent": "",
        "content": "Oh, I think geth has another error, using a composite of `4200` instead of `5000-SLOAD_COST` for one of the refunds",
        "created_at": "2020-09-24T07:46:07.283000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution Layer",
        "parent": "",
        "content": "That fixed almost all the issues, Just one straggler at stSubroutine/shouldSucceedWhenReturnStackGrowsUntil1023.  I haven't looked at it yet but I think we are almost there.  I'll let you know what i find (hopefully a besu bug so we can commit these for yolo launch)",
        "created_at": "2020-09-24T15:49:43.896000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution Layer",
        "parent": "",
        "content": "nevermind on that subroutine test.  Besu's and Geths 2929 impls fail with the same roothash.  For some reason it didn't re-fill with my setup.  Obviously gas used changed.",
        "created_at": "2020-09-24T16:21:11.297000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Execution Layer",
        "parent": "",
        "content": "One last bug in besu, we were not propagating the access list across create calls.  `stSolidityTest/RecursiveCreateContractsCreate4Contracts.json` caught that error.",
        "created_at": "2020-09-24T19:24:38.591000+00:00",
        "attachments": null
    }
]