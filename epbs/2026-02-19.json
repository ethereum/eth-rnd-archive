[
  {
    "author": "pk910",
    "category": "Cross-layer",
    "parent": "",
    "content": "congratulations on being the first epbs ready client üòÑ\nyea, dora doesn't look happy at all - tbh not super surprising. \nI'm looking into it üôÇ",
    "created_at": "2026-02-19T09:03:29.867000+00:00",
    "attachments": []
  },
  {
    "author": "pk910",
    "category": "Cross-layer",
    "parent": "",
    "content": "<@358120958726373381> I'm getting this error when requesting a older state (from a finalized gloas block):\n`{\\\"code\\\":500,\\\"message\\\":\\\"UNHANDLED_ERROR: DBError(LoadingHotStateError(\\\\\\\"get state\\\\\\\", 0x1f4dea650b6e38cfe0bea431fa978c9643ec88ca3c6521444fdecff833c05383, BlockReplayError(BlockProcessing(ExecutionPayloadBidInvalid { reason: ParentBlockHashMismatch { state_block_hash: 0x616de917c182c8d648ce460f88d25b1b9335d45d2b95ab70261c9968d31ad52c, bid_parent_hash: 0x58ded490393a053c1b9388bb5d30de0845ebc5500d902fe5aeae562515589bd8 } }))))\\\",\\\"stacktraces\\\":[]}`\n\nand I've noticed there are only empty blocks after gloas activation.\nlighthouse seems to request blocks too fast, so geth can't build a proper payload and it returns an empty payload:\n```\nINFO [02-19|12:21:56.002] Starting work on payload                 id=0x03e2890a1ce59701\nINFO [02-19|12:21:56.008] Stopping work on payload                 id=0x03e2890a1ce59701 reason=delivery\n```\n^geth got 5ms to build a block\n\ndoes the lighthouse validator do ptc votes? There are no ptc aggregates included in blocks.\n\nand for early builder testing (very low prio):\nIt looks like lighthouse doesn't emit `payload_attributes` events anymore post gloas activation.",
    "created_at": "2026-02-19T11:42:55.988000+00:00",
    "attachments": []
  },
  {
    "author": "pk910",
    "category": "Cross-layer",
    "parent": "",
    "content": "I've fixed dora, works well with lighthouse-geth now üôÇ\n\nkurtosis config:\n```yaml\nparticipants:\n  - el_type: geth\n    el_image: ethpandaops/geth:epbs-devnet-0\n    cl_type: lighthouse\n    cl_image: ethpandaops/lighthouse:epbs-devnet-0\n    count: 3\nnetwork_params:\n  gloas_fork_epoch: 1\n\nadditional_services:\n  - dora\n```",
    "created_at": "2026-02-19T12:01:07.008000+00:00",
    "attachments": [
      {
        "type": "image/webp",
        "origin_name": "image.png",
        "content": "9249f7b43ffe4a67b37fbbca006ab6f49e0d809b45ea5e1f4ee7dbaa16dddb66"
      }
    ]
  },
  {
    "author": "stefanbratanov",
    "category": "Cross-layer",
    "parent": "",
    "content": "<@358120958726373381> what does lighthouse return for `eth/v2/debug/beacon/states/finalized` ? I think we should standardize this to return the state after applying the execution payload state, otherwise need to make changes to the checkpoint syncing logic",
    "created_at": "2026-02-19T17:01:18.587000+00:00",
    "attachments": []
  },
  {
    "author": "nc1234",
    "category": "Cross-layer",
    "parent": "",
    "content": "I think I raised this concern a while ago https://discord.com/channels/595666850260713488/874767108809031740/1466295421692280946 , I think it is still in discussion.",
    "created_at": "2026-02-19T18:53:50.803000+00:00",
    "attachments": []
  },
  {
    "author": "0xunclebill",
    "category": "Cross-layer",
    "parent": "",
    "content": "I do agree that we should serve the ‚Äúbest‚Äù state at a given slot. if fork choice indicates there‚Äôs a payload at a given slot, we should return the post payload state",
    "created_at": "2026-02-19T19:24:23.761000+00:00",
    "attachments": []
  },
  {
    "author": "0xunclebill",
    "category": "Cross-layer",
    "parent": "",
    "content": "Thanks for testing! Going to push up a few fixes soon\n\nWe don‚Äôt have PTC duties included in our devnet-0 branch. It‚Äôs in a separate PR at the moment. Going to focus on polishing devnet-0 critical stuff first and then circle back to PTC",
    "created_at": "2026-02-19T19:28:47.912000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "I do not think so, it should be the post-state of the block since the checkpoint can be an empty block",
    "created_at": "2026-02-19T21:12:03.266000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "But yeah, checkpoint sync should be rethought",
    "created_at": "2026-02-19T21:12:51.532000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "as it will require getting the payload for that post-state",
    "created_at": "2026-02-19T21:13:04.325000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "<@592004585506340885> I fixed the tests in https://github.com/ethereum/consensus-specs/pull/4918 by making all attestations to be for empty blocks and then making the full forkchoice tree be empty post-gloas. We will definitely need extensive explicit Gloas forkchoice tests.",
    "created_at": "2026-02-19T22:17:14.690000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "But I hope that PR is mergeable now",
    "created_at": "2026-02-19T22:17:22.216000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "Tomorrow I am going back home so I won't have again the excuse of vacations, but for the record I hate you guys",
    "created_at": "2026-02-19T22:17:53.774000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "Please notice the EDIT in the description, I think it's actually a current bug to process these attestations.",
    "created_at": "2026-02-19T22:18:53.802000+00:00",
    "attachments": []
  }
]