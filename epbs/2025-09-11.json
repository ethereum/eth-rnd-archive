[
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Left just a couple of comments, definitely not my area of expertise so I did not review the format/syntax of the API. I think you were thorough in the endpoints that are needed and they all seem correct to me. The only thing I noticed is some mild confusion about the dual deadline PTC (which doesn't matter cause the current setup anyway has one call) and another one about the payload envelope that is requested to sign. I don't see why the builder would be needed in this call, perhaps you're worried about long forks or equivocations?",
        "created_at": "2025-09-11T14:40:37.368000+00:00",
        "attachments": null
    },
    {
        "author": "chrishg",
        "category": "Cross-layer",
        "parent": "",
        "content": "when looking at the current spec, for the first of the 4 intervals within an ePBS slot, where validators gather builder bids and submit the `SignedBeaconBlock`, is there a due time variable for when it ends and the highest `SignedExecutionPayloadHeader` (or soon `SignedExecutionPayloadBid`) from builders is selected?\n\nfor the second interval there's `ATTESTATION_DUE_BPS_GLOAS` defined at 25% (so 3s atm) of slot duration, so i'd assume the first interval would end before that. just wondering if I missed a variable for that indicating the cutoff time for builder bids (if there is).",
        "created_at": "2025-09-11T15:02:12.621000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The VC requests the block at the start of the slot, at this point the beacon will return with the best bid it has at that moment. In reallity what will happen is that the beacon will then trigger an HTTP request from builders to get the bid and surely there will be timing games and some builders returning as late as possible the bid, which will end up being the timeout of the beacon what will determine this due date",
        "created_at": "2025-09-11T16:06:19.805000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "So the cuttof time is not the attestation deadline but I'd say it will be the timeout from the request from the beacon.",
        "created_at": "2025-09-11T16:06:59.001000+00:00",
        "attachments": null
    },
    {
        "author": "chrishg",
        "category": "Cross-layer",
        "parent": "",
        "content": "my understanding was that the builder broadcasts bids as `SignedExecutionPayloadHeader` objects\non the p2p layer through the `execution_payload_header` global gossip topic. is that still the case?\nyour description sounds diff with the beacon using http req to get the bids from the builder. more of a \"pull\" with a waiting req to timeout than pubsub via p2p.",
        "created_at": "2025-09-11T18:01:26.698000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "There are two paths for bids: one is on the p2p stack, but we do not expect those bids to ever win the auction except on very special cases. The other path is validators directly requesting bids from the builders",
        "created_at": "2025-09-11T18:42:24.771000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "very much like what they do now with Mev Boost",
        "created_at": "2025-09-11T18:42:35.654000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e https://github.com/ethereum/consensus-specs/pull/4527 is merged\nI think you want to make a PR that 1. updates latest header 2. remove latest block hash?",
        "created_at": "2025-09-11T19:11:53.815000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah I can do that one. Also I needed a PR with a regression test for this one",
        "created_at": "2025-09-11T19:25:18.204000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "i think a lot of existing tests will fail once you do (1)",
        "created_at": "2025-09-11T19:28:14.549000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah",
        "created_at": "2025-09-11T19:30:34.980000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "that's fine,",
        "created_at": "2025-09-11T19:30:39.899000+00:00",
        "attachments": null
    },
    {
        "author": "blockkshane",
        "category": "Cross-layer",
        "parent": "",
        "content": "hey \u003c@755590043632140352\u003e, thanks for taking a look! Appreciate the dual-deadline ptc clarification as well. I just got back to you [here](https://github.com/ethereum/beacon-APIs/pull/552#discussion_r2342318838) regarding what I was considering when added `builder_index` to the GET for payload envelope. And yep, a tldr of one concern would be: `bad fork -\u003e re-org -\u003e proposer duties change -\u003e race condition -\u003e multiple proposers in a slot -\u003e multiple envelopes cached in BN -\u003e use builder_index to retrieve corresponding envelope`",
        "created_at": "2025-09-11T21:06:18.837000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "Reminder to comment on the agenda for tomorrow’s breakout call if there’s anything you want to bring up.",
        "created_at": "2025-09-11T23:12:52.681000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I would only want to just reiterate the content of devnet-0 and would want to start actually coding on our main branches to get there. The remaining items that are missing from the spec are either non-consensus breaking or secondary and can be settled later, examples are \n- Right constants for the timelines deadlines\n- Builder API to request bids from builders. \n- the missing pieces on get_proposer_head",
        "created_at": "2025-09-11T23:58:51.978000+00:00",
        "attachments": null
    }
]