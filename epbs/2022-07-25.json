[
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "For sure Flashbots is willing to put additional resources into the mainnet relay relative to kiln ðŸ™‚ \nWe're seeing the relay itself serving the execution payload in about 4ms on average, the remainder seems to be exclusively network delay.",
        "created_at": "2022-07-25T07:55:20.663000+00:00",
        "attachments": []
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "See also here some stats from \u003c@504202741933932544\u003e for the two days in Sepolia -- seeing 98% of requests response in \u003c100ms - https://github.com/flashbots/mev-boost/issues/203#issuecomment-1192535490",
        "created_at": "2022-07-25T08:46:07.057000+00:00",
        "attachments": []
    },
    {
        "author": "stefanbratanov",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hi, I was wondering when sending a validator registration to a relay with a changed fee recipient, how fast it takes for the payload header request to start returning a header with the new fee recipient?",
        "created_at": "2022-07-25T09:35:04.277000+00:00",
        "attachments": []
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "It should be used by builders at latest in the following epoch",
        "created_at": "2022-07-25T09:50:28.107000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Indeed like Chris said. From my convo with \u003c@861612909854588938\u003e , it seems like relay only takes a few ms to to serve these requests. Network latencies are the killer. It'd be great if we can save one trip time (i.e. gossip unblinded block to help with propagation)",
        "created_at": "2022-07-25T13:02:55.267000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "We are creating tools for p2p usage, like requesting blocks. Maybe we can also make one for gossiping block, which relay could use. Example: https://github.com/prysmaticlabs/prysm/pull/11035 Lmk that'd be helpful to push the above vision forward",
        "created_at": "2022-07-25T13:04:37.464000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "What are you guys using to measure the network latency for the blocks to arrive?",
        "created_at": "2022-07-25T13:05:55.159000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Logging the elapsed time from a local node in my apartment",
        "created_at": "2022-07-25T13:16:03.982000+00:00",
        "attachments": []
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "mev-boost logs the request time in a standardized format btw, so you could just extract and plot those for instance ðŸ¤” (it can also log in json if you prefer that to extract them, use the `-json` flag for that)",
        "created_at": "2022-07-25T13:20:52.354000+00:00",
        "attachments": []
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "I wonder how that could work... ðŸ¤” The unblinded block is supposed to stay private until the proposer signature has arrived, right? Who would the relays gossip the blocks with?",
        "created_at": "2022-07-25T13:23:31.830000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Right. Gossip when the signature arrives and to the `beacon_block` topic. We also should make sure to save that one trip is worth it. There are four trips today, and this is `4.` \n1. `getHeader` request\n2. `getHeader` respond\n3. `getPayload` request\n4. `getPayload` respond",
        "created_at": "2022-07-25T13:28:42.843000+00:00",
        "attachments": []
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "4 seems to be only sending the response through the already established TCP channels. what's the improvements you're seeing with adding gossip here?",
        "created_at": "2022-07-25T13:30:57.169000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Network latency, but I don't have a data/number on how big of a delay that is as part of the whole thing. It will be good to measure it",
        "created_at": "2022-07-25T13:33:01.504000+00:00",
        "attachments": []
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "Trying to understand what you mean -- do you think that gossipping the block would be faster than sending the http response?",
        "created_at": "2022-07-25T13:34:23.868000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Gossip right away instead of passing a block to the beacon node to gossip will definitely be faster, the question is how much faster",
        "created_at": "2022-07-25T14:00:51.180000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah the point i was getting at w/ the \"relative resource\" comparison is that we may see better timing on mainnet relative to kiln, ropsten, sepolia, goerli (?) as in general everyone will have their best hardware allocation to mainnet and we can see less investment in testnet settings",
        "created_at": "2022-07-25T15:29:33.248000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@363800010518822915\u003e do you have ideas on how to measure block propagation if we were to gossip the signed block from the relay?\n\nblock propagation to the *signer* will be faster over http but could be faster overall to the \"rest of the network\"\n\nit would be great to try to measure this but requires an infra investment i am not aware exists outside constrained scenarios (i.e. testing on a devnet)",
        "created_at": "2022-07-25T15:32:25.607000+00:00",
        "attachments": []
    }
]