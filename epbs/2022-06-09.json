[
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'd love to hear more opinions on whether we should require a builder signature over the `SignedBuilderBid` in addition to the relay signature. https://github.com/ethereum/builder-specs/issues/23 + https://github.com/ethereum/builder-specs/issues/4\n\nIn the current design, the `BuilderBid` includes the builder pubkey, and the relay could change it to whatever. But even if a builder signature is required, the relay could also just use any keypair and sign it instead of the original builder. ðŸ¤”  cc/ \u003c@539495253418180618\u003e \u003c@543900561460822016\u003e",
        "created_at": "2022-06-09T08:37:52.793000+00:00",
        "attachments": null
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "I feel like I'd like the additional attribution with a builder signature.\n\nhttps://github.com/ethereum/builder-specs/issues/23 suggests updating `BuilderBid` + `SignedBuilderbid`  like this: \n1. Include a builder signature in the `BuilderBid` message that signs over the `header` and `value` data.\n2. Include a relay public key along with an outer signature in the `SignedBuilderBid` message. \n\nAn alternative could be to embed both public keys into `BuilderBid` and have both signatures over the flat structure.",
        "created_at": "2022-06-09T09:08:51.616000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm checking the `value` field from the bid. I suspect that you are not treating it as a `QUANTITY` but as `DATA`, with the implication of endianness incompatibility when we deserialize from json. https://github.com/flashbots/boost-geth-builder/blob/f65c6da8d9ce9b0421f9911ebcbc43aedf076b7a/builder/backend.go#L251\n\nyou see from the screenshot that we get correctly the `BaseFeePerGas` as quantity, but `Value` it definitely too big (it get reversed).\n\u003c@861612909854588938\u003e  can you double-check? In the spec is a uint256, to me sounds a `QUANTITY`",
        "created_at": "2022-06-09T14:09:35.749000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "unknown.png",
                "content": "207c9195fe176bc167820a0a01aff2955e37fdb1b67a17b351a628421e6a120e"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@388610194608750595\u003e getting this on kiln builder: am i postint to correct url ðŸ¤” ?: ```bash\nReq req-1r registerValidator error  invalid json response body at https://builder-relay-kiln.flashbots.net/eth/v1/builder/validators reason: Unexpected end of JSON input\nFetchError: invalid json response body at https://builder-relay-kiln.flashbots.net/eth/v1/builder/validators reason: Unexpected end of JSON input\n```",
        "created_at": "2022-06-09T14:13:56.859000+00:00",
        "attachments": null
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://ethereum.github.io/builder-specs/#/Builder/registerValidator has no response body, so you can't json decode",
        "created_at": "2022-06-09T14:23:59.946000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "got it, but way out api is setup, we need an empty json response still",
        "created_at": "2022-06-09T14:24:45.309000+00:00",
        "attachments": null
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "i think easier would be to fix your api setup. otherwise we might want to update the spec too ðŸ¤”",
        "created_at": "2022-06-09T14:25:38.134000+00:00",
        "attachments": null
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "iirc, QUANTITY and DATA are json-rpc types, but this is using the CL style: https://github.com/ethereum/builder-specs/blob/main/types/bellatrix/bid.yaml#L9-L10 -- it's just an integer in a string\nedit: oh sorry, you didn't mean the API payload but the internal data type",
        "created_at": "2022-06-09T14:26:08.167000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "well i mean the Bid",
        "created_at": "2022-06-09T14:31:01.766000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "value as the rewards declared by the builder",
        "created_at": "2022-06-09T14:31:27.635000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think it should be serialized\\deserialized the same way as BaseFeePerGas, which is another uin256 QUANTITY that we exchange in the same message",
        "created_at": "2022-06-09T14:33:57.097000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "since we saw them behaving differently I suspect an issue there, but we are still waiting to grab some http level traces so we can see what is actually exchanged.",
        "created_at": "2022-06-09T14:35:11.377000+00:00",
        "attachments": null
    },
    {
        "author": "ruteri",
        "category": "Cross-layer",
        "parent": "",
        "content": "I donâ€™t see anything against, you should post it as an issue to the builder spec and we can discuss there",
        "created_at": "2022-06-09T17:04:47.183000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ok! Going to doublecheck on or side first and I'll ping you there if it is the case",
        "created_at": "2022-06-09T17:10:42.363000+00:00",
        "attachments": null
    }
]