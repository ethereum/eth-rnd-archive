[
    {
        "author": "ruteri",
        "category": "Cross-layer",
        "parent": "",
        "content": "Interesting, that means there is no payload for the slot/parent hash you are requesting\nIâ€™m guessing it would be a timing  issue, but could also be something more complex",
        "created_at": "2022-06-16T07:21:31.642000+00:00",
        "attachments": []
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "I was opening an issue but before doing that I'd like to do a temp check here. This is about adding feeRecipient in the `BuilderBid` message. Payment proof will supersede this. The problem is that feeRecipient can be updated and there is no way for CL to know which fee recipient has been used by the builder. Trust assumptions remain the same, it just improve logging in CL where we can safely print it out removing the potential misalignment when feeRecipient changes too close to block production.\nI don't know if it has been previously discussed, but to me seems reasonable.",
        "created_at": "2022-06-16T12:14:28.891000+00:00",
        "attachments": []
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "it also allow to validate that new registration has been distributed as expected",
        "created_at": "2022-06-16T13:56:25.850000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "unless there is an on-chain side channel payment, then the fee recipient will be in the header in the builder bid",
        "created_at": "2022-06-16T15:30:18.118000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "otherwise, if you wanted to verify, a node could query the execution state for what they expect and then see if in fact the payment appeared",
        "created_at": "2022-06-16T15:30:52.259000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "what is the concrete problem? changing the fee recip close to a proposal and not knowing the change has been incorporated?",
        "created_at": "2022-06-16T15:31:35.743000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "we could also extend relays to provide this information, so you can call yourself and get some idea\n\nthis way you move this computation/processing outside the core proposal flow",
        "created_at": "2022-06-16T15:32:19.021000+00:00",
        "attachments": []
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "yes, since there might be different way of payments, seems to me there is no easy way to check if the builder is using the very last registration.",
        "created_at": "2022-06-16T16:02:00.782000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "you can always check if the address you expect gets a payment diff",
        "created_at": "2022-06-16T16:03:27.064000+00:00",
        "attachments": []
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "another option could be to include the hashRoot of the registration",
        "created_at": "2022-06-16T16:03:27.993000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i would guess you don't want to do this in the critical path tho",
        "created_at": "2022-06-16T16:03:36.842000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah before we discuss specifics i think we should identify the root issue",
        "created_at": "2022-06-16T16:03:58.201000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "and i kind of lean towards putting this elsewhere, rather than the core proposal path",
        "created_at": "2022-06-16T16:04:15.612000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "we could demand relays have an endpoint for this and they only accept builder blocks if they match what they have",
        "created_at": "2022-06-16T16:04:32.333000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "or we table this and just work on payment proofs instead",
        "created_at": "2022-06-16T16:05:02.846000+00:00",
        "attachments": []
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think that if payment proofs specs are reasonably close to be released i'd say this not worth to spend time on. Otherwise I see the benefit to have a feedback from the builder where he sent the MEV funds, since there isn't a strong guarantee that it have used the very last version.",
        "created_at": "2022-06-16T16:42:09.254000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "afaiu they are not \"close\" to being released",
        "created_at": "2022-06-16T17:36:15.365000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "do you like the idea of having relays expose this information for proposers to query?",
        "created_at": "2022-06-16T17:37:07.619000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i'd rather not change core spec types if it is just for a temporary situation",
        "created_at": "2022-06-16T17:37:20.185000+00:00",
        "attachments": []
    }
]