[
    {
        "author": "soispoke",
        "category": "Cross-layer",
        "parent": "",
        "content": "posting my last q here: might be good to look into the number of committee members, and how that affects probabilities of a large staking pool (e.g., controlling 30% of the stake) to own 50% of the committee members? After maxEB, would PTC committee members be chosen independently of their staking balance?",
        "created_at": "2024-06-07T15:05:12.807000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Before I forget: Sync committee changes (h/t \u003c@363800010518822915\u003e)  need to be added to the EIP.",
        "created_at": "2024-06-07T15:05:27.054000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I do not know who was there in the meeting wanting to discuss advantages/dissadvantages for builders to be in-protocol. I think probably \u003c@519796549279023105\u003e also asked this question earlier on in the chat. I opened the new issue with this item in the agenda: https://github.com/ethereum/pm/issues/1067\nFor people that want to have this discussion I would want that previously we think how to **actually do the off-protocol auction**. The naive \"just use MEV Boost\" doesn't cut it, that requires 2 extra hops and a full payload validation that the builders in-protocol don't have as noticed above.",
        "created_at": "2024-06-07T15:33:37.786000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Btw I actually have that as 4 extra hops in this [doc](https://hackmd.io/@ttsao/comp_epbs_timelines). (3 extra hops if it's an optimistic relayer): `builder_submit_payload_time + relayer_verify_payload_time + proposer_get_payload_time + proposer_submit_blind_block_time`\nOn top of that, you get less time because attestation cutoff 4s -\u003e 3s",
        "created_at": "2024-06-07T15:38:54.447000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e  \u003c@539495253418180618\u003e  \u003c@491624610215886849\u003e  \u003c@725415098331430932\u003e  \u003c@792822129019584562\u003e \u003c@504202741933932544\u003e  ePBS Breakout #2 Notes: https://hackmd.io/@ttsao/epbs-breakout2\nPlease double-check action items and review the summary to see if I missed anything. Thank you!",
        "created_at": "2024-06-07T16:04:30.697000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "one question, sync committee members can be duplicates, could this be true for PTC committee members too?",
        "created_at": "2024-06-07T16:06:34.159000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "It can't be duplicated. The ~~sync~~ PTC committee borrows from the beacon committee. If there's not enough in the sync committee—for example, a 512-committee size but the state only has 512 validators—the current spec will panic, but we will change it to a no-op and return an empty list",
        "created_at": "2024-06-07T16:08:13.469000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "well, some of the current EF consensus tests involve states with fewer than 512 validators",
        "created_at": "2024-06-07T16:08:54.727000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "so as long as those continue to function",
        "created_at": "2024-06-07T16:09:17.851000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah. Changing it to no-op will allow those tests to function, but it's worth thinking whether this is a good long-term solution rather than a temporary hack",
        "created_at": "2024-06-07T16:10:02.052000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah, we need to probably define the PTC size as smaller for less than minimum validators for activation. The problem is that those tests keep the large minimum validators for genesis, but have actually less in the state",
        "created_at": "2024-06-07T16:11:25.977000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "agree, it might be reasonable to simply say Ethereum needs \u003e= 512 validators at some point",
        "created_at": "2024-06-07T16:11:33.758000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "you mean the PTC comm right? not the sync comm",
        "created_at": "2024-06-07T16:11:37.472000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "including duplicates would be a graceful way to handle small nets, without panicking or returning nothing",
        "created_at": "2024-06-07T16:12:04.042000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "and then ensure the EF tests are consistent with this",
        "created_at": "2024-06-07T16:12:16.119000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "I agree that could be nicer. The trade-off is mainly in spec complexity, but we could reuse the same function we use to sample the sync committee. It's worth considering this change in the next iteration of the spec \u003c@755590043632140352\u003e",
        "created_at": "2024-06-07T16:14:41.356000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah, and in principle there's zero changes to this, I don't remember if I explicitly check that the list is unique and ordered (I think I do) but I can't think on any reason to check this. There's no changes on the penalization/rewards either, cause all it does is set the attestation bits",
        "created_at": "2024-06-07T16:27:19.782000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "you need to subtract 2 hops that anyway the in-protocol does: proposer requests bid from builder and builder returns bid to proposer",
        "created_at": "2024-06-07T17:29:58.894000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The huge difference IMO is that whomever assembles the block **needs to execute it** while in the usual in-protocol flow this is not the case",
        "created_at": "2024-06-07T17:31:06.880000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ah. You are right. My equation is wrong there. Thanks",
        "created_at": "2024-06-07T17:39:48.602000+00:00",
        "attachments": null
    }
]