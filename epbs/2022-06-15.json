[
    {
        "author": "__kasey__",
        "category": "Cross-layer",
        "parent": "",
        "content": "regarding the spec change to allow batched validator registrations, is there any defined way for the `ErrorMessage`[1] to describe which validators failed to be registered in the case of a partial failure, or should we assume any error message means the entire batch needs to be retried? \n\n[1] https://github.com/ethereum/builder-specs/blob/main/apis/builder/validators.yaml#L33",
        "created_at": "2022-06-15T00:15:14.274000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "we need to resolve that",
        "created_at": "2022-06-15T01:22:50.926000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://github.com/ethereum/builder-specs/issues/8",
        "created_at": "2022-06-15T01:23:45.192000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i can get around to a PR perhaps this weekend ‚Äî hands full with other merge stuff atm",
        "created_at": "2022-06-15T01:24:18.477000+00:00",
        "attachments": []
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "Pushed mev-boost v0.5.0 which has mandatory relay signature verification. The Docker image is also updated, with current instructions in the Readme: https://hub.docker.com/repository/docker/flashbots/mev-boost",
        "created_at": "2022-06-15T12:58:22.530000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Does anyone know which `version` we are supposed to use to sign \u0026 register the validator?  Asking because here are the domains for Ropsten:\n```\nBuilder signing domain 0x00000001d5531fd3f3906407da127817ef33c71868154c6021bdaac6866406d8\nProposer signing domain 0x000000003cfa3bacace47d41ee4e3e7f989ed9c7e3e10904d2d67b36f1fda0b5\n```\n\nThe first 4 bytes make sense.  Builder:`0x00000001` and Proposer: `0x00000000`. Why wouldn't the rest be the same? afaik it's just \n```python\nhash_tree_root(ForkData(\n        current_version=current_version,\n        genesis_validators_root=genesis_validators_root,\n    ))\n```",
        "created_at": "2022-06-15T16:43:16.218000+00:00",
        "attachments": []
    },
    {
        "author": "ruteri",
        "category": "Cross-layer",
        "parent": "",
        "content": "Builder domain uses the genesis fork while Proposer domain uses bellatrix fork version, maybe that's causing the difference?",
        "created_at": "2022-06-15T16:54:34.107000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "~~00000000~~, genesis version for signed register validator v1",
        "created_at": "2022-06-15T16:55:14.208000+00:00",
        "attachments": []
    },
    {
        "author": "ruteri",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think it should be using the actual chain's genesis fork version, not the 0s",
        "created_at": "2022-06-15T16:56:38.978000+00:00",
        "attachments": []
    },
    {
        "author": "ruteri",
        "category": "Cross-layer",
        "parent": "",
        "content": "0x80000069 for ropsten",
        "created_at": "2022-06-15T16:56:59.328000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "oh yea üëç",
        "created_at": "2022-06-15T16:57:15.198000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "basically it is the default version in compute domain part of the consensus spec",
        "created_at": "2022-06-15T16:57:41.983000+00:00",
        "attachments": []
    },
    {
        "author": "ruteri",
        "category": "Cross-layer",
        "parent": "",
        "content": "yup",
        "created_at": "2022-06-15T16:57:47.152000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "which is genesis fork version",
        "created_at": "2022-06-15T16:57:48.954000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "ah I see, thanks for the clarification, is it something we should perhaps add in the spec itself? I was reading https://github.com/ethereum/builder-specs/blob/main/specs/builder.md#signing and couldn't find where it mentions to use genesis version instead",
        "created_at": "2022-06-15T16:59:46.589000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "yea, it just refers to the consensus specs compute domain so, it also a took a bit for me to understand what to pick",
        "created_at": "2022-06-15T17:00:35.899000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "easier to just mention this upfront.",
        "created_at": "2022-06-15T17:01:02.838000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "for sure, I'll open an issue, thanks!",
        "created_at": "2022-06-15T17:01:16.446000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ah. Genesis root is 0x0 too. Interesting. I guess relays don't have to worry about the same message accidentally being valid on other networks",
        "created_at": "2022-06-15T17:23:28.441000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "there was some back and forth on this but we decided to skip versioning for now in the interest of development velocity\n\ncc \u003c@543900561460822016\u003e",
        "created_at": "2022-06-15T17:25:50.624000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i'd support adding back versioning in a later version of the builder specs",
        "created_at": "2022-06-15T17:26:03.744000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "only on mainnet is 0x0 (GENESIS_FORK_VERSION)",
        "created_at": "2022-06-15T17:26:04.574000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/beacon-chain.md#compute_domain",
        "created_at": "2022-06-15T17:26:42.366000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "it should be 32 0 bytes on all networks?",
        "created_at": "2022-06-15T17:26:48.125000+00:00",
        "attachments": []
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "genesis fork versions differ",
        "created_at": "2022-06-15T17:27:04.494000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Sorry I meant genesis validators root. Not fork version",
        "created_at": "2022-06-15T17:28:18.016000+00:00",
        "attachments": []
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "i guess genesis fork version is distinguishing enough for networks",
        "created_at": "2022-06-15T17:29:32.362000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Quick update from Prysm. We successfully simulated end-to-end with the Ropsten relay. Simulate here means register validator and *fake* propose every slot. Luckily relay doesn't check validator assignments, it has made my life easier for testing (e.g. dont have to run real validators local)\n\n```\n[2022-06-15 15:58:27]  INFO requesting https://builder-relay-ropsten.flashbots.net/eth/v1/builder/validators\n\n[2022-06-15 15:58:36]  INFO requesting https://builder-relay-ropsten.flashbots.net/eth/v1/builder/header/117593/0xcdd36647c61b7764c39536f46b10780358e39f87854d4bf882db4a57e490ef7f/0xa99a76ed7796f7be22d5b7e85deeb7c5677e88e511e0b337618f8c4eb61349b4bf2d153f649f7b53359fe8b94a38e44c\n[2022-06-15 15:58:36]  INFO rpc/validator: Received block root with header 0x4176af0564b4\n\n[2022-06-15 15:58:36]  INFO requesting https://builder-relay-ropsten.flashbots.net/eth/v1/builder/blinded_blocks\n[2022-06-15 15:58:36]  INFO rpc/validator: Received block root with payload 0x4176af0564b4\n[2022-06-15 15:58:36]  INFO rpc/validator: Revealed Tx count: 22\n```",
        "created_at": "2022-06-15T23:04:15.660000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@861612909854588938\u003e \u003c@388610194608750595\u003e I occasionally see `{\"code\":400,\"message\":\"unknown payload\"}` for `getHeader`. Any idea what could be the reasons?",
        "created_at": "2022-06-15T23:05:45.708000+00:00",
        "attachments": []
    }
]