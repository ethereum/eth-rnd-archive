[
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "What's the staking requirement for builders? I don't see it mentioned anywhere in the spec except needing a deposit to switch to builder credentials. Maybe `MIN_BUILDER_BALANCE` mentioned [here](https://github.com/ethereum/consensus-specs/blob/96da1f0f3646f20538d461eafb07f93694c8f3a1/specs/_features/eip7732/p2p-interface.md?plain=1#L258) ?",
        "created_at": "2025-07-25T00:29:09.069000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "I thought having 0x03 meant you werenâ€™t constrained by the zero value check, at least that's how the spec is written today\n\nBut thinking more about it, you're right, it doesn't make sense to have a nonzero value when the builder index equals the proposer index, so we should just enforce that in the STF. I can open a PR to fix it now",
        "created_at": "2025-07-25T00:35:45.541000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "in this section: https://github.com/ethereum/consensus-specs/blob/master/specs/_features/eip7732/builder.md#becoming-a-builder, I mentioned at least `MIN_DEPOSIT_AMOUNT`, lmk if that's not clear / how I can be more clear",
        "created_at": "2025-07-25T00:38:03.382000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Right, that's the 1ETH that is needed to submit the deposit to switch to builder credentials. There is no staking requirement for builder as long as builder's balance is greater than `MIN_ACTIVATION_BALANCE` and have enough balance to cover bid amount when bidding.",
        "created_at": "2025-07-25T01:02:53.990000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "builder needs to be active, so it does need `effective_balance \u003e= MIN_ACTIVATION_BALANCE`, I think this part is missing to be specified in the spec somewhere",
        "created_at": "2025-07-25T01:27:43.342000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/pull/4464 cc \u003c@755590043632140352\u003e",
        "created_at": "2025-07-25T02:00:54.057000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "continuing from yesterday, I think this is a bug in the specs:\nhttps://github.com/ethereum/consensus-specs/pull/4465",
        "created_at": "2025-07-25T05:24:32.405000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "Can we have builder's EB capped at `MIN_ACTIVATION_BALANCE` and keep them out of the rewards skimming loop to allow for large balances? I think this could be easier to implement than keep builders completely out of the total active balance. 0x03 will have to use partial withdrawals to withdraw their balances",
        "created_at": "2025-07-25T08:14:00.272000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "I agree, the assumption is that the adversary is at most 20% and so 40% must have been timely, regardless of whether they land on chain in the next slot. Only counting timely_head votes means that whenever a payload is missing and the next slot is also missed, the payment is not processed",
        "created_at": "2025-07-25T08:58:26.317000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "It is very contrived of an attack to not include and withhold a Payload though: the payment is always processed when the Payload is",
        "created_at": "2025-07-25T09:59:48.338000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is the discussion above: having builders with thousands of ETH staked and not earning rewards is unfair and expensive to builders",
        "created_at": "2025-07-25T10:00:55.739000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Why does it need to be specified? They are normal validators",
        "created_at": "2025-07-25T10:01:33.752000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Timely head was a cheap way of guaranteeing the right vote. I'll open the alternative tomorrow (flying today) which in fact shouldn't be more expensive",
        "created_at": "2025-07-25T10:07:45.716000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "Doesn't have to be an attack necessarily",
        "created_at": "2025-07-25T10:39:59.796000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Well it is in the form of bribing the next proposer to not include attestations. But yeah it needs to be fixed. Will think of a better way, I was prematurely optimizing getting a root and avoiding root checks",
        "created_at": "2025-07-25T10:43:24.741000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "the next slot could also just be missed",
        "created_at": "2025-07-25T10:45:43.073000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes definitely the situation would be a timely block with an untimely reorged payload followed by a missed block and the builder will avoid payment in this case",
        "created_at": "2025-07-25T10:50:58.144000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I was also misled by the fact that the attestations from the missed slot will have the timely head flag and the right root, but these are from the wrong slot",
        "created_at": "2025-07-25T10:53:46.684000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "My PR fixes it, afaict. I'm still not a fan of this mechanism. It's overly complicated.",
        "created_at": "2025-07-25T11:00:42.844000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Oh you opened a PR?",
        "created_at": "2025-07-25T11:03:34.404000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Reading it \u003c@792404665068158998\u003e, isn't the check for same Payload redundant? I thought we assert index is zero for same slot attestation processing",
        "created_at": "2025-07-25T11:09:51.384000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Reading in a cell is a pain",
        "created_at": "2025-07-25T11:09:57.239000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is the discussion above: having",
        "created_at": "2025-07-25T11:14:28.618000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "I was thinking about the following attack scenario and would love to hear peoples' thoughts:\nhttps://hackmd.io/@Nerolation/BJbptyWwxx",
        "created_at": "2025-07-25T11:46:48.240000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "This doesn't work because sampling gives much better guarantees than that. You can't publish 49% of the data and get 49% of the votes",
        "created_at": "2025-07-25T11:48:29.386000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "Oh I see, didn't think about this!",
        "created_at": "2025-07-25T11:49:08.393000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think the threshold will be different for da",
        "created_at": "2025-07-25T11:49:09.596000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Anyway",
        "created_at": "2025-07-25T11:49:21.428000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Terence didn't wait for my PR to add that lol",
        "created_at": "2025-07-25T11:49:49.614000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "Like I publish 49% and would get like 10-15% of votes?",
        "created_at": "2025-07-25T11:50:02.388000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah if you publish 50% then many more than 50% will have one of their assigned columns in the missing half",
        "created_at": "2025-07-25T11:51:07.277000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "They have a coin toss on each column",
        "created_at": "2025-07-25T11:51:39.410000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Not on the total",
        "created_at": "2025-07-25T11:51:42.615000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "vice verca right. I publish 49% and only a few % will be able to fully sample from my 49% and the rest would realize that something is missing",
        "created_at": "2025-07-25T11:52:04.954000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "If you do this naively, you'd barely get any votes. If you do this in a very sophisticated way, we have a bound that says that the best you can theoretically do is about ~6-7%",
        "created_at": "2025-07-25T13:43:52.214000+00:00",
        "attachments": null
    },
    {
        "author": "nero_eth",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah this makes sense,  somehow forgot that the ptc samples instead of just checking their own columns are there.",
        "created_at": "2025-07-25T13:54:39.624000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "They check their own columns",
        "created_at": "2025-07-25T13:59:24.249000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "(just a note: checking their own columns are there *is sampling*, in the current design)",
        "created_at": "2025-07-25T13:59:32.636000+00:00",
        "attachments": null
    }
]