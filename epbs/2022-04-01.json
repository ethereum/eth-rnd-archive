[
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "Or `mev-boost` can get these parameters from `builder_preparePayload` call (if they were passed) as in Option 2 and sort out proposals which field values doesn't match. Though, I think CL should anyway have a sanity check on what `mev-boost` returns and if returned payload header is invalid CL should fallback to local EL client.",
        "created_at": "2022-04-01T06:36:17.820000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://github.com/flashbots/mev-boost/blob/main/docs/specification.md still mentions fcU, but there have been repeated proposals to remove it -- how seriously should one take step 2 there?",
        "created_at": "2022-04-01T15:16:14.886000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "the issue is that currently, the payload ID comes from fcU so.",
        "created_at": "2022-04-01T15:17:36.878000+00:00",
        "attachments": null
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "We're currently debating whether `fcU`/`preparePayload` is necessary -- what's your reasoning for keeping it (i.e. like option 2 / your comment in https://github.com/flashbots/mev-boost/issues/71 )? Seems the design would be simplified if we just remove any init call and add the parameters directly to `getPayloadHeader`, but I'm not familiar with all the details, would love to get educated ðŸ¤”",
        "created_at": "2022-04-01T16:39:07.401000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "Having `blockHash` to build a payload on top, builder will have to 1) obtain beacon block by payload's `blockHash` 2) get it's preState to read `prevRandao`. And then in the future it will have to read withdrawals and other stuff that is read from CL and is a part of execution payload build process. Also, `feeRecipient` should be communicated in advance, which can be propagated after `prepare_beacon_proposer` is made https://github.com/ethereum/beacon-APIs/pull/178",
        "created_at": "2022-04-01T17:25:02.240000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Cross-layer",
        "parent": "",
        "content": "If we have mev-boost flow independent from EE communication then probably `getPayloadHeader(parentBeaconBlockRoot: Root)` will make it easier for builder to find out which block a proposer is building on",
        "created_at": "2022-04-01T17:26:42.947000+00:00",
        "attachments": null
    }
]