[
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yep that should be the right place IMO",
        "created_at": "2022-05-26T06:09:06.333000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "added a comment in the PR",
        "created_at": "2022-05-26T06:30:48.762000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "To summarize the validations that can cause a fallback to local execution payload:\n- Bid signature validation\n- gasLimit (+/- parentGasLimit / 1024) - other particular checks wrt registered gasLimit?\n- fee recipient corresponds to our registered value\n- all assertions from https://github.com/ethereum/consensus-specs/blob/dev/specs/bellatrix/beacon-chain.md#process_execution_payload",
        "created_at": "2022-05-26T11:31:53.347000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Cross-layer",
        "parent": "",
        "content": "correct?",
        "created_at": "2022-05-26T11:33:05.468000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "it is worth pointing out that the fee recipient in the execution payload may *not* be the proposer's address\n\nthe builder bid just claims to pay the proposer some value, and they should be able to independently verify payment to that addres\n\nbut it may not be the one in the header of the execution block",
        "created_at": "2022-05-26T22:53:05.060000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "and to be clear, it is not just that the gas limit is correct wrt consensus (the +/- 1024 thing) but **also** that the gas limit moves in the direction the proposer would also do if setting for themselves",
        "created_at": "2022-05-26T22:54:10.343000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "and yup, defo needs to be a valid payload wrt consensus",
        "created_at": "2022-05-26T22:54:37.299000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "if you could *theoretically* skip the bid signature check if you don't want the accountability\n\naltho imo this is Bad and should definitely happen",
        "created_at": "2022-05-26T22:55:31.202000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "the other obvious condition is a time out bc the builder network could not get you a payload header in time",
        "created_at": "2022-05-26T22:56:02.768000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "it seems worthwhile to add an \"honest boost\" spec, \"honest relay\" spec and \"honest builder\" spec so everyone is clear on what should happen and when to abort, descore, or raise the alarm",
        "created_at": "2022-05-26T22:57:15.953000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "some of this is spec'd out in the API description which i think is not the right place for it",
        "created_at": "2022-05-26T22:57:47.387000+00:00",
        "attachments": null
    }
]