[
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Adding another item to the agenda: the gas limit in the current iteration will be set by the builder.... changing this does not seem to be obvious",
        "created_at": "2024-07-01T15:12:06.139000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "That's a good question. Adding a gas limit to the header is not ideal because the builder might have to change the block at the last moment to add or remove transactions. It may be acceptable for slot auctions if the builder is fast enough and can come up with a better estimate.\n\nAnother option is to mimic the registration endpoint. Part of me feels like we shouldn't have an endpoint just for this, but it may be the only way.\n\nThat's just RPC. What about P2P too?",
        "created_at": "2024-07-01T15:51:19.641000+00:00",
        "attachments": []
    },
    {
        "author": "poojaranjan",
        "category": "Cross-layer",
        "parent": "",
        "content": "For anyone looking for the recording of ePBS meetings, here is the link to the [playlist](https://www.youtube.com/playlist?list=PLJqWcTqh_zKHoz9dnQFGrWI_s1-8RwMhX). It is updated till ePBS meeting 3. \nThis playlist will be update for future meetings.",
        "created_at": "2024-07-01T15:52:08.664000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Thanks \u003c@642887713246150666\u003e I also added the link in the current issue and plan to copy it every two weeks",
        "created_at": "2024-07-01T15:52:51.910000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "what do you mean here: for block auction the block is already determined at the time the header is signed",
        "created_at": "2024-07-01T15:55:16.187000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Sorry. I meant adding a gas limit to the `GetHeader` request. Not `Header` itself",
        "created_at": "2024-07-01T15:56:06.744000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I left the comment in the issue with what I think it's the solution for now: add the gas limit in the header. The proposer chooses what it matches its limit.",
        "created_at": "2024-07-01T15:58:33.219000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "For P2P messages the builder just sends the current default and the proposer accepts it or not. For the Builder API the proposer can suggest one in the GetHeader request and then if the builder returns a different one the proposer can decide if it likes it or not",
        "created_at": "2024-07-01T15:59:26.809000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is a minimal change to the current EIP because it's just adding the field in the container and no checks are performed in-protocol",
        "created_at": "2024-07-01T16:00:06.690000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "The block header already has the gas limit today. Why cant we just use that?",
        "created_at": "2024-07-01T16:02:26.155000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ah sorry. We dont use the execution block header here",
        "created_at": "2024-07-01T16:02:41.115000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "So we have to add a new field. Good with me",
        "created_at": "2024-07-01T16:02:49.087000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Well, I got something wrong though, in `process_execution_payload` we need to check that the gas limit is compatible with the requested gas limit",
        "created_at": "2024-07-01T16:04:19.605000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'll actually add these changes to the PR cause they are simple and they shouldn't change any logic hopefully to the pyspec",
        "created_at": "2024-07-01T16:04:44.291000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "For the p2p spec, you probably want to add one line that is `[IGNORE] header.gas_limit \u003e config.gas_limit`",
        "created_at": "2024-07-01T16:07:17.853000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "what's the config.gas_limit?",
        "created_at": "2024-07-01T16:08:21.593000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "The gas limit you configured for your beacon node / validator to work with. Most consensus layer clients have a flag or a config field for this",
        "created_at": "2024-07-01T16:14:06.859000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ah no that would be very bad, the gas limit that you configured for your beacon should not matter at all in propagation of a header that is meant for a different proposer that may have configured a different limit",
        "created_at": "2024-07-01T16:16:01.703000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ya I immediately thought of this after I said it. I guess I am coming from the position a builder can dos a chain by submitting multiple bids using different gas limits. It's fine if we say a builder can only submit one bid, but that doesnt feel right too because different proposers may have configured a different limit",
        "created_at": "2024-07-01T16:22:18.434000+00:00",
        "attachments": []
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "But I do think constraining `header.gas_limit \u003e config.gas_limit` is worse here. And constraining builders for the # of bids it can submit is better",
        "created_at": "2024-07-01T16:23:22.406000+00:00",
        "attachments": []
    }
]