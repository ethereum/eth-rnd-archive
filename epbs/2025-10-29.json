[
    {
        "author": "stefanbratanov",
        "category": "Cross-layer",
        "parent": "",
        "content": "On that topic, I think `get_indexed_payload_attestation`should do `sorted(set(attesting_indices))` to ensure it matches the unique condition in `is_valid_indexed_payload_attestation`",
        "created_at": "2025-10-29T10:01:31.959000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The risk of splits happens if the default validator behavior would be to try to reorg late payloads. In this case there could be a consensus split if the deadline mechanism is implemented differently on different clients leading to a bug. So these bugs are minimized if the default behavior is (as I think it has to be and is specified today) that the proposer always tries to build on full. \n\nAnyway, another small issue with setting the deadlines as a function of size is that the size that matters is the compressed size over the wire, but I am not sure this size is deterministic. Doing it over the uncompressed data seems also simpler albeit less precise.",
        "created_at": "2025-10-29T18:19:00.299000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "oh no, this is actually a bug in the comment, there is no uniqueness check in `is_valid_payload_attestation`.  We should either remove that comment or sync helpers to use unique or not lists.",
        "created_at": "2025-10-29T18:25:52.528000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "interesting, noticed that (basically Nimbus either does an \"is sorted\" or \"is sorted and unique\" check, and wasn't sure what was intended there)",
        "created_at": "2025-10-29T18:29:55.628000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "well the signature will have an aggregation of all the times the same validator signed, so I think the implementation is correct, but the comment is wrong (and probably copied from `is_valid_indexed_attestation`)",
        "created_at": "2025-10-29T18:32:12.169000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/pull/4708",
        "created_at": "2025-10-29T19:33:38.238000+00:00",
        "attachments": null
    }
]