[
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "ahh super \u003c@755590043632140352\u003e , will go through the spec doc, defintely up for PoC",
        "created_at": "2024-04-10T07:26:48.134000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "great, let's aim to have some minimal code to test at the interop, even if Tim doesn't want to add a track or something like that we can have a rogue group there.  IL are the largest complexity on the EL side, we can avoid them, we can even avoid bid gossiping and just use the builder API",
        "created_at": "2024-04-10T10:49:17.921000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://tenor.com/view/aragorn-ii-elessar-sword-my-sword-lotr-gif-13928138",
        "created_at": "2024-04-10T10:54:00.779000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "ok lemme go through it, although why are IL now complex on EL side if we plan to do it like blobs",
        "created_at": "2024-04-10T11:35:29.871000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "i can probably do a lift from both ethjs and lodestar so the whole playground is ours so to speak ðŸ˜†",
        "created_at": "2024-04-10T11:36:32.171000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I mean that ILs are the **only** changes to the EL in ePBS. They are as complex as 7547. I haven't made them like blobs though, they are not required to be available for validity. I think this approach is cleaner. This doesn't have the forkchoice availability problem that we would have in 7547 because of (block, slot) voting, this is explained in that design doc as well",
        "created_at": "2024-04-10T11:43:48.689000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "Looked at the design doc a bit, so basically everything is already done on the EL side for us?",
        "created_at": "2024-04-10T11:44:56.456000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "for ePBS yes, except you need to support some new engine API calls, should be simple",
        "created_at": "2024-04-10T11:46:10.557000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "for ILs no, you need to do the same changes that you would have to do for 7547, that is record addresses, balances, etc..",
        "created_at": "2024-04-10T11:46:34.171000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "and the full PR for ePBS requires ILs... If you guys do it great, if not, we can probably just work with empty ILs at the interop",
        "created_at": "2024-04-10T11:47:09.420000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Cross-layer",
        "parent": "",
        "content": "Well I have some almost ready implementation for 7547 laying around",
        "created_at": "2024-04-10T11:47:43.912000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "oh nice",
        "created_at": "2024-04-10T11:47:50.641000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "then yes, you're ready almost lol ðŸ™‚",
        "created_at": "2024-04-10T11:47:58.382000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'll add a section to the design doc specifying more clearly the new engine API and builder API calls",
        "created_at": "2024-04-10T11:48:12.882000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "so that there's a dedicated section in that doc, instead of the file in the python spec",
        "created_at": "2024-04-10T11:48:34.817000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "well then can we can try for lodestar integration for ILs? i think we left it in between",
        "created_at": "2024-04-10T11:48:36.335000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "ok so no need to reconstruct the IL in ePBS?",
        "created_at": "2024-04-10T11:49:42.180000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "lemme go through the spec before i ask any more dumb questions lol",
        "created_at": "2024-04-10T11:50:14.487000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "no because the block with the unavailable IL will not become your head",
        "created_at": "2024-04-10T11:50:53.340000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ahhh shit! this is unheard of, I didn't know hackmd had a limit for notes! I can't add the engine API methods in full cause Hackmd tells me that the document is long enough",
        "created_at": "2024-04-10T12:01:24.411000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Is there a limit in Ethereum magicians?",
        "created_at": "2024-04-10T12:01:36.843000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I was planning on opening it there after getting some early feedback",
        "created_at": "2024-04-10T12:01:56.614000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Is anyone working on an execution spec/EIP for ePBS? I'd be happy to contribute there. I figure it should have its own EIP, separate from the inclusion list one.",
        "created_at": "2024-04-10T14:42:56.369000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think we can just reuse mostly 7547 (if there is one) only main difference is that I didn't include the signed summary in the payload, just the list of addresses",
        "created_at": "2024-04-10T15:16:07.478000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'll do a detailed audit today to see if there's more difference than IL from the execution's perspective",
        "created_at": "2024-04-10T15:55:40.174000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Will report back",
        "created_at": "2024-04-10T15:55:45.685000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Cross-layer",
        "parent": "",
        "content": "Noting down some aspects that may differ from an execution perspective. I don't believe these require a new EIP, but I want to outline them. Please fact-check me:\n\n- EIP7547 is different in ePBS\n    - The summary list consists of `ExecutionAddress` rather than `(ExecutionAddress, Nonce)` as specified in the current EIP7547 consensus spec.\n\n- Engine API changes\n    - `ExecutionPayloadV4` includes a new field inclusion list summary\n    - `PayloadAttrivutesV3` includes the inclusion list parent hash\n    - New `NewInclusionList` call to notify EL to verify inclusion list\n\n- The sequence of engine calls from CL -\u003e EL might change. Currently, a CL client calls `NewPayload`, updates its head, and then calls `FCU`. In the ePBS world, consensus and execution validations are executed in a pipeline. The new process is CL clients calling `FCU` for a valid consensus block and after update head. Then, at the 6s mark, the builder reveals an execution block, at which point the CL client will call `NewPayload`.\n\n- Special attention may be needed for `FCU` + `PayloadAttribute`. The CL client of the next slot proposer will call `FCU` + `PayloadAttribute` after processing the consensus block and updating the head. However, at that time, the execution block is not known. The outcome of the payload from `GetPayload` will be dependent on the `NewPayload` call at the 6s mark.",
        "created_at": "2024-04-10T23:33:46.267000+00:00",
        "attachments": null
    }
]