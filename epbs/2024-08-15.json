[
    {
        "author": "kboom_ro",
        "category": "Cross-layer",
        "parent": "",
        "content": "Good question, the only thing remotely related to this (to my knowledge) is builder reveal time as a metric in a CL client configurable builder scoring system. This is a proposal Potuz had for EPF and the subject was briefly brought up in breakout room #5",
        "created_at": "2024-08-15T07:34:59.629000+00:00",
        "attachments": null
    },
    {
        "author": "kboom_ro",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@363800010518822915\u003e, just realized you actually meant data to back a research post. still, in the context of RPC bids not being public, the question remains on how will proposers differentiate between builders? on what criteria? or even, should there be such a system",
        "created_at": "2024-08-15T07:40:21.604000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "In this case, it's the proposer get header time. I don't see a way getting these timing data post epbs unless builders choose to reveal them and we trust them not to manipulate such data",
        "created_at": "2024-08-15T07:49:29.583000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Wouldn't it be similar to gathering timing data for attestations? ie. deploy one or several nodes and observe them. Sure it's not as accurate as getting them via rpc pre-epbs.",
        "created_at": "2024-08-15T08:50:56.387000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think we want the get header time here. We could use the time that other nodes observe the block being released but you can't really distinguish if proposer is playing timing game or just takes a while to package rest of the block. But maybe that is good enough",
        "created_at": "2024-08-15T09:09:25.895000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e  ~~here (consensus specs) should it instead be signed execution payload envelop (than header)~~",
        "created_at": "2024-08-15T09:12:58.748000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "b94070f92b5c758d70482d1cc12929abd518c03a131cbcc93d8bf7a665222353"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "ahh scratch that, this would be an independent gossip object i guess",
        "created_at": "2024-08-15T09:14:34.744000+00:00",
        "attachments": null
    },
    {
        "author": "stefanbratanov",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e `latest_execution_payload_header=ExecutionPayloadHeader(),  # [Modified in EIP-7732]` for upgrading the state, does that mean just the new header object with everything set to zero?",
        "created_at": "2024-08-15T09:18:03.858000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "also would it be fair to say that `BlindedBeaconBlockBody` has collapsed into `BeaconBlockBody`?",
        "created_at": "2024-08-15T09:20:17.219000+00:00",
        "attachments": null
    },
    {
        "author": "stefanbratanov",
        "category": "Cross-layer",
        "parent": "",
        "content": "my understanding is that the two are the same right now aka there is no `BlindedBeaconBlockBody` concept anymore because there is no payload to blind/unblind",
        "created_at": "2024-08-15T09:21:50.063000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "do we need `    gas_limit: uint64` as part of execution payload header? as well as parent block hash and parent block root?",
        "created_at": "2024-08-15T09:29:38.517000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "(also slot)",
        "created_at": "2024-08-15T09:30:20.400000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "also it would be fair to say  that BuilderBid has now collapsed to ExecutionPayloadHeader?",
        "created_at": "2024-08-15T09:31:50.287000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yea I think so. Builders now submit bids in the form of `SignedExecutionPayloadHeader`. No new container for builder bid. I suspect `gas_limit` is used during bid submission but I'm not sure. `parent_block_hash`'s value is checked extensively in fork choice.",
        "created_at": "2024-08-15T09:46:55.974000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "hmmm because bids are also now gossiped, that would make sense, which would also make sense for parent root, slot as well",
        "created_at": "2024-08-15T09:49:45.805000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "but gas limit could be remnant of the integrated IL epbs",
        "created_at": "2024-08-15T09:51:00.262000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I am not sure right now. Take a look at the fork Python code in the last PR. I think I left everything zero and worked. The subtlety is always the blob Kzg commitments root which I don't remember if I set it to zero or to the root of the empty list. Can't check right now but will do in a bit",
        "created_at": "2024-08-15T10:43:11.785000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Gas limit is needed for the proposer to keep the right to decide it instead of the builder. The block roots are because builders may have different heads and may submit bids for different heads. The right proposer needs to pick the right bid. The slot is because of the same. This can be avoided but was a request I thought from you üôÇ",
        "created_at": "2024-08-15T10:47:15.016000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yes this is the builder's bid, we could get rid of the whole header today, there's no need for any of it in the CL",
        "created_at": "2024-08-15T10:48:36.104000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "you mean in blockbody as well? so signed execution header will have the merkle root of payload header",
        "created_at": "2024-08-15T10:49:36.523000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Oh no, it's not related to ILs, it was added later to make sure that the builders can't increase it arbitrarily",
        "created_at": "2024-08-15T10:49:54.201000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "No, just the header in the state, it's useless.",
        "created_at": "2024-08-15T10:50:52.441000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "ahh nice will think on this üëç",
        "created_at": "2024-08-15T10:52:35.030000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think I have a very strong argument for slot auctions now. Even though I tend to dislike auction mechanisms that favor the builder over the proposer, I think block auctions as currently implemented have a flaw: it may be cheaper to invalidate a block than to pay for data inclusion. The block hash in the beacon block body gives cheap DA in this case",
        "created_at": "2024-08-15T18:08:11.071000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This looks like a killer to me \u003c@486501030046203915\u003e you may want to add it to the tracker",
        "created_at": "2024-08-15T18:12:54.524000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "slot auction meaning: accepting bid without execution payload hash?",
        "created_at": "2024-08-15T18:14:36.426000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Not committing to a particular hash nor Kzg commitments nor any info over the current Payload",
        "created_at": "2024-08-15T18:20:50.134000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm adding this for the agenda for tomorrow. Also I think the engine API becomes simpler since it doesn't require another roundtrip to get the header.. cc \u003c@363800010518822915\u003e sorry you already implemented this",
        "created_at": "2024-08-15T18:36:06.500000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "that is probably interesting because it gives builder more time to build a more valuable block",
        "created_at": "2024-08-15T18:37:21.471000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "It has a bunch of known tradeoffs",
        "created_at": "2024-08-15T18:38:34.022000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "no one will serve an invalid block though, but the fact that block hash exists on chain and can be proven consensus is good enough for free DA I suppose. \n\nI dont understand how \"it's cheaper\", the payment is processed through consensus so at that point the builder has already paid the proposer for invalid block hash to be proven on chain",
        "created_at": "2024-08-15T19:01:55.701000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "builder is saving tx fees of the tx submitters and can take some kickbacks from them to do this which could be some multiple of the bid",
        "created_at": "2024-08-15T19:03:19.832000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Ah ok so it is this https://discord.com/channels/595666850260713488/874767108809031740/1262091478814167162",
        "created_at": "2024-08-15T19:17:11.939000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's an edge case about the cost of putting 32 bytes on chain",
        "created_at": "2024-08-15T19:17:31.644000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Nothing more",
        "created_at": "2024-08-15T19:17:40.671000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah I think that's a solid reason to move to SA and it's better we do it sooner than later",
        "created_at": "2024-08-15T19:26:42.035000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Oh no I kinda think it's mild",
        "created_at": "2024-08-15T19:29:19.055000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's always cheap to put 32 bytes in memory",
        "created_at": "2024-08-15T19:29:38.403000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "So shouldn't tip much the scale, I got carried away above with words like strong or killer, but yeah it has to be taken into account",
        "created_at": "2024-08-15T19:30:20.740000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "It's a bit stronger than 32 bytes cause you guarantee that the data is available",
        "created_at": "2024-08-15T19:31:19.578000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "The PTC will give it a boost",
        "created_at": "2024-08-15T19:31:28.057000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "So you can prove that the data was available to all nodes with that hash",
        "created_at": "2024-08-15T19:32:04.357000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Probably good enough to do a rollup",
        "created_at": "2024-08-15T19:32:29.356000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e sorry i missed it this morning -- can you explain or link to more information around how EIP-7732 would impact transaction inclusion from the mempool under this EIP's block production?",
        "created_at": "2024-08-15T23:38:56.707000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Today if you send a transaction at any time, that transaction can be included in the very next block right after that time this gives 12 seconds maximum for your transaction to be included if it pays the fees and is not censored. With block auctions, if you send a transaction after the CL block for slot `N`  has been revealed, even though this is before the payload for that slot has been revealed, your transaction can only be included in the next payload (because this payload for `N` has already been commited) this gives an 18 seconds maximum for a transaction to be included in theory.",
        "created_at": "2024-08-15T23:43:15.316000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "If we go with slot auctions (which seems probable as we keep finding advantages for it) then this is a non-issue",
        "created_at": "2024-08-15T23:44:18.873000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "ah gotcha -- just that the sub-slot timings could lead to increased inclusion latency\n\nthanks",
        "created_at": "2024-08-15T23:51:48.034000+00:00",
        "attachments": null
    }
]