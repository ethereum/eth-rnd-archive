[
    {
        "author": "g11tech",
        "category": "Cross-layer",
        "parent": "",
        "content": "o awesome! thank you ðŸ™‚",
        "created_at": "2022-07-21T05:42:03.342000+00:00",
        "attachments": null
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "yes, that's how the Flashbots relay works",
        "created_at": "2022-07-21T08:41:12.168000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "How typical should 204 be?\n\u003e {\"lvl\":\"DBG\",\"ts\":\"2022-07-21 11:41:48.404+00:00\",\"msg\":\"Got REST response headers from remote server\",\"status\":204,\"http_method\":\"GET\",\"remote\":\"builder-relay-sepolia.flashbots.net:443\",\"request\":\"/eth/v1/builder/header/222509/0x1c6e238bf52c2c6035afcfc0dbc938166e39208cd0c2232fd8de2aa01eab3044/0x952cf6782b0ad3e85625391cc5f486a16bb5b1f8ea20defcb6857bd7d068dcd2701bc7ed5c3b773a869180d9042f772b\",\"connection\":\"5\"}\n\nOf course, it can happen, but e.g., https://sepolia.beaconcha.in/block/222509  and https://sepolia.beaconcha.in/block/222507 (508 was not proposed, apparently) shows that it seems to have been asking for the correct parent hash",
        "created_at": "2022-07-21T11:45:43.166000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "and the local EL was able to build with it fine",
        "created_at": "2022-07-21T11:45:53.374000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "again a few slots later:\n\u003e {\"lvl\":\"DBG\",\"ts\":\"2022-07-21 11:43:36.166+00:00\",\"msg\":\"Got REST response headers from remote server\",\"status\":204,\"http_method\":\"GET\",\"remote\":\"builder-relay-sepolia.flashbots.net:443\",\"request\":\"/eth/v1/builder/header/222518/0x4f20afbd36a387c863b60de348710def4f3d890c088e244ac684a843f1de3e01/0x96aee5be8da3c75413e7ab87913a286fe497b7c86e7b943b1fd62e8ed191746bb91ee5c35e81b411e78358eea99dfba0\",\"connection\":\"6\"}\n\nsame story (https://sepolia.beaconcha.in/block/222518 with 516 and 517 missed according to beaconcha.in, then  https://sepolia.beaconcha.in/block/222515 being consistent with that)",
        "created_at": "2022-07-21T11:48:24.386000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "(will stop spamming, the point is, it's not a one-off, but a typical case)",
        "created_at": "2022-07-21T11:48:46.443000+00:00",
        "attachments": null
    },
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "we just investigated... the reason for no blocks there is that the beacon node on this instance skipped these slots, both on fCU and on the events subscription. we did deliver a payload for slots 222503 and 222516, but if we don't get a slot update then the builder doesn't build. you can see that the slots just before were empty in https://sepolia.beaconcha.in/block/222506 and https://sepolia.beaconcha.in/block/222508\n\nwe're running lighthouse as BN for sepolia, and it seems to be a limitation that it doesn't send out slot notifications on missed blocks.\n\nshouldn't the BN still send a slot event, even if there's no block? cc/ \u003c@607055410104500244\u003e \u003c@363800010518822915\u003e \u003c@654267572107083777\u003e",
        "created_at": "2022-07-21T12:38:47.049000+00:00",
        "attachments": null
    },
    {
        "author": "ruteri",
        "category": "Cross-layer",
        "parent": "",
        "content": "I deployed lighthouse with a patch forcing the behaviour we want on sepolia and ropsten, \u003c@654267572107083777\u003e the missed slots there should be more rare now",
        "created_at": "2022-07-21T14:18:25.623000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Cross-layer",
        "parent": "",
        "content": "There is no slot event, only the block event.  Teku used to send out an artifical slot event after 4 seconds if a block hadn't arrived if I remember correctly, but it stopped doing that a while back.",
        "created_at": "2022-07-21T14:20:37.026000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Cross-layer",
        "parent": "",
        "content": "That was a `head` event I believe and yeah it stopped quite a while back.",
        "created_at": "2022-07-21T14:23:35.510000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003e {\"lvl\":\"NOT\",\"ts\":\"2022-07-21 16:12:12.934+00:00\",\"msg\":\"Block proposed (MEV)\",\"topics\":\"beacval\",\"blockRoot\":\"135e0d5b\",\"blck\":{\"blck\":{\"slot\":223861,\"proposer_index\":647,\"parent_root\":\"83d6b35f\",\"state_root\":\"c2acf7cd\",\"eth1data\":{\"deposit_root\":\"9df92d765b5aa041fd4bbe8d5878eb89290efa78e444c1a603eecfae2ea05fa4\",\"deposit_count\":403,\"block_hash\":\"6bea4c0af0e510c9bf0893c2fda7957550d29874a551137ebe687990f53b7879\"},\"graffiti\":\"Nimbus/v22.6.1-038bd4-stateofus\",\"proposer_slashings_len\":0,\"attester_slashings_len\":0,\"attestations_len\":2,\"deposits_len\":0,\"voluntary_exits_len\":0,\"sync_committee_participants\":350},\"signature\":\"a19ebadc\"},\"signature\":\"a19ebadc\",\"validator\":\"942bee9e\"}\n\nhttps://sepolia.beaconcha.in/block/223861 Nimbus MEV block",
        "created_at": "2022-07-21T16:14:55.015000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Cross-layer",
        "parent": "",
        "content": "lot of 0 Gwei transactions though",
        "created_at": "2022-07-21T16:16:19.278000+00:00",
        "attachments": null
    },
    {
        "author": "stefanbratanov",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hi all, regarding the proposer config file format, I raised a PR - https://github.com/ethereum/builder-specs/pull/41 Would be happy to get a feedback and we can also move the discussion from https://github.com/flashbots/mev-boost/issues/154 in this PR \u003c@388610194608750595\u003e",
        "created_at": "2022-07-21T17:24:24.834000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Cross-layer",
        "parent": "",
        "content": "Somewhat random question, but this issue here about invalid tx payloads (https://discord.com/channels/595666850260713488/910910348922589184/999695855743418458) got me thinking: does the relay \"simulate txs\" in some way before propagating them to the block builders?  For example, if a searcher submits an EIP-1559 tx with the wrong chain id (as in the above example) at what stage do we expect that to be dropped?  Is it reasonable to expect relays to exclude obviously invalid txs like this, or is it reasonable to expect invalid txs to make it to the block builders?  \n\nWhich layer(s) are/should be doing non-trivial filtering of txs?  My guess is the proper answer is \"at as many layers as possible\" but curious what others think?",
        "created_at": "2022-07-21T21:42:49.051000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "you should imagine a one way flow of data:\n\n{users, searchers} -\u003e builders -\u003e relay -\u003e proposers",
        "created_at": "2022-07-21T23:14:42.486000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "each stage should validate the inputs of the stage befoer it",
        "created_at": "2022-07-21T23:14:51.344000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "we should do what we can to construct incentives such that there is penalty for failing to do so",
        "created_at": "2022-07-21T23:15:09.518000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "so in the short term, honest relays will *only* provide blocks from builders that are valid",
        "created_at": "2022-07-21T23:15:37.190000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i'd have to look at the example but it sounds like that should not even propagate into the mempool",
        "created_at": "2022-07-21T23:16:11.213000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "and if there is any \"private mempool\" at play it should do the same filtering",
        "created_at": "2022-07-21T23:16:22.734000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "and again, each class of actor wants to appear \"good\" to its dependency in the chain so everyone is incentivized to make sure the data they offer is valid",
        "created_at": "2022-07-21T23:16:53.904000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "if a searcher somehow got a bad txn to a builder, the builder should notice this and remove the txn -- and likely downscore/ban the searcher",
        "created_at": "2022-07-21T23:17:39.672000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003e so in the short term, honest relays will only provide blocks from builders that are valid\nThis sounds like a bad hog for the network, the builder will not send its block before being selected, and then if we on top of all the network latency that the relay/builder model adds we require that the relay actually executes the block before broadcasting I would expect a lot of the blocks to be right on the fence of the 4 seconds mark. Are you absolutely certain about that sentence that the relay will verify the validity of the block before broadcasting?",
        "created_at": "2022-07-21T23:23:37.740000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "imo they must",
        "created_at": "2022-07-21T23:25:15.868000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "builders can prepare execution payloads well ahead of time",
        "created_at": "2022-07-21T23:25:29.318000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "so the relay can have a block ready to go",
        "created_at": "2022-07-21T23:25:34.986000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003e the builder will not send its block before being selected\nthe (social) consensus model is that builders will constantly be sending the latest block",
        "created_at": "2022-07-21T23:26:18.726000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "otherwise they risk missing inclusion",
        "created_at": "2022-07-21T23:26:32.703000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "if some relay gave me an invalid block i would almost certainly never use them ever again",
        "created_at": "2022-07-21T23:27:18.727000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "modulo a very convincing post-mortem and high assurance it won't happen again",
        "created_at": "2022-07-21T23:27:40.929000+00:00",
        "attachments": null
    }
]