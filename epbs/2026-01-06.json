[
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Regarding the addition of `update_proposer_boost_root`, I wonder what happen when a sizeable portion of the network is running older release of a client or just any client that hasn't updated their proposer boost logic? So if someone publishes a random valid block on a non-canonical chain, a portion of the network will give it proposer boost, but the rest will not, any significant consequence to this?",
        "created_at": "2026-01-06T03:15:11.709000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "Lets target 1.7.0-alpha.0 for epbs-devnet-0.",
        "created_at": "2026-01-06T10:31:25.959000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Cross-layer",
        "parent": "",
        "content": "and all future spec changes will come to future devnets",
        "created_at": "2026-01-06T10:31:41.562000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "why is this? the changes to proposer boost only involve equivocations.",
        "created_at": "2026-01-06T12:13:21.386000+00:00",
        "attachments": null
    },
    {
        "author": "tomi0x",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hi \u003c@592004585506340885\u003e,  are the current fork choice spec tests updated to cover the gloas modifications?",
        "created_at": "2026-01-06T13:27:13.908000+00:00",
        "attachments": null
    },
    {
        "author": "stefanbratanov",
        "category": "Cross-layer",
        "parent": "",
        "content": "Looks like it failed at the end when uploading the tarballs üò¨",
        "created_at": "2026-01-06T13:44:40.902000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah easy fix. Not sure what happened there ü§∑‚Äç‚ôÇÔ∏è",
        "created_at": "2026-01-06T13:46:27.791000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/releases/tag/v1.7.0-alpha.0",
        "created_at": "2026-01-06T13:46:33.293000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "It uploaded the tarballs to a new release with the same name. So I just downloaded \u0026 re-uploaded to the correct one.",
        "created_at": "2026-01-06T13:47:25.768000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is a hard job. Will take time. Terence has a list of cases and is working on it. I believe with Misha and Francesco",
        "created_at": "2026-01-06T13:50:00.144000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "There is the phase0 change of only updating proposer boost root for blocks from the expected proposer. We could not do that change retroactively in phase0, and just do it in the gloas spec, so there's no issue with clients doing different things",
        "created_at": "2026-01-06T15:40:03.724000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "So can I implement that phase0 change for fulu now or I need to hold that off until gloas is live?",
        "created_at": "2026-01-06T15:41:57.187000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "how is this not on an equivocation?",
        "created_at": "2026-01-06T15:45:13.952000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "If the block is not from the expected proposer, it is not an equivocation, it's just a block from a divergent branch",
        "created_at": "2026-01-06T15:46:17.752000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah but we can't sync it until we know it's the expected proposer in the branch",
        "created_at": "2026-01-06T15:46:45.441000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "let me check the change",
        "created_at": "2026-01-06T15:46:52.569000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "it is the expected proposer in its own branch, just not on the canonical branch",
        "created_at": "2026-01-06T15:47:13.392000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "ahh this is head_state that you're comparing now",
        "created_at": "2026-01-06T15:47:38.240000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah, that may cause some issue if a large percentage of the chain is not updated and we aren't finalizing",
        "created_at": "2026-01-06T15:47:58.876000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "and forked",
        "created_at": "2026-01-06T15:48:05.293000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "even if we are finalizing, it can be an attack, just extending a block from epoch N in epoch N+2, before epoch N+1 is finalized",
        "created_at": "2026-01-06T15:48:40.071000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah, I keep saying that we should ignore blocks not descending from justified checkpoint on gossip and only sync them on RPC",
        "created_at": "2026-01-06T15:50:38.641000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "But if we're finalizing I think that attack doesn't exist just by numbers actually",
        "created_at": "2026-01-06T15:51:17.919000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I will need to run the numbers, but it's hard to be finalizing regularly, that is the start of N+1 is already justified in N+2 and the start of N be finalized, and then have a branch that 40% of the committee will be larger than the remaining onchain vote on the canonical head",
        "created_at": "2026-01-06T15:52:16.178000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "anyway, casing this on a fork seems ok to me, we have the block when we are applying this so I don't mind adding this extra check.",
        "created_at": "2026-01-06T15:53:01.702000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "Also don't mind leaving it at phase0",
        "created_at": "2026-01-06T15:53:13.231000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "All in all I think the same kind of attack can apply regardless, e.g. in the status quo you can release such an old block in such a way that half of the network sees it before the real block and half sees it after, or something like that. It takes a bit more work but ends up being equivalent to 50% of the network running an updated client and releasing the block early (half will set proposer boost root, half won't)",
        "created_at": "2026-01-06T15:53:19.036000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Cross-layer",
        "parent": "",
        "content": "so idk, I think I'd go with whatever is easiest",
        "created_at": "2026-01-06T15:54:15.362000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "\u003c@592004585506340885\u003e Sounds like this is backward incompatible. Any concern about leaving this at phase0? Or should we revert the change from phase0-fulu and all change should be in gloas spec?",
        "created_at": "2026-01-06T15:57:09.371000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "A comment on this that is not directly related. But PB was included in principle to prevent staircase attacks. But if we are split like this for long enough that the shuffle is different in both branches. Doesn't this rule remove entirely PB effect with regards to this attack? That is. In the short term it helps prevent setting it up (although we know it doesn't much) but if it's already split for whatever reason, PB won't help fix it right?",
        "created_at": "2026-01-06T15:59:41.838000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "We have plenty of phase0 backported changes in fork choice, what's the problem?",
        "created_at": "2026-01-06T16:00:29.221000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Cross-layer",
        "parent": "",
        "content": "Usually backported changes won't cause issue to the network and thus clients can implement and release the change any time they want. But this change can cause issue, so we need some synchronization",
        "created_at": "2026-01-06T16:04:16.862000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I don't think this requires synchronization at all",
        "created_at": "2026-01-06T16:05:03.704000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "I think this is only theoretical",
        "created_at": "2026-01-06T16:05:12.211000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "But it's easy to case it to Gloas so I don't mind",
        "created_at": "2026-01-06T16:05:42.312000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Cross-layer",
        "parent": "",
        "content": "And it's not urgent at all to ship it either",
        "created_at": "2026-01-06T16:05:55.459000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "Yeah I'm not 100% sure if this requires coordination or not. I don't believe it does. I'll leave it up to Francesco \u0026 Potuz.",
        "created_at": "2026-01-06T16:08:21.001000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Cross-layer",
        "parent": "",
        "content": "For those implementing v1.7.0-alpha.0, please see this: https://discord.com/channels/595666850260713488/1458104535695495282/1458165991526760492",
        "created_at": "2026-01-06T18:57:20.843000+00:00",
        "attachments": null
    }
]