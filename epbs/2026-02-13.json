[
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "<@520034910149410861> I opened this as draft I don't remember if we discussed this or not https://github.com/ethereum/consensus-specs/pull/4918. \nI don't really know if this makes things worse or not. On the one hand it makes it simpler to reason for us to get attestations for known forkchoice statuses. On the other hand these attestations are useful to discern between two different consensus blocks branches, even if we do not know the payload status. \n\nPerhaps this PR makes things strictly worse by losing those votes, but wanted to raise this none-the-less before I refactor our code to be able to count these without knowing the payload status.",
    "created_at": "2026-02-13T09:06:58.594000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "But for Prysm it would be **a lot** simpler to ignore these attestations. The reason is that we keep track of the \"balance\" that voted for each node directly in the node, and then we propagate back to the ancestry these balances to compute the *weight* in the usual spec meaning. If we have to count these attestations we would have to do a deep change since there's no node to add to this \"balance\"",
    "created_at": "2026-02-13T10:15:49.923000+00:00",
    "attachments": []
  },
  {
    "author": "stefanbratanov",
    "category": "Cross-layer",
    "parent": "",
    "content": "<@412614104222531604> for Dora to run in Gloas, do you reckon we should at least have `/eth/v1/beacon/execution_payload_envelope/{block_id}` beacon API or some of the event streams (https://github.com/ethereum/beacon-APIs/blob/e25942758161fe82009a20f2d3b1868e0ff611d8/apis/eventstream/index.yaml#L42) implemented for devnet-0?",
    "created_at": "2026-02-13T12:33:25.786000+00:00",
    "attachments": []
  },
  {
    "author": "barnabasbusa",
    "category": "Cross-layer",
    "parent": "",
    "content": "<@808969530608451584>",
    "created_at": "2026-02-13T12:34:02.551000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "if so please have these merged, etc as much as possible, the collection-of-random-unmerged-PRs thing isn't really great",
    "created_at": "2026-02-13T12:37:54.058000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "like, if it's decided enough for devnet-0, it's decided enough to merge",
    "created_at": "2026-02-13T12:39:32.601000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "I feel we had solved this already for our interop didn't we <@641548687813902336> ?",
    "created_at": "2026-02-13T12:39:35.598000+00:00",
    "attachments": []
  },
  {
    "author": "pk910",
    "category": "Cross-layer",
    "parent": "",
    "content": "Dora subscribes to the `execution_payload_available` & `execution_payload_bid` events, and calls the `/eth/v1/beacon/execution_payload_envelope/{block_id}` api (by block root)",
    "created_at": "2026-02-13T12:39:37.548000+00:00",
    "attachments": []
  },
  {
    "author": "stefanbratanov",
    "category": "Cross-layer",
    "parent": "",
    "content": "I think event stream was slightly different, have to check the code, it changed quite a bit since then",
    "created_at": "2026-02-13T12:40:19.614000+00:00",
    "attachments": []
  },
  {
    "author": "stefanbratanov",
    "category": "Cross-layer",
    "parent": "",
    "content": "The Beacon API changes are merged for Gloas",
    "created_at": "2026-02-13T12:40:46.333000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "ok",
    "created_at": "2026-02-13T12:40:59.898000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "oh, because the proposal parts were removed/refactored out the last couple days",
    "created_at": "2026-02-13T12:41:27.231000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "right",
    "created_at": "2026-02-13T12:41:27.964000+00:00",
    "attachments": []
  },
  {
    "author": "barnabasbusa",
    "category": "Cross-layer",
    "parent": "",
    "content": "are you talking about dora?",
    "created_at": "2026-02-13T12:50:00.862000+00:00",
    "attachments": []
  },
  {
    "author": "barnabasbusa",
    "category": "Cross-layer",
    "parent": "",
    "content": "we won't be merging gloas features into dora's main branch till a lot later",
    "created_at": "2026-02-13T12:50:13.172000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "no, I mean consensus-specs",
    "created_at": "2026-02-13T12:50:19.502000+00:00",
    "attachments": []
  },
  {
    "author": "barnabasbusa",
    "category": "Cross-layer",
    "parent": "",
    "content": "ah right",
    "created_at": "2026-02-13T12:50:22.344000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "but it's resolved anyway, see above",
    "created_at": "2026-02-13T12:50:35.455000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "Can I get some other eyes on this? do you guys process attestations for nodes you do not know about?",
    "created_at": "2026-02-13T12:51:54.039000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "This will actually be a whole shit of a refactor for us",
    "created_at": "2026-02-13T12:52:12.159000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "no, Nimbus does not",
    "created_at": "2026-02-13T12:54:32.938000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "then how do you deal with the thing this PR is raising?",
    "created_at": "2026-02-13T12:54:53.925000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "we haven't yet, we've just started on gloas fc",
    "created_at": "2026-02-13T12:55:05.204000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "it would be ugly",
    "created_at": "2026-02-13T12:55:10.524000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "for us the weight propagation is absolutely trivial if I merge the draft PR above, and a bit of a nightmarish refactor if I don't",
    "created_at": "2026-02-13T12:55:46.478000+00:00",
    "attachments": []
  },
  {
    "author": "potuz",
    "category": "Cross-layer",
    "parent": "",
    "content": "perhaps I can hack it somehow, but I would prefer to merge that PR",
    "created_at": "2026-02-13T12:55:56.614000+00:00",
    "attachments": []
  },
  {
    "author": "tersec",
    "category": "Cross-layer",
    "parent": "",
    "content": "yes, I'm in favor of that PR too",
    "created_at": "2026-02-13T12:56:08.226000+00:00",
    "attachments": []
  },
  {
    "author": "terencechain",
    "category": "Cross-layer",
    "parent": "",
    "content": "Hello, I cant find the following line in gossip check for `beacon_block`\nWhat happens if i receive a block that i have not seen the paylaod the block built on top of\nIn that case, I will `IGNORE` and request the payload by root and may queue the block\nAre we missing that line to put in the p2p spec or i am missing something else",
    "created_at": "2026-02-13T17:06:10.129000+00:00",
    "attachments": []
  },
  {
    "author": "jtraglia",
    "category": "Cross-layer",
    "parent": "",
    "content": "You're right that such a condition does not currently exist in the spec.",
    "created_at": "2026-02-13T17:16:39.187000+00:00",
    "attachments": []
  },
  {
    "author": "jtraglia",
    "category": "Cross-layer",
    "parent": "",
    "content": "That behavior sounds correct to me, but I'm not completely certain we want to ignore it.",
    "created_at": "2026-02-13T17:17:03.478000+00:00",
    "attachments": []
  }
]