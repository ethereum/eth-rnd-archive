[
    {
        "author": "sky.cactus",
        "category": "Cross-layer",
        "parent": "",
        "content": "How does MEV Boost *today* verify that the bid block received from the relay builds on top of the block that the validator wants (and doesn't build off a different head)?",
        "created_at": "2022-11-03T15:07:38.799000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "bids are keyed by slot and EL block hash",
        "created_at": "2022-11-03T15:42:32.089000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "https://github.com/flashbots/mev-boost/blob/c4c996d35a30c916bb867921d876977d915b0441/server/utils.go#L129",
        "created_at": "2022-11-03T15:42:32.749000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "they should also be keyed by proposer pubkey imo",
        "created_at": "2022-11-03T15:42:48.962000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Cross-layer",
        "parent": "",
        "content": "This is part of consensus?  The thing the proposer signs over has the EL parent blockhash in it?",
        "created_at": "2022-11-03T15:47:44.512000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah",
        "created_at": "2022-11-03T15:47:57.207000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "but it does seem like a relay could abuse divergent proposer shufflings",
        "created_at": "2022-11-03T15:48:19.108000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Cross-layer",
        "parent": "",
        "content": "How so?",
        "created_at": "2022-11-03T15:48:26.921000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "if there is a fork across an epoch boundary, the proposer shufflings can change",
        "created_at": "2022-11-03T15:49:43.454000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "hmm",
        "created_at": "2022-11-03T15:50:47.472000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "yeah actually i don't think they can",
        "created_at": "2022-11-03T15:50:53.748000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "a proposer could grief a relay but in this case they would prolly just discard the message",
        "created_at": "2022-11-03T15:51:36.243000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "and anyone could already do this anyway by just feeding a random signed block to the relay",
        "created_at": "2022-11-03T15:52:02.148000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "mev-boost as written would not support multiplexing proposer who happen to be across such a divergence but im not sure this is a use case worth considering/supporting",
        "created_at": "2022-11-03T15:52:41.176000+00:00",
        "attachments": null
    }
]