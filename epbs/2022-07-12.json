[
    {
        "author": "metachris_",
        "category": "Cross-layer",
        "parent": "",
        "content": "Thanks for reporting these! We're currently experimenting with the relay functionality on Kiln in particular, during the relay upgrades taking place this week.",
        "created_at": "2022-07-12T11:41:20.201000+00:00",
        "attachments": null
    },
    {
        "author": "0xpanoramix",
        "category": "Cross-layer",
        "parent": "",
        "content": "Just two quick questions : I'm currently working on the implementation of the proposer configuration file in mev-boost, where should I send a formal version of this configuration and what should be the format used ?\nref: https://github.com/flashbots/mev-boost/pull/186\n\nThanks !",
        "created_at": "2022-07-12T13:35:50.275000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Would https://github.com/ethereum/builder-specs be a good place? cc \u003c@539495253418180618\u003e \u003c@543900561460822016\u003e",
        "created_at": "2022-07-12T16:30:55.803000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "yes i'd suggest making a PR to the `builder-specs` once we have figured out a config format we can all agree on",
        "created_at": "2022-07-12T16:34:16.785000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i'm not sure we need to agree on the config though",
        "created_at": "2022-07-12T16:35:44.676000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "the only reason we want to enforce conformance here is if we expect the proliferation of many consumers of this config that we all want to be interoperable",
        "created_at": "2022-07-12T16:36:20.778000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i'd just add to the existing mev-boost docs for this for now",
        "created_at": "2022-07-12T16:43:05.646000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm curious to hear how everyone is using `getStatus`. Calling before `getHeader` or polling per interval?  We currently call it before `getHeader` , `submitBlock`, and `registerValidator`. That's eating into the block proposal time by a lot. The round trip for `getStatus` is btw 100-500ms. I'm thinking to switch to polling every slot (at the 6s mark)",
        "created_at": "2022-07-12T16:57:43.520000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "would be curious to have a better idea of why the RTT is 100-500 ms",
        "created_at": "2022-07-12T17:32:09.315000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "putting that aside, i'd only use the status call as a \"liveness\" check which to me means: only call when you aren't sure about the status of the remote peer",
        "created_at": "2022-07-12T17:32:49.952000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "e.g. once on boot, and then only if you think you need to figure out what is going on",
        "created_at": "2022-07-12T17:33:08.319000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "like if you had a timeout to another call, then you could switch to a \"recovery\" mode where you are only pinging the status until you can get something good back",
        "created_at": "2022-07-12T17:33:32.546000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "not sure what it adds to keep calling with any periodicity unless there is some \"tcp keep-alive\"-like game you are playing",
        "created_at": "2022-07-12T17:34:22.743000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "I'm not sure either, I'd love to review the relay's design around this status endpoint. (e.g. how often/when do they update it, severity levels... etc) What you recommended made sense. Calling status before every request is definitely an overkill",
        "created_at": "2022-07-12T19:58:02.337000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "i think the idea is to answer the question: “is this builder/relay reachable?”\n\ni don’t think it should be overloaded with many more semantics and also should be a coarse classifier for how a caller should proceed next",
        "created_at": "2022-07-12T20:06:48.357000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Cross-layer",
        "parent": "",
        "content": "Hm. If it's meant to check reachable, I'd argue that it probably isn't required. We could just rely on normal errors. Any calls will fail fast if the endpoint is not reachable. \nOne use case I think makes sense is to \"recover\". When a client marks a relay bad and caches the result, then the client can retry the status every slot to see when healthy again",
        "created_at": "2022-07-12T21:06:40.177000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Cross-layer",
        "parent": "",
        "content": "depends on what you mean by \"normal errors\" -- aiui this endpoint was included as a \"health check\" and broadly these types of things are included in networked systems as a bit of a sanity check\n\nyou don't want to rely on the other calls bc they could have additional effects attached like \"produce a block\" or \"increase this validator's rate-limit count\"\n\nthis category of endpoint exists to have no other application semantics beyond \"return ok if you are ok\" and it helpful outside of normal app flow as well, e.g. during dev/testing, it is something you can call to make sure you are even connected properly w/o realizing the aforementioned side effects",
        "created_at": "2022-07-12T22:38:58.408000+00:00",
        "attachments": null
    }
]