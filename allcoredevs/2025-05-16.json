[
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "# Discussion on BPO parameters\nWe are having a long discussion on how to specify the BPO parameters in the genesis configuration in a thread in #interop.\nI would like to pull out the discussion from there to here to get more input and it would be good to make a decision on monday.\nThere are as I see it two ways of specifying the BPOs on the EL.\nYou can either specify them as normal hardforks or you can specify them in a new special format.\n\nWhat follows is my opinion on this topic:\nI think we should specify them as normal hardforks.\n\nThe benefit of a new special format is that we can specify 10/50/100 bpos on a chain, while specifying them as normal hardforks limits us to a predifined number of forks (currently 5).\nI doubt that there are cases where it would be important to specify more than 5 BPOs on a chain, and we could update that number pretty quickly.\n\nAdding a new format would create another source of bugs where we have essentially hardforks but specified in a different format.\nBPOs require a client release anyway since this is the only true and tested way that we have ever updated the chain.\nUsers know how to download a new release, they don't know how to specify new command line parameters or update a chain config.\n\nSince BPOs are hardforks, we also need to update the forkid in order to distinguish between updated and non-updated nodes on the network.\nSo the new mechanism would also need to be able to update the forkid, which again creates another source of potential bugs.\n\nIf we specify them as normal hardforks, we can also use our existing testing infrastructure for hardforks instead of needing to write new custom build code.\n\nAll in all, I feel the benefit of scheduling arbitrary many BPOs without updating the client does not outweigh the cost and risks.\nEspecially since this proposal benefits solely the testing teams that want to schedule more than X BPOs. \nWe can always update X if we feel that testing teams need more BPOs to work with (which I doubt).",
        "created_at": "2025-05-16T11:12:51.226000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@519796549279023105\u003e \u003c@277500722655002624\u003e \u003c@412614104222531604\u003e \u003c@199561711278227457\u003e \u003c@892053833121923094\u003e \u003c@543900561460822016\u003e",
        "created_at": "2025-05-16T11:13:40.772000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "Just to clarify Marius's point the proposed geth/ethereumjs/besu/reth/erigon/nimbusel genesis format looks like:\n\n```json\n \"cancunTime\": 0,\n    \"blobSchedule\": {\n      \"cancun\": {\n        \"target\": 3,\n        \"max\": 6,\n        \"baseFeeUpdateFraction\": 3338477\n      },\n      \"prague\": {\n        \"target\": 6,\n        \"max\": 9,\n        \"baseFeeUpdateFraction\": 5007716\n      },\n      \"osaka\": {\n        \"target\": 6,\n        \"max\": 9,\n        \"baseFeeUpdateFraction\": 5007716\n      },\n      \"bpo1\": {\n        \"target\": 6,\n        \"max\": 9,\n        \"baseFeeUpdateFraction\": 5007716\n      },\n      \"bpo2\": {\n        \"target\": 12,\n        \"max\": 18,\n        \"baseFeeUpdateFraction\": 5007716\n      },\n      \"bpo3\": {\n        \"target\": 6,\n        \"max\": 9,\n        \"baseFeeUpdateFraction\": 5007716\n      },\n      \"bpo4\": {\n        \"target\": 12,\n        \"max\": 18,\n        \"baseFeeUpdateFraction\": 5007716\n      },\n      \"bpo5\": {\n        \"target\": 6,\n        \"max\": 9,\n        \"baseFeeUpdateFraction\": 5007716\n      }\n    },\n    \"depositContractAddress\": \"0x00000000219ab540356cBB839Cbe05303d7705Fa\",\n    \"pragueTime\": 0,\n    \"osakaTime\": 1747387400,\n    \"bpo1Time\": 1747387400,\n    \"bpo2Time\": 1747387784,\n    \"bpo3Time\": 1747388168,\n    \"bpo4Time\": 1747388552,\n    \"bpo5Time\": 1747388936\n  },\n```",
        "created_at": "2025-05-16T11:28:52.758000+00:00",
        "attachments": null
    },
    {
        "author": "closer__",
        "category": "general",
        "parent": "",
        "content": "given Marius's correct comment regarding the necessity of changing fork id, i now struggle to understand how BPOs are anything other but regular hardforks for which we have a handshake agreement to only include blob schedule changes",
        "created_at": "2025-05-16T13:12:50.136000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "general",
        "parent": "",
        "content": "right. and the only way to reverse that would be to remove baseFeeUpdateFraction from the schedule.",
        "created_at": "2025-05-16T13:14:51.412000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "While this is true for the EL, its more of a type of fork for the CLs. They dont need to have a lot of boilerplate code thats needed for traditional forks.",
        "created_at": "2025-05-16T13:15:24.043000+00:00",
        "attachments": null
    },
    {
        "author": "closer__",
        "category": "general",
        "parent": "",
        "content": "could CL devs confirm that this is indeed the case and it's fine for the CL client to peer with another CL which might not have gone through the scheduled BPO? (in EL this is mitigated by fork ids [EIP-2124](https://github.com/ethereum/EIPs/blob/master/EIPS/eip-2124.md))",
        "created_at": "2025-05-16T13:17:12.051000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "this is the discussion we are having here: https://discord.com/channels/595666850260713488/1360292816235925605/1372920613525524521",
        "created_at": "2025-05-16T13:18:42.364000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "One more thing that we should probably keep in mind is how we are going to do shadowforks going forward.",
        "created_at": "2025-05-16T13:46:17.983000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "general",
        "parent": "",
        "content": "If a new format is created hopefully yaml is used so the EL/CL are more aligned üôè in that regard",
        "created_at": "2025-05-16T13:50:27.601000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "why would shadowforks make a difference? they're just a regular devnet with the EL state inherited",
        "created_at": "2025-05-16T13:53:42.634000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "we gonna need a bpo_1_override I guess too?",
        "created_at": "2025-05-16T14:04:27.339000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Yeah either that or we just set the next bpo value",
        "created_at": "2025-05-16T14:13:13.304000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "the more artificial/contrived things shadowforks need to do the less realistic they are",
        "created_at": "2025-05-16T14:14:56.684000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "general",
        "parent": "",
        "content": "what's this? is this kurtosis specific?",
        "created_at": "2025-05-16T14:27:01.450000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "no, but on a shadowfork we wanna be able to activate some flag ahead of its actual scheduled fork",
        "created_at": "2025-05-16T14:27:42.124000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "what's the difference between using an \"override\" BPO and changing the BPO schedule?",
        "created_at": "2025-05-16T14:47:10.778000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "for shadowfork purposes",
        "created_at": "2025-05-16T14:47:18.862000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "general",
        "parent": "",
        "content": "i've found 3 recent EIPs that all have to do with genesis configs, and none of them can cite a parent EIP that defines the genesis config, there doesn't seem to be one.\n\nhas the time come to (at least informationally) EIP the genesis?",
        "created_at": "2025-05-16T15:32:34.194000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "general",
        "parent": "",
        "content": "https://eips.ethereum.org/EIPS/eip-7840\nhttps://eips.ethereum.org/EIPS/eip-7892\nhttps://eips.ethereum.org/EIPS/eip-7910\n\nall seem to be relevant, and impact forkIds in some ways which feels like they belong under consensus enough to be specified.",
        "created_at": "2025-05-16T15:34:45.524000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "Let's spec genesis as EIP üôÇ Seems like we should have done this long ago üôÇ",
        "created_at": "2025-05-16T15:43:12.247000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "general",
        "parent": "",
        "content": "I'm willing to do so if others client teams will find it useful. likely just to codify geths format",
        "created_at": "2025-05-16T15:43:49.629000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "I'd like to have this as EIP so we have it specced, especially now we have EIPs modifying the genesis file, which is not specced by EIPs and therefore not self-contained by EIPs",
        "created_at": "2025-05-16T15:44:31.485000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "If you want help on the draft let me know, would love to help out on this one üòÑ",
        "created_at": "2025-05-16T15:45:07.912000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "We can then link genesis-modifying EIPs to the genesis spec EIP",
        "created_at": "2025-05-16T15:45:26.794000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "is it time to also have besu on the geth format? üòÑ",
        "created_at": "2025-05-16T20:02:19.021000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "ACDC #157 summary posted https://ethereum-magicians.org/t/all-core-devs-consensus-acdc-157-may-15-2025/23980/5",
        "created_at": "2025-05-16T21:56:40.633000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "Action items\n* Congrats again to everyone for a successful Pectra upgrade üéâ \n* Continue work towards `fusaka-devnet-0`\n  * To be launched 26 May",
        "created_at": "2025-05-16T21:57:24.388000+00:00",
        "attachments": null
    }
]