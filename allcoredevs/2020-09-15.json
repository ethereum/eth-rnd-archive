[
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "\u003e Is it easier than requesting the txHash? I understand it is potentially more flexible but in practice, seems a lot cheaper (in terms of coreDev time and potentially gas) to simply have an opcode to export all aspects of the transaction, including the txHash.",
        "created_at": "2020-09-15T08:18:51.088000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "You mean just the *current* transaction hash here, right?",
        "created_at": "2020-09-15T08:19:00.475000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "The main risk I see with that is that it would make it more difficult for us to change transaction formats around",
        "created_at": "2020-09-15T08:19:19.119000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "eg. there's been a push recently to try to move toward SSZ",
        "created_at": "2020-09-15T08:19:31.115000+00:00",
        "attachments": null
    },
    {
        "author": "guthl_starkware",
        "category": "general",
        "parent": "",
        "content": "I do mean the current transaction. \nToday, out of the current transaction, I can get \n- gas price\n- to\n- value in wei\n- data\nI cannot get \n- nonce\n- gas limit\n- ecdsaV\n- ecdsaR\n- txHash\n\nAt the exception of gas limit, those information should remain in any new version. \nEven in the case of nonce being removed, one could simply set the returning value to -1 to address this edge caze.",
        "created_at": "2020-09-15T08:58:43.125000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!619138323776012307\u003e Everything you listed is part of a transaction.  If your tool isn't giving it to you that is a problem with your tool I think.",
        "created_at": "2020-09-15T09:02:35.644000+00:00",
        "attachments": null
    },
    {
        "author": "guthl_starkware",
        "category": "general",
        "parent": "",
        "content": "My point is that \n- nonce\n- ecdsaV\n- ecdsaR\n- txHash\nwill be part of any new version of transaction structure and should be accessible to the EVM.\nToday, every user refers to the transaction by its txHash. So, if I want to condition something on a transaction, the natural identifier is the txHash",
        "created_at": "2020-09-15T09:07:43.810000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ah, I see.  You want all that info available from within the EVM.",
        "created_at": "2020-09-15T09:10:14.595000+00:00",
        "attachments": null
    },
    {
        "author": "guthl_starkware",
        "category": "general",
        "parent": "",
        "content": "Yes. Vitalik point is that it could make migration to a new transaction format harder to which I agree. This is why access gas limit is contentious.\nBut we will always have a signature and we will always have a txHash.",
        "created_at": "2020-09-15T09:27:20.174000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "my concern is basically, imagine we move to SSZ serialization",
        "created_at": "2020-09-15T09:35:52.973000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "then the hash of a tx would be different, even if the contents are the same",
        "created_at": "2020-09-15T09:36:07.449000+00:00",
        "attachments": null
    },
    {
        "author": "guthl_starkware",
        "category": "general",
        "parent": "",
        "content": "But that's not an issue :)\nI don't want to compute the txHash in the EVM, I just wish to access the txHash within the EVM.",
        "created_at": "2020-09-15T09:53:23.539000+00:00",
        "attachments": null
    }
]