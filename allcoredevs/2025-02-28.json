[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "\u003e However if we face an issue such as the current one, we roll back the last 24 hours as if the fork never happened and reschedule the fork to a later date\n\nDo you mean to rollback all transaction history for that period?",
        "created_at": "2025-02-28T03:41:43.828000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Why would the bugged majority client become the defacto canonical chain?  That would require people who did the right thing (ran a minority client) going out of their way to save the people who did the wrong thing (run a majority client).  I certainly hope we don't live in a world where bad actors are actively rewarded like that.",
        "created_at": "2025-02-28T06:24:56.106000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The nuclear option is to hobble along until the majority chain leaks out at which point minority chain can finalize.",
        "created_at": "2025-02-28T06:26:43.229000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "general",
        "parent": "",
        "content": "well in the case of holesky, it wasnt just a bugged majority client, it was a majority of clients having a bug. thats an important distinction imo",
        "created_at": "2025-02-28T07:48:28.016000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "Yes, I think so",
        "created_at": "2025-02-28T08:22:13.028000+00:00",
        "attachments": null
    },
    {
        "author": "catwith1hat",
        "category": "general",
        "parent": "",
        "content": "Why would the bugged majority client",
        "created_at": "2025-02-28T08:22:21.353000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Some stakers will loose their deposits because of a client bug. Can we instead rollout patches, keep a span of bad blocks in canonical chain and revert the circumstances of those bad blocks by irregular state change? I am thinking about this approach in the case of developer bugs, not other type of failures",
        "created_at": "2025-02-28T08:23:15.128000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "For isntance on Holesky we would need to manually bring deposits on chain",
        "created_at": "2025-02-28T08:25:11.391000+00:00",
        "attachments": null
    },
    {
        "author": "closer__",
        "category": "general",
        "parent": "",
        "content": "taking holesky case specifically, different buggy clients had different default behaviors for the deposit contract address (mainnet address vs zero bytes). while it didn't result in different block output, it was possible that all clients would have disagreed with each other",
        "created_at": "2025-02-28T08:27:03.811000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Did multiple clients have the same (compatible) bug, so they combined to form a block of clients that was able to finalize?",
        "created_at": "2025-02-28T08:30:14.910000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "yes, same configuration issue",
        "created_at": "2025-02-28T08:30:35.632000+00:00",
        "attachments": null
    },
    {
        "author": "closer__",
        "category": "general",
        "parent": "",
        "content": "the bug was actually incompatible, but there was no such transaction that would trigger incompatibility",
        "created_at": "2025-02-28T08:32:02.588000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "That certainly makes it more complicated, if there was an accidental \"majority block\" when everyone was correctly running non-majority clients.",
        "created_at": "2025-02-28T08:32:11.607000+00:00",
        "attachments": null
    },
    {
        "author": "closer__",
        "category": "general",
        "parent": "",
        "content": "incompatibility would have been triggered if somebody made a deposit to 0x000... or mainnet deposit contract address",
        "created_at": "2025-02-28T08:32:53.650000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't think it would be bad for people to get slashed/leaked anyway, as I think people need to learn (the hard way) that staking is not risk-free money.  It is certainly more fuzzy/debatable in this case though.",
        "created_at": "2025-02-28T08:33:22.876000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We keep telling them staking isn't risk free, and they keep not listening.  Perhaps something like this on mainnet would be a good wakeup call.",
        "created_at": "2025-02-28T08:33:59.206000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "deposit contract was not deployed at any of these addresses, such txes would fail",
        "created_at": "2025-02-28T08:35:44.467000+00:00",
        "attachments": null
    },
    {
        "author": "closer__",
        "category": "general",
        "parent": "",
        "content": "ah, ye, you are right",
        "created_at": "2025-02-28T08:36:39.267000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Because of a client bug 2/3 of stakers can loose their deposits. It's a disaster for ACD and Ethereum reputation.",
        "created_at": "2025-02-28T08:39:29.817000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "We're currently thinking about recovery scenario for failures near fork boundaries. But should also think about preventing such situations (and recovery from them if they happen) at any point in time. I think rolling back tx history isn't the right way to do it.",
        "created_at": "2025-02-28T08:44:34.867000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "There were 3 incorrectly configured clients out of 5. Even if there were an EL multiplexer with the majority rule it wouldn't help",
        "created_at": "2025-02-28T08:47:39.661000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "People can, and should, run multiclient setups.  We have advised that for a long time, especially big stakers.  They won't listen as long as we bail them out.",
        "created_at": "2025-02-28T08:52:26.718000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I do agree, that there exists a threshold where an intervention makes sense.  I think the disagreement is around where that threshold is.  If every client but one super-minority client had the samu bug, should we rollback without rewarding people operating the supermajority client?  They were helping client diversity the most by encouraging new clients to gain adoption (what we desire).",
        "created_at": "2025-02-28T08:54:56.684000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "I am questioning if we slash 2/3, will Ethereum be still attractive for stakers",
        "created_at": "2025-02-28T09:19:55.302000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "I'm personally in support of slashing 2/3 as a result of a *single* client bug. With 3+ clients sharing the same bug, I'd support a bailout because there's no practical way to protect yourself from that (even with multi-client setups). More on my reasoning in this thread https://ptb.discord.com/channels/595666850260713488/1344918241331380276/1344962370740420639",
        "created_at": "2025-02-28T09:23:00.241000+00:00",
        "attachments": null
    },
    {
        "author": "closer__",
        "category": "general",
        "parent": "",
        "content": "anybody can build a client, where do you draw the line? stake weight perhaps?",
        "created_at": "2025-02-28T09:26:32.636000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The issuance curve is designed specifically to address this.  If people leave, then ROI goes up for those that remains.  If the critical failure rate of multiple-clients simultaneously with compatible errors on Ethereum mainnet is higher than once every 5 years (enough to offset 20% ROI), I feel like we have a serious problem.",
        "created_at": "2025-02-28T09:26:37.152000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "With 10% ROI (which is think is more realistic) this period is 10 years which increases the risk (but the size of increase isn't known). I also agree that staking pools should run multiple setups reducing the risk of that to happen",
        "created_at": "2025-02-28T09:38:00.076000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "The reason I am proposing this only for fork boundaries is that allowing this at any point in time creates a situation where it's technically possible for a large entity to bribe core devs and revert an event that this entity doesn't like, e.g. a DEX could want that after an attack on that DEX. Clearly stating that we are **only** willing to do this at fork boundries maintains the ethos of Ethereum to a large extent.\n\nOf course there is a possibility the chain will collapse at any random slot, but so far history has shown this happens while forking.",
        "created_at": "2025-02-28T09:44:39.857000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "Well, this opinion is based on **your** morals. But what will the *homo economicus* do? Home stakers, node operators, staking pools etc. Will they take the hit and leak / get slashed or keep Ethereum working on the forked chain? I much expect it will be the latter",
        "created_at": "2025-02-28T09:47:09.774000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "Maybe it will not be the end of the world, but as I said the forked chain could have a bug which, for example, allows an attacker with $10M to control the chain. So it's a lose-lose situation to not revert, assuming stakers don't involuntarily leak",
        "created_at": "2025-02-28T09:48:15.198000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "core devs deciding on reverting tx history has same flaw near the fork boudnary as at any point in time, it can be exploited",
        "created_at": "2025-02-28T09:49:50.883000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "If there is a way to not roll back history, I'm fine with it, no problem. It would just be easier to do that ðŸ™‚",
        "created_at": "2025-02-28T09:50:43.733000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "Maybe replay the same txs on the reverted, pre-fork chain? It's probably not too feasible though",
        "created_at": "2025-02-28T09:52:41.411000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Staking pools don't really get a say.  Node operators and (sadly) exchanges have the most power.  They often delegate that power to ACD.  What we **want** is the power to be in the hands of real end users, but that is really hard to do.",
        "created_at": "2025-02-28T09:55:03.491000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Keep in mind, a hostile actor with majority stake can only censor, cause liveness problems, and trigger pre-finality rollbacks.  They cannot rewrite history past finality or change balances or anything.",
        "created_at": "2025-02-28T09:56:12.540000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "But even if you imagine a world where 100% of users are solo stakers and 90% of them voted on the \"wrong\" chain, and you ask them to leak or get slashed, what do you think will happen?",
        "created_at": "2025-02-28T09:56:26.847000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My hope would be that they leaked or got slashed.  Ultimately the \"users\" (aka: exchanges) will decide.",
        "created_at": "2025-02-28T09:57:39.151000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "This I agree with, and that's my main worry - IMO there's a good chance stakers will stop trusting Ethereum if core devs just tell them to leak.",
        "created_at": "2025-02-28T10:01:52.638000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "yeah, not all of them can be replayed",
        "created_at": "2025-02-28T10:03:51.966000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We don't need stakers to trust Ethereum.  We need *users* to trust Ethereum.  We attract stakers with money.  We attract users with trust.",
        "created_at": "2025-02-28T10:04:46.623000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "We do need a reasonable amount of ETH staked for security",
        "created_at": "2025-02-28T10:06:31.099000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm relatively confident people will show up to stake as the ROI increases due to others leaving.  I, for example, don't stake because I think the risk is too high relative to the paltry rewards.  Especially since I would not use MEV Boost, so my returns would be much lower than everyone else's.  However, if the ROI increased due to stakers being slashed/leaking, I would consider going through the effort of setting up a proper staking setup and actively participating.",
        "created_at": "2025-02-28T10:44:00.220000+00:00",
        "attachments": null
    },
    {
        "author": "bez625",
        "category": "general",
        "parent": "",
        "content": "PR for adding Dirk/Vouch instructions link for Holesky attestation event  https://github.com/ethereum/pm/pull/1342",
        "created_at": "2025-02-28T12:57:31.818000+00:00",
        "attachments": null
    },
    {
        "author": "raikage_inashi",
        "category": "general",
        "parent": "",
        "content": "I'm not a core dev but I propose elimianting PBS in favour of this: https://ethresear.ch/t/decentralized-random-block-proposal-eliminating-mev-and-fully-democratizing-ethereum/21856",
        "created_at": "2025-02-28T14:29:43.219000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "worth commenting if you've got reasons that should be considered",
        "created_at": "2025-02-28T14:30:28.034000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "**Holesky Mass Slashing Coordination Call in 26m (15:00 UTC)**\n\nIf you are a Holesky validator, please read this: https://github.com/ethereum/pm/blob/master/Pectra/holesky-postmortem.md#holesky-coordinated-slashings\n\nClient teams and validators, please join the zoom link directly: https://us06web.zoom.us/j/89880194464?pwd=qRS6nYWbEnFnkJnQZcapE5vWabitZi.1\n\nIf you just want to watch the process, please follow the stream, as we want to keep the zoom call for node operators: https://www.youtube.com/live/ksr-6iuSvrg?",
        "created_at": "2025-02-28T14:33:53.739000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "wait in 30 minutes right?",
        "created_at": "2025-02-28T14:34:23.733000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "yes, you are right, sorry!",
        "created_at": "2025-02-28T14:34:45.641000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "fixed ðŸ™‚",
        "created_at": "2025-02-28T14:34:53.696000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "oh heck i thought i was going to be awake another bunch of time lol",
        "created_at": "2025-02-28T14:35:05.912000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "general",
        "parent": "",
        "content": "And to be clear, 30m to join the call, not to actually execute anything yet",
        "created_at": "2025-02-28T14:35:33.246000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "correct, we plan to execute around 15:12",
        "created_at": "2025-02-28T14:35:44.928000+00:00",
        "attachments": null
    },
    {
        "author": "ak4222",
        "category": "general",
        "parent": "",
        "content": "Not just a disaster - it would be the end for ethereum",
        "created_at": "2025-02-28T14:42:02.126000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "theres currently 2387 exiting validators and 24k slashed but its not out of control yet",
        "created_at": "2025-02-28T14:42:25.839000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "they don't lose their deposits - they lose 1/32'nd of their deposits",
        "created_at": "2025-02-28T14:57:13.106000+00:00",
        "attachments": null
    },
    {
        "author": "holdensd",
        "category": "general",
        "parent": "",
        "content": "that's for the initial penalty, but the correlation penalty will be pretty high",
        "created_at": "2025-02-28T14:57:49.671000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "1/32 isnt inital any more at electra",
        "created_at": "2025-02-28T14:58:11.845000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "right, how is it done now? still 1 eth per val?",
        "created_at": "2025-02-28T14:58:51.371000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "in the case of 2/3 slashed correlation penalty will be the whole balance",
        "created_at": "2025-02-28T14:59:25.447000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "it is 1/4096 since Electra",
        "created_at": "2025-02-28T14:59:42.650000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "oh, nasty ..",
        "created_at": "2025-02-28T14:59:42.748000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "1/2048? busy read spec",
        "created_at": "2025-02-28T14:59:45.578000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "something liek that",
        "created_at": "2025-02-28T14:59:49.807000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "even if you stake just 32 eth? ... that's a pretty low penalty then",
        "created_at": "2025-02-28T15:00:10.044000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "penalty is a constant per epoch",
        "created_at": "2025-02-28T15:00:21.846000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "sorry fork",
        "created_at": "2025-02-28T15:00:24.663000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Call now",
        "created_at": "2025-02-28T15:01:04.106000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "yeah, initial penalty is pretty low now",
        "created_at": "2025-02-28T15:02:10.855000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "reminds me of https://ethresear.ch/t/insecura-my-consensus-for-the-pyrmont-network/11833/2 where even if you're attesting and doing everything correctly, you get a penalty and finally get slashed .. ie even with several thousand active validators, the network still dies and slashes everyone _eventually_",
        "created_at": "2025-02-28T15:04:18.563000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "intentional or oversight?",
        "created_at": "2025-02-28T15:15:47.843000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "it was intentional, to reduce the risk of slashing for consolidated validators",
        "created_at": "2025-02-28T15:31:02.287000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Call recap and next steps:\n\nWe did not have enough validators online to finalize, but we saw less slashings than expected. Therefore, we're going to try and get enough validators online to finalize a block, hoping we don't see mass slashings in the meantime. \n\nIf we haven't finalized a block by the Monday testing call, we'll coordinate mass slashings at that point. \n\nIf you are reading this and run a Holesky validator, please get it back online ASAP and remove your slashing protection DB (to allow you to attest to the valid minority chain). More info here: https://github.com/ethereum/pm/blob/master/Pectra/holesky-postmortem.md",
        "created_at": "2025-02-28T16:01:32.737000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Full recording: https://www.youtube.com/watch?v=ksr-6iuSvrg",
        "created_at": "2025-02-28T16:04:15.796000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Cross-posting from \u003c#892088344438255616\u003e \nI wrote up a post about yesterdays BLS consensus issue that was found via the Pectra Audit Competition: \nhttps://ethereum-magicians.org/t/bls12-381-pairing-consensus-issue/23019\nThanks again to everyone who was involved yesterday for being so responsive and resolving this in a timely manner!",
        "created_at": "2025-02-28T17:56:41.689000+00:00",
        "attachments": null
    }
]