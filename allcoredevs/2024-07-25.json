[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "1) Isn't prysm utilising `getPayloadBodies` Engine API requests to deduplicate transaction and withdrawal data already?",
        "created_at": "2024-07-25T04:22:40.588000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm a little bit lost here, withdrawals from the payload are irrelevant for block processing: once you have validated the payload on sync, you know that the withdrawals agree with the ones that you can get from the beacon state. You can save the payload and you do not need that payload again to process the beacon state: you get the withdrawals from it and you know the corresponding payload did honor those withdrawals. This is not the case for the requests, that are external inputs to state transition that are coming from the block. Perhaps we should add this to the agenda today. If it's not on the issue I'll add it now",
        "created_at": "2024-07-25T11:21:57.005000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "\u003c@539495253418180618\u003e acdc link?",
        "created_at": "2024-07-25T13:50:44.863000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "ACDC #138 in ~10 mins!\n\nAgenda: https://github.com/ethereum/pm/issues/1100\nStream: https://www.youtube.com/live/lmzAUqsIbIE\nZoom: https://ethereumfoundation.zoom.us/j/83703239965?pwd=VnjQjZ06LIaCzOjmyY1Jllt0LoTpvK.1",
        "created_at": "2024-07-25T13:54:26.260000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "\u003c@425572898787426305\u003e \u003c@755590043632140352\u003e are electra requests part of the payload or header's block hash?",
        "created_at": "2024-07-25T14:48:35.478000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "they are",
        "created_at": "2024-07-25T14:50:10.476000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "Hm, that's a bit odd? The requests are outside the payload, but the blockhash still scopes those requests: https://github.com/ethereum/consensus-specs/issues/3856",
        "created_at": "2024-07-25T14:52:35.123000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "The requests are inside the payload",
        "created_at": "2024-07-25T15:00:50.263000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "oh you mean in my proposal? yeah my proposal doesn't change the EL block type",
        "created_at": "2024-07-25T15:01:26.704000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "so the EL needs to include the requests in their block on serialization to hash the block by RLP",
        "created_at": "2024-07-25T15:01:44.731000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Once they move to SSZ (if they do) they can just SSZ hash the envelope",
        "created_at": "2024-07-25T15:02:06.551000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "Makes sense. EL has its own type. This is the header. From geth's perspective, they will have to keep `header.request_types` as it is",
        "created_at": "2024-07-25T15:17:47.589000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "the parent beacon block root is also part of the EL block hash, but not part of CL ExecutionPayload",
        "created_at": "2024-07-25T15:40:11.807000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/e9be4e2e3aeb8d0fbe3bff800328445e21a1fdf3/tests/core/pyspec/eth2spec/test/helpers/execution_payload.py#L189",
        "created_at": "2024-07-25T15:41:46.898000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "my take on 7702 complexity:",
        "created_at": "2024-07-25T17:51:28.038000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "https://x.com/Gajpower/status/1816528691985572090",
        "created_at": "2024-07-25T17:51:29.608000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "this is an application concern, not the protocol",
        "created_at": "2024-07-25T17:56:15.785000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "we are making it easy for application to fckup",
        "created_at": "2024-07-25T17:56:40.498000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "it's already easy with proxies, which we added specifically in eip-7",
        "created_at": "2024-07-25T17:57:04.567000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "its also an attack vector where you might get a user to write something via contract A which when delegated to contract B might mean something drastically different",
        "created_at": "2024-07-25T17:59:45.779000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "yes we've discussed this issue at great length. this is why persistence of the delegation is good, it allows other wallets to actually see that they are delegated to a different smart contract wallet.",
        "created_at": "2024-07-25T18:01:33.195000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "why persist storage, thats the main issue, persitance of delegation without storage won't be an issue",
        "created_at": "2024-07-25T18:02:10.114000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "because smart contract wallets w/o storage aren't very useful - you want to write to storage delegate keys with more strict access policies. additionally, smart contract wallets would need to be completely rewritten to be stateless which we are hoping to avoid by going with 7702",
        "created_at": "2024-07-25T18:03:36.200000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "you dont need to use EOA storage and EOA can have/seek this data from other contracts without worrying about some other contract coming in and modifying storage,\n\nso essentially what you said is possible even without EOA having its own storage",
        "created_at": "2024-07-25T18:06:01.119000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "and with 7702 it can do multiple contract interactions to get the data it needs",
        "created_at": "2024-07-25T18:06:39.274000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "yep and we have also looked into this already. not only are the costs higher and requires writing smart contract wallets differently, it doesn't work well with verkle because in the future you will want to use the storage in your account header as it will be much cheaper than bringing in additional leaves",
        "created_at": "2024-07-25T18:07:43.439000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "\u003e verkle because in the future you will want to use the storage in your account header as it will be much cheaper than bringing in additional leaves\n\nyou mean accessing different branches, leaves would anyway be there in both cases",
        "created_at": "2024-07-25T18:09:07.028000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "whatever the terminology is, you'll need to bring another account into the witness",
        "created_at": "2024-07-25T18:09:36.909000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "but only if the storage accessed is in the account header branch",
        "created_at": "2024-07-25T18:09:45.303000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "else if you access another branch which most likely you would, there might not be substantial cost saving",
        "created_at": "2024-07-25T18:12:52.638000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "you would probably not access another branch, smart contract wallets don't need much storage",
        "created_at": "2024-07-25T18:14:05.917000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "ok, i don't think savings if there are any are worth the risk, but yea just my personal opinion ðŸ™‚",
        "created_at": "2024-07-25T18:17:11.921000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "actually there is one thing we can do:\n\nEOA subaccounts, which are basically hash(eoa,address) which is where the storage for that particular delegation gets written",
        "created_at": "2024-07-25T18:23:48.644000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "should make things cleaner overall as well and we can also have persisted storage",
        "created_at": "2024-07-25T18:24:15.642000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "yep vitalik also proposed this idea (although he proposed eoa addr + 1 for storage). i think it's a massive hack and doesn't fix the fact that smart contract wallets today face the same issue",
        "created_at": "2024-07-25T18:24:51.964000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "and what is that issue that wallets face and this won't resolve?",
        "created_at": "2024-07-25T18:29:11.556000+00:00",
        "attachments": null
    },
    {
        "author": "abcoathup",
        "category": "general",
        "parent": "",
        "content": "\u003c@539495253418180618\u003e are you able to provide a summary of ACDC decisions please?",
        "created_at": "2024-07-25T22:56:53.085000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cfradamt\u003e It was 1am here when ACDC ended :)",
        "created_at": "2024-07-25T23:00:11.888000+00:00",
        "attachments": null
    }
]