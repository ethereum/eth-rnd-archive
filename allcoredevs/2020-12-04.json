[
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Perhaps a dumb question, but do we need to update any JSON RPC endpoints when 2718+2930 go live? If so, should we aim to put EIPs for these together before Berlin so service providers can know what to expect?",
        "created_at": "2020-12-04T16:18:10.197000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "They aren't absolutely critical for Berlin.",
        "created_at": "2020-12-04T17:05:38.540000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Though, certainly would be nice to have them ready.",
        "created_at": "2020-12-04T17:05:48.308000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "`eth_sendRawTransaction` expects a legacy transaction.  We will probably want something like `eth_sendRawTypedTransaction` which expects a 2718 transaction.  Unfortunately, this is one more place where we have to deal with transaction encoding.",
        "created_at": "2020-12-04T17:07:37.364000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If we launch Berlin without this in *any* clients, it will be very hard for anyone to actually use 2930.",
        "created_at": "2020-12-04T17:07:59.701000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "However, clients can individually add endpoints at any time since this isn't a consensus problem.",
        "created_at": "2020-12-04T17:08:21.826000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "Why shouldn't we allow `sendRawTransaction` to take 2718 txs?",
        "created_at": "2020-12-04T17:09:49.641000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I guess we can differentiate from the byte array by the first byte?",
        "created_at": "2020-12-04T17:10:13.808000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Does anyone remember off-hand what `eth_sendRawTransaction` expects?",
        "created_at": "2020-12-04T17:10:43.990000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "Just bytes I believe, that's it",
        "created_at": "2020-12-04T17:10:55.899000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "For sure, I bet most clients (this is true for besu) just use the same deserialization in the rpc code there so it's almost harder to have it _not_ take 2718 txs",
        "created_at": "2020-12-04T17:11:15.464000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Bytes encoded how?",
        "created_at": "2020-12-04T17:11:15.867000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "https://eth.wiki/json-rpc/API",
        "created_at": "2020-12-04T17:11:33.442000+00:00",
        "attachments": null
    },
    {
        "author": "prestwich",
        "category": "general",
        "parent": "",
        "content": "the RLP serialized transaction encoded as hex",
        "created_at": "2020-12-04T17:11:41.220000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Sadly, the documentation is lacking...",
        "created_at": "2020-12-04T17:11:43.210000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "`rlp([nonce, ..., v, r, s])`?",
        "created_at": "2020-12-04T17:12:12.372000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "I believe so",
        "created_at": "2020-12-04T17:12:30.228000+00:00",
        "attachments": null
    },
    {
        "author": "prestwich",
        "category": "general",
        "parent": "",
        "content": "yes",
        "created_at": "2020-12-04T17:12:42.902000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Nice.  So we should be able to switch internally on the first byte like \u003c@!213672586264051717\u003e suggested.",
        "created_at": "2020-12-04T17:13:21.720000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!552133098075193354\u003e No new method necessary I think, and depending on client architecture it is possible no additional work needed on that endpoint either.",
        "created_at": "2020-12-04T17:13:44.251000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "Can we schedule a breakout room next week to further discuss 2718? We need to make sure we're on the same page in terms of encoding. \u003c@!301186049323958275\u003e listed the 3 possibilities: \n\n\u003e A. https://discord.com/channels/595666850260713488/779922457631916064/784269200700473356 is current spec.\n\u003e B. https://discord.com/channels/595666850260713488/779922457631916064/784274373883985950 is my proposed alternative spec.\n\u003e C. https://discord.com/channels/595666850260713488/779922457631916064/784275462343229540 is lightclient's proposed alternative spec.",
        "created_at": "2020-12-04T19:38:21.152000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "general",
        "parent": "",
        "content": "Happy to schedule a breakout room meeting for EIP-2718 discussion on Monday Dec 07, 2020 at 1500 UTC.",
        "created_at": "2020-12-04T19:58:45.302000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "general",
        "parent": "",
        "content": "If this works, I can send out calendar invite by tomorrow.",
        "created_at": "2020-12-04T20:00:18.051000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "FWIW we parse the incoming RLP and recover the sender address before sending the tx to the network, and I imagine other infra providers that accept txs do something similar, so we'll need to have those systems EIP-2718 aware before the fork.  And I guess we'll need to be aware of each tx type and how to recover the sender for it as well.",
        "created_at": "2020-12-04T20:00:49.284000+00:00",
        "attachments": null
    }
]