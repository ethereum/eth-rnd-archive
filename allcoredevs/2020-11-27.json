[
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "It's compressed going over the wire (snappy), it's stored compressed in geth (leveldb compresses data) and compressed in ancients (snappy again).",
        "created_at": "2020-11-27T13:48:55.106000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "ACD meeting in 10 minutes!\n\nAgenda: https://github.com/ethereum/pm/issues/224\n\nZoom: https://ethereumfoundation.zoom.us/j/95053115868?pwd=T3gvSzVUc1JURUFnVnRHdTRJOTJTQT09\n\nChat Box: https://studio.youtube.com/live_chat?is_popout=1\u0026v=UGyqRoLwq1o",
        "created_at": "2020-11-27T13:50:36.599000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "cannot join today, sorry, down with some fever and just woke up, not feeling well yet",
        "created_at": "2020-11-27T14:15:12.847000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "get well soon, any short opinion on which option you like here? https://notes.ethereum.org/kvDtI9BsS6qFdsLDY_YwpQ",
        "created_at": "2020-11-27T14:16:33.126000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "any option, we alreayd have our own SSZ library, and we have most of these EIPs implemented (all of them). we just need to run tests / checks so we can be operational very quickly for whatever path",
        "created_at": "2020-11-27T14:21:47.494000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "as long as legacy transactions do not have to be signed again if already signed in the past",
        "created_at": "2020-11-27T14:24:03.077000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "sorry, really too weak to join the call",
        "created_at": "2020-11-27T14:24:30.031000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "Don't worry about it! Seriously, take care.",
        "created_at": "2020-11-27T14:24:43.063000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "I have joined to listen",
        "created_at": "2020-11-27T14:41:10.736000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Moving it from the zoom: is there a benefit of SSZ at all if merklization is not implemented? \u003c@!301186049323958275\u003e \u003c@!543900561460822016\u003e  The format looks to kind of being designed for the purpose of such possibility at the first place",
        "created_at": "2020-11-27T15:13:22.449000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "copying from chat:\n\nIMO the point is to decide upon a maximally simple serialization format for building the tx signing hash - maybe that is already RLP - then we just agree that we won't change this scheme for a long time (or ever) and all wallets can rely on it \nin future protocol upgrade discussions (e.g. making everything ssz), we don't need to discuss changing tx signing formats as we're enshrined it forever \nusing SSZ may also be a slight hedge against this world where we want everything to become SSZ",
        "created_at": "2020-11-27T15:13:52.633000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Merklization is the big win.",
        "created_at": "2020-11-27T15:14:21.446000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "And without it it looks like RLP +-",
        "created_at": "2020-11-27T15:15:06.124000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!381789485777682434\u003e and you're okay with using RLP for the next ~50 years for building tx signing hashes?",
        "created_at": "2020-11-27T15:15:48.220000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "It's not my call for a network, but I'm for using SSZ because it gives a new feature that can have various applications",
        "created_at": "2020-11-27T15:16:32.858000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!364458974906548225\u003e Can we control the type ID for union types such that the first byte is controlable?",
        "created_at": "2020-11-27T15:16:40.469000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Is there anything bad in RLP itself?",
        "created_at": "2020-11-27T15:16:56.598000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Everyone hates it.  üôÇ",
        "created_at": "2020-11-27T15:17:03.356000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "But its a bunch of grains of sand in the underpants.",
        "created_at": "2020-11-27T15:17:11.411000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "I would agree üôÇ Can we also change solidity ABI for the same format by the way?",
        "created_at": "2020-11-27T15:17:56.319000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "\u003c@!381789485777682434\u003e there's been historical talk about using SSZ for contract ABI, I *think* it's suitable for it if memory serves.",
        "created_at": "2020-11-27T15:18:21.353000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "But I've meant some concrete downsides. It was unpleasant to implement, but after you do it once just forget about it",
        "created_at": "2020-11-27T15:18:43.296000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003c@!364458974906548225\u003e Can we control the type ID for union types such that the first byte is controlable?\n I think yes, I poked Proto the other day about changing the SSZ `Union` spec to allow specifying the \"type ID\" max size (and thus serialized size).",
        "created_at": "2020-11-27T15:20:31.774000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "he gave a üëç",
        "created_at": "2020-11-27T15:20:37.944000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "https://discord.com/channels/595666850260713488/745077610685661265/778217548893126666",
        "created_at": "2020-11-27T15:21:03.902000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "yeah, we don't use Unions in the eth2 spec at all atm, so nothing there is difficult to change",
        "created_at": "2020-11-27T15:24:03.749000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Transaction types in Berlin will be:\n```\n0x01 || rlp(...)\n0xf8 || rlp(...)\n0xf9 || rlp(...)\n0xfa || rlp(...)\n```",
        "created_at": "2020-11-27T15:24:06.292000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I'd also love to pull the ssz spec out into it's own repo at this point...",
        "created_at": "2020-11-27T15:24:18.251000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I want to make sure that isn't going to cause us *huge* problems if we switch to SSZification.",
        "created_at": "2020-11-27T15:24:22.001000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "0x03?  I thought 2930 specified 0x01 in the latest head.  Why skip 1 and 2?",
        "created_at": "2020-11-27T15:24:42.318000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "just a reminder ssz is little endian",
        "created_at": "2020-11-27T15:25:16.637000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I kind of want to leave 0x01 and 0x2 available for legacy transactions when we wrap them.  But I'm not married to it.",
        "created_at": "2020-11-27T15:25:24.625000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "We never left space for precompiles.  Unless there is a technical reason (like the 0xf8-0xfa) I'm of the opinion they should be order of introduction.",
        "created_at": "2020-11-27T15:26:15.699000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I can be convinced by that argument.",
        "created_at": "2020-11-27T15:26:38.910000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e Do you think that highest-level transaction envelope in a form like SignedTX {v, r, s, tx_hash} is a good idea? This envelope can be SSZed by itself",
        "created_at": "2020-11-27T15:26:59.912000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!381789485777682434\u003e sorry, not sure i quite follow?",
        "created_at": "2020-11-27T15:34:40.612000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Transaction can be viewed as roughly the hash of some black box inner content (that may or may not include tx type or other things), and the signature of the hash. If we were to implement transition to SSZ on a level of block encoding then transactions could be implemented as a structure I‚Äôve written above, and for SSZ encoded transactions the tx_hash could be unrolled (due to merklization) further, while for legacy ones it would be just a plain old keccak(RLP(..)). The data transaction data itself for legacy ones can be just places in some form appendix (arbitrary data) of the block",
        "created_at": "2020-11-27T15:41:30.563000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It doesn't necessarily include a signature hash.  AA removes that.",
        "created_at": "2020-11-27T15:42:08.685000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "With the introduction of AA, there will be transactions that are just `to,data` essentially (maybe something else in there, I forget).",
        "created_at": "2020-11-27T15:42:37.929000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Sure, it can be variable length fields, if necessary",
        "created_at": "2020-11-27T15:42:48.107000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Point being that signatures shouldn't be on the outer layer, they should be on the inner layer.",
        "created_at": "2020-11-27T15:43:01.648000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "Some thoughts from today's call.  *If* we expect 1559 in the fork after berlin and *If* we want to be sure to do 1559 on top of 2718 (typed transactions) and *If* we want to avoid introducing 2718 without SSZ (since it would incur hard to pay down technical debt) and *If* we see the safe route to introducing SSZ as starting at the networking layer and then moving up to the protocol layer **then** client devs will need to put some focus into both getting to the latest proposed DevP2P ETH protocol version **and** getting the next protocol version that uses SSZ designed and implemented in a timely manner.",
        "created_at": "2020-11-27T15:44:07.273000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Does it make a txtype better be known and become both inner and outer?",
        "created_at": "2020-11-27T15:45:25.438000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "What do you mean become both inner and outer?",
        "created_at": "2020-11-27T15:46:05.145000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Txtype should be signed (unless legacy), but it may also be handy to know it before accessing a transaction hash in case of SSZ when traversing the path from root to some transaction content",
        "created_at": "2020-11-27T15:47:55.049000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ah, you are wondering if the hash should include the type byte or not?",
        "created_at": "2020-11-27T15:48:47.521000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The signature **SHOULD**, but the hash is a bit more \"meh\".",
        "created_at": "2020-11-27T15:49:01.428000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Also, if we go with a minor amount of data duplication (1 byte), then you get the type in both the inner and outer layers.",
        "created_at": "2020-11-27T15:49:16.204000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "hi guys - there are lot of different paths for Eth1 - Eth2 merge - do you know the clear answer to how the nodes like Geth and Nethermind will operate after it based on the most probable path?",
        "created_at": "2020-11-27T16:35:12.948000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I see components of each piece of software driving different layers of an aggregate system\n\nEth2 client drives consensus \nEth1 client manages user layer -- state, execution, txs -- driven by the eth2 consensus\n\nThis can either be in an integrated piece of software (eth1 libs integrated into eth2 client) or as two separate pieces of software communicating over rpc\n\nI really like the rpc approach because it keeps things modular, allows teams to own portions of the stack, and allows for more optionality for the end user\n\nI talk about this at a high level here\n\nhttps://ethresear.ch/t/eth1-eth2-client-relationship/7248\n\nNote this is an evolving idea",
        "created_at": "2020-11-27T16:47:47.915000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "\u003c@425572898787426305\u003e and \u003c@353136597522448385\u003e  have prototyped something like this with teku and geth",
        "created_at": "2020-11-27T16:48:30.063000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Pretty much, pow drives eth1 clients today whereas what an eth2 client is will drive that after the merge\n\nMost of the meat of an eth1 client is still extremely relevant and likely can and should continue to exist in some form",
        "created_at": "2020-11-27T16:50:00.108000+00:00",
        "attachments": null
    }
]