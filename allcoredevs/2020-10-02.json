[
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "I updated the ACD Agenda",
        "created_at": "2020-10-02T03:51:50.655000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/pm/issues/211",
        "created_at": "2020-10-02T03:51:52.321000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Topics include 1559, and a discussion about Green Lighting EIPs from the testing perspective in preperation or a public testnet.",
        "created_at": "2020-10-02T03:52:36.701000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "If we can in the next 2-3 weeks get most of the EIPs into this next state that would put us in a good place to have Berlin this year.",
        "created_at": "2020-10-02T03:53:46.643000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Cheers,",
        "created_at": "2020-10-02T03:53:48.013000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "@/all Meeting in 10 minutes!\n\nAgenda: https://github.com/ethereum/pm/issues/211\n\nZoom Link: https://ethereumfoundation.zoom.us/j/94107176315?pwd=T1Q4c1RaZ29mOEU0dnFVUXM1S2ZEZz09\n\nChat Box: https://studio.youtube.com/live_chat?is_popout=1\u0026v=v5Q5WPdN1jk",
        "created_at": "2020-10-02T13:50:30.204000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e I would rather get Rich Transactions in, though that is unrelated to Sponsored transactions I think?  Unless you are thinking of your monolithic EIP that has flags + rich transactions?",
        "created_at": "2020-10-02T15:39:56.507000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Context from \u003c#746566142700814426\u003e:\n\n\u003e [16:37] Alex (axic): If 2711 style batched transactions are introduced, would that mean it closes the door before rich transactions and 2733?\n\u003e [16:37] Micah: \u003c@!425279588009246720\u003e Not closes the door, but it is the reason I haven't been pushing hard for 2711, I would rather see rich transactions land.\n\u003e [16:38] Alex (axic): I think it practically does closes the door because if it takes months to launch 2711, then nobody will want to deprecate (well, it can't be deprecated...) it and introduce new features.",
        "created_at": "2020-10-02T15:40:46.106000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e This whole conversation (continued from \u003c#746566142700814426\u003e) is essentially why I was thinking of just getting sponsored transactions in by itself.  It doesn't conflict with rich transactions I don't think, and it doesn't come with some gotchas that need to be considered, and my *hope* is that it will mute most of the Meta Transaction stuff that dapp developers are doing since sponsored transactions is far superior I think, even without batches.",
        "created_at": "2020-10-02T15:41:18.971000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "That is, while I know they want batches, I suspect most of them won't choose layer 2 over layer 1 sponsorship *just* for batch transactions (it sounds like maybe we disagree here).",
        "created_at": "2020-10-02T15:41:55.496000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "What we are missing is discussing the main use cases for when batching is sought by users. I understand a general pattern is to do `Token.approve(App, limit) + App.doStuff()` in a single transaction, to speed up the process and make it atomic (to avoid spending on a broken `doStuff()`).\n\n2711 currently allows batching multiple transactions by the same sender, and it could allow for atomicity.\n\n2733 introduces the capability to execute transactions based on the outcome of the previous one.  I don't remember if it requires all transactions to be from the same sender.\n\nRich transactions achieves the the same as 2733 with the limitation that is has to be from the same sender and it depends on having gas introspection.",
        "created_at": "2020-10-02T15:45:00.113000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003c@!211091239112671234\u003e So if I have [tx1, tx2]. And tx sends all funds to 0. What do I do about tx2? It's already invalid, and would normally never have been included in a block.\nyou can determine this in constant time, no? iterate through txs and check if the balance minus the sum of all the previous  `gp* gl + value`  is greater than 0? (slightly more complicated for a heterogeneous set of senders, but still constant time AFAICT)",
        "created_at": "2020-10-02T15:45:13.111000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Given 2711/2733/richtx compete for a similar use case, if 2711 is introduced, I doubt any of the other two options will ever be.",
        "created_at": "2020-10-02T15:45:38.736000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "i believe 2733 is a natural progression for 2711, may need to be rewritten a bit to be more amenable",
        "created_at": "2020-10-02T15:47:00.659000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I think with the transaction format, based on previous discussions, there is no replacement only extension of it. And \"progressing\" from 2711 to 2733 would mean supporting two different formats.",
        "created_at": "2020-10-02T15:48:03.967000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e yes agreed, sorry if i was unclear",
        "created_at": "2020-10-02T15:48:59.373000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "is your preference rich txs?",
        "created_at": "2020-10-02T15:49:11.150000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I have a soft spot for rich transactions, but I also understand that requires more research.",
        "created_at": "2020-10-02T15:49:38.220000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My current preference is Rich Transactions, though I'm hoping that someone can sell me on AA instead still.  ðŸ™‚",
        "created_at": "2020-10-02T15:49:47.593000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I actually think Rich Transactions as specified by Nick could go in pretty easily/quickly.",
        "created_at": "2020-10-02T15:50:11.364000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e what I hoped is to get us on the same page what committing to 2711 means ðŸ™‚",
        "created_at": "2020-10-02T15:50:19.275000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "imo 2711 means sponsored txs + batched txs (probably okay to drop expiring txs for now)",
        "created_at": "2020-10-02T15:50:46.920000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "without extending with 2733, i think rich txs is strictly better",
        "created_at": "2020-10-02T15:51:15.626000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003c@!425279588009246720\u003e I would rather get Rich Transactions in, though that is unrelated to Sponsored transactions I think?  Unless you are thinking of your monolithic EIP that has flags + rich transactions?\n\n\u003c@!301186049323958275\u003e and to answer your question, I think a simplified version of my \"monolithc transaction EIP\" would be the best. That again requires some brainstorming.",
        "created_at": "2020-10-02T15:51:19.216000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e what do you exactly mean by \"extending with 2733\"?",
        "created_at": "2020-10-02T15:51:48.305000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The prepare the format in a way that it can be extended nicely? Or to do it from the get go?",
        "created_at": "2020-10-02T15:52:22.391000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "by extending with 2733, i mean \"introducing a mechanism for sequential txs to see the result of the previous tx\"",
        "created_at": "2020-10-02T15:52:32.082000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e yes, you're right. I was thinking that the 'drain' could happen within the evm execution, but yeah, the EOA cannot be drained any more than the initial sum...",
        "created_at": "2020-10-02T15:52:56.273000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "this is trivially possible with rich txs as you can see the output of the `*CALL`, but impossible with 2711 alone",
        "created_at": "2020-10-02T15:52:58.898000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!211091239112671234\u003e my worry with batched txs is that maintaining the proper dependency graph of nonces when you have txs from multiple senders in a batch may be more complicated, do you have any intuition on that?",
        "created_at": "2020-10-02T15:53:55.136000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "That doesn't sound too nasty.. but there are assorted problems when it comes to managing 'sets' in the txpool. Right now it's tricky enough to fiddle standalone-trnasactions, and handle shuffling between pending / queued (gapped). If we have to also account for `sets`, then it adds another layer of complexity",
        "created_at": "2020-10-02T15:56:23.131000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Like, what if a higher price tx comes in, and that one suddenly makes one in a set go bad, then the whole set is thrown out",
        "created_at": "2020-10-02T15:57:14.738000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Yeah - that's your worry I guess. I thought you meant during block processing, but if you're talking about txpool mgmt, then I agree",
        "created_at": "2020-10-02T15:57:48.959000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "It's hairy",
        "created_at": "2020-10-02T15:57:51.209000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "hopefully by implementing i can better understand *how* hairy",
        "created_at": "2020-10-02T15:58:09.951000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "From what y'all are saying putting more complexity outside the EVM and replicating some of what the EVM is capable of seems like hairy, complicated, and wasteful ðŸ™‚",
        "created_at": "2020-10-02T15:59:14.938000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think after this discussion I'm convinced the best option for Sponsored+Batched is to assert that you *must* have a sponsor if you batch.  I think that addresses all of \u003c@!211091239112671234\u003e's concerns and it should reduce the overall complexity of the whole thing substantially.",
        "created_at": "2020-10-02T15:59:44.741000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e was this not the case already?",
        "created_at": "2020-10-02T16:00:09.053000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "No, you could have un-sponsored batches in 2711 as written IIRC.",
        "created_at": "2020-10-02T16:00:22.540000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "by \"un-sponsored\" i thought that meant every tx originates from the same account",
        "created_at": "2020-10-02T16:00:45.436000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "which is essentially the same as sponsoring it",
        "created_at": "2020-10-02T16:00:54.746000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ah, good point.  2711 allowed unsponsored batches, but there was still a single account paying for the gas for all of the child transactions and it had to be deducted up front.",
        "created_at": "2020-10-02T16:01:21.251000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Btw, if batches can be **only** from the same account, would there be a validation rule for nonces to be strictly incremental or that is just evaluated one-by-one?",
        "created_at": "2020-10-02T16:01:30.078000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Which tickles a memory... I think \u003c@!211091239112671234\u003e was concerned about gas cost accounting occurring across transaction boundaries.",
        "created_at": "2020-10-02T16:01:46.288000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e i feel like long term, batched txs (with 2733 comms) is preferable as it allows us to make gas unobservable. It probably won't happen in evm 1.0, but it seems like a desirable direction to head in",
        "created_at": "2020-10-02T16:01:48.728000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e Any chance you'll have some availability to work on a formal Rich Transaction (not Nick's proposal)?",
        "created_at": "2020-10-02T16:02:03.936000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think the best way to have Rich Transactions land instead of Sponsored+Batch is if we get a full EIP formalized and out there.",
        "created_at": "2020-10-02T16:02:23.575000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e yes I understand that worry, but it has to be solved for the EVM anyway, no matter if you have batching outside or not.",
        "created_at": "2020-10-02T16:02:49.636000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e yes, will have a bit of time on the weekend and next week",
        "created_at": "2020-10-02T16:03:36.721000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "but IIRC, the only area where ungas would break things is relaying untrusted meta-txs. So if this happens 3-5 years down the line and there is a lot of infra around \"rich-tx relayers\" then they will need to migrate to batched txs anyways",
        "created_at": "2020-10-02T16:03:57.142000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Even with the richtx proposal you have the sponsoring outside, so you don't need \"meta txs\" observing gas.",
        "created_at": "2020-10-02T16:04:39.546000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "but you do if you are going to batch them in a rich tx, because then one meta-tx could revert all gas (since ungas would mean all remaining gas would be sent to the call) and therefore the relayer would not be able to collect payment and would be griefed",
        "created_at": "2020-10-02T16:05:53.890000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I think this goes back to the earlier question above: it would be nice to have a proper list of use cases addressed by this.",
        "created_at": "2020-10-02T16:06:42.887000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The two use cases for batching I have seen are:\n1. Gas cost savings (21,000 per transaction adds up)\n2. Approve =\u003e Call",
        "created_at": "2020-10-02T16:08:04.231000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "(2) is addressed with every proposal on the table.  (1) is not if you are batching from multiple users.",
        "created_at": "2020-10-02T16:08:24.934000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "And ideally we want to look at AA at the same time, because that seems like a more natural way to handle the \"relayer question\". Basically the user has some token with a dapp and just does an rich-AA-tx to the dapp, which pays the gas and deducts the users' token balance.",
        "created_at": "2020-10-02T16:08:39.839000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "brb",
        "created_at": "2020-10-02T16:08:40.709000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "When I discussed AA with them over in \u003c#700028534114222171\u003e it *felt* a bit fuzzy to me how we get to the point where that is possible.  It may be less fuzzy to them though.  ðŸ™‚",
        "created_at": "2020-10-02T16:10:41.579000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "a few months old now, but if you haven't seen i wrote my point of view on these different proposals and how they overlap https://ethresear.ch/t/native-meta-transaction-proposal-roundup/7525",
        "created_at": "2020-10-02T16:11:35.022000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "i generally believe that if we disregard the possibility of ever implementing UNGAS, then any solution is viable and we should go with the simplest",
        "created_at": "2020-10-02T16:12:26.405000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "but if we do believe that UNGAS could happen in the foreseeable future, then batched txs are the only future proof mechanism (unless we do a watered down UNGAS like: https://ethresear.ch/t/counter-proposal-to-oil-karma-per-account-gas-limits/7433)",
        "created_at": "2020-10-02T16:14:05.217000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Why do Rich Transactions prevent UNGAS?",
        "created_at": "2020-10-02T16:15:57.061000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I am a huge fan of just telling people, \"we have been telling you to not depend on gas costs for opcodes being stable for years, you didn't listen, now we are forcing you to not depend on gas costs being stable\".",
        "created_at": "2020-10-02T16:16:26.622000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003e Why do Rich Transactions prevent UNGAS?\nit doesn't *prevent* it, but it makes something impossible that was previously possible -- that being the ability to make *guarded* subcalls",
        "created_at": "2020-10-02T16:17:26.973000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Guarded subcalls shouldn't be possible IMO.",
        "created_at": "2020-10-02T16:19:19.083000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "However, I believe it is true that *all* ungas proposals result in that?",
        "created_at": "2020-10-02T16:19:50.369000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "vitalik's counter proposal has some work arounds",
        "created_at": "2020-10-02T16:20:11.195000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Or are you suggesting that 2733 introduces a very specific type of guarded subcall that will still be possible, though all others will not be?",
        "created_at": "2020-10-02T16:20:20.716000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e yes exactly, guarded subcalls will no longer be possible in the EVM but the functionality is replicated by 2711 + 2733",
        "created_at": "2020-10-02T16:20:57.410000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "there seems to be a strong desire for this functionality as it allows relayers to operate trustlessly",
        "created_at": "2020-10-02T16:21:19.555000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "here is more discussion, including \u003c@!211091239112671234\u003e's very good summary of the problem (linked): https://ethresear.ch/t/meta-transactions-oil-and-karma-megathread/7472/9",
        "created_at": "2020-10-02T16:23:26.371000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The guarded subcall I believe is a feature needed for relayers, and I think that should be accomplished with AA as mentioned above.\n\nFor any other batching it should just pass all gas available to each call.\n\nI know this is an opinion, and may not be shared by everyone.",
        "created_at": "2020-10-02T16:29:18.703000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "You are correct that 2733 introduces this a new functionality, where at least the limits are no set within the EVM.",
        "created_at": "2020-10-02T16:30:55.823000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Also accomplished with Sponsored Transactions + Rich Transactions I believe?  As well as Sponsored + Batch?",
        "created_at": "2020-10-02T16:31:12.110000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The relayer part I mean where the relayer is also paid in the same transaction.",
        "created_at": "2020-10-02T16:31:31.183000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Basically, I think all of the proposed solutions solve for \"meta transactions\".",
        "created_at": "2020-10-02T16:31:39.418000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah, I think that is solved with (Rich || Batch) \u0026\u0026 Sponsored.",
        "created_at": "2020-10-02T16:31:46.660000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "That is the main usecase where one wants gas observability -- to be able to reserve gas paying the relayer.",
        "created_at": "2020-10-02T16:31:51.817000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003e I think that should be accomplished with AA as mentioned above\nI'm not sure how guarded subcalls can be implemented within the EVM? AFAICT it can only be resolved outside of it",
        "created_at": "2020-10-02T16:31:57.977000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "In the AA code the relayer transfers the tokens to itself first, then just uses the remaining gas to execute the calls. If they fail, the relayer can still opt to mark the transaction successful, thereby keeping their tokens.",
        "created_at": "2020-10-02T16:33:16.736000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "So it is not a generic \"guarded subcall without gas observability\" bu the specific solution for relayers.",
        "created_at": "2020-10-02T16:33:40.780000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Anyhow I should read your link first to see all the potential use cases people want ðŸ™‚",
        "created_at": "2020-10-02T16:34:03.226000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "Ah okay agreed. This is should be further investigated (I believe \u003c@!415548822983278593\u003e is looking into), but I do know that the AA version has concerns regarding accessing external state (tokens) introducing a lot of DoS vectors. Batched txs are much simpler + more scalable.",
        "created_at": "2020-10-02T16:35:00.248000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I have to head out for the evening, but \u003c@!425279588009246720\u003e I would love to get a formal EIP for Rich Transactions drafted sooner rather than later so we can push it instead of 2711 and compare it against AA directly.  \u003c@!543900561460822016\u003e let me know if you want me to either make changes to 2711 or create a new EIP for just sponsored+batch.  I still think that sponsored transactions (without batch) would satisfy the vast majority of the meta-transaction crowd so I'm not nearly as eager as you are to try to get batches included.",
        "created_at": "2020-10-02T16:36:54.236000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "What I am mostly advocating for is that we should look at all these problems at once and design the transaction format in a way it can be extended to iteratively add these features, without needing to come up with brand new transaction formats, because that makes tooling worse by still needing to support all the old versions.",
        "created_at": "2020-10-02T16:36:57.670000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e not sure if you have seen this document, but it was an attempt at that: https://notes.ethereum.org/@axic/Hyrc1i7ED#New-transaction-encoding",
        "created_at": "2020-10-02T16:38:39.470000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e should we try to schedule a call in the next week to discuss this? It seems like if EIP-2718 might need to be changed to allow the most iterative approach we should look into it soon to avoid delaying past berlin",
        "created_at": "2020-10-02T16:38:45.960000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "This is what \u003c@!301186049323958275\u003e refers to, what I should turn into an actual EIP ðŸ™‚",
        "created_at": "2020-10-02T16:38:51.821000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "Yes I have seen it, will look into it more as the flag idea is very interesting",
        "created_at": "2020-10-02T16:39:26.856000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e should we try to schedule a call in the next week to discuss this? It seems like if EIP-2718 might need to be changed to allow the most iterative approach we should look into it soon to avoid delaying past berlin\n\u003c@!543900561460822016\u003e do you mean 2711?  2718 *does* support an iterative approach.",
        "created_at": "2020-10-02T16:39:35.832000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I'd be up for a call and will work on this next.",
        "created_at": "2020-10-02T16:39:43.351000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "I mean 2718. I figured that it is abstract enough to not be a concern, but want to avoid any delays for deploying on berlin",
        "created_at": "2020-10-02T16:40:19.884000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "What do you think may need changed with 2718?",
        "created_at": "2020-10-02T16:40:54.213000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "I'm not sure there is anything that needs to be changed for it, but was just wanting to proactively consider if \u003c@!425279588009246720\u003e's iterative approach would affect it",
        "created_at": "2020-10-02T16:41:57.961000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "I *don't* think it will, and if both of agree it's probably okay",
        "created_at": "2020-10-02T16:42:27.506000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "happy to have a breakout session next week though and discuss the various approaches for batching + sponsoring",
        "created_at": "2020-10-02T16:43:02.009000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003c@!642887713246150666\u003e could you help help us schedule a breakout session to discuss the different approaches to new 2711-like tx functionality?",
        "created_at": "2020-10-02T16:44:42.995000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I think 2718 was fine last I checked as it just does what we discussed multiple times. Consider the first byte as transaction type.",
        "created_at": "2020-10-02T16:44:54.851000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "That is all it does still, right ?",
        "created_at": "2020-10-02T16:45:11.589000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "basically, yes",
        "created_at": "2020-10-02T16:45:24.679000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I hope we can fit sponsoring+batching/richtx+aa+1559 into a single extensible transaction type, so that tooling only needs to support one. I would not be sad if we end up having 3 new transaction types over the years, but I would be very sad if we'd have 15+ to support all kinds of weird combinations.",
        "created_at": "2020-10-02T16:47:04.403000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This is why I really like rich transactions (as progressed in that hackmd), it solves a large set of problems at once (like AA) but without all of the gotchas of AA.",
        "created_at": "2020-10-02T16:52:09.235000+00:00",
        "attachments": null
    },
    {
        "author": "poojaranjan",
        "category": "general",
        "parent": "",
        "content": "\u003e \u003c@!642887713246150666\u003e could you help help us schedule a breakout session to discuss the different approaches to new 2711-like tx functionality?\n\u003c@!543900561460822016\u003e Happy to schedule a breakout session. Moving the conversation to the breakout room channel with suggested dates.",
        "created_at": "2020-10-02T17:55:53.873000+00:00",
        "attachments": null
    }
]