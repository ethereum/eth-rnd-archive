[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "ELs aren't supposed to return `SYNCING` if a block just takes too long to be executed. Erigon may respond `SYNCING` when a re-org induces an execution of a span of blocks.\n\nLarger blocks affecting attestations is what worries me. Of course, it depends on how larger they are -- but I would avoid additional factors that may accidentally affect attestations during the transition, which could be a reason for having more forks and re-orgs, reduced participation rate and so forth.",
        "created_at": "2022-05-26T08:44:05.679000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "Time pressure for developers? Sorry, but to me it sounds crazy to make ‚Äútime pressure‚Äù to ship upgrades ASAP for a network that holds almost half a trillion USD in value.",
        "created_at": "2022-05-26T09:08:16.854000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "IMHO this will only lead to more bugs and more problems in the future",
        "created_at": "2022-05-26T09:08:30.766000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "The merge is a huge upgrade, not just a *yet* another hardfork",
        "created_at": "2022-05-26T09:08:59.874000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "You should be serious about this, as the stakes are **insanely high**",
        "created_at": "2022-05-26T09:09:24.647000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "I know that Ethereum users and investors/VCs want PoS, but almost none of them have idea what is actually behind all this. Huge upgrade requires intense preparation, intense testing and no rush whatsoever.\n\nIntroducing **any** pressure to **rush** developers sounds like an extremely terrible idea. Don‚Äôt forget that the stakes are half a trillion US$.",
        "created_at": "2022-05-26T09:17:24.613000+00:00",
        "attachments": null
    },
    {
        "author": "0xsadcat",
        "category": "general",
        "parent": "",
        "content": "Every day of PoW costs $25M and that's at the current low price. Delaying costs a fortune.",
        "created_at": "2022-05-26T09:49:25.644000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I think no one is talking here about delaying the merge, this is about defusing the bomb",
        "created_at": "2022-05-26T09:59:09.423000+00:00",
        "attachments": null
    },
    {
        "author": "syentist.",
        "category": "general",
        "parent": "",
        "content": "Man it's tiring to read these gaslighting posts by miners every day on the r\u0026d discord. There's no rushing of the developers, the damn spec has been in testing since q4 2021, including a long lived devnet since Q1 2022",
        "created_at": "2022-05-26T10:05:20.476000+00:00",
        "attachments": null
    },
    {
        "author": "syentist.",
        "category": "general",
        "parent": "",
        "content": "Yes but it's also a given that the miners and vested interests will next push the merge date to be as far back as the difficulty bomb allows...it's a two step tango to cripple the eth development roadmap which some have perfected over time",
        "created_at": "2022-05-26T10:07:54.242000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I also noticed how this discord sometimes turns into a lobbying forum... Both Chs2 and AlexSSD7 are from Flexpool. If you scroll through their history you will see how they argued against EIP-1559 and how PoW is supposed to be better than PoS.",
        "created_at": "2022-05-26T10:57:18.279000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "PoS is just a fancy way of referring to shareholder governance or a stakeholder-led system where ownership in the system determines authority in the system.‚Äù\n\n- \n@nic__carter",
        "created_at": "2022-05-26T12:49:43.753000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "Yes it is truly shocking people are concerned about a ~~500billion usd~~ 200billion usd system (ETH  $1759)  that works, being rebuilt into another system, and many are definitly not moving coins away from eth for the transition period because everybody trusts random internet devs entirerly with their fortune, because bad forks have never happened",
        "created_at": "2022-05-26T12:59:43.305000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "We run 5% of the network and collectively hold over 15 million dollars in eth. That makes us stakeholders. At one time it was over 30 million. If you count our customers that rises to a billion+. We also run 9 eth nodes across the world more than any other entity I‚Äôm aware of. Not to mention that we actually develop on eth and other chains. To my knowledge most mining pools want to rush the merge ASAP.\n\nWe‚Äôre looking at 25-30 sec block times by late August which is going to halve the network and wreck dapps. Sushi is down 90% already I have no desire to see this be the final nail in the coffin. ETH network usage has shrunk drastically and high gas will kill us.",
        "created_at": "2022-05-26T13:04:09.937000+00:00",
        "attachments": null
    },
    {
        "author": "treyzania",
        "category": "general",
        "parent": "",
        "content": "This analogy implies that validators are able to overrule the desires of the broader userbase, which they do not, they are bound by the protocol which is dictated by social consensus",
        "created_at": "2022-05-26T13:04:14.264000+00:00",
        "attachments": null
    },
    {
        "author": "0xsadcat",
        "category": "general",
        "parent": "",
        "content": "temporary noticeable reduction in throughput for less than a month is definitely worth it to save billions of dollars in mining rewards",
        "created_at": "2022-05-26T13:30:33.015000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "I think you are failing to grasp that we are taking about the bomb delay, not the PoS delay.",
        "created_at": "2022-05-26T13:31:50.197000+00:00",
        "attachments": null
    },
    {
        "author": "0xsadcat",
        "category": "general",
        "parent": "",
        "content": "delaying the bomb is going to delay PoS by months. there's always something more to test and without the bomb forcing august it's not happening anytime soon.",
        "created_at": "2022-05-26T13:33:19.940000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "So your argument is that the bomb forces devs to skip tests? üòÖ",
        "created_at": "2022-05-26T13:33:46.565000+00:00",
        "attachments": null
    },
    {
        "author": "0xsadcat",
        "category": "general",
        "parent": "",
        "content": "to actually deliver in a reasonable timeframe. there's always a potential reason to delay without pressure",
        "created_at": "2022-05-26T13:34:30.249000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "I think that users, investors and VCs wanting PoS is enough",
        "created_at": "2022-05-26T13:36:24.133000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "You know if there‚Äôs a critical bug that causes ETH to die, then it‚Äôs all for nothing",
        "created_at": "2022-05-26T13:37:05.634000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "So imho better to test more given the stakes",
        "created_at": "2022-05-26T13:37:18.523000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "I personally don‚Äôt think the bomb pushes anyone to rush their work üòÖ no one is working overtime due to it. Holding a knife to the ethereum network thinking it‚Äôll make its developers work free overtime is insanity.",
        "created_at": "2022-05-26T13:37:44.434000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "You guys are mixing two things. The merge is being overly tested, from unit tests, interop, hive testing, scenario testing, fuzzing, fuzzing the network, hardware testing, network stressing, shadow forks, testnets merging, etc. At this point devs are starting to feel more comfortable with the status of their code. Specs are being frozen, code is just ironing out details and UX mostly. The bomb is completely independent. If anything, I claim that not delaying the bomb will delay the merge cause we will have to test a new scenario of larger blocks",
        "created_at": "2022-05-26T13:41:44.433000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "There exists some threshold for testing and quality assurance that it is acceptable to merge at.  One *can* go above and beyond that threshold, but it is unnecessary.  If there is no external pressure, it is very easy to fall into the trap of \"just one more test\" to eek out that extra 0.1% of confidence.  You can essentially do this infinitely, but there are steep diminishing returns.  The argument in favor of the bomb here is that it creates a *light* external pressure (\"light\" because we *can* move it if the pressure is unnecessarily high).\nNote: The above is clarification on an argument someone else made, I am not arguing for or against bomb delay here.",
        "created_at": "2022-05-26T13:42:30.826000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "Oh that‚Äôs true",
        "created_at": "2022-05-26T13:44:36.378000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "If all testing is done - then it‚Äôs good to go",
        "created_at": "2022-05-26T13:44:49.705000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "But I initially assumed that not all testing is made",
        "created_at": "2022-05-26T13:44:58.173000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "(By testing here I mean the testing you planned to do before the merge launch)",
        "created_at": "2022-05-26T13:45:32.816000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "I suspect what forced a lot of users out of eth was the sustained period of 200+ gas. Which we‚Äôre proposing to repeat to save a couple days (and I don‚Äôt think it saves any time as most of the devs working on the merge aren‚Äôt involved it‚Äôs the eth node operators who do most of the work, hell we can do the code ourselves we just need someone to tell us when to schedule it). And it‚Äôs been stated that having high gas and long block times will make it difficult to merge as all the tests have been performed without the bomb which will delay the merge more than the diff bomb pushback.",
        "created_at": "2022-05-26T13:59:34.351000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "If any client devs are around and want to chat about the Ropsten TTD issue on zoom in 10-15, react to this and I‚Äôll send you an invite üëç",
        "created_at": "2022-05-26T14:12:20.624000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@363800010518822915\u003e just in case you're not reading ^",
        "created_at": "2022-05-26T14:16:58.060000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "thanks, I have an mtg during that time, I'll wait for the mtg notes : )",
        "created_at": "2022-05-26T14:23:39.824000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Rough plan so far is to do a manual TTD override, and choose a TTD that's incredibly high so that even if a testnet miner 100x's the hashrate, they can't really mess with it",
        "created_at": "2022-05-26T14:36:14.308000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "And what happens if the attacker stops mining?",
        "created_at": "2022-05-26T14:36:53.701000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "We override no matter what",
        "created_at": "2022-05-26T14:37:02.694000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "odds are when we raise it, they _will_ stop, but if we don't they can continue",
        "created_at": "2022-05-26T14:37:15.924000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Okay, so in that case I suggest:\n  - push TTD to an insanely high level that will not be reached\n  - let ropsten beacon chain launch and activate bellatrix fork\n  - set a realistic TTD as an override",
        "created_at": "2022-05-26T14:38:14.090000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "yeah that would be the plan üôÇ",
        "created_at": "2022-05-26T14:38:47.960000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "The insanely high number we are considering is `100000000000000000000000` which is ~2x the current TD on mainnet",
        "created_at": "2022-05-26T14:57:31.541000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "At current hash rate we'd hit TTD in around 250K years, so that sounds suitable large.",
        "created_at": "2022-05-26T15:00:24.885000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "At one point, I thought we had a minimum activation epoch in the beacon chain. Did this change?",
        "created_at": "2022-05-26T15:10:24.333000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Remind me please... What is the problem of the ttd hitting to early?",
        "created_at": "2022-05-26T15:11:01.266000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "There's no beaconchain yet, the genesis is on monday. So Ropsten will stall",
        "created_at": "2022-05-26T15:11:10.346000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Yes. And?",
        "created_at": "2022-05-26T15:11:19.941000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "details...",
        "created_at": "2022-05-26T15:11:20.455000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "I mean, is three days of stall the most tangible impact?",
        "created_at": "2022-05-26T15:12:00.534000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Once TTD is hit, Ropsten nodes will stop mining and will wait for a beaconchain to take over. Since the beaconchain doesn't exist, Ropsten will stall. \n\nThe beaconchain genesis is Monday, but the Bellatrix fork is active only ~2.5 days later. So we're looking at ~6 days stall in the case we do nothing.",
        "created_at": "2022-05-26T15:12:41.275000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "It's not just a stall: non-upgraded nodes will keep mining on Ropsten so it's more like a re-org",
        "created_at": "2022-05-26T15:13:04.076000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Yep. Which they will do in any case though",
        "created_at": "2022-05-26T15:13:25.557000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Right, but it's more credible to say \"you aren't mining the canonical chain\" when there is another chain you can point to",
        "created_at": "2022-05-26T15:13:54.410000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Wut. The whole point of merging is to not mine on it :)",
        "created_at": "2022-05-26T15:14:36.673000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Also worth noting that this isn't a scenario we've tested (given it's incredibly unlikely on mainnet), so I'd expect many clients to have weird issues triggered by this",
        "created_at": "2022-05-26T15:14:38.336000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Yes!! Which is great!",
        "created_at": "2022-05-26T15:14:54.895000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm weaking with Martin on this.  I think there is value in testing this edge case, just so we understand what breaks and why.",
        "created_at": "2022-05-26T15:15:33.355000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Let's put it through the fire now, and have the easy merge on mainnet",
        "created_at": "2022-05-26T15:15:37.260000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think the open question is whether having Ropsten offline for 3 days is going to negatively impact anyone in a significant way.",
        "created_at": "2022-05-26T15:16:03.813000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Given that it is one of the public testnets, it would be nice if it is *generally* online, but this would also help get word out that we are deprecating it.",
        "created_at": "2022-05-26T15:16:32.231000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Ppl will probably keep ropsten pow up, without noticing what we're doing :)",
        "created_at": "2022-05-26T15:17:03.288000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We can think of it as a mechanism to signal to the world that Ropsten is dying soon.  üòÑ",
        "created_at": "2022-05-26T15:17:05.884000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yes, likely, and after 3 days we'll see a \"chain split\" and people will then think to ask \"why are there two Ropstens\" and the answer will be \"Ropsten is dead, use Sepolia!\"",
        "created_at": "2022-05-26T15:17:50.775000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Though, I guess if people PoW mine Ropsten in *either* case (whether we have an outage or not) then we get that particular signal either way.  ü§î",
        "created_at": "2022-05-26T15:18:41.374000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Con: 3 day Ropsten outage.\nPro: We have an opportunity to test a real world chaos scenario and see what breaks.",
        "created_at": "2022-05-26T15:19:16.836000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "It's gonna be a ~6 day outage - 3 days to genesis + 3 more days to activate Bellatrix.",
        "created_at": "2022-05-26T15:20:27.628000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Even more interesting of a failure then.  üòÑ",
        "created_at": "2022-05-26T15:20:43.114000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "general",
        "parent": "",
        "content": "I think having the first public testnet switching to PoS halting for 6 days will send a bad signal. It will decrease a lot the confidence from users in us being able to deliver a successful Merge.",
        "created_at": "2022-05-26T15:21:42.032000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I'd really rather not see this happen.  It isn't something that will happen on mainnet (because the beacon chain has already launched) and what do we do if it fails?  Add more code to fix an issue that won't happen on mainnet, and potentially introduce bugs in the common case as a result?",
        "created_at": "2022-05-26T15:22:04.627000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We can create a blog post in advance and anytime someone mentions the \"failure\" on Twitter we can just link to it and say, \"it was known, accepted, and planned\".",
        "created_at": "2022-05-26T15:22:17.109000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It depends on what exactly fails.  The failure may bring to light an issue that *could* happen on mainnet.",
        "created_at": "2022-05-26T15:22:44.475000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The other option is to set the TTD to just after beacon launch (at current hashrate) and then fork over the money to mine heavily when the current \"attacker\" stops.  IIRC it isn't *that* expensive to do 10x current Ropsten.",
        "created_at": "2022-05-26T15:23:26.071000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Then test this specific case standalone, not as part of a testnet upgrade.",
        "created_at": "2022-05-26T15:23:50.406000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "This is an awesome testnet scenario... for a shadowfork.. or something like it.. that said, I would advise against having this scenario for the first public testnet...  having a successful and clean merge sends a huge shot in the arm of confidence to keep the momentum rolling ..",
        "created_at": "2022-05-26T15:25:20.429000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "from my lens, the \"extremely high\" TTD until the new home is ready is the right path..",
        "created_at": "2022-05-26T15:26:20.155000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't think we should be prioritizing public perception in how we deal with testnets.  We should be using the testnets to test things, and this particular testnet surfaced an interesting scenario that we can test.",
        "created_at": "2022-05-26T15:28:02.686000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "It's not just perception, it's the UX for people trying to run through the merge onRopsten",
        "created_at": "2022-05-26T15:28:47.167000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "We could setup a new beaconchain that starts tomorrow and does bellatrix on Saturday",
        "created_at": "2022-05-26T15:33:15.128000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I think its unresponsible to one day say you are merging Ropsten on 6th, but then cancel it one week before and instead test some scenario which not only is unlikely to happen to mainnet, but might also break Ropsten.",
        "created_at": "2022-05-26T15:33:36.255000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "So we would only need releases on CL",
        "created_at": "2022-05-26T15:33:38.359000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "And only the validators (run by us) would need to update their nodes",
        "created_at": "2022-05-26T15:34:19.713000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If people believe that we were \"merging Ropsten on the 6th\" then it means our communication has failed.",
        "created_at": "2022-05-26T15:34:30.868000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The Merge very explicitly cannot be timed.",
        "created_at": "2022-05-26T15:34:40.412000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "That was basically what we decided?",
        "created_at": "2022-05-26T15:34:42.220000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "It was decided you will adjust TTD / spin up additional miners to make it accurate",
        "created_at": "2022-05-26T15:34:56.182000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We picked numbers that *targeted* the 6th, but we **cannot** time The Merge effectively.",
        "created_at": "2022-05-26T15:34:58.124000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This is equally true for mainnet!  We cannot decide when Ethereum Mainnet merges, and we definitely should be making that clear to people.",
        "created_at": "2022-05-26T15:35:23.347000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "https://discord.com/channels/595666850260713488/745077610685661265/976850843724828675",
        "created_at": "2022-05-26T15:35:58.533000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "That was the communication",
        "created_at": "2022-05-26T15:36:26.114000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My assumption is that the people who are in this server are more aware of the subtleties of statements like that.  If the same messaging went out in Ethereum blog posts and Tweets we should probably adjust for clarity.",
        "created_at": "2022-05-26T15:37:07.868000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "general",
        "parent": "",
        "content": "getting to TTD before launching beacon chain reminds me of doctors inside joke: \"Surgery was successful, although the patient died\"",
        "created_at": "2022-05-26T15:38:00.308000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Messaging aside, I think chainsafe, nethermind, besu, prysm and Marius from Geth + Pari/Mikhail agree about override TTD to a large value",
        "created_at": "2022-05-26T15:38:36.602000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Given we don't have much time, that the \"testing\" scenario for Ropsten is one of mixed value (e.g. not something we'd hit on mainnet) and that we wanted to fork Ropsten early in the process to give people a chance to run through the merge, I'd push towards bumping the TTD",
        "created_at": "2022-05-26T15:39:27.769000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "If we can't push the beaconchain out today as marius said, this sounds like the way to go",
        "created_at": "2022-05-26T15:41:06.804000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "In practice, this means: \n1. Users who _already_ upgraded their nodes need to do a TTD override (including most of the genesis beacon chain validators, but these are controlled by clients/testing teams)\n2. Clients need to put out a new release with the XXL TTD value\n3. We announce this in a blog post early next week, and tell users they will need to do a TTD override ~1 week from then \n4. After Bellatrix, we pick a new TTD value we expect to hit around June 8ish and communicate it to users.",
        "created_at": "2022-05-26T15:41:20.026000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "this means we don't get downtimes/\"re-orgs\" on Ropsten, that users have a warning about what is about to happen, and that we \"exercise the TTD override muscle\" in the community in case we need to do it on mainnet (although on mainnet it would be because hashrate falls rather than rises)",
        "created_at": "2022-05-26T15:42:23.732000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "If clients have the bandwidth, it would be nice to see 5. Another client release with final TTD to test the happy flow of not overriding",
        "created_at": "2022-05-26T15:42:23.813000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "\u003c@881297754343739432\u003e we could do that, but if we pick TTD close to when we expect the merge to happen, you want the default path to be \"do a TTD override\" just to save time",
        "created_at": "2022-05-26T15:42:53.758000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "fwiw, we should expect a similar hashpower surge for goerli as well.. and deploy accordingly..",
        "created_at": "2022-05-26T15:44:37.429000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e \u003c@211091239112671234\u003e I think if we want to test this weird edge case around beacon chain/bellatrix/ttd ordering, we should do it on Kurtosis/shadow forks first as we'll probably hit the same issues we would have on Ropsten",
        "created_at": "2022-05-26T15:44:57.150000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Goerli is poa, so no hashpower surging there",
        "created_at": "2022-05-26T15:45:26.375000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "This isn't a problem for Goerli, because of Clique, but will be for Sepolia given it is PoW. It then gives us the chance to do it again üòÑ",
        "created_at": "2022-05-26T15:45:33.644000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "gotcha..",
        "created_at": "2022-05-26T15:45:38.156000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "But we should set up the beacon chains way earlier",
        "created_at": "2022-05-26T15:45:40.385000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "yeah, starting beacon chain before defining TTD prevents this issue entirely",
        "created_at": "2022-05-26T15:46:12.644000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "agreed, but we'll still need to time Bellatrix/TTD relatively close",
        "created_at": "2022-05-26T15:46:13.640000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Why?",
        "created_at": "2022-05-26T15:46:41.508000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Re: the new TTD, we had soft-agreed on the earlier zoom to use `100000000000000000000000` which should be ~2x the current TD on mainnet. Can someone sanity check it?",
        "created_at": "2022-05-26T15:46:45.864000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Bellatrix needs a TTD in it, so we need client releases with that TTD a week or two before it hits. Estimating TTD far in the future gets tricky, so if we pick a TTD for Bellatrix, it should be \"the\" TTD and therefore we can release EL clients as well.",
        "created_at": "2022-05-26T15:48:12.650000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Hmm, we can't just do things in the correct order?",
        "created_at": "2022-05-26T15:48:38.620000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "so I think we basically have to do the same thing for Sepolia: if we pick a TTD that we expect to hit \"just on time\", someone can mess with it due to the low hashrate, so we need to pick a large one",
        "created_at": "2022-05-26T15:48:39.629000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Why does bellatrix need a ttd?",
        "created_at": "2022-05-26T15:48:52.817000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "1. Launch beacon chain.\n2. Set TTD in the future.\n3. Wait for TTD to be reached.\n4. Set fork block for next fork.\n5. Wait for fork block to be reached.",
        "created_at": "2022-05-26T15:49:14.547000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "How do CL clients know if TTD has been exceeded?",
        "created_at": "2022-05-26T15:49:14.756000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I mean, you can do that, but you have downtime on the network, and it's not ideal?",
        "created_at": "2022-05-26T15:49:36.113000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "There isn't downtime if we do things in proper order.",
        "created_at": "2022-05-26T15:49:47.018000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The problem here is that we did things out of order.  We set TTD before launching the beacon chain.",
        "created_at": "2022-05-26T15:49:59.804000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Between 3 + 4",
        "created_at": "2022-05-26T15:50:03.611000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Why is there downtime between 3 and 4?",
        "created_at": "2022-05-26T15:50:17.910000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "You could still have the same issue if TTD is hit before CL clients have activated Bellatrix, no?",
        "created_at": "2022-05-26T15:50:24.798000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "There won't be downtime on mainnet between The Merge and Shanghai (because we do everything in the correct order).",
        "created_at": "2022-05-26T15:50:25.441000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Does Bellatrix need to happen after beacon chain launch and before The Merge?",
        "created_at": "2022-05-26T15:51:03.021000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Yes",
        "created_at": "2022-05-26T15:51:19.158000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "(I don't follow CL forks closely)",
        "created_at": "2022-05-26T15:51:22.013000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Bellatrix is \"CL is ready for The Merge and starts listening for a TTD to be hit\"",
        "created_at": "2022-05-26T15:51:27.630000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "(Fun aside: our Ropsten miner friend has also lowered the gas limit to ~50k)",
        "created_at": "2022-05-26T15:51:55.869000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In that case the order should be:\n1. Launch Beacon chain.\n2. Set Slot for Bellatrix.\n3. Wait for slot.\n4. Set TTD for Merge.\n5. Wait for Merge.\n6. Rejoice.",
        "created_at": "2022-05-26T15:52:05.987000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "You can do (1) and (2) at the same time presumably, but I'm guessing there is a reason we want to have it actually go through the \"forking\" process.",
        "created_at": "2022-05-26T15:52:49.172000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "You need the TTD before (2)",
        "created_at": "2022-05-26T15:53:15.394000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We shouldn't.  If we do then that is a design flaw we *definitely* should fix.",
        "created_at": "2022-05-26T15:53:30.025000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Why?",
        "created_at": "2022-05-26T15:53:36.694000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "How can the CL know when to take over?",
        "created_at": "2022-05-26T15:53:41.699000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "",
        "created_at": "2022-05-26T15:54:02.479000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "screenshot_2022-05-26-165329.png",
                "content": "d5e6999b10d0d05424d2b5f284c597caed92d589538e216a602b1a2146a182db"
            }
        ]
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Lets take a step back and someone explain to me what exactly Bellatrix is.  üòÑ",
        "created_at": "2022-05-26T15:54:04.320000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Is Bellatrix just the client patch for consensus clients that asserts merge TTD, just as the execution clients will have a patch that asserts TTD?",
        "created_at": "2022-05-26T15:54:36.447000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Or does it contain actual consensus changes that need to be executed prior to The Merge?",
        "created_at": "2022-05-26T15:54:43.539000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "We have 2 TTDs.\n\nThe first is the insanely large one, which stops the execution chain from trying to move to PoS.  We need that before anything else.\n\nThe second is the realistic one, which we set after bellatrix has activated.",
        "created_at": "2022-05-26T15:55:24.857000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "^ on ropsten (and likely Sepolia). On mainnet, we can do this with 1 TTD only because our estimations can be much better",
        "created_at": "2022-05-26T15:56:23.947000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm talking about Sepolia.  IIUC, \u003c@552133098075193354\u003e is claiming that we *cannot* do \"Sepolia\" correctly, and the design of the current system is dependent on hashrate being predictable.  If that is the case, I would argue that is a pretty big design failure.  I prefer to believe that Tim is wrong here though.  üòÑ",
        "created_at": "2022-05-26T15:56:36.418000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I _think_ I'm right (assuming we don't want downtime on Sepolia).",
        "created_at": "2022-05-26T15:57:18.260000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "I agree that needing a client to know the TTD when shipping bellatrix is a design flaw.\nThe ttd should just be a settable via a config parameter, no?",
        "created_at": "2022-05-26T15:57:47.112000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "To validate that you are right, I think I need to first understand what exactly Bellatrix is.  üòÑ",
        "created_at": "2022-05-26T15:57:49.301000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I think we can estimate a lower bound on mainnet cause we can't realistically see a x100 hashrate increase. That's what matters.",
        "created_at": "2022-05-26T15:57:54.518000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "What code changes exist in Bellatrix?",
        "created_at": "2022-05-26T15:58:09.351000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Specifically, what *consensus* changes exist in Bellatrix?",
        "created_at": "2022-05-26T15:58:20.219000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "You'd have to define \"correctly\".  As it stands, we can pick a value for TTD but we cannot control what happens to the hash rate.  What we can do is adjust the TTD if the hash rate changes significantly through the use of the TTD override.\n\n(Although as we have seen with ropsten, we can't protect against changes in hash rate that are significant multiples of the current value).",
        "created_at": "2022-05-26T15:58:23.510000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Disagree here - IMO it's totally fine given mainnet (and good that the EL + CL can sanity check each other), and a factor of PoW being unreliable on testnets",
        "created_at": "2022-05-26T15:59:03.891000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My assumption prior to this conversation was that we could *always* pick a TTD that was in the future and the order of events could not be broken by hashrate changes.  What I'm hearing is that the *order* of events can be broken by hashrate changes.",
        "created_at": "2022-05-26T15:59:12.514000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "yes, but huge changes which we don't see on mainnet",
        "created_at": "2022-05-26T15:59:29.245000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "on mainnet, the likely scenario is that hashrate drops",
        "created_at": "2022-05-26T15:59:39.067000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This we can do for mainnet",
        "created_at": "2022-05-26T15:59:43.377000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "in that case, TTD happens \"later\"",
        "created_at": "2022-05-26T15:59:44.300000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My prior understanding was that we could execute a series of operations and be certain about the order, but uncertain about the time between each step.",
        "created_at": "2022-05-26T15:59:48.704000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "You are saying that we do not have such a series of events, and hashrate changese can cause *ordering* of events to change.",
        "created_at": "2022-05-26T16:00:05.969000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "It's not fine (we see it playing out right now), doesn't matter though, we should focus on the things at hand",
        "created_at": "2022-05-26T16:00:30.150000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Under the assumption that hashrate is stable.  This is a *more* correct assumption for mainnet, but I still think a bad design to rely on.",
        "created_at": "2022-05-26T16:00:31.824000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We should have a design that allows us to have certainty about order, and uncertainty about timing.",
        "created_at": "2022-05-26T16:01:01.886000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I assumed the process went something like this:\n1. Launch beacon chain.\n2. Launch execution and consensus clients that can execute The Merge via config override TTD (no consensus changes in this release).\n3. Agree on TTD.\n4. Launch execution and consensus clients that have a hard-coded TTD (no consensus changes in this release).\n5. Wait for TTD (which could be minutes after the client releases, or months after).\n6. Rejoice.",
        "created_at": "2022-05-26T16:02:55.148000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "5 can‚Äôt be minutes or months on mainnet",
        "created_at": "2022-05-26T16:03:32.599000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "It has to be days/weeks",
        "created_at": "2022-05-26T16:03:36.963000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "not true, this is under the assumption that hashrate \u003c someamount, not necessarily stable, but that it has an upper bound",
        "created_at": "2022-05-26T16:03:42.801000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "this assumption is necessarily true given the amount of GPU in the world",
        "created_at": "2022-05-26T16:03:55.928000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Sure, predictability on mainnet is *easier* than on testnets, but the point is that the *order* of events should be fixed and no amount of changes to hashrate should be able to alter the *order*.",
        "created_at": "2022-05-26T16:04:29.546000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I still would like to understand what consensus changes are in Bellatrix.  Does anyone know?",
        "created_at": "2022-05-26T16:05:13.005000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Yeah, I think this has been a known design feature for quite some time, for which we underestimated the likelihood of testnet issues",
        "created_at": "2022-05-26T16:05:38.146000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "`s/feature/flaw/`  üòÑ",
        "created_at": "2022-05-26T16:05:57.364000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "https://hackmd.io/ngKLqVvvTTGZLj1bGPuCoA Can all client teams please check it and react with their emoji?\n\u003c@\u0026836981603216654336\u003e \u003c@\u0026652918665943056397\u003e \u003c@\u0026688101493978562687\u003e \u003c@\u0026595683849225240704\u003e \u003c@\u0026595683609080365088\u003e \u003c@\u0026595681804422479873\u003e",
        "created_at": "2022-05-26T16:06:04.199000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Nethermind supports environment variable override as well as config file override.",
        "created_at": "2022-05-26T16:06:36.785000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "May be valuable to list each style, just like with Besu.",
        "created_at": "2022-05-26T16:06:44.047000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I think the Ropsten issue is being overcomplicated. It simply has weak PoW and someone decided to try to break it. It's purely a testnet issue. Something like that won't happen on mainnet ‚Äì first, it would be way more expensive; second, unlike Ropsten, mainnet beacon chain already exists so if I understand everything correctly, there wouldn't be any mainnet downtime even if TTD is reached earlier; it would just merge sooner.",
        "created_at": "2022-05-26T16:08:20.347000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Not if the bellatrix fork is scheduled badly (and this is the core issue, which is not great)",
        "created_at": "2022-05-26T16:09:50.197000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "IIUC, the last point is not true.  If there is a sufficiently large increase in hashrate on mainnet (arguably an unrealistically large increase) mainnet will go offline.",
        "created_at": "2022-05-26T16:09:51.156000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This is the design flaw that I'm currently raging against.  Picking a bad number shouldn't result in a mainnet outage.  We should design the system so picking a bad number means the merge happens earlier/later than planned but it isn't possible to brick Ethereum with a bad number.",
        "created_at": "2022-05-26T16:10:41.593000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "An unrealistically large number being the key point. \n\nOn mainnet we'd do releases such that Bellatrix happens ~1-2 weeks after releases + TTD 1-2 weeks after that. Even if we see a 2x increase in hashrate, it should still not affect anything. Hashrate dropping off is more realistic for mainnet. \n\nThe issue on Ropsten occurred because of the low hashrate, we saw a 30x (minimum) increase since last night and didn't expect such a change. A 2x change to ropsten hashrate wouldn't have warranted a discussion.",
        "created_at": "2022-05-26T16:12:20.258000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "A person at a previous job always liked to say, \"Computers don't fail, humans do.  Design your systems so that a human failure won't break anything.\"  The context was that you shouldn't assume that the human operator will enter the correct commands, pick the right values, use the right filenames, etc.  You should assume that the humans will screw up but the system should be resilient to those failures (e.g., testing, error checking, redundancy, etc.).",
        "created_at": "2022-05-26T16:12:21.685000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In line with the above analogy, this reduces to: \"Trust that the humans will pick good numbers.\"  I'm arguing that we should instead design the system so the humans can't pick catastrophic numbers, they can just pick \"annoying\" numbers.",
        "created_at": "2022-05-26T16:14:19.351000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "A mainnet outage is a catastrophic failure, and even though it is very unlikely that we'll pick that poorly, I would be much more comfortable knowing that we *can't* pick catastrophically.",
        "created_at": "2022-05-26T16:14:48.472000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Especially since the current design means we cannot test a legitimate PoW =\u003e PoS merge on a public testnet.",
        "created_at": "2022-05-26T16:15:05.936000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "I think we all get the issue at hand now, can we move the discussion for why this is bad engineering to consensus-dev and focus ACD on how to get this fixed now?",
        "created_at": "2022-05-26T16:15:11.137000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I don't know if it matters, but the miner pushing Ropsten has set the gas limit to 53",
        "created_at": "2022-05-26T16:27:26.914000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Yeah, I think this shows they are \"malicious\"",
        "created_at": "2022-05-26T16:27:51.263000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Hmm... Is there a command-line flag for overriding TTD on prysm?  And if not, will it take a `--chain-config-file` with just the new terminal difficulty in it?\n\nAlternatively: what to do to a prysm beacon node that currently specifies `--ropsten` to override the TTD?",
        "created_at": "2022-05-26T16:28:28.150000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Just seen exactly this being discussed in #interop, will head there",
        "created_at": "2022-05-26T16:30:10.889000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "I've changed the --ropsten flag to use the specified configs instead, check here: https://notes.ethereum.org/@launchpad/ropsten",
        "created_at": "2022-05-26T16:38:32.802000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "how will this impact validators' ability to make deposits?  Is the plan to have 100k validators? (https://github.com/ethereum/pm/issues/525)",
        "created_at": "2022-05-26T16:40:52.372000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "\u003c@\u0026836981489430036500\u003e \u003c@\u0026595681771690000403\u003e",
        "created_at": "2022-05-26T16:46:08.709000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "We discussed this scenario last acd, I'm fairly sure. As I recall we said we'd accept some Ropsten downtime if it t happened",
        "created_at": "2022-05-26T16:47:36.238000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "\u003e On mainnet we'd do releases such that Bellatrix happens ~1-2 weeks after releases\n\nIMO that timing sounds risky and if that's the intent it should communicated well ahead of time that current validators need to start syncing an EL asap.  I suspect most people will wait until they actually have a EL/CL pair that can talk to each other on mainnet to start syncing the other they weren't running before.",
        "created_at": "2022-05-26T16:50:04.145000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "To chime in here who knows if this is malicious or innocent. Testnets exist for testing someone could be testing their own thing clueless to what‚Äôs going on or could think they are helping by joining the testnet. This isn‚Äôt a large amount of hashrate compared to mainnet just large compared to the cpu eth mining most devs do.",
        "created_at": "2022-05-26T16:50:31.496000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "no, I think that lowering the block gas limit to a super low value is \"sophisticated\" enough that it points to malice",
        "created_at": "2022-05-26T16:53:05.174000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "Ah I didn‚Äôt realize that was done üòÖ wouldn‚Äôt someone attacking raise it super high though?",
        "created_at": "2022-05-26T16:54:10.228000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "not if you want to stop people form using the testnet, both are malicious",
        "created_at": "2022-05-26T16:54:30.492000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "Sorry to hear that.",
        "created_at": "2022-05-26T16:56:37.044000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "c'est la vie",
        "created_at": "2022-05-26T16:57:08.363000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I want to see them trying the same on Goerli though :)",
        "created_at": "2022-05-26T17:04:39.896000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Can someone double check this pls:\n`[]byte{0x15, 0x2D, 0x02, 0xC7, 0xE1, 0x4A, 0xF6, 0x80, 0x00, 0x00}), // 100_000_000_000_000_000_000_000`",
        "created_at": "2022-05-26T17:14:49.071000+00:00",
        "attachments": null
    },
    {
        "author": "dirigible6945",
        "category": "general",
        "parent": "",
        "content": "Can we add this Ropsten discussion to tomorrow's agenda?",
        "created_at": "2022-05-26T17:21:05.151000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "No doubt about that^^",
        "created_at": "2022-05-26T17:22:12.652000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "general",
        "parent": "",
        "content": "Crazy idea... put the TTD in a smart contract, updatable by client teams via multisig. EL and CL pull it from there. I hear that blockchains are supposed to be good for solving coordination problems. The achilles heel is that miners might be motivated to censor update transactions. But if some of the hashrate is honest it would be ok.",
        "created_at": "2022-05-26T17:31:26.350000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "I was just about to say something similar but didn't know if this had already been discussed early on.",
        "created_at": "2022-05-26T17:39:19.559000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "So it adds a bit of technical complexity but reduces coordination complexity?",
        "created_at": "2022-05-26T17:39:55.155000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "ya it makes all the coordination on-chain vs having to get the ecosystem to upgrade configs or clients at the last minute",
        "created_at": "2022-05-26T17:40:42.309000+00:00",
        "attachments": null
    },
    {
        "author": "yokem55",
        "category": "general",
        "parent": "",
        "content": "That helps the execution clients set the ttd, but consensus clients would still need external coordination. And just putting the value into a contract doesn't answer how or who sets that value to begin with, or what address the canonical 'ttd value' contract will live at.",
        "created_at": "2022-05-26T17:48:17.488000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "couldnt CL get it from contract events the same way it gets deposit info?",
        "created_at": "2022-05-26T17:49:39.834000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "general",
        "parent": "",
        "content": "Consensus cilents already read the Eth1 chain - we need to see the deposits. Alternatively the Eth1 client just exposes the number via the EngineAPI.",
        "created_at": "2022-05-26T17:49:47.115000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Imo we should not announce this as urgent, and \"require everyone\" to do things, like update nodes in a rush... This concerns only ppl who wants to use/mine on ropsten. It's a testnet. Let's not give it the perception of an actual security-issue...",
        "created_at": "2022-05-26T17:50:56.900000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Agreed re: the perception of a  security issue, but we do need \"everyone\" to upgrade their nodes regardless given the fork is happening",
        "created_at": "2022-05-26T17:52:08.221000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "No. We don't _need_. We might _need_ things to happen at some future point, when it affects mainnet. Right now, we just think it would be nice if xxx, because otherwise ropsten is borked to some degree",
        "created_at": "2022-05-26T17:55:32.644000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Got it, I think we agree and my \"everyone\" was \"everyone who cares about Ropsten\". Most client releases with the current TTD do roughly indicate that, e.g. https://github.com/sigp/lighthouse/releases/tag/v2.3.0-rc.0",
        "created_at": "2022-05-26T17:56:51.173000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "So ideally client teams have similar releases with the new TTD so that users who do want to upgrade for Ropsten have an easier time doing so, but if people just case about mainnet they shouldn't have to do anything",
        "created_at": "2022-05-26T17:57:52.181000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm against this for the same reason I'm against all forms of on-chain governance.  Every change should be opt-in, never opt-out.  This would make it so some multisig can set the TTD to whatever they want and users would have to opt-out of that change to the ruleset.",
        "created_at": "2022-05-26T17:59:09.045000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "That goes against the core principles of any cryptocurrency",
        "created_at": "2022-05-26T18:05:43.256000+00:00",
        "attachments": null
    },
    {
        "author": "alexssd7fp",
        "category": "general",
        "parent": "",
        "content": "There is nothing that governs it, and introducing something like this is just outrageous",
        "created_at": "2022-05-26T18:06:16.431000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Given that this is becoming contentious, can we move it to \u003c#595721451651465227\u003e ?",
        "created_at": "2022-05-26T18:06:47.210000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "**Friendly reminder: AllCoreDevs is at 14:00 tomorrow**\nAgenda: https://github.com/ethereum/pm/issues/528\nStream: https://youtu.be/5mMd-XHAv2Q \n\nI doubt we make it past merge-related stuff, so if people who wanted to discuss another topic don't want to sit through 85-90 minutes of merge content and be squeezed in 1-5 minutes, happy to move you to the next call üôÇ",
        "created_at": "2022-05-26T18:25:08.144000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "`INFO [05-26|20:29:52.907] Legacy sync reached merge threshold      number=12,308,106 hash=a6fbe9..bdbf28 td=43,532,321,247,089,466 ttd=43,531,756,765,713,534`\nüéâ",
        "created_at": "2022-05-26T18:30:56.463000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "https://twitter.com/vdWijden/status/1529895417881800714",
        "created_at": "2022-05-26T18:41:31.134000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "have the EF/Client validators already made their deposits to the deposit contract?",
        "created_at": "2022-05-26T18:43:54.071000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Our deposits are built into the beacon chain genesis block, no need for transactions on chain",
        "created_at": "2022-05-26T18:44:37.478000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "ok great.  I saw the ropsten miner making deposits to the deposit contract and got worried",
        "created_at": "2022-05-26T18:45:08.796000+00:00",
        "attachments": null
    },
    {
        "author": "tokey1475",
        "category": "general",
        "parent": "",
        "content": "but he should only be able to afford on the order of thousands of validators",
        "created_at": "2022-05-26T18:45:40.219000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Is that logging in a tight loop for you too or is that still somehow unique to my setup?",
        "created_at": "2022-05-26T19:08:13.689000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Nope that looks to be in a tight loop, will fix tomorrow",
        "created_at": "2022-05-26T19:08:49.222000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Heads up, I'll link this in the Ropsten fork announcement post, in case any client teams want to add more clarifications or link to their full docs.",
        "created_at": "2022-05-26T20:27:19.648000+00:00",
        "attachments": null
    }
]