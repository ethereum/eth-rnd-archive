[
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "I posted a link to the Draft spec for Berlin. I'd appreciate some help getting the word out. https://twitter.com/JHancock/status/1351519606590955522?s=20\n\nIt will help to funnel people there and to me for questions. As we approach readiness we'll have more updates.",
        "created_at": "2021-01-19T13:24:13.815000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "How feasible would it be for a precompile to have storage? Theoretically, anyway.",
        "created_at": "2021-01-19T18:54:46.832000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "how is that different from keeping state in a contract that just uses the precompile?",
        "created_at": "2021-01-19T19:22:23.930000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "if we put aside the gas costs from calling overhead b/t the precompile and the contract",
        "created_at": "2021-01-19T19:22:43.320000+00:00",
        "attachments": null
    },
    {
        "author": "prestwich",
        "category": "general",
        "parent": "",
        "content": "precompiles are only passed a byte vector and have no access to state rn. hyptothetically you could pass in a reference to the state db and allow them to make arbitrary state changes. Celo has made this change, but all existing precompiles read state without writing. This feels like a layer violation to me",
        "created_at": "2021-01-19T19:25:28.321000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Planning on doing a write-up comparing the EIPs for transaction packages vs https://eips.ethereum.org/EIPS/eip-3074 and wanted a general feel for how difficult that would be.",
        "created_at": "2021-01-19T19:34:29.434000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Hm, so it's possible, but there might be philosophic objections?",
        "created_at": "2021-01-19T19:35:15.993000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yeah that is what i was getting at",
        "created_at": "2021-01-19T19:35:30.794000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "as long as you have serial execution inside the EVM (like we do now and for the foreseeable future) you could have precompiles mutate state but why not just leave it in userspace, much like we do already",
        "created_at": "2021-01-19T19:36:04.950000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i'm not up to speed on these transaction pkgs though...",
        "created_at": "2021-01-19T19:36:20.870000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "3074 needs the precompile to own the state to prevent replay attacts. Wouldn't work in the contract layer.",
        "created_at": "2021-01-19T19:37:41.780000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "having a special \"system\" contract is functionally equivalent",
        "created_at": "2021-01-19T19:38:17.217000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "and less of a change from current semantics",
        "created_at": "2021-01-19T19:38:28.643000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "I'm not familiar with system contracts. Is that a protocol thing, or do you mean an agreed upon standard contract to do something specific?",
        "created_at": "2021-01-19T19:39:18.170000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "protocol thing -- so, for example, we all agree the address `0xfeefeefeefee...`  has the bytecode and state necessary to host this special state",
        "created_at": "2021-01-19T19:40:21.696000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "that would go \"in the precompile\" under the alternative design",
        "created_at": "2021-01-19T19:40:34.385000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "this way keeps the precompile state free",
        "created_at": "2021-01-19T19:40:44.216000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "then you can do things like \"if a client gets msg to `0xfeefeefee...` then apply these special rules",
        "created_at": "2021-01-19T19:41:10.771000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "this is how account abstraction is being implemented w/ the `0xffff` sender afaik",
        "created_at": "2021-01-19T19:42:00.816000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "same idea",
        "created_at": "2021-01-19T19:42:03.521000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Account abstraction sets the origin to `0xffff...` and caller to `0xfffff...` in the first frame of execution",
        "created_at": "2021-01-19T19:44:08.290000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "I suppose \"precompile\" is just the wrong word for this I guess.",
        "created_at": "2021-01-19T19:44:33.325000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "so all i mean is just some special part of the EVM state that is not usually reachable",
        "created_at": "2021-01-19T19:44:37.944000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Makes sense",
        "created_at": "2021-01-19T19:44:48.325000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Basically you're saying we can have storage for calls into a specific address *with special behaviour*, but \"precompile\" is a specific term that might not apply.",
        "created_at": "2021-01-19T19:45:25.200000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "ya",
        "created_at": "2021-01-19T19:45:38.321000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Hopefully that edit doesn't change things ðŸ˜›",
        "created_at": "2021-01-19T19:46:03.949000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "precompile: code execution that happens outside the EVM",
        "created_at": "2021-01-19T19:46:07.718000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "if you can do it inside the EVM it is likely better",
        "created_at": "2021-01-19T19:46:18.232000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Alright, thanks!",
        "created_at": "2021-01-19T19:47:23.235000+00:00",
        "attachments": null
    },
    {
        "author": "prestwich",
        "category": "general",
        "parent": "",
        "content": "system contracts would be a new feature so you'll have to specify exactly what that means",
        "created_at": "2021-01-19T20:54:34.125000+00:00",
        "attachments": null
    }
]