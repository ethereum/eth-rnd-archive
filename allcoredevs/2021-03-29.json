[
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "ü§î This would be valuable.  Solidity team would be able to integrate the information into their docs and we can try to get it published/linked in various places developers are likely to stumble across.",
        "created_at": "2021-03-29T06:29:43.564000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "`ethereum/pm` repo update: agendas are issues again. See this Friday's here: https://github.com/ethereum/pm/issues/289 \n\nI've created two labels to separate agenda items (\"topic\") from the agendas themselves (\"agenda\"). If you want to discuss something on the call, just add it to the agenda as a comment and link the topic issue. Didn't open any agendas farther out than next call since we didn't use them, but that's easy to do if we want to.",
        "created_at": "2021-03-29T16:04:33.538000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "general",
        "parent": "",
        "content": "\u003c@!552133098075193354\u003e I thought we flat out rejected 3322 last time?",
        "created_at": "2021-03-29T16:06:23.332000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "enshrining \"gas tokens\" into the protocol gets a strong üëé from me.",
        "created_at": "2021-03-29T16:08:09.572000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I'll re-listen to the recording, but it wasn't super clear to me. Let me have a look and update, thanks üëç",
        "created_at": "2021-03-29T16:15:11.733000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "In the meantime, another `pm` update: we now have a Merge section üéâ https://github.com/ethereum/pm/blob/master/Merge/merge.md\n\nFirst public call organized by \u003c@!425572898787426305\u003e this week: https://github.com/ethereum/pm/issues/290 \n\nThey won't be livestreamed, but we'll upload the recordings to the EF channel afterwards üëç",
        "created_at": "2021-03-29T16:16:41.241000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "And because we now have a ton of meetings to keep track of, \u003c@!291925846556540928\u003e \u003c@!543900561460822016\u003e and myself will be maintaining a google calendar with the times of the various calls. You can subscribe here: https://calendar.google.com/calendar/u/0?cid=Y191cGFvZm9uZzhtZ3JtcmtlZ243aWM3aGs1c0Bncm91cC5jYWxlbmRhci5nb29nbGUuY29t",
        "created_at": "2021-03-29T16:18:54.695000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I *do* think there is validity in the argument that state growth is a function of long term time and it isn't an instantaneous resource like solar energy or network bandwidth (use it or lose it).",
        "created_at": "2021-03-29T16:35:36.212000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "What we *want* to target is a well defined rate of state growth, and if state growth is seasonal or correlated with certain events then there is value in allowing some elasticity in that growth as long as there is some symmetric elasticity in the other direction.",
        "created_at": "2021-03-29T16:36:40.933000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't think gas tokens are the best way to solve this problem, but I do think it is solvable and probably not even that hard.",
        "created_at": "2021-03-29T16:37:10.129000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "I think mitigation of state growth is going to be done not through refunds, but through state expiry -\u003e https://ethresear.ch/t/resurrection-conflict-minimized-state-bounding-take-2/8739/13",
        "created_at": "2021-03-29T16:37:35.406000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Agreed.  Even after that is implemented though, I think we *should* introduce a concept of state growth elasticity at some point.",
        "created_at": "2021-03-29T16:38:04.855000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "I'm still üëç on incentives for clearing state within a transaction (such as a re-entrance lock that always goes from `0 -\u003e 1 -\u003e 0` and never leaves a non-zero state entry.",
        "created_at": "2021-03-29T16:39:21.678000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "\u003e I think we should introduce a concept of state growth elasticity at some point\nDoesn't 1559 do this?",
        "created_at": "2021-03-29T16:39:43.994000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "No, that is just block size elasticity.",
        "created_at": "2021-03-29T16:39:54.286000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Also, its period is *way* too short.",
        "created_at": "2021-03-29T16:40:07.111000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We need like annual state growth constraints, not 10 block constraints.  üôÇ",
        "created_at": "2021-03-29T16:40:22.137000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "Fair",
        "created_at": "2021-03-29T16:40:25.133000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "I think another reason that I don't put much \"weight\" towards this issue is that long term if we get the \"scaling thing\" right, this should be a non-issue (because in theory at that point gas is way less scarce)",
        "created_at": "2021-03-29T16:41:01.563000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "One can imagine a system where all 100GB of state space is auctioned off during some sort of initial offering.  Rights to store things in that state can then be traded on the open market and re-used/freed.  To store something, you would need to be the owner of some bit of state.  In such a system, we have a fixed state size (this could increase with time as new state is auctioned off).  Ignoring implementation complexity and UX, such a system would be superior to our current system.",
        "created_at": "2021-03-29T16:41:45.347000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Gas isn't an actual resource (for us developers), it is just an abstraction on top of meaningful measures.",
        "created_at": "2021-03-29T16:42:08.792000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Thus, I'm not a huge fan of talking about \"gas\" in these conversations and instead prefer to talk about \"header growth\", \"block transmission time\", \"state growth\", etc.",
        "created_at": "2021-03-29T16:42:48.332000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think those are the *actual* metrics we should be targeting, and while right now we have a single abstraction for all of them, this is less than ideal.",
        "created_at": "2021-03-29T16:43:08.931000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In theory, with zkRollups of history block header and block body growth problems largely go away and you are left with state growth problems and block transmission time problems.",
        "created_at": "2021-03-29T16:43:51.450000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We have a lot of overhead for block transmission times right now, but we are constrained by state growth still.",
        "created_at": "2021-03-29T16:44:06.401000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Being able to bill those separately would be valuable.",
        "created_at": "2021-03-29T16:44:13.275000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "Too distracted right now to engage in this further, but conceptually interesting.  Still üëé on 3322 and haven't been conceptually convinced that adding a \"gas token\" mechanism into the protocol is worth the complexity.",
        "created_at": "2021-03-29T16:46:04.795000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "You were right, my bad. Updated both the agenda and the 3322 issue: https://github.com/ethereum/pm/issues/266#issuecomment-809558255",
        "created_at": "2021-03-29T17:20:59.794000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "general",
        "parent": "",
        "content": "Even so, I think we should *not* conflate computation cost and storage cost. These are different resources, and should have different currencies, so to speak. Gas is *only* about computation. *Even if* we want to incentivize storage reuse, we should have another currency - \"storage gas\". Mixing the two leads to a currency that doesn't work right.\n\nMy main beef with current SELFDESTRUCT rewards mechanic is that puts a lot of computation strain on nodes, and rewards the caller for doing so, even though the gas is supposed to incentivize the opposite. The correct mechanic would be SELFDESTRUCT having huge gas cost and small storage gas reward.",
        "created_at": "2021-03-29T19:45:29.740000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "general",
        "parent": "",
        "content": "(I'm still not convinced we should encourage storage reuse and not just do reGenesis w/ state shadowing)",
        "created_at": "2021-03-29T19:47:14.109000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "I think we should start trying to untangle \"regenesis\" and \"state expiry\".  I think they can be separated, especially if we assume state expiry happens before or at the same time as regenesis.",
        "created_at": "2021-03-29T20:26:05.979000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "\"state expiry\" works without *rebooting* the chain and is the most promising solution I know of for mitigating state growth.",
        "created_at": "2021-03-29T20:26:59.750000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "\"regenesis\" is still very compelling in terms of simplifying client development, but it no longer needs to be bound to also introducing a state expiration/clearing/inactive mechanism.",
        "created_at": "2021-03-29T20:27:26.204000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "general",
        "parent": "",
        "content": "I call them reGenesis part 1 and 2 üôÇ\n\nFirst the easy part: drop history, replace genesis block with snapshot\n\nThen the hard part: implement state shadowing and witnesses in transactions",
        "created_at": "2021-03-29T20:40:19.630000+00:00",
        "attachments": null
    },
    {
        "author": "optimalbrew",
        "category": "general",
        "parent": "",
        "content": "Is there a metric for measuring the rate of state growth .. some kind of moving average based on the last n blocks that core devs use as a reference?",
        "created_at": "2021-03-29T21:23:54.118000+00:00",
        "attachments": null
    }
]