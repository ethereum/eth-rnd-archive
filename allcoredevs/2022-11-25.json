[
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "I was surprised to see ~~4488~~ 4844 go to inclusion, since I haven't seen any PR for it in geth. I suspect that an implementation exists somewhere -- \u003c@203220829473996800\u003e perhaps knows more? If you have an implementation, please open a PR. EDIT: 4844, not 4488",
        "created_at": "2022-11-25T08:56:52.241000+00:00",
        "attachments": null
    },
    {
        "author": "holgerd77",
        "category": "general",
        "parent": "",
        "content": "Taken from the 4844 interop repo https://github.com/Inphi/eip4844-interop it should be this fork and branch https://github.com/mdehoog/go-ethereum/tree/eip-4844.",
        "created_at": "2022-11-25T11:01:50.516000+00:00",
        "attachments": null
    },
    {
        "author": "holgerd77",
        "category": "general",
        "parent": "",
        "content": "I am still a bit suprised that all three additional EOF EIPs made it to CFI so unquestioned respectively with no additional discussion respectively relatively litttle context.\n\nAre these EIPs integrated in some testnet (as loosely mentioned in ACD)? Couldn't find a reference here, would be glad if someone could post one. Also, are there reference implementations for these EIPs and if so which clients have implemented?",
        "created_at": "2022-11-25T11:34:24.780000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I agree this isn't super clear, but I'm inclined to leave it in `shanghai.md` this time to not change things mid-fork (we already had a bunch of CFI'd things there). IMO we'll need to revamp the process in several ways for the next upgrade, and I think it makes sense to make all those changes at the same time, after having explicitly agreed to them.",
        "created_at": "2022-11-25T15:40:27.833000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "there's also a 4844 tracker here with all the clients' status: https://notes.ethereum.org/@timbeiko/4844-devnet-3",
        "created_at": "2022-11-25T15:41:58.941000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I agree this isn t super clear but I m",
        "created_at": "2022-11-25T19:32:26.511000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Here's a random idea about an alternative version of `selfdestruct` removal, called `deactivate`: https://ethereum-magicians.org/t/almost-self-destructing-selfdestruct-deactivate/11886",
        "created_at": "2022-11-25T22:23:19.309000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Maybe there was discussion about this already and I missed it.",
        "created_at": "2022-11-25T22:24:07.516000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "So if CREATE2 was called on an account with nonce 2^64-1, the new contract would be at the same address with nonce zero, correct?",
        "created_at": "2022-11-25T22:28:48.256000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "yes",
        "created_at": "2022-11-25T22:28:56.216000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "well, nonce = 2^64 before create2 and iirc nonce = 1 after (due to eip-161)",
        "created_at": "2022-11-25T22:29:06.228000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "TLDR: create2 keeps working, but instead of `selfdestruct` deleting the account from the tree, we use a special value in the `nonce` field to distinguish deactivated accounts",
        "created_at": "2022-11-25T22:29:51.646000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "This is kind of a tangent, but why is the nonce cap right now 2^64-1 and not 2^64?",
        "created_at": "2022-11-25T22:30:34.339000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "It has a long story ðŸ˜… But iirc geth had that version added and then it would have been more hassle changing things.",
        "created_at": "2022-11-25T22:31:10.761000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "```\n2^64 = 10000000000000000 \n2^64-1 = FFFFFFFFFFFFFFFF\n```\nMeaning we can use a 8 byte to represent the nonce",
        "created_at": "2022-11-25T22:35:16.746000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Can we change the cap to 2^64-2 easily?",
        "created_at": "2022-11-25T22:35:41.803000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Yup, we'd need to change EIP-2681 to use 2^64-2 as the limit then.",
        "created_at": "2022-11-25T22:35:46.056000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Yes, it is unrealistic to reach that cap.",
        "created_at": "2022-11-25T22:35:55.974000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Right and I assume itâ€™s a Â«Â one line changeÂ Â»?",
        "created_at": "2022-11-25T22:36:06.308000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Well, like 3-4 lines probably.",
        "created_at": "2022-11-25T22:36:21.723000+00:00",
        "attachments": null
    }
]