[
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I'm running the call and each time I try to livestream it, it ends up not working for a weird reason (partially due to the fact I don't do it frequently and a bunch of dependencies changes in the meantime üòÖ ). Much easier to just zoom-record and upload later, and it guarantees 100% of the call actually gets uploaded vs. bits missing out due to a bad livestream. Sorry about that!",
        "created_at": "2020-10-16T01:04:50.794000+00:00",
        "attachments": null
    },
    {
        "author": "zkfloof",
        "category": "general",
        "parent": "",
        "content": "no worries. will wait for the upload üôÇ",
        "created_at": "2020-10-16T01:15:12.596000+00:00",
        "attachments": null
    },
    {
        "author": "0xraino",
        "category": "general",
        "parent": "",
        "content": "\u003c@!353136597522448385\u003e \nhttps://hackmd.io/uCWOpSrUQaytBgcO0MVkTQ#Node-merkelization-rule\n\nI'm probably missing something obvious here but what nodes besides the root node of the state trie is a \"node with no prefix\"?",
        "created_at": "2020-10-16T13:25:11.174000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "AllCoreDevs in ~25 minutes (Oct. 16, 14:00 UTC)\nAgenda: https://github.com/ethereum/pm/issues/217\nZoom: https://consensys.zoom.us/j/93208100418\n\nThe call won't be livestreamed, but will be uploaded to YT shortly after.",
        "created_at": "2020-10-16T13:37:12.478000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Hey all, I'm not able to attend the meeting, but I wanted to make sure this got up. https://github.com/ethereum/eth1.0-specs/tree/master/client-integration-testnets",
        "created_at": "2020-10-16T13:46:52.054000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "They may be out of date, comment / make issues and we can keep them coordinated",
        "created_at": "2020-10-16T13:47:39.902000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "A Single place to track the yolo specs should be helpful .If there is another place or way ya'll would like to do it. I am open to it. I felt like this was a good first step.",
        "created_at": "2020-10-16T13:48:15.187000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "We have a lot more flexibility without the EIP template to work from. So keep that in mind as we can do things there however we like. üòÉ",
        "created_at": "2020-10-16T13:50:05.102000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Comments and suggestions appreciated. üôè",
        "created_at": "2020-10-16T13:50:42.986000+00:00",
        "attachments": null
    },
    {
        "author": "pauld.9606",
        "category": "general",
        "parent": "",
        "content": "EVM384 update: https://notes.ethereum.org/@poemm/evm384-update3",
        "created_at": "2020-10-16T15:08:53.602000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Re: the update process, I think we should try and discuss that before the next ACD as well. I'm personally in favor of what \u003c@!489256758989029405\u003e proposed about having EIP-specific testnets, but I'm not sure single-EIP mainnet upgrades are a viable path forward. I _think_ we can greatly improve our current status quo with EIP-1872, where we'd go something like \"Here are the 2 mainnet fork dates per year, to get there, here are the dates on which we need multi-client, multi-EIP testnets, and to be considered for those, you need to have your EIP up and running with \u003e2 implementations by X\"",
        "created_at": "2020-10-16T15:36:59.083000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "There is a pretty high fixed cost to doing mainnet upgrades in the community, and I don't think we can go from ~1 per year to \"very frequently\" in one shot. I'd much rather see us try and get one done every 6 months for 2-3 shots before increasing the cadence again.",
        "created_at": "2020-10-16T15:37:45.934000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "I am about to post a medium article that may explain it a bit",
        "created_at": "2020-10-16T15:37:52.544000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "On another note, would people be available next Friday at 14:00 UTC (ACD time) to have the flat DB call?",
        "created_at": "2020-10-16T15:38:18.032000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "eip prototyping could be potentially a solid way of client development funding",
        "created_at": "2020-10-16T15:40:52.797000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "since client developers may provide services of building such multiclient testnets and providing the technical implementations and analysis of the impact of eips before they reach ACD review status",
        "created_at": "2020-10-16T15:41:32.483000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "at the moment somehow, because the rules are not set, eip prototyping is not very well specified - if there are proposers (community funded, or privately funded) then they have no easy way to provide a well speced and tested eip for review",
        "created_at": "2020-10-16T15:42:52.264000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "and they end up building by themselves",
        "created_at": "2020-10-16T15:42:58.685000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "or waiting for someone to pick it up",
        "created_at": "2020-10-16T15:43:08.178000+00:00",
        "attachments": null
    },
    {
        "author": "gballet",
        "category": "general",
        "parent": "",
        "content": "\u003c@!213672586264051717\u003e For example if you have 3 keys in the trie with the following prefixes: `0b00*`, `0b01*`, `0b10*`, then you will have a root node with two children and no prefix, and a left child node with two children and no prefix either. In practice, most nodes around the top will have empty prefixes.",
        "created_at": "2020-10-16T15:46:57.385000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Here's a wild suggestion: what if Berlin was just EIP-2315 and 2537? Both have been ready for a while, and maybe that would help isolate concerns about 2929/2718/2930 better? If we actually do want to do smaller upgrades, then that seems like a logical way to go. It means we could probably ship it in Q4, and possibly even have a 2929/2718/2930 (and maybe 2565) in Q1?",
        "created_at": "2020-10-16T15:48:33+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I think it'd be great to see 2537 launch close-ish to the beacon chain, even though the official deposit contract doesn't change, it will at least allow folks to start building proxies and whatnot, and it feels like 2315 has been almost ready for a very long time (six months or more at this point?)",
        "created_at": "2020-10-16T15:50:32.504000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "EIP-2315 still has an outstanding conversation last I checked üôÇ",
        "created_at": "2020-10-16T15:51:10.200000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I remember a conversation saying we had closed the last outstanding issue, but I may be wrong üòÖ I haven't followed it super closely.",
        "created_at": "2020-10-16T15:52:06.338000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003e EVM384 update: https://notes.ethereum.org/@poemm/evm384-update3\n\nThere was no time on this call to bring this up, but we made some significant progress on this. A pairing implementation is half-way ready and the numbers are even more encouraging than they were last time, and they were already quite impressive in the last update.",
        "created_at": "2020-10-16T15:53:54.781000+00:00",
        "attachments": null
    },
    {
        "author": "tkstanczak",
        "category": "general",
        "parent": "",
        "content": "https://tkstanczak.medium.com/the-life-of-eip-8031e2c079d1",
        "created_at": "2020-10-16T16:04:06.710000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Today's AllCoreDevs recording: https://www.youtube.com/watch?v=LDSTqo0LKUM\u0026feature=youtu.be",
        "created_at": "2020-10-16T16:27:38.060000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "\u003c@!552133098075193354\u003e EIP-2537 has a viable alternative which is preferable (EVM384) from my point of view",
        "created_at": "2020-10-16T16:34:25.217000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "if you ask me, the rush for Berlin is artificial",
        "created_at": "2020-10-16T16:34:55.346000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "I also agree that EVM384 might be a better option",
        "created_at": "2020-10-16T16:48:04.605000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "I'm working on the BLS12 implementation, I'm not sure if Axic is going a different route by implementing a different version of the miller's loop, but my goal is to get an optimal BLS12 implementation by micromanaging the code via huff and also by applying several advanced crypto algorithms discussed here: https://github.com/vacp2p/research/issues/7#issuecomment-704146460. It's not reasonable to assume this will be done by Berlin, and I'd recommend retrofitting an already existing implementation or a precompile if other things are relying on the pairing algorithm. Then an optimal / secure pure evm version will eventually be developed.",
        "created_at": "2020-10-16T17:23:24.777000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!104006934562107392\u003e this implementation work is done mostly by \u003c@!682078300234973185\u003e and \u003c@!427903869226582018\u003e. In the update there's a link to the code generator in Python which outputs Huff code for the pairing: https://gist.github.com/poemm/87969fe13ec5656d63230ac95d56fc36",
        "created_at": "2020-10-16T17:33:28.934000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "oh okay, is my work no longer required?",
        "created_at": "2020-10-16T17:35:15.185000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "It is not finished. Would you be interested working on the final exponentiation?",
        "created_at": "2020-10-16T17:41:43.837000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "sure",
        "created_at": "2020-10-16T17:41:55.057000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "And perhaps do you want to share your work in progress code? I am sorry if we duplicated your work",
        "created_at": "2020-10-16T17:42:40.651000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "oh no worries at all haha, I've been very slow so the best wins üôÇ",
        "created_at": "2020-10-16T17:43:15.569000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Eventually the cheapest in terms of gas will \"win\" I assume, but the beauty is that anyone is free to write their special optimized implementation for their use case üôÇ",
        "created_at": "2020-10-16T17:43:58.623000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "Provided the results, I would say that this method is probably better than hardcoding huff. I'm sure that the implementation of the prior mentioned algorithmic optimizations will win in terms of gas, though.",
        "created_at": "2020-10-16T17:46:44.218000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "btw you all should really implement mixed addition",
        "created_at": "2020-10-16T17:47:00.474000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "it's side-channel secure with minor performance hits.",
        "created_at": "2020-10-16T17:47:27.198000+00:00",
        "attachments": null
    },
    {
        "author": "alita85",
        "category": "general",
        "parent": "",
        "content": "also a python -\u003e huff / evm optimized compiler would be so freaking cool.",
        "created_at": "2020-10-16T17:53:17.044000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Our goal is to have an implementation which can be fairly compared against the ones proposed by EIP-2537, so they are similar, but we definitely expect that highly optimised implementations would surface for specific applications. After all that is the flexibility such a design provides over fixed precompiles.",
        "created_at": "2020-10-16T18:08:31.768000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "\u003e EVM384 update: https://notes.ethereum.org/@poemm/evm384-update3\n\u003c@!682078300234973185\u003e \u003c@!425279588009246720\u003e  I've posted around 3.2 ms time for pairing for 2 pairs few weeks ago in the chat. Is the difference with your numbers due to significantly slower machine? Just in case my benchmark was from \"tuning\" branch that takes into account special structure of BLS12-381 extension tower that is used by all the \"specific\" BLS12-381 implementations. Also, would be good to be sure whether turbo boost is on/off during benchmarks cause it really makes a difference as was pointed today on the call.",
        "created_at": "2020-10-16T20:54:57.719000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The benchmarks we have are all run on the very same machine. It is not very useful to compare benchmarks done on different machines.",
        "created_at": "2020-10-16T20:55:44.410000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "There are a lot of factors which can influence benchmarking, not only turbo boost.",
        "created_at": "2020-10-16T20:56:46.052000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "I've wanted to understand is it because your machine is slower than mine or it's just because and old branch is used",
        "created_at": "2020-10-16T20:56:47.174000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Even if it were the same CPU, the chipset, the kernel version, the operating system, the system libraries, the compiler, etc. could all skew the results.",
        "created_at": "2020-10-16T20:57:37.800000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Discrepancy of 3.2 vs 4.2 ms is just quite a lot",
        "created_at": "2020-10-16T20:58:22.815000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The rust code we use is linked in one of the writeups and it a specific commit from upstream. The benchmarking suite is all available on github.com/ewasm/benchmarking. I know this is not all that helpful yet, but we are planning to write some tutorial for it -- as of now the basics are documented in the README and the scripts.",
        "created_at": "2020-10-16T20:59:05.623000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "So the `tuning` branch on your eip1962 repo is what would need to be compared? But can't these optimisations be done using the evm384 opcodes as well? They do not restrict the order how the opcodes can be used.",
        "created_at": "2020-10-16T21:13:33.521000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "Aha, found the link to the used commit. Yes, it's point to the quite old version. \n\nRegarding optimizations: those are bls12-381 curve specific things and you most likely use it in fp2_mul() function already. Namely it replaces multiplication by non-residue by plain negation because non-residue = -1. \n\nNext comparison target for EVM384 would be Go implementation takes 1.6 ms for 2 pairs without assembly backend and 1ms with ADX backend. Last value I assume is close to BLST performance. I'd expect that at some point we would be able to reduce the cost of 2537 if clients agree to swap implementations and e.g. BLST adds eip2537 interface and goes through the fuzzing using e.g. https://github.com/shamatar/algebraic_fuzzer",
        "created_at": "2020-10-16T21:20:59.238000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "I've only recently added this trick to catch a case that non-residue = -1 from runtime supplied parameters in 1962, so it's yet in tuning branch that I re-fuzz agains Go implementation in background",
        "created_at": "2020-10-16T21:22:46.766000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "that algebraic fuzzer looks cool. Does it generate the correct points and check equivalences after performing arithmetic operations?",
        "created_at": "2020-10-16T21:33:53.562000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "general",
        "parent": "",
        "content": "\u003e Aha, found the link to the used commit. Yes, it's point to the quite old version. \n\nJust tested on my machine and the new version has a 50% speedup over the old commit we were using.  Thanks for pointing this out",
        "created_at": "2020-10-16T21:38:27.308000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "\u003e that algebraic fuzzer looks cool. Does it generate the correct points and check equivalences after performing arithmetic operations?\n\u003c@456226577798135808\u003e  Yes, it‚Äôs a white box style fuzzer that is aware of edge cases and generates both valid and invalid inputs, like valid points, point not on curve, not in subgroup, valid field elements,  invalid encodings, invalid length of the encoding, etc",
        "created_at": "2020-10-16T23:39:19.433000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "There are few very specific cases that I would add (cause it‚Äôs hard to generate an input to pairing that makes pairing into identity at the end), and it needs to be properly templated, but it already does a good job for 2537. Will add the gas costs functions into the routine too somewhere next week to eliminate another potential source of errors",
        "created_at": "2020-10-16T23:42:35.255000+00:00",
        "attachments": null
    }
]