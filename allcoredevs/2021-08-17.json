[
    {
        "author": "atoulme",
        "category": "general",
        "parent": "",
        "content": "it doesn't break clients, it breaks communication between clients. An example recently: https://discord.com/channels/595666850260713488/718596092828057631/876497009740251186",
        "created_at": "2021-08-17T00:30:51.863000+00:00",
        "attachments": null
    },
    {
        "author": "atoulme",
        "category": "general",
        "parent": "",
        "content": "What that means is that geth clients would be unable to communicate with clients that do not support eth/66. In that sense, it breaks geth just as much as other clients.",
        "created_at": "2021-08-17T00:31:40.388000+00:00",
        "attachments": null
    },
    {
        "author": "atoulme",
        "category": "general",
        "parent": "",
        "content": "That said, eth/66 really is helpful and can reduce the code complexity. I think it's a good development.",
        "created_at": "2021-08-17T00:32:02.162000+00:00",
        "attachments": null
    },
    {
        "author": "vorot93",
        "category": "general",
        "parent": "",
        "content": "It's good on paper, for naive block downloader implementation. AFAIK we found no use for request ids in our downloader implementation.",
        "created_at": "2021-08-17T04:56:07.840000+00:00",
        "attachments": null
    },
    {
        "author": "atoulme",
        "category": "general",
        "parent": "",
        "content": "It allows you to issue multiple requests and get responses out of order rather than be sequential.",
        "created_at": "2021-08-17T04:57:07.684000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Related to this -- another PSA is that we've merged https://github.com/ethereum/go-ethereum/pull/23303 -- which means geth now disallows transactions from accounts with code. There is a cornercase in this, that people should be aware of. A normal EOA account has `emptyCodeHash` as codehash, a non-existing one doesn't have a codehash. However, historically, there has been transactions from non-existing accounts, with gasPrice zero. So an implementation of non-eoa sender must _not_ reject such transactions. TLDR; reject if (codehash != `emptyCodeHash` and codehash != not existing)",
        "created_at": "2021-08-17T09:53:31.767000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Not a big issue given we don't think this attack is actually possible right now, but I would prefer to see https://eips.ethereum.org/EIPS/eip-3607 finalized before changing consensus rules in clients.",
        "created_at": "2021-08-17T09:57:14.804000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "By changing consensus rules, there is now new incentive for an attacker to do this, as it will cause an Ethereum chain split.",
        "created_at": "2021-08-17T09:57:39.260000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't think there is any disagreement on 3607, so it just needs the author to shepherd it through the EIP process and once it is in Last Call get a thumbs up from all of the clients (in ACD call or here).",
        "created_at": "2021-08-17T09:59:33.221000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@555483069038198827\u003e \u003c@360491619402776577\u003e and Dmitri (not sure Discord handle).",
        "created_at": "2021-08-17T10:00:41.987000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Yeah, but they'll pay many million dollars for that chainsplit though",
        "created_at": "2021-08-17T10:07:03.586000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Sure, it is definitely an unlikely attack.  I just dislike the idea of clients introducing consensus rule changes without broad agreement from all clients.",
        "created_at": "2021-08-17T10:07:44.582000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "We did discuss it on an ACD. I got the feeling that all clients were on board and kind of waiting for geth to take the lead on it",
        "created_at": "2021-08-17T10:08:20.295000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Drawing the line between \"this is fine because it is expensive\" and \"this is cheap enough to require dev agreement before hand\" is more difficult than just saying that all consensus rule changes require agreement before hand I think.",
        "created_at": "2021-08-17T10:08:21.396000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "I was under the impression that we already had agreement",
        "created_at": "2021-08-17T10:08:52.491000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ah, I thought the EIP was moved to EFI after that call and we were waiting on the authors to shepherd it through the process.",
        "created_at": "2021-08-17T10:08:54.258000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This is definitely not a hill I wish to die on.  Just voicing my thoughts about normalizing the behavior of client devs making consensus changes outside of the normal process.  ðŸ™‚",
        "created_at": "2021-08-17T10:10:13.556000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "One potential risk here is that if this doesn't go through the normal process it is possible that other clients *won't* implement it (just because it gets overlooked), and then in a couple years when this attack is more plausible (and maybe we have better client diversity in the live network) someone executes it and we all get surprised (Geth is surprised no one else implemented it, other client teams are surprised that Geth implemented it without an Final EIP).",
        "created_at": "2021-08-17T10:12:03.334000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Tests have been updated to _not_ \"trip\" this check unintentionally. Obviously,we need a new (state-) test to verify this behaviour cc \u003c@!393119312350543872\u003e",
        "created_at": "2021-08-17T10:13:24.280000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Having tests that verify this new behavior in a cross-client test suite would nearly fully alleviate my latter concern.",
        "created_at": "2021-08-17T10:14:34.755000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In fact, I would love it if we were able to 100% capture all behavior in the tests, so we wouldn't even need EIPs anymore.  ðŸ˜œ",
        "created_at": "2021-08-17T10:14:58.940000+00:00",
        "attachments": null
    },
    {
        "author": "dimitry8570",
        "category": "general",
        "parent": "",
        "content": "Yes. I am ready to make a test any moment. We just cleaned all the tests that had sender with code.",
        "created_at": "2021-08-17T10:17:29.143000+00:00",
        "attachments": null
    },
    {
        "author": "dimitry8570",
        "category": "general",
        "parent": "",
        "content": "You mean all possible combinations of calldata and contract bytecodes?  This is unreachable.\n\nBut we can cover all lines of code of client implementations with coverage tools. At least something.",
        "created_at": "2021-08-17T10:19:18.851000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah, I wasn't being too serious about that.  ðŸ™‚",
        "created_at": "2021-08-17T10:20:26.903000+00:00",
        "attachments": null
    },
    {
        "author": "dimitry8570",
        "category": "general",
        "parent": "",
        "content": "Hm, on a second thought. AI from google plus quantum computing might be able to do that.",
        "created_at": "2021-08-17T13:26:29.924000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "general",
        "parent": "",
        "content": "We are trying to finalize Nethermind eth66 implementation, will ping you when released, we are not ready yet",
        "created_at": "2021-08-17T13:42:20.955000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "I think we sort of agreed to that as well, but my memory is blurry. I'll add it as a note to the ACD agenda (alongside eth/66) just to make sure it's mentioned more broadly.",
        "created_at": "2021-08-17T15:20:24.040000+00:00",
        "attachments": null
    },
    {
        "author": "mohamed.mansour",
        "category": "general",
        "parent": "",
        "content": "**Introducing Node Crawler (alpha)**\n\nHey all we have been working on an open source (MIT) implementation of crawling Ethereum nodes (\u003c@!360491619402776577\u003e \u003c@!686695036733227017\u003e  \u003c@!552133098075193354\u003e  and myself). We thought it would be great to show all core devs the progress,  and hopefully can give feedback, and even maybe submit PRs ðŸ™‚ This work is part of the Apprenticeship\n\nAlpha Release: https://crawler.ethereum.org\nSource Code: https://github.com/ethereum/node-crawler\n\nSome Features:\n- You can drill down on specific client / version / operating system.\n- You can share your query / filter via hyperlink\n- More support like country, etc in the pipeline\n\nKnown Big Caveats:\n- Can't add specific nodes (haven't peered with Nethermind) https://github.com/ethereum/node-crawler/issues/20\n- Nodes don't get removed once discovered https://github.com/ethereum/node-crawler/issues/21",
        "created_at": "2021-08-17T17:54:01.398000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "unknown.png",
                "content": "f14585ff9f533e09f49946bdc0340c37ff1e21e0542f4834b6ca72844c9d60ac"
            }
        ]
    }
]