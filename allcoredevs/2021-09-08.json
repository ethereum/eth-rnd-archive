[
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We have discussed previously that having an expiration time on a transaction results in a DoS vector as people can spam the network with transactions they know won't ever be included.\n\nWhat if we make it so the transaction has an expiration, and if expiration is reached the transaction is included for 21,000 gas and is not executed but instead the signer pays for 21,000 gas only?",
        "created_at": "2021-09-08T01:00:27.554000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The idea here is that we can stop wasting huge amounts of computing resources (and gas) on transactions that the user doesn't even want to execute.",
        "created_at": "2021-09-08T01:00:55.510000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We most commonly see this in ICOs and NFT drops where there is some race to do a thing and then a really long tail of rather expensive failures.  Those failures don't need to be expensive, they can be just 21,000 gas instead.",
        "created_at": "2021-09-08T01:01:50.273000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "What is the expiration based on? Time, block, arbitrary computation?",
        "created_at": "2021-09-08T03:40:07.520000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Block or time (ideally both are supported).",
        "created_at": "2021-09-08T06:08:29.083000+00:00",
        "attachments": null
    },
    {
        "author": "ghosts_in_the_code",
        "category": "general",
        "parent": "",
        "content": "Imo might be worth thinking about longer term plans for DOS protection and mempool mgmt.\n\nHigh performance relayers such as flashbots will always be able to use larger mempool, perform more compute on it and have better DOS protection than the average node. Hence theyll be able to promise lesser fees on failed tx, longer or shorter tx expirations based on what you as a user prefer, etc.\n\nProviding *some* of this functionality on all nodes still means these centralised relayers will offer something better.",
        "created_at": "2021-09-08T08:22:15.162000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "If 21k is cheap, I wouldn't consider 30k to be expensive (that's how much a failure cost with yesterdays NFT sale)",
        "created_at": "2021-09-08T09:46:29.137000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Hmm, failures were only 30k?  that is less than I would have expected.",
        "created_at": "2021-09-08T09:47:36.119000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "There were just sooooo many of them ðŸ˜…",
        "created_at": "2021-09-08T09:49:31.354000+00:00",
        "attachments": null
    },
    {
        "author": "bculberson",
        "category": "general",
        "parent": "",
        "content": "Transaction validation could occur to estimate if there is a high probability a transaction could be completed in next n minutes based on recent data and allow the expiration to be \u003c= n minutes. That solves for DOS while allowing realistic expiration",
        "created_at": "2021-09-08T14:33:29.923000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "If you are part of a team that is interested in potentially hiring \"graduates\" of the \"Core Developer Aprenticeship Program\", would you mind sending me a DM with what team you are part of, an email address that would be good for future communication and the role that you'd be hiring for if you have anything specific in mind.",
        "created_at": "2021-09-08T23:06:08.844000+00:00",
        "attachments": null
    }
]