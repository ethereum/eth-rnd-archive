[
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "**ACDC 136 Summary**\n* Started with a presentation of some [research into private sharing of node information for client diversity purposes](https://ethresear.ch/t/research-report-allowing-validators-to-share-client-information-privately-a-project-by-nethermind-research/19506)\n* Then, a discussion of some work from Peter to support stateless validation across multiple execution clients (even before Verkle!). There was a lot of nuance here around the implications and various appetites for support so check the call for the full color. If youâ€™d like to follow up take a look at [this proposal](https://gist.github.com/karalabe/47c906f0ab4fdc5b8b791b74f084e5f9)\n* Pectra was next: implementation for devnet-1 is proceeding well with some CL clients ready to go. EL clients are not far behind which puts us at a devnet-1 launch in the coming weeks.\n* Mikhail does have a PR to iterate on Pectra EIP-6110 following discussions for devnet-0, [please take a look here](https://github.com/ethereum/consensus-specs/pull/3818)\n* Next, PeerDAS: the PeerDAS devnet-1 testnet has launched and is proceeding well. There are some minor bugs but clients are fixing to line up the next iteration of PeerDAS\n* We also covered a new proposal by Dankrad to migrate the blob base fee calculation into the CL; this complements the proposal to migrate the implementation of the max blob count from where it is today (both CL and EL) to just to the CL. See [this comment](https://github.com/ethereum/pm/issues/1084#issuecomment-2192009972) for links to both proposals\n* And last, we had an update around progress on SSZ in clients supporting the inclusion of EIP-7688 in Pectra which allows for the construction of forward-compatible consensus data structures (with respect to serialization)",
        "created_at": "2024-06-28T01:06:46.604000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "* Some clients have implemented the necessary features and some have not completed it yet; so we decided to defer the inclusion question to a later call to give client teams time to digest the changes and assess the complexity of implementation weighed against the benefit this feature provides.",
        "created_at": "2024-06-28T01:06:48.065000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "Started implementing SSZ (I know, I'm late to the party). But, I have an annoyance already.\n\nThe first offset points to where the dynamic data beings... but we know that because the fixed stuff has fixed size!\n\nSo if the offsets were to point to the *end* of their respective dynamic data instead, we wouldn't need to know the size of the SSZ message in advance and SSZ would become a stream encoder.\n\nWhat am I missing?",
        "created_at": "2024-06-28T14:25:24.457000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "I.e. \n\nF1, F2, O3, F4, O5, F3, F5 this is how we encode. So to decode F5, I must know the lenth of the stream",
        "created_at": "2024-06-28T14:26:12.091000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "But I know F1 + F2 + O3 + F4 + O5's size, tehy are all fixed. So the value of O3 is completely redundant",
        "created_at": "2024-06-28T14:26:50.299000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "So if I were to use it not as starting-offset, rather ending-offset, then I could decode the last item too without an envelope",
        "created_at": "2024-06-28T14:27:13.917000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "Obviously it can't be changed now, just wondering why it was made like this? I assume there was a reason",
        "created_at": "2024-06-28T14:28:06.024000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "Ah, I think I see the issue. For lists containing dynamic types. The first offset is used to compute the item count",
        "created_at": "2024-06-28T14:33:58.869000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "So dynamic list of dynamic types is the culprit",
        "created_at": "2024-06-28T14:34:25.676000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "Yeah, without dynamic types one doesn't ... really need encoded offsets at all",
        "created_at": "2024-06-28T14:47:05.919000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "can just statically at compile-time map some field to some stream offset, done",
        "created_at": "2024-06-28T14:47:55.730000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "Dynamic types are also fine, the dynamic dynamics are the issue",
        "created_at": "2024-06-28T14:48:16.723000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "the 2d dynamic messes things up",
        "created_at": "2024-06-28T14:48:31.271000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@833706406699073536\u003e if you and \u003c@206016661470314496\u003e are implementing SSZ you may be doing the same work",
        "created_at": "2024-06-28T15:26:29.178000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "Yo, ~~client~~ library diversity!",
        "created_at": "2024-06-28T20:50:36.647000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "I'm trying to strike a middle ground. Code generators are fast, but extremely nasty to debug and extend. Reflection based coders are slow(ish), and again, non trivial to debug.\n\nMy approach is aiming for encoder/decoder code simplicity that can easily be written by hand for anything weird, but generated for all the boring stuff",
        "created_at": "2024-06-28T20:52:47.219000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "I'm willing to sacrifice some speed in exchange for very clear final code.",
        "created_at": "2024-06-28T20:53:08.350000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "general",
        "parent": "",
        "content": "Not saying I'll get anywhere meaningful with it, but I want to get all the pieces in place - manually and see where to take it from there",
        "created_at": "2024-06-28T20:54:08.229000+00:00",
        "attachments": null
    }
]