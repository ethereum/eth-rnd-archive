[
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "How do the 2666 costs compare to the existing costs?  Are they all lower or are there parts where the curve of the reprice is higher than the old curve?  My concern is that the old 700 gas may be hiding some of the costs.  if 2666 is a strictly lower set of costs at all points then it doesn't need to be tied.  (I haven't done a close comparison of the two sets of cost functions)",
        "created_at": "2020-09-04T06:38:28.088000+00:00",
        "attachments": null
    },
    {
        "author": "shamatar",
        "category": "general",
        "parent": "",
        "content": "The only place where 700 gas was largely hiding a cost was BNADD in Geth. If my PR is included then it also will not be a case",
        "created_at": "2020-09-04T07:48:45.757000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "2.5 hours until today's ACD meeting!",
        "created_at": "2020-09-04T11:34:22.370000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Too late to say this, but I think the agenda is way too optimistic in terms of number of topics. Are the items sorted by importance?",
        "created_at": "2020-09-04T13:30:57.884000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I am happy to yield my topic (removing refunds) because I did not manage to get the data yet",
        "created_at": "2020-09-04T13:33:54.116000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "We also have some brief update on evm384, but probably the other topics are more important, hence I did not propose to take valuable time for it. However here are some brief updates:\n1. We have started implementing the synthetic loop in Huff, to see if the stack handling is more optimal compared to Yul. Preliminary results show it is more optimal, and on the part we have implemented it is getting a 20+% time reduction compared to Yul.\n\n2. Made more experiments with a better opcode design. Moved modulus/r_inv from being passed as stack items every single time. This also shows a 30% improvement, but opens the question of adding statefulness to the EVM.\n\nNone of these experiments are complete, but they indicate significant improvements for us to further go down this investigation.",
        "created_at": "2020-09-04T13:36:45.073000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "sounds great",
        "created_at": "2020-09-04T13:38:46.885000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e \u003c@456226577798135808\u003e The agenda is somewhat ordered by importance of topic, but I'm happy to take feedback at the beginning on what to keep/remove.",
        "created_at": "2020-09-04T13:50:35.425000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "ACD Meeting starts in 10 minutes!\n\nAgenda: https://github.com/ethereum/pm/issues/203\n\nZoom: https://ethereumfoundation.zoom.us/j/97600837993\n\nChat Box: https://studio.youtube.com/live_chat?is_popout=1\u0026v=-Jefyrs4f70",
        "created_at": "2020-09-04T13:50:55.119000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Am I really the first one to join, or am I in the wrong place?",
        "created_at": "2020-09-04T13:53:29.168000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "First probably",
        "created_at": "2020-09-04T13:56:15.650000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "lol",
        "created_at": "2020-09-04T13:56:16.488000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e \u003c@!364458974906548225\u003e https://ethereum-magicians.org/t/eip-2718-typed-transaction-envelope/4355/46",
        "created_at": "2020-09-04T14:23:33.640000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e I am totally fine with not-RLP, someone else suggested it previously, and the only reason I pushed back was because I didn't feel comfortable being a first mover away from RLP.",
        "created_at": "2020-09-04T14:36:26.848000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If the core devs want to move away from RLP, I have no particular love for it.",
        "created_at": "2020-09-04T14:36:36.754000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I had some other weird ideas, like this:\n\u003e Option 1: After EIP-2681 we can be sure that the first RLP element cannot start with anything larger 0x89.\n\u003e Lets nominate 0x89 as the configuration/flags field, which is 9 bytes long and the first byte is the version number, thus the only accepted value now is 0x89010000000000000000.\n\nSo I am glad I never pushed it and we have the wrapped version instead üôÇ\n\nBut the prefix byte is what I had as Option 2.",
        "created_at": "2020-09-04T14:44:56.370000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e (I said it in the forum but I'll also say it here).  I've been poking the bear for a while on RLP and I've been pleasantly surprised to find little or zero pushback to removing it.  So üëç to updating 2718 to remove firm RLP requirements from me.",
        "created_at": "2020-09-04T15:14:58.739000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "general",
        "parent": "",
        "content": "I left the call if anyone is looking for me. I had enough YOLO for today üôÇ",
        "created_at": "2020-09-04T15:16:38.730000+00:00",
        "attachments": null
    },
    {
        "author": "hudsonjameson",
        "category": "general",
        "parent": "",
        "content": "lol thanks \u003c@456226577798135808\u003e for your participation as always üôÇ",
        "created_at": "2020-09-04T15:17:04.932000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e one idea we had to extend rich transactions: https://github.com/ewasm/eth1x64/blob/cfa0317f29cbf5a8ef5f67612944cbb9ba38d5b4/variant1.md#rich-transactions\n\nTo have calldata and bytecode.",
        "created_at": "2020-09-04T15:24:55.568000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Basically to make them first class citizens as opposed to this weird \"transaction to a specific address\".",
        "created_at": "2020-09-04T15:25:28.927000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't have a strong opinion on how it is implemented besides \"simple is better\".  This proposal originated from Nick, and it seemed reasonable.  üò¨",
        "created_at": "2020-09-04T15:25:36.047000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Making them first class is possible if we introduce new transaction types.",
        "created_at": "2020-09-04T15:25:38.185000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I'd be interested to chat/work on that more, don't want to submit a competing EIP just for arguing about EIP statuses afterwards üò¨",
        "created_at": "2020-09-04T15:26:57.990000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The short version (can discuss more after meeting) for why it isn't a 2718 transaction is because it wouldn't be composable with other transaction types if it was a transaction type.",
        "created_at": "2020-09-04T15:27:24.545000+00:00",
        "attachments": null
    },
    {
        "author": "kelly06407",
        "category": "general",
        "parent": "",
        "content": "Here is a sample EIP-2565 gas pricing update for Geth: https://gist.github.com/ineffectualproperty/9811fbe573eae600420c93336d379038",
        "created_at": "2020-09-04T15:27:33.896000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If we have a single new monolithic transaction type though that wouldn't matter.",
        "created_at": "2020-09-04T15:27:37.910000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "After all composing transaction features turned into a hornets' nest.",
        "created_at": "2020-09-04T15:30:55.820000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Likely at this point it makes sense to take a step back and look at all these proposed features to transactions together and see what combination makes sense. I think considering them individually will result in a larger mess in the medium term.",
        "created_at": "2020-09-04T15:31:52.297000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah, I agree at the moment.  That is what agenda item `f` was about.  üôÇ",
        "created_at": "2020-09-04T15:33:02.095000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Oh, I only read first half of that sentence which just said \"combine some of the EIPs\". It did not occur to me it is specifically about transaction types.",
        "created_at": "2020-09-04T15:34:22.098000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Interestingly, if we do combine all into one then it basically turns 2718 into transaction **versioning**, instead of transaction **types**.",
        "created_at": "2020-09-04T15:40:10.828000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "I personally definitely hope for an end-of-history where there's only one transaction type that people use",
        "created_at": "2020-09-04T15:40:41.411000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "But I can see the path to get there involving multiple types flying around for some time",
        "created_at": "2020-09-04T15:40:52.025000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "\u003e Interestingly, if we do combine all into one then it basically turns 2718 into transaction **versioning**, instead of transaction **types**.\n\u003c@301186049323958275\u003e Versioning was the original idea back in April 2019 at the berlin meeting.",
        "created_at": "2020-09-04T15:41:26.690000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I felt instead we would need flags, to enable certain optional fields, like access lists, or separate sender/payer signature.",
        "created_at": "2020-09-04T15:42:22.184000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Does one of the proposed encoding formats gracefully support optional fields by chance?",
        "created_at": "2020-09-04T15:44:08.874000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "You'd need a flags field and specify the strict order.",
        "created_at": "2020-09-04T15:44:39.904000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Then any serialisation format supporting lists would suffice.",
        "created_at": "2020-09-04T15:45:03.340000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "But I'd definitely keep the version byte outside for future proofing. Otherwise you'd need to misuse the flags field in a bad scenario...",
        "created_at": "2020-09-04T15:45:23.479000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Does anyone with client development knowledge want to fill me in on the \"gotchas\" of batch transactions?  The concerns that were brought up around \"how do we deal with global stuff\" are things I cannot answer, and would like someone who understands them to sit down with me and see if they are solvable (without too much complexity!) or if we need to scratch batch transactions entirely.",
        "created_at": "2020-09-04T15:50:43.682000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@!425279588009246720\u003e I'm heading out soon, but I'm üëç on working with you on Rich Transactions.  If you want to add yourself as an editor to it feel free (consider this my PR pre-approval).  I think if we do a single monolithic transaction, then Rich Transactions makes more sense as its own transaction type, rather than a precompile.  If we have many disparate transactions, then the precompile gives us composability.",
        "created_at": "2020-09-04T16:21:47.665000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Without having read the batched tx proposal (I only read Matt's version), the point is that it would be best avoiding introducing new set of edge cases/rules in terms of transaction processing, and rich tx seems to be lower the risk of unknown unknowns vs. the seemingly more known unknowns.",
        "created_at": "2020-09-04T16:23:01.989000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "For 2718, I'm also totally fine with not-RLP, and it sounds like no one *really* wants to keep it.  So if core devs agree, I'll make up some new format (possibly just fixed position, so first byte is type, the rest is payload).  If someone has a preference for some specific encoding scheme (perhaps something that is planned on being used elsewhere) I'm fine with that too.",
        "created_at": "2020-09-04T16:23:09.469000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e Without having read the batched tx proposal (I only read Matt's version), the point is that it would be best avoiding introducing new set of edge cases/rules in terms of transaction processing, and rich tx seems to be lower the risk of unknown unknowns vs. the seemingly more known unknowns.\n\u003c@!425279588009246720\u003e If we want to push hard on Rich Transactions, I think dropping Batch from 2711 is probably the right course of action.  It really was included just because \"Rich Transactions and Account Abstraction are hard and far off\".",
        "created_at": "2020-09-04T16:24:27.904000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Dropping batch transactions mildly simplifies the 2711 specification as well because it means we don't need to deal with batched receipts, which would be nice.",
        "created_at": "2020-09-04T16:25:16.317000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "I need to take a break now too, let's discuss this another time, but definitely interested to",
        "created_at": "2020-09-04T16:28:02.949000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "The current functionality discussed:\n- account access list (EIP-2930)\n- 1559 gas market (EIP-1559)\n- separate gas payer vs. eoa (EIP-2711)\n- valid until (EIP-2711)\n- simple batched transactions (EIP-2711)\n- complex batched transactions with observability of tx outcome (EIP-2733)\n- rich transactions (EIP-2803)\n- account abstraction (EIP-2938)\n\nThese were mentioned in the past:\n- cancellation transactions\n- separate init vs. runtime code for contracts\n- evm bytecode metadata / versioning",
        "created_at": "2020-09-04T16:29:20.539000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "But I'd like to consider this more in terms of use cases (three of which you mentioned in 2711) vs. technical solutions.",
        "created_at": "2020-09-04T16:29:56.277000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Cancellation transactions may be the one that actually makes sense as its own transaction type.  Though perhaps you may want to compose it with an access list?  Can an access list reduce the cost of a no-op transaction?",
        "created_at": "2020-09-04T16:32:00.148000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It *does* save you the read off disk of the account I suppose.",
        "created_at": "2020-09-04T16:32:20.243000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "general",
        "parent": "",
        "content": "Ok I need to dip, we should move this convo to somewhere else too.",
        "created_at": "2020-09-04T16:32:38.573000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Re batched: I dislike deep modding of rules, e.g. having batched gas and batched receipts. Should be just \"include these in order\". The dos by \"N heavy, one invalid\" would have to be solved somehow though",
        "created_at": "2020-09-04T16:53:44.189000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We could, in theory, assert that the batch can be included even if some of the later transactions in the block are invalid.  You still have to include the whole batch, but they would be no-ops when it comes to executing them in the block.",
        "created_at": "2020-09-04T16:56:02.607000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Then it is up to the signer to ensure that their batch is \"reasonable\".",
        "created_at": "2020-09-04T16:57:16.605000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "There is value in keeping the gas limit/gas price *outside* of the batch (so we can have sponsored batches).  It sounded on the call like this would also cause complexity and problems even if we otherwise treated each transaction separately?",
        "created_at": "2020-09-04T16:57:47.180000+00:00",
        "attachments": null
    },
    {
        "author": "shanefontaine",
        "category": "general",
        "parent": "",
        "content": "For the batched txs, would the batch be a single tx with a single hash? Or would each tx in a batch have its own tx hash?",
        "created_at": "2020-09-04T17:20:10.714000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c@409085166821310465\u003e Single hash.",
        "created_at": "2020-09-04T17:21:52.327000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Which leads to receipts being a \"batch\" of receipts.",
        "created_at": "2020-09-04T17:22:16.017000+00:00",
        "attachments": null
    },
    {
        "author": "shanefontaine",
        "category": "general",
        "parent": "",
        "content": "The batched receipts makes sense. The only part of the batched part of the proposal that seems difficult to wrap my head around (which isn't a bad thing) is the lack of atomicity of all the tx batch. I implemented this stuff at Authereum and the atomicity of the batches at the contract layer makes sense for a number of reasons. I'm trying to think through whether these reasons are practical at the protocol layer. I'm thinking that the proposal's atomicity as it stands is sound for the reason being  that introducing true atomicity is probably an unnecessarily complex implementation for little gain.\n\nWith that said, we've found that Dapp integrations are extremely inconsistent and their handling of errors is all over the place. I'd imagine a batch of 5 txs where #2 and #4 fail would be awful UX if not handled on the Dapp side well, but I expect that to change as more standard ways of ETH development converge. The batched receipts really helps that.",
        "created_at": "2020-09-04T17:37:44.448000+00:00",
        "attachments": null
    },
    {
        "author": "shanefontaine",
        "category": "general",
        "parent": "",
        "content": "I'll think further and add to the appropriate channels if there is anything that comes up üëç",
        "created_at": "2020-09-04T17:38:01.856000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "About the yolov2, James preswitch suggested we call it a Mess-net and I like the idea. It communicates well the intention, and is short and easy to use.",
        "created_at": "2020-09-04T21:35:19.369000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "Do we like the name Mess-net for client integration testnets like YOLOv1 and YOLOv2? Yay, or Nay?",
        "created_at": "2020-09-04T21:35:53.171000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "I also propose that we change the name of EFI (Elligible for Inclusion) to CFI (Considered for inclusion) . https://github.com/ethereum/eth1.0-specs/issues/3",
        "created_at": "2020-09-04T21:38:14.142000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "As we migrate to a system where the Network Upgrades are coordinated outside of the EIP-repo. It felt like a good time to update the language to be more clear. The Eligible in EFI has in my experience confused people that it means it is Eligible for Berlin or the next upcoming network upgrade. Which that is not what that means.",
        "created_at": "2020-09-04T21:39:29.349000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "EFI (Eligible for Inclusion)",
        "created_at": "2020-09-04T21:39:42.642000+00:00",
        "attachments": null
    },
    {
        "author": "madeof_tin7509",
        "category": "general",
        "parent": "",
        "content": "CFI (Considered for Inclusion)",
        "created_at": "2020-09-04T21:39:44.918000+00:00",
        "attachments": null
    }
]