[
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Are most (all?) Graph subgraphs built off of indexing log events?  I can understand removing the bloom filter (and removing historical `eth_getLogs` lookups) but how would off-chain indexers like The Graph work if the logs opcodes were no-op'ed?  Would each tx need to be fully traced instead?  Even then how would an indexer convert \"storage slot 0xabcd was changed from 0x1234 to 0x5678\" to a semantic event like \"account 0x5050's balance changed from 0x1234 to 0x5678\"?  It seems like token standards would need to go more into the specifics of how balances are stored in storage to make meaningful cross-contract indexing possible.  Arguably this is already the case, since barring a full code audit it's entirely possible for a token contract to make arbitrary/\"incorrect\" balance changes in a tx w/o announcing the actual balances changes via log events (see for example the Salmonella contract).",
        "created_at": "2022-08-10T19:28:53.130000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Aside: thinking about this exact problem (the fact that token storage slots aren't easily reversible to token holder addresses) is exactly why I started looking at why most token contracts use Solidity mappings instead of `offset + address` lookups, which is what prompted this question in the EVM channel: https://discord.com/channels/595666850260713488/706868829900505180/999415863079882832",
        "created_at": "2022-08-10T19:34:11.186000+00:00",
        "attachments": null
    }
]