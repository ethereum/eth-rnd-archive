[
    {
        "author": "vorot93",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Proposal 1 = add _yet another_ piece of logic into consensus-sensitive code",
        "created_at": "2021-09-22T05:18:28.043000+00:00",
        "attachments": []
    },
    {
        "author": "albusdompeldorius",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If selfdestruct were neutered (turned into a SEND ALL ETH opcode), would it then be possible to do the attack were a relayer uses just enough gas to create the vault contract, but not execute the order, and then in the next transaction call the vault contract directly with a custom calldata that just sends the funds to themselves? Would this affect ALL funds lying in vaults?",
        "created_at": "2021-09-22T06:15:07.410000+00:00",
        "attachments": []
    },
    {
        "author": "albusdompeldorius",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "One fix would be to add a check in each vault contract that ensures the caller is pinecore, but that would probably mean a new version of pinecore.",
        "created_at": "2021-09-22T06:28:27.214000+00:00",
        "attachments": []
    },
    {
        "author": "agusx1211",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it wouldn't, because if the trade doesn't happen the whole transaction reverts, including the initial create",
        "created_at": "2021-09-22T09:12:19.704000+00:00",
        "attachments": []
    },
    {
        "author": "agusx1211",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the issue with cancel is that doesn't happen, I mean the revert",
        "created_at": "2021-09-22T09:12:33.484000+00:00",
        "attachments": []
    },
    {
        "author": "albusdompeldorius",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Ahh, I see. So IIUC, only users who try to cancel an order with too little gas would have their funds exposed, but this could be prevented by increasing the gas limit in the front-end.",
        "created_at": "2021-09-22T09:59:42.039000+00:00",
        "attachments": []
    }
]