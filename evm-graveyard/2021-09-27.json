[
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think the idea with rmdir is that if a contract is selfdestructed, you have a guarantee that someone has already done the work (and paid the price) to clean up all storage for the contract first.",
        "created_at": "2021-09-27T01:57:16.502000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So either the contract doesn't get destructed (acceptable) or it is destructed along with all of its state (acceptable).  You never have a situation where the contract is deleted but the state for that contract is not (unacceptable).",
        "created_at": "2021-09-27T01:58:06.147000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I don't think this strategy makes any claims at being effective at cleaning up old state in most cases, only that if a contract is deleted it comes with some useful guarantees.",
        "created_at": "2021-09-27T01:58:49.794000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Not worth the complexity IMO.",
        "created_at": "2021-09-27T01:58:57.243000+00:00",
        "attachments": null
    }
]