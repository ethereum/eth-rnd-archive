[
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Hey all üëã  we are practically ready with the test changes for EIP 4788 v2, but we have not merged anything yet, so just wanted to bring this up to see how everybody feels about merging this in the following days to the hive repo to have tests running on https://hivecancun.ethdevops.io/ (EVM blockchain tests too)\n\u003c@211091239112671234\u003e  \u003c@543900561460822016\u003e \u003c@508125616940515329\u003e  \u003c@583892532644151312\u003e \u003c@758579010027782144\u003e \u003c@827653956955406406\u003e",
        "created_at": "2023-08-10T14:42:45.870000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Go for it! üöÄ",
        "created_at": "2023-08-10T14:43:36.977000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Here are the links to the test changes btw:\nIssue with change list: https://github.com/ethereum/hive/issues/818\nHive Engine Suite: https://github.com/ethereum/hive/pull/820\nEVM Tests: https://github.com/ethereum/execution-spec-tests/pull/246",
        "created_at": "2023-08-10T14:47:05.479000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I think currently all looks fine, but for devnet8 we likely want: https://github.com/ethereum/EIPs/pull/7456 so we might want to get that PR on EIPs merged first, then update tests?",
        "created_at": "2023-08-10T14:47:25.613000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I think a quote was (not sure who said this), first all clients should pass the (hive?) tests and then we can deploy devnet-8. Since it is likely (?) we get this bytecode in we might want to change this. Since this will especially change gas costs of callers of this precompile (since this now invokes EVM code)\nAnyways: I am absolutely go with a (pre?)release of these tests üôÇ",
        "created_at": "2023-08-10T14:48:59.434000+00:00",
        "attachments": []
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "Let's go! üôÇ cc: \u003c@1011612262743679036\u003e",
        "created_at": "2023-08-10T14:49:55.250000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Yes exactly, what I could see changing from the current EIP PR is the bytecode and therefore the address, but both of these things are super easy to update on the tests once we settle on a bytecode and address on later weeks, but I think it would be beneficial to have tests as is for now",
        "created_at": "2023-08-10T14:54:41.835000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "All right then disregard my comment. Let's launch the tests üòÑ üöÄ",
        "created_at": "2023-08-10T14:55:13.612000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "It is certainly benificial to have the tests üòÑ",
        "created_at": "2023-08-10T14:55:40.787000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Awesome üòÑ we'll work on updating this and probably we will have the updates merged today, potentially a pre-release of the fixtures on the python EVM tests",
        "created_at": "2023-08-10T14:57:13.794000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ok absolutely great üòÑ Awesome! ü•≥",
        "created_at": "2023-08-10T14:59:51.655000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Lifting this up a level, re 4788:\n\nOh one final q we didn't discuss yet: should the 'blessing' include adding the contract to accesslist, like we do for the precompiles?",
        "created_at": "2023-08-10T15:07:30.756000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Right now it is not subsidized. In original eip, it implicitly was, due to being a precompile.",
        "created_at": "2023-08-10T15:07:48.814000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "seems pretty reasonable to add the address to access list",
        "created_at": "2023-08-10T15:11:21.864000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "it is touched every block!",
        "created_at": "2023-08-10T15:11:31.587000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Yeah (but not every tx)",
        "created_at": "2023-08-10T15:12:03.080000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "I can accept either. But I want it to be specified",
        "created_at": "2023-08-10T15:12:20.428000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I would like it to get into warm adresses such that we do not get https://eips.ethereum.org/EIPS/eip-3651 in the future üôÇ",
        "created_at": "2023-08-10T15:13:25.516000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "btw i did add it to the PR yesterday: https://github.com/ethereum/EIPs/pull/7456/commits/72edbeece275114cbe34b7ee9df1da4ff0303c75",
        "created_at": "2023-08-10T15:13:41.669000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Ah my bad, missed it. I thought I subscribed to it, guess I wasn't",
        "created_at": "2023-08-10T15:14:58.009000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Geth pr needs update",
        "created_at": "2023-08-10T15:15:11.302000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "hmm after looking at the code to add to access list i think i am actually slightly against now",
        "created_at": "2023-08-10T15:21:33.648000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "originally i was in favor thinking it was more similar to 3651, but actually isn't, like martin said, it isn't touched each tx like coinbase is",
        "created_at": "2023-08-10T15:24:10.360000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "so we treat it more like a precompile - but naively adding it to the list of precompiled addresses causes issues with vm calls because we usually check if the call destination is a precompile and intercept it before creating an actual EVM frame (which we do want in the case of 4788 contract)",
        "created_at": "2023-08-10T15:25:09.277000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "so we'd have to add the 4788 address in some different way, check if cancun, etc",
        "created_at": "2023-08-10T15:25:32.377000+00:00",
        "attachments": []
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "4788-testing-tooling changes",
        "created_at": "2023-08-10T15:25:51.665000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "It is accessed, right (?) because before every tx-processing the \"system-tx\" will write storage to the contract?",
        "created_at": "2023-08-10T15:29:08.535000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "no it is only once per block before tx processing begins",
        "created_at": "2023-08-10T15:29:34.847000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ah ok right, coinbase accessed every tx and this one not",
        "created_at": "2023-08-10T15:30:23.613000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I think we should add this to the EIP nevertheless. Solidity will end up to `STATICCALL` this address anyways. We should mark it warm",
        "created_at": "2023-08-10T15:32:42.781000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "what is the argument for marking it warm though? it isn't touched each tx and it is a normal contract (not precompile)",
        "created_at": "2023-08-10T15:33:55.033000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ok fair enough. I wanted to raise some semi-political points here regarding warm adresses but those do not hold for other adresses as well. (Such as: why are warm adresses not kept-warm across txs?)",
        "created_at": "2023-08-10T15:35:30.634000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "So indeed: the \"system tx\" touches the adress but any other tx in the block is (currently) not able to observe this",
        "created_at": "2023-08-10T15:36:30.795000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "I agree with this. I slightly favour _not_ adding it",
        "created_at": "2023-08-10T15:47:40.024000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "i'll leave this discussion open until tomorrow and then remove it from the warm list if no one else argues strongly for it",
        "created_at": "2023-08-10T15:48:47.253000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "After a thought I think that it should not be added to warm üëç",
        "created_at": "2023-08-10T15:49:16.409000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "The only reason to add it would be to make the new eip version \"on par\" with the first version. Which is not a technical reason. So yeah, let's not",
        "created_at": "2023-08-10T15:52:48.587000+00:00",
        "attachments": []
    }
]