[
    {
        "author": "gumb00",
        "category": "Testing",
        "parent": "",
        "content": "I argued here for removing of state tests with too wide values of `chain_id` etc.\n\n `pectra-devnet-5@v1.2.0` release still has such tests (`set_code_txs.valid_tx_invalid_chain_id`), any plans to resolve this? \u003c@892053833121923094\u003e",
        "created_at": "2025-01-13T14:21:07.033000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Do those tests have chain id \u003e ~~2^64~~ 2^256-1?",
        "created_at": "2025-01-13T14:26:37.470000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Can report that EthJS successfully passes all blockchain/state/transaction tests in the 1.2.0 release ðŸ˜„",
        "created_at": "2025-01-13T14:33:17.990000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "as you corrected, I think 2^256-1 should be formalized as the upper bound, as the 7702 authorization tuple was updated to allow that limit.  That limit was 64 bits for a while",
        "created_at": "2025-01-13T15:10:02.376000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I don't recall the specific reason but I think some clients could not import tests with chain IDs \u003e 2^256-1 which is why we have tx tests now also?",
        "created_at": "2025-01-13T15:11:47.249000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "State/blockchain tests should still have the 2^256-1 check though since those are valid txs and we'll fork if some client rejects such tx",
        "created_at": "2025-01-13T15:12:46.578000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "Are the tests verifying the blocks out of spec are not imported?  I guess it depends on how the clients fail when they receive that invalid data.",
        "created_at": "2025-01-13T15:15:16.313000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ah right I think this was part of the \"problem\", it was (without tx tests) not possible to see if the import failed at block-level or at tx-level",
        "created_at": "2025-01-13T15:18:29.728000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ah yes the 2^256-1 test is there\n\n```python\n@pytest.mark.parametrize(\n    \"auth_chain_id\",\n    [\n        pytest.param(Spec.MAX_AUTH_CHAIN_ID, id=\"auth_chain_id=2**256-1\"),\n        pytest.param(2, id=\"chain_id=2\"),\n    ],\n)\ndef test_valid_tx_invalid_chain_id(\n    state_test: StateTestFiller,\n    pre: Alloc,\n    auth_chain_id: int,\n):\n```",
        "created_at": "2025-01-13T15:20:44.553000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Yes this one is correct I think, the invalid one would be 2^256, which is included as a transaction test, \u003c@275684146658148352\u003e  this was a spec update that allowed up to 2^256-1",
        "created_at": "2025-01-13T16:54:20.106000+00:00",
        "attachments": null
    },
    {
        "author": "gumb00",
        "category": "Testing",
        "parent": "",
        "content": "Ah right I forgot about this spec update sorry",
        "created_at": "2025-01-13T16:55:37.800000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "So in the latest spec release there are also some fixtures in there of \"older\" forks - for 4844/Cancun I can see why these are in there (max blobs changed), but for the other forks like byzantium I do not see why these tests are in the fixture release. Out of interest what triggers including fixture files in a release? Is it a diff where there's now some different post-state than to another fork? (Which would make sense if a lot of tests get included due to the new floor price of 7623)",
        "created_at": "2025-01-13T17:23:36.093000+00:00",
        "attachments": null
    }
]