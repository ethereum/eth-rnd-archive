[
    {
        "author": "dimitry8570",
        "category": "Testing",
        "parent": "",
        "content": "I think its the matter of this question\n\nhttps://github.com/ethereum/execution-spec-tests/issues/209",
        "created_at": "2023-07-21T06:04:20.821000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "It is still unclear to me what t8n processing of the array of transactions mean.\n1. They are not independent because the state is preserved between transaction executions.\n2. This is not block of transactions validation because after rejecting a transaction the processing continues.\n3. This is close to block building because you reject some transactions but continue processing more. However, the block gas limit is not checked.",
        "created_at": "2023-07-21T09:52:21.208000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "Also, considering the current 4844 tests, it seems at least some t8n implementations control block-level params like `MAX_DATA_GAS_PER_BLOCK`. I guess they also control block gas limit.",
        "created_at": "2023-07-21T09:56:49.232000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "BTW, how is `\"currentExcessDataGas\"` calculated? Does it depends on t8n?",
        "created_at": "2023-07-21T10:20:31.658000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "What exactly fields are missing?",
        "created_at": "2023-07-21T13:06:55.982000+00:00",
        "attachments": []
    },
    {
        "author": "dimitry8570",
        "category": "Testing",
        "parent": "",
        "content": "The initial test protocol idea was:\n\n- Start with given genesis\n- Accept incoming transactions (to the pool)\nHere invalid transactions get rejected.\n- Seal the block with accepted transactions",
        "created_at": "2023-07-21T14:01:46.207000+00:00",
        "attachments": []
    },
    {
        "author": "dimitry8570",
        "category": "Testing",
        "parent": "",
        "content": "Thats why t8n is expected to calculate  gasLimit, difficulty, baseFee, extraDataGas",
        "created_at": "2023-07-21T14:03:21.634000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "This is doable on my side. Would be nice to have some conformance tests for t8n implementations though ðŸ™‚",
        "created_at": "2023-07-21T14:55:14.349000+00:00",
        "attachments": []
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "From Shanghai onwards is missing withdrawalsRoot, and from Cancun is missing the dataGasUsed, and ExcessDataGas",
        "created_at": "2023-07-21T14:59:07.781000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "Something like this? https://github.com/hyperledger/besu/tree/main/ethereum/evmtool/src/test/resources/org/hyperledger/besu/evmtool/t8n\nEvery time I had a bug in the Besu t8n I captured a representative t8n run.",
        "created_at": "2023-07-21T14:59:13.291000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "I will check. I though about using execution-spec-tests for it. E.g. `./check-t8n evmone-t8n`.",
        "created_at": "2023-07-21T15:01:04.100000+00:00",
        "attachments": []
    },
    {
        "author": "peter.davies",
        "category": "Testing",
        "parent": "",
        "content": "There are some tests in https://github.com/ethereum/go-ethereum/tree/master/cmd/evm/testdata. They don't count as proper conformance tests though.",
        "created_at": "2023-07-21T15:01:11.900000+00:00",
        "attachments": []
    }
]