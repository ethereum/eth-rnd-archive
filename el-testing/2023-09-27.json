[
    {
        "author": "macfarla",
        "category": "Testing",
        "parent": "",
        "content": "Hive test Q - is there doc or example on how to use Dockerfile.local ? Wanting to change the base docker image for besu but not sure how to verify changes to Dockerfile.local https://github.com/ethereum/hive/pull/889",
        "created_at": "2023-09-27T03:33:18.465000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "not a hive dev, but assuming you can mod the `configs/cancun.yaml` client definition to point to `Dockerfile: local` instead of `Dockerfile: git`. (https://github.com/ethereum/hive/blob/057bebf3b86da35cbdfe9bd8b2cefd651c25c2a4/configs/cancun.yaml#L3)\n\nthen running hive and using the cli commands to just test besu should use the dockerfile.local you have modified.",
        "created_at": "2023-09-27T08:25:40.527000+00:00",
        "attachments": null
    },
    {
        "author": "spencer_tb",
        "category": "Testing",
        "parent": "",
        "content": "I think we need to update the documentation: https://github.com/ethereum/hive/blob/master/docs/commandline.md#client-build-parameters\n\nBut yeah exactly what pari mentioned, create a `config.yaml` and point it to the Dockerfile you are building with, calling the config file when running with hive: `./hive ... -client-file config.yaml ...`\n\nTo point to  `Dockerfile.local`  we can use the following in `config.yaml`:\n```\n- client: besu\n  dockerfile: local\n  build_args:\n      local_path: besu_local\n```\n\nJust make sure to copy the client base repo within `./clients/besu/` and refer to it in the config within `local_path`, e.g the names here match `besu_local`:\n```\ncp -r besu/ ../hive/clients/besu/besu_local\n```",
        "created_at": "2023-09-27T13:29:15.661000+00:00",
        "attachments": null
    }
]