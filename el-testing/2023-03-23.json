[
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "Just now finally looking at the EOF tests in the current reference tests, and they don't match my expectation for what is considered valid and what is invalid.  For example, all of validInvalidFilter is all valid, because each code stream is legacy.  This is because they all have a legacy initcode loader and it appears what they are testing is if the contract deployes from a contract create transaction.  I expected a test where we were doing no EVM execution and were just checking if it's valid, like Transaction tests.  \n\nI think the issue is that the tests are trying to be filled by t8n when instead I think we need a new `code-validate` sub command (like b11r) focused just on bytecode validation.  The fuzzing that \u003c@211091239112671234\u003e set up over christmas is an appropriate interface in my opinion.",
        "created_at": "2023-03-23T00:25:49.354000+00:00",
        "attachments": null
    },
    {
        "author": "dimitry8570",
        "category": "Testing",
        "parent": "",
        "content": "My concern here would be that we would end up having too many tools. The power of t8n is that it can act as a test protocol so once implemented, any client can run/generate any tests we have.\n\nthe EOF tests can be generated using only Cancun rules and above. (via create transaction) and the generated file look like. \n```\ncode    0x....\nvalid  yes/no\nrules  Cancun/etc...\n```\nrules are needed in case EOF format changes",
        "created_at": "2023-03-23T10:17:40.042000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "But what T8n is testing is not what needs to be tested.  T8n tests transactions, and what needs to be tested is validity.  Just the same as TransactionTests: without executing it is this transaction valid?",
        "created_at": "2023-03-23T14:31:58.761000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "And if we are using t8n then the output is missing all the critical environmental information that would be needed is also not in the filler.",
        "created_at": "2023-03-23T14:33:57.151000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "What was asked for in these EOF tests was just validity.  T8n is not a protocol that can test that.",
        "created_at": "2023-03-23T14:34:11.093000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "As code `0x386000600039600d3803600df3ef0001010004020001000303000400000000013050000bad` is valid, but `EOFTests/efExample/validInvalid.json`/`validInvalid_1` calls it invalid because the _excecution_ fails.  We don't want to test execution with this data set, we only want to check validity.",
        "created_at": "2023-03-23T14:36:54.426000+00:00",
        "attachments": null
    },
    {
        "author": "dimitry8570",
        "category": "Testing",
        "parent": "",
        "content": "then we would need `t10n`  having unittests independent on other aspects of the system is good, just that really wanted to save one more tool here",
        "created_at": "2023-03-23T14:54:45.034000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "All the clients have code to run this, as part of the prior fuzzing runs.  I think we just need to nail down the CLI interface.",
        "created_at": "2023-03-23T15:05:13.401000+00:00",
        "attachments": null
    }
]