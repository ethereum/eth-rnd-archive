[
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "With pytest, is there a way to match against a specific test case and combination of parameters?  I'm guessing this involves formatting the value of `-k` correctly, but I can't figure out how.",
        "created_at": "2023-08-14T16:08:04.484000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "I want to run a single failing test-case/parameter combination",
        "created_at": "2023-08-14T16:08:36.867000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Testing",
        "parent": "",
        "content": "I think so, and it uses square brackets. I can't remember more specifically than that üòÖ",
        "created_at": "2023-08-14T16:08:54.744000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "ah.  I tried messing around with the square brackets but haven't found the magic syntax to get it working.",
        "created_at": "2023-08-14T16:09:34.646000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "good to know that's the right direction though",
        "created_at": "2023-08-14T16:10:48.091000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "it will print out lines like this:\n```\nFAILED tests/cancun/eip6780_selfdestruct/test_selfdestruct.py::test_selfdestruct_pre_existing[fork=Shanghai-eip_enabled=True-pre_existing-selfdestruct_contract_initial_balance=100000-multiple_calls_multiple_sendall_recipients_including_self_different_order] - ...\n```\n\nAnd I try:\n```\n\u003e  ./venv/bin/fill -k 'test_selfdestruct_pre_existing[Shanghai-True-pre_existing-100000-multiple_calls_multiple_sendall_recipients_including_self_different_order]'\n```\n\nBut it doesn't match anything .",
        "created_at": "2023-08-14T16:26:43.660000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I always leave it out to vscode to deduce the command line for me üòÇ",
        "created_at": "2023-08-14T16:31:37.775000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "But this is an example of what it comes up for a single test case:\n```\npytest ./tests/cancun/eip5656_mcopy/test_mcopy.py::test_mcopy_on_empty_memory[fork=Cancun-empty_memory-length=0-src=0-dest=0]\n```",
        "created_at": "2023-08-14T16:32:24.755000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "So `\u003ctest file path\u003e::\u003ctest function name\u003e[\u003ctest parameters\u003e]`",
        "created_at": "2023-08-14T16:33:52.510000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "`zsh: no matches found: ./tests/cancun/eip5656_mcopy/test_mcopy.py::test_mcopy_on_empty_memory[fork=Cancun-empty_memory-length=0-src=0-dest=0]`",
        "created_at": "2023-08-14T16:34:11.182000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "trying with bash",
        "created_at": "2023-08-14T16:35:06.640000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "different error:  this time from pytest: `ERROR: file or directory not found: ./tests/cancun/eip5656_mcopy/test_mcopy.py::test_mcopy_on_empty_memory[fork=Cancun-empty_memory-length=0-src=0-dest=0]`",
        "created_at": "2023-08-14T16:35:58.373000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "oh that's because the specific command is something that's not the `main` branch",
        "created_at": "2023-08-14T16:37:12.143000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "no... I'm not on the main branch..",
        "created_at": "2023-08-14T16:37:50.113000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I'm on main yes üëç",
        "created_at": "2023-08-14T16:37:55.538000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "This is the full command:\n```\nfill --until=Cancun './tests/cancun/eip5656_mcopy/test_mcopy.py::test_mcopy_on_empty_memory[fork=Cancun-empty_memory-length=0-src=0-dest=0]'\n```",
        "created_at": "2023-08-14T16:38:15.828000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "If you're not in the root `execution-spec-tests` folder, the path might need to be changed but it should work",
        "created_at": "2023-08-14T16:38:58.576000+00:00",
        "attachments": null
    },
    {
        "author": "jwasinger",
        "category": "Testing",
        "parent": "",
        "content": "yup it works (and passes now that I am on the `main` branch üôÇ ). thanks",
        "created_at": "2023-08-14T16:43:46.444000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "If you're using vscode, I highly recommend setting up the `.vscode/settings.recommended.json`, it lists out the tests in the testing tab nicely and you can just pick any single one and run it very easily:",
        "created_at": "2023-08-14T16:45:36.488000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "a656b01a88f634a7983004cf66614714982d6b04ca0f2b89ab25130de0976ded"
            }
        ]
    }
]