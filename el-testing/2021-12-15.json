[
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "I'm not sure about `t8n` tools capabilities and design, but State Transition tests are designed around a single transaction which modifies predefined State. The transaction output is not recorded by blokchain and manifest nowhere in the state (even tx receipt discards it) so this is not very \"pure\". But on the other hand in the State Transition tests we record some other transaction-specific information like error code or even revert message (which technically is the tx output recorded only in case of \"revert\" error code).",
        "created_at": "2021-12-15T13:35:49.579000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "I did some research on `t8n` in geth and it would be difficult to add output to tx receipts...",
        "created_at": "2021-12-15T14:03:52.907000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "What did you find that would make it difficult? I was looking yesterday and it seemed you could make another type `ReceiptWithOutput` in the `t8n` tool and serialize that?",
        "created_at": "2021-12-15T15:06:33.467000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "As far as I understand it, the state transition tests are deprecated and just simplified formats for single block blockchain tests",
        "created_at": "2021-12-15T15:10:16.503000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "Mostly this. The tool is using API that outputs `Receipt` which does not have the output and is consensus-critical type. So modifying or replacing it may be a stretch.",
        "created_at": "2021-12-15T15:34:22.751000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "For me these are the only consensus tests I will be ever able to consume.",
        "created_at": "2021-12-15T15:35:08.816000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "But you can create a wrapper type in `t8n` and just accumulate them together with the receipts, no?",
        "created_at": "2021-12-15T15:35:36.870000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "The full store is that I have internal format for EVM benchmarks where expected output was specified to check if you are actually benchmarking a \"correct\" EVM. Then I converted the benchmarks to State Transition format where output is missing. So to keep status quo for evmone it would be nice to include output in the State Transition files. But this is not critical as I plan to implement State Transition test runner for evmone.",
        "created_at": "2021-12-15T15:39:04.260000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "So this is just \"nice to have\".",
        "created_at": "2021-12-15T15:39:29.251000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "I can try to make a PR that adds output to the receipt, that would allow retesteth to expose it. Would that solve your current issue?",
        "created_at": "2021-12-15T15:42:32.782000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "Sure. But don't spend too much time on it.",
        "created_at": "2021-12-15T15:43:54.990000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "I can live without it",
        "created_at": "2021-12-15T15:44:15.828000+00:00",
        "attachments": []
    }
]