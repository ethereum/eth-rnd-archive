[
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "State Sync #25\n - \u003c@!243183686562873344\u003e working on resuming from an arbitrary block using state provided over RPC (and running into SIGBUS in erigon.)\n - \u003c@!564718359304863744\u003e Cleaning up the homestead PRs",
        "created_at": "2021-10-27T14:37:14.562000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "I think it would be great to pull the `rlp` impl out of the fork-specific modules",
        "created_at": "2021-10-27T17:25:42.966000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "anyone opposed?",
        "created_at": "2021-10-27T17:25:51.092000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "Have you guys planned/prioritized the non-code parts of this effort?  Filling in all the docstrings and other \"documentation\" and spec-writing type work (the part that actually makes this a viable yellow paper alternative)",
        "created_at": "2021-10-27T17:45:45.191000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "We spoke with \u003c@!466048602326695938\u003e (hopefully the right account) briefly about when to start the narrative parts of the documentation.",
        "created_at": "2021-10-27T18:21:25.197000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "At the time the consensus was \"not yet\" but it's probably time to re-evaluate.",
        "created_at": "2021-10-27T18:21:52.677000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "I think frontier is done enough to start writing",
        "created_at": "2021-10-27T18:22:02.056000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Unfortunately we can't copy from the yellow paper directly, because of the license difference ðŸ˜¦",
        "created_at": "2021-10-27T18:22:20.261000+00:00",
        "attachments": null
    },
    {
        "author": "voith",
        "category": "general",
        "parent": "",
        "content": "Personally, I don't like the doc strings being the documentation for the spec. I always wanted that part to be manually written by someone like the eth2.0-specs",
        "created_at": "2021-10-27T18:23:47.456000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Yeah, that's the goal",
        "created_at": "2021-10-27T18:24:08.112000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Have a nice narrative blob before/after the parameters documentation.",
        "created_at": "2021-10-27T18:24:30.286000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "If/when we port consensus-specs to a more rich format, being able to toggle annotations  on/off and being able to toggle full fork spec vs fork diff is high priority",
        "created_at": "2021-10-27T18:24:55.896000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "(thus we could more closely integrate things like this -- https://github.com/ethereum/annotated-spec. while still being able to be in \"code mode\" for people highly adept to the specs)",
        "created_at": "2021-10-27T18:25:30.795000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "I think we can set up a block of some kind in reStructuredText to have a CSS class, then in the template have a JavaScript toggle to show/hide that block.\n\nSo you'd have something like:\n\n```\ndef count_floops_per_florp(florp: Florp):\n    \"\"\"\n    This helper function is only for initializing the state for pure Altair testnets and tests.\n\n    .. annotation::\n       Go into more detail about the function and maybe add some pretty pictures.\n    \"\"\"\n\n    y = 0\n    for x in range(100):\n        y += 1\n\n    return y\n```",
        "created_at": "2021-10-27T18:30:21.640000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "As markdown the unannotated version would roughly render into:\n\n```\n## `count_floops_per_florp`\n\nThis helper function is only for initializing the state for pure Altair testnets and tests.\n\n` ``\ndef count_floops_per_florp(florp: Florp):\n    y = 0\n    for x in range(100):\n        y += 1\n\n    return y\n` ``\n```",
        "created_at": "2021-10-27T18:32:24.803000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "And you'd have a toggle to show/hide all the annotations.",
        "created_at": "2021-10-27T18:32:41.554000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "That kinda what you're thinking?",
        "created_at": "2021-10-27T18:32:50.593000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "yeah, something like that",
        "created_at": "2021-10-27T18:33:10.935000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "there are two primary users of specs in our case\n\npeople  extremely familiar and just looking at code snippets to check logic or refamiliarize yourself\nand then people that are attempting to grok for the first time\n\nour specs are optimized for the former, while these \"annotated\" versions are optimized for the latter but often are tough to maintain and keep in sync\nannotation toggle in a richr build than markdown would allow both to be supported",
        "created_at": "2021-10-27T18:34:34.569000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "as for the full code for a fork vs the diff, I see  a lot of value in that too\n\nour specs just show the diff of a particular fork, but build the entire fork as a unified code release",
        "created_at": "2021-10-27T18:35:01.009000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Yeah, exactly. If they're in the same source location, it's way easier to keep in sync.",
        "created_at": "2021-10-27T18:35:14.390000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Yeah, I've been working on that",
        "created_at": "2021-10-27T18:35:25.733000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "very nice",
        "created_at": "2021-10-27T18:35:30.052000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I'm thinking we'll sync up some more in Q1 to make a plan on doing a consensus-specs port to the more rich format",
        "created_at": "2021-10-27T18:35:57.718000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "hard to prioritize... but definitely worth it",
        "created_at": "2021-10-27T18:36:05.211000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "I think there's still some uncertainty around whether the python-first or the markdown-first format is ideal. I still lean towards the python-first approach because of the search and navigation features, but it's hard to tell.",
        "created_at": "2021-10-27T18:37:07.081000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "python-first *might* be harder to contribute to for outsiders as you have to figure out how things are structured a bit more?\nmaybe.\n\nI've been slowly converted to think the python-first might be the best because (1) you avoid nightmare build script and (2) with rich formatting, you can display however you please ultimately\n\nsaner to go from `well structured code -\u003e well rendered spec`, than to go from `well rendered spec -\u003e well structured code`\n\nthat said, what we have *works* but it can' really be modified to have richer rendering capability as is",
        "created_at": "2021-10-27T18:39:25.755000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "We have our own nightmare bits (like `undocinclude`) but hopefully they're more manageable than the build script",
        "created_at": "2021-10-27T18:40:41.228000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "Having an HTML templating engine will probably make the annotated spec a lot easier than if you had to add that to markdown.",
        "created_at": "2021-10-27T18:41:09.174000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I mean -- have you seen this beauty?\nhttps://github.com/ethereum/consensus-specs/blob/dev/setup.py",
        "created_at": "2021-10-27T18:41:11.901000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "general",
        "parent": "",
        "content": "I opened it once when I started the execution-specs project then noped out of there",
        "created_at": "2021-10-27T18:41:33.738000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "The reason I brought this up is that I think it is actually the more difficult work and now that you guys have a full fork implemented, it may be tempting to keep focus on the rest of the forks, but the code for the rest of the forks is probably going to be easy compared to the narrative spec work that is still to be done.  Just my 2 cents.  IMHO the ability to show just the Frontier spec in both rich narrative, code, and whatever lives in-between is more impactful than having all forks fully implemented.",
        "created_at": "2021-10-27T19:26:21.971000+00:00",
        "attachments": null
    }
]