[
    {
        "author": "chfast",
        "category": "general",
        "parent": "",
        "content": "Has anyone considered and/or tested the EIP-7610 in the context of a selfdestructed account? I.e. in a single transaction an account selfdestructs and later a `CREATE` targets its address.",
        "created_at": "2024-08-30T13:11:49.554000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "general",
        "parent": "",
        "content": "CREATE tries to create contract with storage and then selfdestruct?",
        "created_at": "2024-08-30T14:38:37.689000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "general",
        "parent": "",
        "content": "No. The main code calls an account X. Account X has some storage. Account X selfdestructs. main code `CREATE`s an account and its address collides with X.",
        "created_at": "2024-08-30T15:02:04.571000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "Pre-6780 the storage and nonce would be deleted.  Post 6780 just the value is moved out, nonce and storage remain.  Unless we can get storage with nonce=0 I think the collision on nonce checks will prevent all mainnet collisions.  And the few code w/ nonce zero accounts were pre create2 IIRC.",
        "created_at": "2024-08-30T16:03:10.475000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "general",
        "parent": "",
        "content": "Accounts with storage but without a nonce and code are from before Homestead: then if case of code deployment failure the account remained created.",
        "created_at": "2024-08-30T20:24:55.955000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "general",
        "parent": "",
        "content": "But a selfdestructed account still has code until after the transaction execution.",
        "created_at": "2024-08-30T20:25:42.179000+00:00",
        "attachments": []
    }
]