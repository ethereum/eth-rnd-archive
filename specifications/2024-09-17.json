[
    {
        "author": "chfast",
        "category": "general",
        "parent": "",
        "content": "Can you selfdestruct an account and then re-create it in the same transaction?",
        "created_at": "2024-09-17T12:47:23.781000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "There's a test for that.  Yes.  That would be create destroy create post 6780",
        "created_at": "2024-09-17T12:59:07.139000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "general",
        "parent": "",
        "content": "But the create should fail because an account has code?",
        "created_at": "2024-09-17T13:42:05.961000+00:00",
        "attachments": []
    },
    {
        "author": "peter.davies",
        "category": "general",
        "parent": "",
        "content": "You have never been able to SELFDESTRUCT and recreate in the same transaction because the actual destruction of the account happens after the transaction has executed.",
        "created_at": "2024-09-17T13:43:29.012000+00:00",
        "attachments": []
    },
    {
        "author": "peter.davies",
        "category": "general",
        "parent": "",
        "content": "You can however create and SELFDESTRUCT in one transaction and recreate in a later transaction.",
        "created_at": "2024-09-17T13:44:14.224000+00:00",
        "attachments": []
    },
    {
        "author": "chfast",
        "category": "general",
        "parent": "",
        "content": "But you can selfdestruct, then re-create an account with code, in the end account will be deleted although the code has changed.",
        "created_at": "2024-09-17T13:45:46.978000+00:00",
        "attachments": []
    },
    {
        "author": "_shemnon",
        "category": "general",
        "parent": "",
        "content": "This test indicates you can CREATE/SELFDESTRUCT/CREATE in the same TX and the new account (0x51bbeb887a2638ae37ce69027395957c396ee327) survives - https://github.com/ethereum/execution-spec-tests/blob/a3743c807eacce14fe9d147a3414578d082171f9/tests/cancun/eip6780_selfdestruct/test_dynamic_create2_selfdestruct_collision.py#L486",
        "created_at": "2024-09-17T14:37:41.612000+00:00",
        "attachments": []
    }
]