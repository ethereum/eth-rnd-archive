[
    {
        "author": "etharkh",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Great Thanks.  I totally missed that withdrawals are also visible on execution payload of beacon block body. \nI will just fetch the block body : eth/v2/beacon/blocks/finalized\nand get the execution_payload.withdrawals. The last index+1 would be the `next_withdrawal_validator_index`",
        "created_at": "2024-11-15T10:26:06.317000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "For an estimate of the next withdrawal you also need to know which validators are eligible for withdrawal, hence requiring the validators state as well.",
        "created_at": "2024-11-15T10:44:34.668000+00:00",
        "attachments": null
    },
    {
        "author": "etharkh",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That is true. However, the estimate error by considering all are withdrawables, would be just a few slots, I dont expect 100s of unwithdrawable validators having subsequent indexes.",
        "created_at": "2024-11-15T16:20:45.600000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Current validator statuses:\n\n```\nValidator states:\n  Pending: 371\n  Activating: 498\n  Active: 1077451\n  Exiting: 768\n  Exited: 583831\n```\n\nSo it is likely that at least 1/3 of the validator indices aren't eligible for withdrawal.  Up to you as to if you are okay with that level of imprecision.",
        "created_at": "2024-11-15T18:09:48.444000+00:00",
        "attachments": null
    }
]