[
    {
        "author": "emhane",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "sigp/discv5 are using parity's kbuckets (same as rust-libp2p) with some augmentations. a limit on incoming connections in a bucket effects the probability of choosing k bad starting points for a lookup. so this is another approach to security if enabled. smthg also worth trying out in a simulation imo, and then trying to eclipse a node. https://github.com/sigp/discv5/blob/269b7f0fc73f85484b0c08929a8e7540ab5de20f/src/config.rs#L55-L57\nhttps://github.com/sigp/discv5/commit/82c11b261fc65f0962f79612393a8ce2a4ccb01d",
        "created_at": "2023-05-18T06:11:07.217000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "it‚Äôs not clear, but it seems there should be two separate DHTs: first will be validator-only as we already have an expensive anti-sybil mechanism so it should stay rather healthy. The second would be a general full node DHT which would need an assortment of anti sybil mechanisms - something like ‚Äúhas ENS‚Äù, ‚Äúnonce above 10‚Äù, ‚Äúowns at least N of X token‚Äù, ‚Äúgitcoin passport‚Äù etc. This idea idea is not fully fleshed out yet. This one would inherently have more sybil‚Äôs but with the right mechanisms should also stay quite healthy",
        "created_at": "2023-05-18T07:49:52.213000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "the validator dht can aid in reconstruction in case row and column gossip fails",
        "created_at": "2023-05-18T07:50:43.460000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "validators may need to write to both DHTs",
        "created_at": "2023-05-18T07:51:04.826000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "there is a bound on the amount of validators can exit per day, so would need a duplication factor of data high enough that if they all left it wouldn‚Äôt be an issue",
        "created_at": "2023-05-18T07:54:11.374000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Seems far simpler, and more permissive, to just require a bond to participate.",
        "created_at": "2023-05-18T07:56:03.970000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "in which one, the validator or non-validator dht?\n\nbond kinda goes against the idea that users should have to pay to run a node‚Ä¶",
        "created_at": "2023-05-18T08:30:57.293000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Non-validator DHT.",
        "created_at": "2023-05-18T08:32:21.349000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Users also shouldn't have to KYC (gitcoin passport) to run a node.",
        "created_at": "2023-05-18T08:32:39.064000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I prefer pay over KYC if those are the only two options.",
        "created_at": "2023-05-18T08:32:49.077000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "its not a requirement to have a gitcoin passport, just an option - bonding could also be an option",
        "created_at": "2023-05-18T09:10:24.493000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "you can think about each mechanism as having some anti-sybil value and if the sum of your identifiers is greater than the sybil threshold you may join",
        "created_at": "2023-05-18T09:11:05.525000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "so you could easily just pay a large enough bond",
        "created_at": "2023-05-18T09:11:18.852000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I'm still hesitant to include KYC protocols as part of that.  It can create a system where wealthy people get to be anonymous and poor people who want to participate have to KYC.  It may be better for end users to disallow the KYC solution entirely so poor people aren't tempted into doxxing themselves.",
        "created_at": "2023-05-18T09:16:58.812000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "That is, I'm hesitant to build systems that encourage doxxing in any way, even if it is just to save money.",
        "created_at": "2023-05-18T09:17:16.823000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Also, such a system is 100% syballable by the gitcoin passport issuers, so this feels like a quite trusted setup while bonding is untrusted.",
        "created_at": "2023-05-18T09:17:54.457000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "saying ‚Äúyou have to pay X to join as a full node‚Äù is a non-starter, if we can‚Äôt design a system that works without this, we won‚Äôt be able to launch the system imo",
        "created_at": "2023-05-18T10:31:49.968000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "this is why it needs to be a combination of things, so hopefully  it all mechanisms are fully sybil-able",
        "created_at": "2023-05-18T10:32:40.394000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Not launching a system seems reasonable to me if there isn't a viable solution.  I don't consider KYC anywhere in the system to be a viable system, and if you think bonding is non-viable then we don't have a viable system and should not launch.",
        "created_at": "2023-05-18T10:33:24.734000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "‚Äúyou must have an ens name‚Äù is not kyc",
        "created_at": "2023-05-18T10:36:31.056000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "Gitcoin Passport is KYC I believe.",
        "created_at": "2023-05-18T10:36:47.297000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "it‚Äôs an example, but i personally don‚Äôt see why it is an issue if it is optional and not able to fully sybil the system if it is exploited",
        "created_at": "2023-05-18T10:37:24.218000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "ENS is semi-trusted at the moment.  In particular, new names can be registered freely by the ENS operators (DAO, currently, in the future by whoever captures the DAO).",
        "created_at": "2023-05-18T10:37:42.188000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "i think you‚Äôre over indexing on specific examples, not the overall idea of having requiring a combination of cheap, common anti sybil mechanisms",
        "created_at": "2023-05-18T10:38:22.084000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "\"owns at least N of X token\" could be trustless for some values of X like WETH, but that is functionally a bond at this point.",
        "created_at": "2023-05-18T10:38:36.308000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "All anti-sybil mechanisms reduce to either KYC, trust, or money.  I don't think we should be using KYC or trust in the system, which leaves money.  If your anti-sybil mechanism is just money, might as well just do bonding because it is super simple.",
        "created_at": "2023-05-18T10:39:20.580000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "I guess there is \"reputation\" as well, but no one has solved that in a way that doesn't simplify to KYC/Trust/Money.",
        "created_at": "2023-05-18T10:43:20.935000+00:00",
        "attachments": null
    },
    {
        "author": "emhane",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "so k-disjoint where k is some subset of the different overlays you describe, atm only two separate DHTs, so starting with k = 2.  it makes sense if the overlays don't overlap.",
        "created_at": "2023-05-18T11:37:35.526000+00:00",
        "attachments": null
    },
    {
        "author": "emhane",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "sharing NODES responses based on specific properties, e.g. validator or not validator,  are starting to look a lot like this research from last year üôÇ",
        "created_at": "2023-05-18T11:41:50.591000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2023-05-18_at_13.40.24.png",
                "content": "7fe5a6b0c094282dd629e02d61036fdb9d81d19d41215f633dce8dad05a82a1b"
            }
        ]
    },
    {
        "author": "emhane",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "but this version you describe \u003c@543900561460822016\u003e is more \"High-liveness-guarantee backbone network\"",
        "created_at": "2023-05-18T11:43:32.198000+00:00",
        "attachments": null
    },
    {
        "author": "emhane",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "and other properties",
        "created_at": "2023-05-18T11:43:46.952000+00:00",
        "attachments": null
    },
    {
        "author": "emhane",
        "category": "Consensus R\u0026D",
        "parent": "",
        "content": "if you do find a reason for the overlays to overlap \u003c@543900561460822016\u003e (and then not doing the k-disjoint paths as it doesn't really gain anything), then upgrading the k-buckets to support overlays like shown below, will improve latency.\n```rust\npub struct KBucket\u003cTNodeId, TVal: Eq\u003e {\n    /// The nodes contained in the bucket.\n    nodes: ArrayVec\u003cArc\u003cRwLock\u003cNode\u003cTNodeId, TVal\u003e\u003e\u003e, MAX_NODES_PER_BUCKET\u003e,\n```\nif a node goes offline, all overlays will be aware of it, so only one overlay will lose the `request_time_out * (retries + 1)`  time on a query including a peer that goes offline.",
        "created_at": "2023-05-18T14:12:12.217000+00:00",
        "attachments": null
    }
]