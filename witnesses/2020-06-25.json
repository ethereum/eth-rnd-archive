[
    {
        "author": "_drinkcoffee",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Code Merklization and Witnesses: One thing that I touched on in the meet-up talk yesterday, but that people might miss is:\nThe current witness spec treats each deployed contract as an individual contract. If two contracts had the same source code and were compiled with the same compiler (solc), the same version, and the same options, then you end up with the same bytecode. For example, there are thousands of identical ERC20 contracts (269,583 ERC 20 contracts in total, but thousand with identical bytecode). If there are two transactions (calls to ERC 20 transfer function for instance), for two contracts that have identical byte code, it would be good if the code was only sent once. Under the current witness spec, the same code will be sent twice, once for each contract.",
        "created_at": "2020-06-25T05:08:54.572000+00:00",
        "attachments": null
    },
    {
        "author": "_drinkcoffee",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "A possible way to handle this is to have a special \"deduplication\" node in the witness, that points to the other node in the witness that has the appropriate data.",
        "created_at": "2020-06-25T05:10:14.370000+00:00",
        "attachments": null
    }
]