[
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Hm..  I looked at it now. It seems to be highly susceptible to griefing?",
        "created_at": "2021-02-11T09:05:20.871000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and yes, I realize it's not a \"huge problem now\", and it probably won't ever be, but seems a bit flaky to build on something which _could_ so easily be attacked, no?",
        "created_at": "2021-02-11T09:06:18.525000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "120Mb of witnesses -- for what? I mean, how many blocks? (ah, you mean hte last 256 blocks a'la 0.5Mb each)",
        "created_at": "2021-02-11T09:07:55.649000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yes, 256 blocks",
        "created_at": "2021-02-11T12:09:48.813000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "griefing as in building special calls that touch a lot of accounts?",
        "created_at": "2021-02-11T12:10:29.089000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "before eip2929 for sure",
        "created_at": "2021-02-11T12:11:34.300000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "cold storage load is 2100",
        "created_at": "2021-02-11T12:13:29.348000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "account is 2600",
        "created_at": "2021-02-11T12:13:43.061000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so you can touch maybe 6000 storage items in a block",
        "created_at": "2021-02-11T12:13:58.186000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "they start to have common paths after a while",
        "created_at": "2021-02-11T12:14:08.986000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so the growth should be sublinear",
        "created_at": "2021-02-11T12:14:18.977000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "if you start touching multiple accounts then the cost is higher",
        "created_at": "2021-02-11T12:14:35.151000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "but you can span out more on the accounts trie",
        "created_at": "2021-02-11T12:14:42.485000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "so probably the most efficient attackw ould be touching around 5000 accounts?",
        "created_at": "2021-02-11T12:14:59.863000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "5000 accounts with ~6depth (unless attack is crafted to maximize depths)",
        "created_at": "2021-02-11T12:15:26.568000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "30000 items? times 32bytes?",
        "created_at": "2021-02-11T12:15:36.507000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "1MB?",
        "created_at": "2021-02-11T12:15:41.974000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "maybe 2MB",
        "created_at": "2021-02-11T12:15:59.411000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and that is only on servers",
        "created_at": "2021-02-11T12:16:06.021000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it is far from the worst",
        "created_at": "2021-02-11T12:16:14.228000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "and the witness does not require any complex construction",
        "created_at": "2021-02-11T12:16:23.613000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I think it is fine for a version 0 protocol that can be experimented with and then improved to provide different witness formats",
        "created_at": "2021-02-11T12:16:50.393000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "what is cool is that we can already test witness creation and witness sharing mechanisms",
        "created_at": "2021-02-11T12:17:05.592000+00:00",
        "attachments": []
    },
    {
        "author": "holiman",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "No, griefing as in serving a huge pile of useless hashes over the protocol",
        "created_at": "2021-02-11T12:22:05.266000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Right, so this protocol is not meant to support stateless clients (yet), the idea being that the worst a griefer can do is slow down a new node from syncing",
        "created_at": "2021-02-11T15:08:23.785000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, if a peer feeds you false hashes, you will know after a single block import. A false hash can be treated as malicious, and that peer can be ignored for future block imports.",
        "created_at": "2021-02-11T15:12:16.230000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Then if we start considering it to be critical infrastructure, we could encode a commitment to the metawitness in the header",
        "created_at": "2021-02-11T15:14:00.299000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If there are enough people using the protocol to make it worth someone griefing that is a good problem to have (IMHO) since it means there is real demand for stateless/beam",
        "created_at": "2021-02-11T15:18:54.423000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Who is hurt by the griefing?  The people trying to run stateless clients, or the people running stateless clients?",
        "created_at": "2021-02-11T15:20:05.804000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Clients trying to beam sync",
        "created_at": "2021-02-11T15:20:48.591000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Right, it would be too easy to halt any stateless client that you connect to by giving them a bunch of false hashes. To use something like this for stateless clients, we would definitely want some commitment embedded in the header",
        "created_at": "2021-02-11T15:24:50.088000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Beam sync is a low-stakes way to experiment with how to specify witnesses \u0026 meta-witnesses as we work toward statelessness (eg~ list of hashes? List of accounts/a storage? List of partial paths? Something something SSZ? etc)",
        "created_at": "2021-02-11T15:28:39.628000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "this can be sorted out by including the hash in the header (as suggested above)",
        "created_at": "2021-02-11T17:44:23.698000+00:00",
        "attachments": []
    },
    {
        "author": "tkstanczak",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "not exactly this -\u003e when you execute the block you actually can verify if someone suggested you wrong hashes and you can punish them",
        "created_at": "2021-02-11T17:45:39.722000+00:00",
        "attachments": []
    }
]