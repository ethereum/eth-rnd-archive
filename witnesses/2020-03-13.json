[
    {
        "author": "pauld.9606",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For those catching up, the witness spec is being worked on here https://github.com/ethereum/stateless-ethereum-specs/pull/1 .",
        "created_at": "2020-03-13T19:04:21.149000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, I hope to return to the spec next week-ish.",
        "created_at": "2020-03-13T19:34:35.487000+00:00",
        "attachments": []
    },
    {
        "author": "pauld.9606",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I look forward to interacting about the witness spec.",
        "created_at": "2020-03-13T19:45:07.111000+00:00",
        "attachments": []
    },
    {
        "author": "pauld.9606",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I was thinking that perhaps we can prove some properties in multiple ways, which would strengthen it further. One of my todos is to list the important properties we need.",
        "created_at": "2020-03-13T19:45:27.575000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, I’m looking forward to the list, I will try to walk through the document to make it even more clear what is the witness format and what is the semantics and what are the algorithms of building / executing.",
        "created_at": "2020-03-13T19:46:58.704000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "To make sure that is is clear that the substitution rules list is an exhaustive list of rules needed to rebuild a trie from a witness.",
        "created_at": "2020-03-13T19:49:05.225000+00:00",
        "attachments": []
    },
    {
        "author": "pauld.9606",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I am also interested in size optimizations from building blocks to maximize overlapping merkle paths. Maybe a greedy algorithm will be fast enough and give good size savings!",
        "created_at": "2020-03-13T19:49:20.240000+00:00",
        "attachments": []
    },
    {
        "author": "pauld.9606",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, the substitution rules must be complete. There must be no ambiguity.",
        "created_at": "2020-03-13T19:50:19.277000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yeah, the list is complete as of now, but we need to proof that.",
        "created_at": "2020-03-13T19:50:50.662000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "For a binary trie it will be even shorter because branch nodes can only have 2 children essentially.",
        "created_at": "2020-03-13T19:51:36.085000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Any branch node with 1 child is an extension",
        "created_at": "2020-03-13T19:51:50.646000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Also, for that  we will save 1 byte per branch because we don’t need to store flags",
        "created_at": "2020-03-13T19:52:31.759000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So the binary witnesses will be even smaller essentially.",
        "created_at": "2020-03-13T19:52:59.089000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Code merkelizarion will hopefully move the next biggest size bottleneck. Actually, it will make the witness format even simpler because we can remove CodeNode at all",
        "created_at": "2020-03-13T19:54:34.219000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "And the opcode for it",
        "created_at": "2020-03-13T19:54:49.481000+00:00",
        "attachments": []
    },
    {
        "author": "mandrigin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "We will treat it the same way we treat storage right now, as I see it.",
        "created_at": "2020-03-13T19:55:12.195000+00:00",
        "attachments": []
    },
    {
        "author": "pauld.9606",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Yes, the binary-ification of the witness format will have some interesting things, including the things you mentioned.",
        "created_at": "2020-03-13T19:58:26.759000+00:00",
        "attachments": []
    }
]