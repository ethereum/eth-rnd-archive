[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Anyone following eth1 voting with respect to the ongoing fork on mainnet?",
        "created_at": "2021-08-27T14:12:58.313000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "it's still too early",
        "created_at": "2021-08-27T14:13:07.736000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "but it may be something to look into",
        "created_at": "2021-08-27T14:13:13.825000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "certainly",
        "created_at": "2021-08-27T14:19:36.564000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "seems like most miners, infrastructre providers, and exchanges upgraded...",
        "created_at": "2021-08-27T14:19:45.551000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "but it is not yet clear if validators did",
        "created_at": "2021-08-27T14:19:51.866000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "will have to wait 8 hours for it",
        "created_at": "2021-08-27T14:23:04.991000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "_sets alarm for 8 hours... then realizes what time that is and unsets alarm._",
        "created_at": "2021-08-27T14:24:36.634000+00:00",
        "attachments": null
    },
    {
        "author": "0age",
        "category": "general",
        "parent": "",
        "content": "so does this mean that we can talk about the vulnerability now? ðŸ˜„",
        "created_at": "2021-08-27T14:26:22.133000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I encourage waiting a bit just to slow down (marginally) the rate at which other chains get attacked.",
        "created_at": "2021-08-27T14:26:43.811000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "However, the cat is out of the bag so I think the benefit of that strategy is very rapidly waning.",
        "created_at": "2021-08-27T14:26:55.898000+00:00",
        "attachments": null
    },
    {
        "author": "0age",
        "category": "general",
        "parent": "",
        "content": "ah that's a great point",
        "created_at": "2021-08-27T14:26:55.911000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@476250636548308992\u003e  in \u003c#745077610685661265\u003e \n\n\u003e Going by the numbers now, if 75% are on the correct chain , it will finalize and proceed as normal. The remaining 25% will incur offline penalties\n\nThe validators in the wrong chain will propose invalid blocks, and also attest for these blocks (supposing that their client checks execution which I'm still yet to believe will be the case). Are you saying that the majority chain will not include these attestations? This is another argument to enforce in-protocol execution check: otherwise it's doubly better to not check execution: in this particular case the minority validators will be attesting for all blocks, good and bad",
        "created_at": "2021-08-27T15:46:47.388000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "\u003e The validators in the wrong chain will propose invalid blocks, and also attest for these blocks (supposing that their client checks execution which I'm still yet to believe will be the case). Are you saying that the majority chain will not include these attestations? \nCorrect",
        "created_at": "2021-08-27T15:47:20.432000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Argh, don't know how to quote :(",
        "created_at": "2021-08-27T15:47:30.530000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "heh",
        "created_at": "2021-08-27T15:47:36.700000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "The majority chain cannot include these attestations",
        "created_at": "2021-08-27T15:48:03.966000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "the moment a new justified checkpoint is declared",
        "created_at": "2021-08-27T15:48:14.071000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "all nodes on the older justified checkpoint will have their attestations discarded",
        "created_at": "2021-08-27T15:48:38.523000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Yeah but if the validators are not verifying execution they'll be attesting fine for all blocks",
        "created_at": "2021-08-27T15:49:03.126000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "hmm, that doesnt seem like a good idea",
        "created_at": "2021-08-27T15:49:48.301000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "sorry I am a bit behind the merge spec, but we aren't verifying the execution payload ?",
        "created_at": "2021-08-27T15:50:35.103000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I thought there's no way to enforce it",
        "created_at": "2021-08-27T15:50:57.912000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Namely there's no penalization if you attest for an invalid execution",
        "created_at": "2021-08-27T15:51:16.478000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "it feels like something as critical as that should be verified somehow",
        "created_at": "2021-08-27T15:52:05.977000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "The point is that if you don't check and you are in the minority group today, you will be voting fine for the good blocks too!",
        "created_at": "2021-08-27T15:52:07.815000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Unless I'm mistaken here (which most probably i am) it doesn't make sense to check execution if I'm not forced",
        "created_at": "2021-08-27T15:52:56.051000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "something like that should be enforced in some manner",
        "created_at": "2021-08-27T15:54:04.191000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Right-click reply, or start a line with `\u003e `.",
        "created_at": "2021-08-27T16:12:40.357000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Oh crap my \u003e wasn't at the beginning of the line :) thanks",
        "created_at": "2021-08-27T16:21:32.101000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Still not working, now it does :)",
        "created_at": "2021-08-27T16:23:52.315000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "4hours to go?",
        "created_at": "2021-08-27T18:14:32.387000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "*prays*",
        "created_at": "2021-08-27T18:14:37.319000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I thought it'd be around block 13109566, which should be about 2:30 hours from now",
        "created_at": "2021-08-27T18:20:16.292000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "close to 21:00 UTC",
        "created_at": "2021-08-27T18:20:31.442000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Incidentally, I went to look the offending transaction's block and the guys of etherscan.io are already on top of it ðŸ™‚ \"EVM Vulnerability Exploit\" that's the name of the contract",
        "created_at": "2021-08-27T18:21:55.046000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvdWijden\u003e Another 60 blocks to go",
        "created_at": "2021-08-27T20:05:45.711000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I didn't follow to see if there were actual deposits mined in the fork",
        "created_at": "2021-08-27T20:17:26.653000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Youâ€™d only ever attest to one chain or the other. So if youâ€™re not checking youâ€™d wind up following the majority chain whether it was right or not. \n\nAttestations for the wrong chain wouldnâ€™t be included or gossiped by any validator that does check execution because you donâ€™t process attestations you donâ€™t have the block for. And youâ€™d disconnect everyone that sends bad blocks which would isolate the bad chain network and any validators that donâ€™t check. \nSo Iâ€™d expect validators following the bad chain to do significantly worse even if they arenâ€™t completely excluded.\nIâ€™d say validators that donâ€™t check execution would find theyâ€™re attesting for the right thing but have either no peers or that theyâ€™ve formed a third chain consisting only of validators who donâ€™t check.",
        "created_at": "2021-08-27T21:05:18.181000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I don't see it this way, consider the situation that happened today: I am a validator that doesnÂ´t  check anything and you are a validator that checks execution.  We both run an old Geth. We see a bad block and we both attest to it. But chances are that the next block we see is a good one (specially when there is a strong majority). So we both receive a good block now, your client deems this block is bad, so it doesn't attest for it, it attest for his last bad block which is still going to get him banned fairly soon. My client attests for the good block. Now it may be up to the scoring system, but either way my client is doing better than yours.",
        "created_at": "2021-08-27T21:10:15.301000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "And in the worst case a winning strategy is still not to check and change peers",
        "created_at": "2021-08-27T21:12:39.574000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "If youâ€™re running an old geth youâ€™ll do worst of all. If youâ€™re not checking youâ€™ll do better but get lumped in with the bad nodes and booted. The people who run the latest geth and validate blocks should wind up doing best of all. It may not happen for the first few blocks but if youâ€™re not validator youâ€™ll gossip bad blocks and get disconnected from everyone validating the good chain.",
        "created_at": "2021-08-27T21:12:52.155000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Yes you can find some new peers but youâ€™re going to run out of them pretty fast.",
        "created_at": "2021-08-27T21:13:10.216000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I donÂ´t  see which argument you are trying to make, what is the advantage of validating execution here?",
        "created_at": "2021-08-27T21:15:14.687000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I am giving you a clear advantage of not doing so",
        "created_at": "2021-08-27T21:15:30.258000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "what ever happened with the eth1 vote? did we vote on the 'right' block or on the forked version?",
        "created_at": "2021-08-27T21:29:48.326000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Iâ€™m saying that if you donâ€™t validate and the majority or at least enough do youâ€™ll wind up with no peers and effectively be offline in this situation because youâ€™ll broadcast both the good and bad blocks and be disconnected. \n\nIf there arenâ€™t enough nodes validating then you can get away with it but then the network has no security and everythingâ€™s ruined.",
        "created_at": "2021-08-27T21:29:50.721000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "So you are saying that a non-checking validator will eventually be loosing money, and a checking validator is surely to lose money, ergo it's better to not check. There are plenty of situations where the game-theoretic strategy for the one does not work if every single person applies it. But nonetheless, this is one of those cases where following the specs not only costs you resources but actual money. I can't think of a good way of punishing this behavior, but I think this should be a punishable offense",
        "created_at": "2021-08-27T21:32:52.787000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "otherwise we're sure to see forks of clients that do not check execution and gossip the minimum possible",
        "created_at": "2021-08-27T21:33:19.759000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "No Iâ€™m saying checking validators will be the only nodes remaining on the correct chain.",
        "created_at": "2021-08-27T21:35:37.189000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Or rather only checking clients with updated geth will be b",
        "created_at": "2021-08-27T21:35:52.843000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "That is not true, checking and non-checking validators in the good chain will  remain",
        "created_at": "2021-08-27T21:36:25.737000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Everyone else will broadcast bad blocks and be disconnected so wind up only following the bad chain.",
        "created_at": "2021-08-27T21:36:29.669000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "there is no advantage to checking",
        "created_at": "2021-08-27T21:36:30.505000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Checking validators will disconnect non checking validators for gossiping bad blocks.",
        "created_at": "2021-08-27T21:36:46.276000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Same as outdated geth nodes will no longer be connected to updated ones on eth1",
        "created_at": "2021-08-27T21:37:06.946000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "yes but this does not matter to the point: can you show me an advantage to checking? Am I really talking nonsense or I just don't see where you are pointing to an advantage of checking",
        "created_at": "2021-08-27T21:37:33.687000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "The advantage to checking is that itâ€™s the only way to stay connected to the network",
        "created_at": "2021-08-27T21:37:58.354000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "no",
        "created_at": "2021-08-27T21:38:14.783000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "If you donâ€™t check you will gossip bad blocks and be disconnected. You will no longer be able to follow the correct chain.",
        "created_at": "2021-08-27T21:38:51.154000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "excuse me for barging into your convo, but what ever happened with the eth1 vote?",
        "created_at": "2021-08-27T21:39:33.981000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "that's the whole point: we have 4 kinds of validators in this scenario: Good geth  checking, those guys are fine. Good geth, not checking -- Those guys are also fine. Bad geth checking -- Those guys are screwed,  Bad geth not-checking those guys are less screwed",
        "created_at": "2021-08-27T21:39:38.889000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "so what's the advantage of checking again?",
        "created_at": "2021-08-27T21:39:45.841000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "```\nVoting summary for slot: 1939700\nVoting period starts:1939456  ends:1940480\n0x77d9ff94fd5e935b8d77510dd2afb389440a4dc0f44170cd9cc6f57280d159d6 : 236\n0x5c14c1ade2551cfcf03256d0cae414b06a0c3a0940f9ebefa6a2d24d4e9630c7 : 1\n0xfd57d4e41e984beb43fb9b60c6d5217e3b078482c5ea1abeda33616c54c96249 : 1\n0x5c11bbd874f4d8ff78d3bffaa41bb0fdf19f9109fa9d5ae3c6bb62c02f069483 : 3\n0xd96217dc45cd3c4a5180c6506b700a92bb33359e8403b105a72696a1cc603302 : 1\n0x84ed1f4c3da44ebfb8bc91a40021bcfabae2254e2183e0cce0a9f10022d93d2c : 1\n```",
        "created_at": "2021-08-27T21:41:02.336000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "It's fine!",
        "created_at": "2021-08-27T21:41:06.568000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "however that period started about the boundary, so we may need a whole extra period of checking",
        "created_at": "2021-08-27T21:42:03.838000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'll be dead asleep :), luckily for us, there's a lot of the core devs in Australia ðŸ™‚",
        "created_at": "2021-08-27T21:42:30.180000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Good geth not checking will gossip good and bad blocks because theyâ€™re not checking so will get disconnected. So theyâ€™re in the same category as bad geth.",
        "created_at": "2021-08-27T21:47:31.268000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "You can just not gossip anything and also not be penalized",
        "created_at": "2021-08-27T21:48:13.735000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "that's part of the convo",
        "created_at": "2021-08-27T21:48:17.979000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "but also, good geth would not attest for bad blocks",
        "created_at": "2021-08-27T21:48:53.680000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cause their parents will be on the wrong chain",
        "created_at": "2021-08-27T21:49:03.602000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "so it shouldn't need to gossip bad blocks",
        "created_at": "2021-08-27T21:49:26.118000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "On the topic of eth1 voting: anyone has processed deposits? the hash we are voting is still from too early cause it's 2 periods before, it's on block 13107534",
        "created_at": "2021-08-27T22:00:17.589000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "You get penalised for censoring gossip too. \nSo to stay connected you need to know which blocks are bad and which are good so you can only gossip the good ones.",
        "created_at": "2021-08-27T22:03:10.085000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "The real problem is it only shows up in situations like this. The rest of the time you get away with it and have fewer running costs.",
        "created_at": "2021-08-27T22:03:40.346000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I still don't see any problem here for not validating execution, if you are on a good geth you will not be rebroadcasting bad blocks that are not in your chain",
        "created_at": "2021-08-27T22:04:21.774000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "and if you are in bad geth, well, anyway you are better than the guy attesting for only bad blocks",
        "created_at": "2021-08-27T22:04:36.403000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I would understand if your argument were of the form: this is a minor issue and we do not care to fix it... but if it is \"there is no issue\" then I just don't get it",
        "created_at": "2021-08-27T22:05:10.931000+00:00",
        "attachments": null
    }
]