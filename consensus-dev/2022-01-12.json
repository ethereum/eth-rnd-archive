[
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "Tada\n\nhttps://twitter.com/sproulM_/status/1481109509544513539",
        "created_at": "2022-01-12T03:47:42.823000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "Thatâ€™s fantastic thanks so much!!",
        "created_at": "2022-01-12T03:48:08.814000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "I wonder why nimbus is at such low utilization? They have a fantastic client thatâ€™s pretty friendly for new comers",
        "created_at": "2022-01-12T03:55:36.758000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "Easy one single binary to run. Not really split into beacon chain/validator processes. Not too many flags either to choose from.",
        "created_at": "2022-01-12T03:56:07.060000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Worth reading the thread - Nimbus isn't being reliably identified so some of the teku and lighthouse share will really be Nimbus.",
        "created_at": "2022-01-12T03:59:45.091000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "Ah I see what you mean there in \u003c@602753420033785856\u003eâ€™s explanation",
        "created_at": "2022-01-12T04:00:28.774000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "Is there any way to incentivize via rewards more client diversity?",
        "created_at": "2022-01-12T04:00:51.183000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "The node count is probably more accurate for Nimbus, so maybe ~5%",
        "created_at": "2022-01-12T04:03:07.885000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "https://migalabs.es/crawler/dashboard",
        "created_at": "2022-01-12T04:03:10.076000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Not really. If you paid more or less based on how the client identified itself, clients would just identify themselves as the client that pays the most. Reliably identifying clients if they really don't want to be identified is pretty much impossible - sproul has had to do some pretty impressive work to get this level of identification and it's still not perfect.\n\nThat said, the protocol does already have incentives for diversity built in because of the various correlation penalties and the risk involved.",
        "created_at": "2022-01-12T04:03:12.569000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "See https://upgrading-ethereum.info/altair/part2/incentives/diversity for some more details from Ben Edgington's very excellent upgrading ethereum.",
        "created_at": "2022-01-12T04:04:11.915000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "It's not perfect and it is risk based rather than direct but I'm not sure how you'd do much better (and it works across a lot of forms of diversity like hosting provider etc)",
        "created_at": "2022-01-12T04:05:19.297000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "Iâ€™ll read up. Thanks \u003c@340345049063882753\u003e",
        "created_at": "2022-01-12T04:06:38.897000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Does it run on Windows?",
        "created_at": "2022-01-12T06:48:53.220000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Do we have data on OS breakdown?  I wonder how much of Prysm's lead is due to its OS support?  Back when I looked into running a beacon client, most didn't run on Windows.  Have things improved since then?",
        "created_at": "2022-01-12T06:49:24.793000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think we could achieve client diversity without breaking incentives by just making it so finality halts if any client has \u003e 66% market share.  Especially if it is *easier* to just run a different client than it is to fork a client and modify it.  By turning this into a tragedy of the commons, we can incentivize people to altruistically switch without giving out individualized rewards.",
        "created_at": "2022-01-12T06:50:49.993000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "But the fundamental problem is we can't tell if a client has \u003e 66% market share reliably.  I also wouldn't want to build a liveness failure into the chain since the aim here is to prevent a liveness failure.",
        "created_at": "2022-01-12T06:54:34.908000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We would need clients to include an agent string in their signatures.  This could be spoofed, but defaults are powerful enough here that I think we can ignore that problem.",
        "created_at": "2022-01-12T06:55:49.828000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I consider \u003e66% of one client to be a *worse* failure than failure to finalize.",
        "created_at": "2022-01-12T06:56:06.060000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "By turning \u003e66% into a finalization failure, we *correctly* inform users (indirectly, but via a channel they care about) that the system is undergoing problems.",
        "created_at": "2022-01-12T06:56:28.262000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Teku has always supported Windows.  Lighthouse and Nimbus both have for quite a while now too. I'm not sure why people keep perpetuating the myth that only Prysm supports Windows.",
        "created_at": "2022-01-12T06:56:32.876000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My information on Windows support is just out of date then.  It was a long time ago that I checked.",
        "created_at": "2022-01-12T06:56:51.765000+00:00",
        "attachments": null
    },
    {
        "author": "raphael1234",
        "category": "general",
        "parent": "",
        "content": "oh that would be spoofed so fast. big operations will change their identification on the fly if that would be a requirement",
        "created_at": "2022-01-12T06:57:44.486000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Having finality while one client is \u003e66% is just asking for critical failure (e.g., an ETH minting bug that only exists in the 66% client, if we go to finality with that we are in a horrible place).",
        "created_at": "2022-01-12T06:58:18.152000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "What incentive do those big operations have to spoof in this case?",
        "created_at": "2022-01-12T06:58:32.927000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "They would have to take an action that actively hurts the network and they would gain nothing but *less* security.",
        "created_at": "2022-01-12T06:58:47.737000+00:00",
        "attachments": null
    },
    {
        "author": "raphael1234",
        "category": "general",
        "parent": "",
        "content": "wouldnt it hurt them more if the network halts just because one client just hit 66%?",
        "created_at": "2022-01-12T06:59:12.275000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Coinbase (a very large staker who also sells offchain goods for on-chain goods), for example is far better off knowing that finality cannot be trusted than they are believing finality can be trusted.",
        "created_at": "2022-01-12T06:59:49.282000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It doesn't halt, it just it just doesn't achieve finality.",
        "created_at": "2022-01-12T07:00:13.702000+00:00",
        "attachments": null
    },
    {
        "author": "raphael1234",
        "category": "general",
        "parent": "",
        "content": "i would say coinbase would be more interested in transactions finalizing than preventing the slim chance of a consensus failure",
        "created_at": "2022-01-12T07:01:18.939000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "No way.  If there is a rollback coinbase loses *massive* amounts of money.",
        "created_at": "2022-01-12T07:01:33.267000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It is critically important for anyone doing on-chain =\u003e off-chain transactions to have incredibly strong finality guarantees.",
        "created_at": "2022-01-12T07:01:46.236000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If there is no finality, then Coinbase simply delays payouts until finality is achieved (so they are protected).",
        "created_at": "2022-01-12T07:02:17.987000+00:00",
        "attachments": null
    },
    {
        "author": "raphael1234",
        "category": "general",
        "parent": "",
        "content": "i can see that, havent thought too far into it ðŸ˜†",
        "created_at": "2022-01-12T07:02:57.658000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I particularly like this strategy because the biggest stakers currently are exchanges, who have the biggest incentive for *secure* finality (not insecure finality).  This means the ones who have the most power to fix the finality problem in this case (by switching clients) are also the ones who benefit the most from the agent strings being accurate.",
        "created_at": "2022-01-12T07:04:26.965000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "So you have a class of user who *wants* ultra-secure finality (meaning extremely low risk of user activated rollback fork), who also is the dominate party submitting the data needed for this feature.  This is why I'm not too worried about them spoofing.",
        "created_at": "2022-01-12T07:05:27.477000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "People who run solo staking likely fall into a class of user that \"doesn't know how to run a forked client with the agent string modified\" and \"is running a node altruistically\" and \"is too lazy to bother\".",
        "created_at": "2022-01-12T07:05:57.930000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "All combined, I think we can easily hit very high percentage of honest agent string reports.",
        "created_at": "2022-01-12T07:06:21.623000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In the case of \u003e66%, I think the people we need to switch are exchanges, and I think that is an easier sell since switching in this case is in their best interest (since they suffer the biggest losses in a post-finality rollback).",
        "created_at": "2022-01-12T07:07:41.036000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "If you delay finality the inactivity leak kicks in and no one earns any more rewards.  So they have a very big incentive to spoof their client identity.",
        "created_at": "2022-01-12T09:09:54.600000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Hmm... is there a way to have finality be prevented without triggering a leak?",
        "created_at": "2022-01-12T09:14:57.437000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Another option might be two have two different types of finality.  Single client finality and multiclient finality.  Though, I don't see any value in single client finality as off-chain goods providers really want multiclient finality.",
        "created_at": "2022-01-12T09:15:57.017000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "It's possible I guess if you track why finality was delayed. Starting to get complicated (and delaying finality comes with it's own set of challenges anyway).",
        "created_at": "2022-01-12T09:16:01.687000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think what matters here is less what the chain considers finality and more what we present to off-chain goods 'and services as \"final\".",
        "created_at": "2022-01-12T09:16:42.680000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We want to give them very strong guarantees that there will not be a rollback if they payout once \"finality\" is reached.  I feel like that signal shouldn't happen until we have seen all clients sign-off.",
        "created_at": "2022-01-12T09:17:26.780000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I guess we don't *need* a 66% threshold for this.  Even if one client is 97%, we can still look at that 3% remaining to see \"do other clients agree, or only the 97% dominant client?\"",
        "created_at": "2022-01-12T09:18:26.049000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "ðŸ¤” in a world where everyone did the right thing, off-chain goods/service providers would run all of the clients and determine finality on their own only when all of *their* nodes confirm.",
        "created_at": "2022-01-12T09:19:52.317000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Yeah if the incentive to declare your client correctly is that you don't want to do off-chain activities without knowing all clients signed off, the solution is for you to personally run all clients.  Otherwise it could just be that the one client you run has a bug and incorrectly finalized when the rest of the chain didn't and you're still up the creek.",
        "created_at": "2022-01-12T09:21:55.429000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I feel like we should make running multiple clients and aggregating results as easy as possible.",
        "created_at": "2022-01-12T09:28:03.515000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Surely this defeats the whole purpose of consensus, if a minority client can stop finality with a (potentially incorrect) dissenting opinion. And even if all nodes implement the protocol correctly you have differences in strategy between clients, and client versions, that could result in disagreement.",
        "created_at": "2022-01-12T09:39:35.834000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "This feels like a problem that should be solved by people talking to the major staking services rather than attempting to build something (easily gameable) into the protocol.",
        "created_at": "2022-01-12T09:41:13.989000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The idea is that you need `m` of `n` clients to agree before you accept finality.",
        "created_at": "2022-01-12T09:47:55.466000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Currently, if we have one client with 66% of stake, you end up with 1 of `n` finality, which defeats a big part of the purpose of authoring multiple clients.",
        "created_at": "2022-01-12T09:48:25.897000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "`m` can be 2 or 3, (it doesn't have to be 4) but it seems like 1 is a *terrible* choice.",
        "created_at": "2022-01-12T09:48:50.113000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It is similar to writing tests, you write the code once, then you write the tests once, and you run one against the other to make sure they agree.  This means you only get bugs if you either didn't cover some code with one of the two or you introduced the same or similar bugs into both.  This is why we (and security critical infrastructure like space and airplane stuff) has multiple teams write the same code and then you run them side by side and take action when they agree and halt when they don't (or you do 2/3 consensus for things where halting isn't an option).",
        "created_at": "2022-01-12T09:50:32.543000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This would be similar to authoring 3 separate implementations to send up into space and then ignoring 2 of them entirely at runtime.",
        "created_at": "2022-01-12T09:50:58.421000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "The question also is, what does \"finality\" mean in that context (just Prysm). I know there are different views on this\n- Finality is finality, so regardless what the spec says, we'll just say that Prysm was right and change other clients to match\n- The spec is the spec, otherwise what's the point of having a spec in the first place? If Prysm caused a wrong finality, then those 68% of ~~people~~ validators will just have to get slashed. They agreed to this by knowingly running the supermajority client.",
        "created_at": "2022-01-12T10:07:56.459000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "The current system seems like it already tries to do this, with a requirement of 2/3 of validating stake to reach finality.  If that stake all comes from a single client that's an out-of-protocol problem, in my eyes.",
        "created_at": "2022-01-12T10:34:27.058000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Bear in mind there is a very important difference between 68% of validators and 68% of nodes (or users or value).",
        "created_at": "2022-01-12T10:34:44.626000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "If say Infura used say teku and lighthouse, then prysm validators could finalise a chain but the majority of users might actually be following the non-finalised chain. It will be very hard to get an accurate measure of where the value and community landed in the case of a split in a short period of time.",
        "created_at": "2022-01-12T10:37:34.244000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e do you have a description of your algo to differentiate from the block proposed? Is it some fancy inner knowledge of how each client packs attestations?",
        "created_at": "2022-01-12T10:50:16.681000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Hmm, this is a good point I hadn't considered.  ðŸ¤”",
        "created_at": "2022-01-12T13:06:37.748000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Moving out-of-protocol problems in-protocol is often desired because we can solve in-protocol problems with the protocol, but we cannot solve out-of-protocol problems with the protocol.",
        "created_at": "2022-01-12T13:07:33.326000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Adrian makes a good point though, that validators reaching finality != users reaching to finality.",
        "created_at": "2022-01-12T13:07:54.939000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Similar to miners forking off, we don't really care (even a majority fork) since users will follow the chain that maps to *their* ruleset.",
        "created_at": "2022-01-12T13:08:34.414000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I don't see how this can be fixed in-protocol, to be honest.  Relying on clients to accurately provide a client type/version with their block proposals is hopeful, at best.",
        "created_at": "2022-01-12T13:12:16.829000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think as long as there aren't strong individual incentives to change defaults, they can be powerful.  Also, the attack in this case requires someone stake enough ETH to push the top client over the 66% mark, which is a pretty substantial investment (unless the top client is already very close, in which case we have a problem anyway).",
        "created_at": "2022-01-12T13:16:18.026000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "The way I would look at this is not by thinking about \"can we definitely solve that problem in theory without a doubt\", but rather by doing whatever we can that isn't a major inconvenience to solve it",
        "created_at": "2022-01-12T13:17:16.047000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "we may not be able to solve the problem of client distribution in-protocol, that's true, but this issue is so concerning that we may as well try stuff",
        "created_at": "2022-01-12T13:17:54.136000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "trusting clients to accurately provide a client version and installing one of the least represented clients by default is not very invasive",
        "created_at": "2022-01-12T13:18:30.104000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "and it may significantly alleviate the issue unless there is widespread adversarial behavior",
        "created_at": "2022-01-12T13:18:51.348000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "in this case there is no direct incentive for an adversarial behavior",
        "created_at": "2022-01-12T13:19:04.041000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "(e.g. lying about which client one is running)",
        "created_at": "2022-01-12T13:19:21.672000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Being forced to install an objectively inferior piece of software because too many others have already installed the superior piece of software appears to be a good reason for lying about the software you are running.",
        "created_at": "2022-01-12T13:42:38.310000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "no one is forcing anyone though",
        "created_at": "2022-01-12T13:42:56.236000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "that's not really the proposal",
        "created_at": "2022-01-12T13:42:59.317000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "the proposal is for it to default for what's best for the network, and as a result what is indirectly best for the stake of the operator in the network",
        "created_at": "2022-01-12T13:43:19.703000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "one might suppose that an operator would be greatly concerned about the general health of the network and reducing the probability of catastrophic error, because it would hurt the value of their assets",
        "created_at": "2022-01-12T13:44:08.235000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "key word here is \"default\"",
        "created_at": "2022-01-12T13:44:17.453000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "so anyone could opt out of that default and decide to install whatever software they want",
        "created_at": "2022-01-12T13:44:44.716000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "Also what does objectively superior mean quantitatively, and does it really matter to users, and if yes to what extent? It's my understand that Prysm is far from being the all class best client on metrics such as resource usage and sync time, and yet it has a supermajority. Some food for thought here.",
        "created_at": "2022-01-12T13:47:15.541000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Objectively superior == better results for the network (and higher rewards for stakers).",
        "created_at": "2022-01-12T13:47:57.096000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "If it's a purely optional proposal then it seems to be a massive amount of effort to implement compared to hassling the major staking service providers.",
        "created_at": "2022-01-12T13:48:48.524000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "It is debatable whether higher rewards for stakers is the only metric that matters to qualify for \"objectively superior\".",
        "created_at": "2022-01-12T13:49:10.080000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "If you have better rewards in the short term but you critically endanger the network in the mid to long term, the EV might actually turn out negative.",
        "created_at": "2022-01-12T13:49:31.310000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "It is objectively superior to another client, in that it is doing more to achieve finality.  Given that all attempts to calculate client diversity are at least partially guesswork you have to work with the metrics that are available.",
        "created_at": "2022-01-12T14:07:25.514000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "Not sure I'm following you on that last message.",
        "created_at": "2022-01-12T14:11:22.452000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "We're trying to achieve finality.  If beacon node A's block proposal does more than beacon node B's block proposal to achieve that then a validator client really should be going with beacon node A's proposal, regardless of the particular software that it is running.\n\nIf beacon node A has a supermajority then yes it should be addressed, but attempting to do so in-protocol is going to result in providing a potentially false sense of security.",
        "created_at": "2022-01-12T14:19:14.227000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e If beacon node A's block proposal does more than beacon node B's block proposal\nWhat do you mean by this?",
        "created_at": "2022-01-12T14:34:56.122000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "For example, has more attestations present.",
        "created_at": "2022-01-12T14:35:33.699000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm still not following what that has to do with what we are talking about.",
        "created_at": "2022-01-12T14:36:12.884000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We aren't talking about changing the fork choice rule (which it sounds like you are talking about).",
        "created_at": "2022-01-12T14:36:23.849000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Take an extreme example: minority client X only produces empty blocks, with no attestations in it.  But if you want minority client X to be part of the quorum that has to come to agreement on the state of the chain for finality someone needs to be running it.",
        "created_at": "2022-01-12T14:38:46.323000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I am not convinced that it's an inferiority/superiority problem. Quite frankly\n\nIt's a stickiness problem. It's a branding problem. It's a \"if it ain't broke, don't touch it problem\". It's apparently a problem (for institutions) that only prysm had a remote signer at genesis.",
        "created_at": "2022-01-12T14:39:22.250000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "ah, took that out of context.",
        "created_at": "2022-01-12T14:39:26.809000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "For us to fail that hard we would need 3 clients to all be worse enough to warrant not wanting to run them (out of 4).",
        "created_at": "2022-01-12T14:39:39.009000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I do agree \u003c@!144468805697929216\u003e that you cannot reliably identify  a client in-protocol and cannot thus incentivize it in protocol",
        "created_at": "2022-01-12T14:39:54.015000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "plus then you need gate keeping on which clients enter the consensus",
        "created_at": "2022-01-12T14:40:16.510000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I suspect we don't need reliable in this case because there aren't individual rewards, only commons rewards.",
        "created_at": "2022-01-12T14:40:20.232000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I don't think we need gatekeeping either.",
        "created_at": "2022-01-12T14:40:30.128000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "one thing about multiple clients is if there is a failure in one, you should be able to switch to another very dynamically",
        "created_at": "2022-01-12T14:40:39.714000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We just want \u003c66% of clients to self-report the same agent.",
        "created_at": "2022-01-12T14:40:39.932000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "hmm",
        "created_at": "2022-01-12T14:41:01.214000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If \u003e66% of agents self report the same thing, then it means \u003e66% of people didn't override a default and are using the same client.",
        "created_at": "2022-01-12T14:41:08.719000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "it's so utterly gamable though",
        "created_at": "2022-01-12T14:41:22.286000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003c66% means *either* people are spoofing their agent string (requires effort) or we have sufficient client diversity.",
        "created_at": "2022-01-12T14:41:32.411000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Which I suggest means we have no gain from doing it, as we have no information about which of those two statements are true.",
        "created_at": "2022-01-12T14:42:05.049000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "To what end though?  Only stakers can game it (if we are talking about adding agent to attestations), which presumably are people who are *mostly* aligned with long-term health of the network.",
        "created_at": "2022-01-12T14:42:15.891000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "say I'm 15% of the network",
        "created_at": "2022-01-12T14:42:36.592000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "and I can either securely add another client to split it",
        "created_at": "2022-01-12T14:42:44.220000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "or I can change a string",
        "created_at": "2022-01-12T14:42:50.610000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Which would put the network at risk.",
        "created_at": "2022-01-12T14:42:59.897000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And you would get nothing for it.",
        "created_at": "2022-01-12T14:43:03.676000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "they are already putting the network at risk, no?",
        "created_at": "2022-01-12T14:43:10.016000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It *is* a troll vector for whales.",
        "created_at": "2022-01-12T14:43:11.391000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My argument is prefaced with the following assertion:\nIt is better to not reach finality than it is to reach finality with a single client.",
        "created_at": "2022-01-12T14:43:37.416000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I would *rather* finality stop happening if we have a dominant client than continue to have finality and risk reaching incorrect finality due to a dominant client bug.",
        "created_at": "2022-01-12T14:44:23.428000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We want finality to be *final*, which ideally includes incredibly low chance of user activated rollback.",
        "created_at": "2022-01-12T14:44:49.639000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "One way we can do that is by refusing to achieve finality if we *think* that the network only has one client making the decisions.",
        "created_at": "2022-01-12T14:45:11.366000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "Exactly. A troll vector, with no direct financial incentive and requiring a large amount of capital.",
        "created_at": "2022-01-12T14:45:42.090000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "So it doesn't *really* matter.",
        "created_at": "2022-01-12T14:45:51.021000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Essentially the network would go into \"things are bad\" mode, where it still progresses but doesn't finalize.  Then humans get involved and resolve the underlying issue.  During this time anything relying on finality would also stop (like exchanges paying out fiat) until things were healthy again.",
        "created_at": "2022-01-12T14:45:54.112000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "This is not a core protocol thing we're talking about, this is a social coordination problem.",
        "created_at": "2022-01-12T14:46:05.218000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Well, I'm proposing *making* it a core protocol thing.",
        "created_at": "2022-01-12T14:46:16.271000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Adrian did make a valid point that the *better* solution is for people to run multiple clients and refuse to *accept* finality if they disagree, even though the network *reached* finality.",
        "created_at": "2022-01-12T14:46:41.222000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "Depends how you define core protocol but having an installer default to installing a particular version of the validator node while letting user override it doesn't make it into \"core protocol\" for me",
        "created_at": "2022-01-12T14:46:48.912000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Oh, that is a different solution.",
        "created_at": "2022-01-12T14:47:00.705000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "yeah I contend that this would probably be enough alongside with a common GUI",
        "created_at": "2022-01-12T14:47:15.173000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "(and a dose of lobbying)",
        "created_at": "2022-01-12T14:47:23.540000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "That is the solution of \"how do we unsticky Prysm\".  What I'm proposing is designing in a finality kill switch if the network *appears* to be dominated by a single client type.",
        "created_at": "2022-01-12T14:47:43.440000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "that sounds great, but we don't even have one light client yet, let alone having 4 you can run at the same time on accessible hardware",
        "created_at": "2022-01-12T14:48:01.843000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We do have 4 consensus clients, which is what this suggestion requires.",
        "created_at": "2022-01-12T14:48:20.715000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "yeah but what I mean is that running 4 consensus clients at the same time would probably use a lot of resources",
        "created_at": "2022-01-12T14:48:38.125000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "so the goal of accessibility would be pushed even further away",
        "created_at": "2022-01-12T14:48:51.544000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think consensus clients are (at the moment) fairly light?",
        "created_at": "2022-01-12T14:48:53.688000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "I keep bringing this up and for some reasons engineers seem to disagree with it, but I'm almost 100% convinced the stickiness of Prysm is due to the GUI and branding (these go hand in hand)",
        "created_at": "2022-01-12T14:49:29.225000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Execution clients are the expensive bit, and IIRC you can do 1 execution to many consensus (though you shouldn't outsource it, you can run a setup like that locally I believe).",
        "created_at": "2022-01-12T14:49:33.612000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "I don't buy into the whole \"institutions / technically savvy users don't care about GUIs, they take the best performing\"",
        "created_at": "2022-01-12T14:49:47.382000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "we can empirically see this is wrong",
        "created_at": "2022-01-12T14:49:52.886000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Visual Studio/IntelliJ vs VIM/Emacs.  ðŸ˜„  (hint: enterprise shops are dominated by the former)",
        "created_at": "2022-01-12T14:50:22.360000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "there's clearly a preference for software that has easy to use GUI in large corporations too",
        "created_at": "2022-01-12T14:50:22.757000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "from my pov at least",
        "created_at": "2022-01-12T14:50:33.602000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Not really, especially in terms of bandwidth.",
        "created_at": "2022-01-12T14:53:01.991000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Prysm hasn't had a GUI for the majority of its existence.",
        "created_at": "2022-01-12T14:53:16.567000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "You can't do this after the merge, either.",
        "created_at": "2022-01-12T14:54:21.259000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Hmm, really?  I thought there was talk about making that work (partially for this exact reason)?",
        "created_at": "2022-01-12T14:54:48.707000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Doesn't make sense out of the box for EL to be driven by many CLs",
        "created_at": "2022-01-12T14:55:00.438000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "it either needs many heads at once",
        "created_at": "2022-01-12T14:55:10.625000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "or will be potentially constantly re-orged and fought over",
        "created_at": "2022-01-12T14:55:37.504000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I suppose we really want people running multiple ELs and multiple CLs, just as possible Geth has a bug as Prysm.",
        "created_at": "2022-01-12T14:55:42.246000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "one CL could drive many ELs generally using the engine api",
        "created_at": "2022-01-12T14:55:55.914000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "However, EL *is* very expensive, and so that may be unrealistic for now.",
        "created_at": "2022-01-12T14:55:57.834000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "it's not very realistic for a hobbyist at home",
        "created_at": "2022-01-12T14:56:14.023000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "it's pretty realistic for larger players",
        "created_at": "2022-01-12T14:56:20.990000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "iiuc, coinbase ran parity and geth for many years and would circuit break on them disagreeing",
        "created_at": "2022-01-12T14:56:36.253000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "with stateless, it is likely much more realistic",
        "created_at": "2022-01-12T14:57:04.287000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Sure would be nice if people other than big players could run Ethereum securely.  ðŸ˜¬",
        "created_at": "2022-01-12T14:57:16.213000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "you couldeven have 1 full EL and just 2 EL state transition functions",
        "created_at": "2022-01-12T14:57:19.671000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I'm not suggesting that it's only secure if you prsoally run multiple clients",
        "created_at": "2022-01-12T14:57:43.212000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "it's also secure if people make a diversity of choice ðŸ˜…",
        "created_at": "2022-01-12T14:57:59.174000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "It raises the barrier to entry for anyone wanting to sell off-chain goods/services for ETH/Tokens.",
        "created_at": "2022-01-12T14:58:05.968000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Right, which is what I'm arguing we push for (potentially forcibly).",
        "created_at": "2022-01-12T14:58:28.278000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Since at the moment it *isn't* realistic for people to run multiple and circuit break on disagreement.",
        "created_at": "2022-01-12T14:58:45.061000+00:00",
        "attachments": null
    },
    {
        "author": "experience_",
        "category": "general",
        "parent": "",
        "content": "uh? The GUI for Prysm seems to have been live before the launch of the beacon chain, saw an announcement dating back to October 2020, what am I missing?",
        "created_at": "2022-01-12T15:02:13.850000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "If I, as a staking service, had a few hundred million dollars of ETH being staked and my options were:\n\n  1) move to a new client, rebuild process and procedures, create new monitoring scripts, risk slashing as I migrate,_etc._\n  2) change a text string\n\nI'd likely go for the latter.  So if it can't be enforced I don't see it working.",
        "created_at": "2022-01-12T15:04:38.988000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\"change a text string\" is actually \"fork your client, compile it, package it, distribute it, etc.\"",
        "created_at": "2022-01-12T15:30:35.347000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If clients just make it a CLI flag then it definitely defeats the purpose.",
        "created_at": "2022-01-12T15:30:50.076000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Not to mention you now have to maintain a fork.  At that point, (1) and (2) aren't *that* different in terms of complexity.",
        "created_at": "2022-01-12T15:31:19.723000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Running all of the clients (including compiling some from source) and having a fair idea of their differences, I disagree.  But the general point is that it gives you no information about which has been carried out so no useful information on which to base any assurance of finality.",
        "created_at": "2022-01-12T15:35:43.731000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Just because something has a false positive doesn't mean it is useless compared to nothing.",
        "created_at": "2022-01-12T15:46:00.226000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If \u003e66% of validators are reporting the same agent, we have some evidence we have a problem.\nIf \u003c66% of validators are reporting the same agent, we have some evidence we don't have a problem.\nRight now we have no evidence (in-protocol) either way.  The failure mode if people are lying about their agents in order to force finality is just that we revert to the current behavior.  If people are changing their agent to *halt* finality, that is a bigger problem, but even less likely IMO since you need a significant amount of stake no move the needle, and if you wanted to attack like that you could just run a bunch of the dominant client (no need to lie about it).",
        "created_at": "2022-01-12T15:48:32.394000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My other argument here is that this won't be surprising to anyone.  We should be able to see shifts in client distribution approach over time.  It is unlikely that we'll suddenly see out of nowhere that some client shoots to 66% and surprises everyone and so people have to hack in a patch quickly.  I think more realistically we'll see some client surpass 50% and people would start reaching out to big pools via various channels imploring them to switch clients.  They may try to play chicken with each other, but I suspect at least one will heed the warning before we get anywhere near 66%.",
        "created_at": "2022-01-12T15:50:41.464000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I'm no longer sure what the proposal is, at this stage.  You are talking %s now, whereas before you were discussing having agreement from m/n of the whitelisted clients.",
        "created_at": "2022-01-12T15:51:56.369000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "(Also, thinking about this it would play havoc with attestation aggregation as you would reduce aggregation effectiveness by 1/_m_, where _m_ is the number of clients in the whitelist.  That would probably by itself cripple the network.)",
        "created_at": "2022-01-12T15:52:45.736000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ah, two different proposals.",
        "created_at": "2022-01-12T15:56:56.907000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "one problem here is, what constitutes as the same client. Would the same brand name but different version count as different client?",
        "created_at": "2022-01-12T15:57:23.135000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The primary proposal I'm fielding is that attestations include an agent string which all clients hard-code to their agent.  As part of the process of deciding whether finality has been reached or not, a client would look at whether \u003e66% of attestations for the proposed block shared an agent string.  If \u003e66% did, then the client wouldn't treat the block as final (for the purpose of reporting finality to execution client and such).  Everything else would proceed as normal otherwise.",
        "created_at": "2022-01-12T15:58:33.203000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "One can imagine a standardized agent string that is parseable (including version, and maybe OS) but for the sake of this use all that would matter was the agent name (Prysm, Lighthouse, Teku, Nimbus).",
        "created_at": "2022-01-12T15:59:57.678000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Actually, agent string should also include execution client, and if *either* are \u003e66% then finality isn't reached.",
        "created_at": "2022-01-12T16:00:14.500000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "This would totally destroy attestation aggregation.",
        "created_at": "2022-01-12T16:06:34.195000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Hmm, why is that?",
        "created_at": "2022-01-12T16:06:53.547000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ah, attestations get cryptographically aggregated right now so they don't take up a bunch of space?",
        "created_at": "2022-01-12T16:07:23.356000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And that aggregation assumes attestations are fungible?",
        "created_at": "2022-01-12T16:07:33.296000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "For an attestation to be aggregated it must have the same data.",
        "created_at": "2022-01-12T16:10:23.669000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Currently \"same data\" is source epoch/root, target epoch/root, head root (plus committee).  If what is basically a free-form text string were to be added it would reduce the aggregation effectiveness accordingly.",
        "created_at": "2022-01-12T16:11:43.715000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "That is a pretty compelling argument *not* to do that then.  Between that and Adrian's argument, I think I'm convinced to drop this particular solution (though I still strongly advocate that we need to do something aggressive to address the client diversity problem).",
        "created_at": "2022-01-12T16:12:17.343000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I can't remember the last time we saw # of attestations per block be \u003c64 for any extended period of time, so even something that doubles the number of separate aggregates would result in dropped votes.",
        "created_at": "2022-01-12T16:12:33.224000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I agree that something should be done, I feel that social pressure on large staking providers is by far the best way.  If you can get  a couple of staking providers with ~10% of the validators each to shift off prysm we're pretty much job done (for the short/mid-term, anyway).",
        "created_at": "2022-01-12T16:13:35.901000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "Might be a dumb way to achieve it but perhaps put the client least used as the client on the top with a recommended sign beside it on the ethereum website?",
        "created_at": "2022-01-12T16:15:14.826000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Unless there is a new player turning with several million ETH to stake that will take the recommendation that is unlikely to change things appreciably.",
        "created_at": "2022-01-12T16:18:04.420000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "While not a million I expect when the merge happens there will be a decent amount of new validators due to the hype. Enough to add 1-2% at least ðŸ˜… also long term I assume that 32 is coming down.",
        "created_at": "2022-01-12T16:25:33.397000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Would it make more/less sense to ask them to switch to DV with a diverse set of clients? I was kind of assuming they already were, with the number of validators they're hosting, but maybe I don't quite understand how DV works for block proposals...",
        "created_at": "2022-01-12T16:48:39.591000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Changing their setup quite so radically would be unlikely.  Just moving to a minority client would be enough.",
        "created_at": "2022-01-12T17:20:07.834000+00:00",
        "attachments": null
    }
]