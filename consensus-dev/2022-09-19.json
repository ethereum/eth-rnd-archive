[
    {
        "author": "imman6820",
        "category": "general",
        "parent": "",
        "content": "Does anyone have any resources to link or could tell me why there is such a big difference in attestation rewards vs block proposal rewards. If I remember correctly this gap was widened in the first beacon chain hardfork. \nI'm guessing it was to incentivize proposals to keep the chain healthy, but post merge with tips and mev, is that a problem? Or should we not rely on external incentives and make sure incentives are aligned on the beacon chain itself?",
        "created_at": "2022-09-19T08:15:07.508000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "MEV rewards are very unreliable thought",
        "created_at": "2022-09-19T08:29:12.448000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "Its no wise to base chain's security on them",
        "created_at": "2022-09-19T08:29:24.350000+00:00",
        "attachments": null
    },
    {
        "author": "imman6820",
        "category": "general",
        "parent": "",
        "content": "Ok. But is there some analysis I can read on how we came to the current difference in reward? What would be the impact if this was reduced?",
        "created_at": "2022-09-19T08:39:34.352000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Total rewards are the same, the split of the rewards for any given attestation between the attester and proposer were fixed in Altair (they were incorrect in the beacon chain spec).\n\nThe beacon chain needs to stand on its own rather than rely on execution rewards.  As such, the proposer needs a decent share of the rewards to ensure that it proposes its best block.",
        "created_at": "2022-09-19T09:18:08.754000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "what makes the old way \"wrong\" and the new way \"right\". I think that's what the question is about",
        "created_at": "2022-09-19T09:21:07.183000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "As in the split?  It was meant to be 12.5% of attester rewards going to the proposer, but due to a mistake in the spec it was only a quarter of that.  3% is not realistically enough to incentivize a proposer to do the work.",
        "created_at": "2022-09-19T09:24:02.529000+00:00",
        "attachments": null
    },
    {
        "author": "imman6820",
        "category": "general",
        "parent": "",
        "content": "Is there something more I could read on why 3% isnt enough? Something like Barnabes analysis of 1559?",
        "created_at": "2022-09-19T09:30:32.166000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "But it's true that these numbers feel pulled out of a hat. A proposer has enough of a self interest in including as many attestations as possible regardless of any earnings he gets from them because of the risk of being orphaned if he doesn't include votes for the chain he's following.",
        "created_at": "2022-09-19T09:31:51.156000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "With tips now being awarded to proposes I do think the incentives could be reviewed. I always felt that it's backwards not to have a component given by votes received rather than included",
        "created_at": "2022-09-19T09:38:36.035000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Over sufficient time the net rewards to any individual validator should be the same, as each validator has the same chance of proposing a block.  If the argument is to decrease the net rewards rather than the split, that's a different question.",
        "created_at": "2022-09-19T10:15:41.861000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "What would be the incentive for a proposer to include any attestations other than those for the chain that the chain upon which they have proposed in that situation?",
        "created_at": "2022-09-19T10:16:34.177000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Over sufficient time only works for systems were the participants have sufficient time. Human life expectancy is not infinite however and already the sync committee variance is enough of a problem. Let alone that MEV in itself is a strong case to socialize earnings by pooling. I find the large number theorem argument really flawed in this environment",
        "created_at": "2022-09-19T10:18:27.725000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I don't see any problem in blocks including only attestations for the chain they support. As long as there isn't a network partition the bulk of forkchoice accounting comes from attestations coming over the wire",
        "created_at": "2022-09-19T10:20:05.966000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Sync committee variance is far higher than proposer variance.  And again I'd argue that trying to shoehorn execution rewards in as a replacement for consensus rewards is totally the wrong thing to do.  They're different rewards paid from different sources for different reasons.",
        "created_at": "2022-09-19T10:20:30.019000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Regardless of the reason: execution rewards are an extra incentive to not be orphaned",
        "created_at": "2022-09-19T10:21:23.276000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I haven't thought it through, but I would suspect that if an entity proposed 2-3 blocks in a row and only included its chain it would end up being able to \"convince\" other beacon nodes to vote for their chain.  Said entity could use this to excise the block before the row of proposals.  Seems to make the chain weaker (although as I say I haven't thought this through so fork choice may allow the chain to come back to include the excised block.)",
        "created_at": "2022-09-19T10:24:00.523000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This is not the case, attestations included in blocks count the same as attestations over the wire. There is no reason for a validator to see this \"censoring\" proposer and not attestations from other validators. In fact, the sheer number of the other validators vs this single proposer makes it so that validators are typically seeing attestations and accounting them before blocks come in",
        "created_at": "2022-09-19T10:26:19.876000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "I also agree that the rewards should have as little variance as possible, otherwise pooling becomes too important",
        "created_at": "2022-09-19T10:26:30.093000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "So there's nothing a proposer can do with its attestation packing to influence forkchoice of a running node. It can do so in periods of long non-finality for nodes that are just starting to sync and can only see on-chain information",
        "created_at": "2022-09-19T10:27:07.526000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I'd be in favor of reducing the weight of the sync committee votes, currently 2/64 they could go down to 1/64 (although I suspect that the devs may be slightly allergic to odd numbers).",
        "created_at": "2022-09-19T10:31:43.626000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm an arrogant bastard, but I think my original proposal of paying up front and taking it back on misses was better than Vitalik's approved proposal, and without any need to change the weights it would make the variance absolutely minimal",
        "created_at": "2022-09-19T10:32:18.511000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "I don't have enough knowledge to weigh on it. It would be nice to see analysis on where the current numbers came from thought",
        "created_at": "2022-09-19T10:32:23.577000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "My comment was more of that, if there's no good reason why the rewards are varied, they should be changed to not be varied",
        "created_at": "2022-09-19T10:32:51.903000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "There was an old discussion at https://github.com/ethereum/consensus-specs/issues/2152",
        "created_at": "2022-09-19T10:33:24.733000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I wasn't averse to that in theory, but in terms of real-world accounting it would be a pain.",
        "created_at": "2022-09-19T10:34:12.406000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "you could account them only to be received when you cannot get punished for them, or you could account them as the same as you sent a bill and never get paid full",
        "created_at": "2022-09-19T10:35:50.337000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I never understood any of the arguments against it. Accounting for it was trivial and was self-contained in the PR. During the call where this was discussed, people were scared of the danger to a sync committee member that failed to perform. But after altair, and after the fact, we can thoroughly check now that variance would have been minimal with my proposal and that validators would not have been punished.",
        "created_at": "2022-09-19T10:35:53.317000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This is an easy excercise now to rerun the chain since Altair and see the variance of validators earnings with one or the other PR. I'm willing to bet my life that it would be much less with the other PR",
        "created_at": "2022-09-19T10:36:55.875000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Really not as simple as that makes it out, I'm afraid.  You need to know exactly when the sync committee contribution was not made, which calendar day it falls in to, etc.  And if it falls over a month-end then it gets even harder.\n\nPre-payment and claw back is significantly more painful, and leads to arguments with accountants and tax offices.  Of course it is all possible, but as I say it's a pain.",
        "created_at": "2022-09-19T10:40:38.132000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Yeah I can believe that.",
        "created_at": "2022-09-19T10:41:12.745000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Anyway this is missing the important question of the day: are we sticking with Capella as the name for the next consensus hard fork?",
        "created_at": "2022-09-19T10:42:02.340000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "ahh you mean for tax purposes or the such?",
        "created_at": "2022-09-19T10:42:14.952000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "I don't know which tax code you are talking about, but that doesn't too hard",
        "created_at": "2022-09-19T10:42:39.771000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "in that case you should only account the misses, it's not that you were receiving money constantly, so I don't see any difference from now",
        "created_at": "2022-09-19T10:42:53.040000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "generally with tax accounting the industry gets some practice and that's used everywhere and approved by the tax office",
        "created_at": "2022-09-19T10:44:32.671000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Le'ts drop the tax piece, it isn't very interesting and it's way off-topic for the channel.  Naming, naming...",
        "created_at": "2022-09-19T10:45:07.439000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "It's also bad argument, as there's so many tax codes around. It's quite impossible to please all of them, and its quite difficult to find a compromise either",
        "created_at": "2022-09-19T10:46:41.272000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This is a very good question! I think Danny honestly didn't mean to force this on everyone and meant it as a placeholder without analyzing the weight of his word. I like Cervantes and Copernicus too.",
        "created_at": "2022-09-19T10:51:25.146000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "The last one because it's a binary system",
        "created_at": "2022-09-19T10:51:48.609000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Significantly longer than Capella, though.  We have to type these things!",
        "created_at": "2022-09-19T10:52:15.800000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "optimizing readability should be higher priority for devs than optimizing writability thought! :)",
        "created_at": "2022-09-19T10:53:17.330000+00:00",
        "attachments": null
    },
    {
        "author": "killari.",
        "category": "general",
        "parent": "",
        "content": "don't be a mathematician :P",
        "created_at": "2022-09-19T10:53:24.544000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I guess the question was more if there was any dissent to sticking with Capella.  If so then there should be a quick vote on the next call.  Otherwise I suspect it will be Capella by default.",
        "created_at": "2022-09-19T10:54:16.980000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Could you share a link to the article please? Wanna take a look!",
        "created_at": "2022-09-19T11:13:37.611000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "https://arxiv.org/abs/2209.03255",
        "created_at": "2022-09-19T11:14:35.271000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Why doesn't Francesco have an EF role in this server?",
        "created_at": "2022-09-19T11:15:08.662000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "fixed! If anyone else is missing a server role, lmk",
        "created_at": "2022-09-19T11:22:20.078000+00:00",
        "attachments": null
    }
]