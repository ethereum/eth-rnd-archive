[
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "Youâ€™re right, all the full nodes (the consensus clients) process the different aggregates and store them in a cache ready for block proposal. Usually these aggregates overlap in at least 1 bit, so they canâ€™t be aggregated further, although in theory (and occasionally in practice) you get distinct aggregates that can be combined. Nodes can also aggregate in any individual attestations theyâ€™ve seen, which usually only happens if the node happens to be subscribed to the relevant attestation subnet (or is subscribed to all subnets).\n\nIn Lighthouse the code we use for packing attestations optimally lives in the operation_pool crate: https://github.com/sigp/lighthouse/blob/stable/beacon_node/operation_pool/src/lib.rs\n\nWe use a greedy algorithm to approximate the NP-Hard optimisation problem of choosing optimal aggregates",
        "created_at": "2022-11-05T00:13:46.544000+00:00",
        "attachments": null
    },
    {
        "author": "jovanka_",
        "category": "general",
        "parent": "",
        "content": "Thank you your response! You say that \"all\" of the full nodes process different aggregates. What do you mean by that? Isn't it only the nodes that were selected to to aggregation for a given committee?",
        "created_at": "2022-11-05T00:34:03.307000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "The aggregates get broadcast on a global topic which all nodes are (or should be) subscribed to. So they will gossip them, validate them, apply them to their fork choice as per the P2P spec here: \u003chttps://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/p2p-interface.md\u003e",
        "created_at": "2022-11-05T00:53:45.401000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "Not all nodes process the individual unaggregated attestations, but they _do_ process the ~16 aggregates that each committee produces",
        "created_at": "2022-11-05T00:54:43.932000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "(ignoring duplicates and aggregates that are subsets of ones already seen)",
        "created_at": "2022-11-05T00:55:12.437000+00:00",
        "attachments": null
    },
    {
        "author": "jovanka_",
        "category": "general",
        "parent": "",
        "content": "So you are telling me that each consensus client decides what to do (potentially aggregate further) with those 16 aggregates and also use whatever strategy they want?",
        "created_at": "2022-11-05T01:06:52.281000+00:00",
        "attachments": null
    },
    {
        "author": "jovanka_",
        "category": "general",
        "parent": "",
        "content": "hmm but that doesn't really make sense to me, shouldn't only the block proposer actually care and aggregate further - it is in proposers best interest to stuck block with as many attestations right?",
        "created_at": "2022-11-05T01:14:31.090000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "yes",
        "created_at": "2022-11-05T01:46:10.058000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "Iâ€™m not sure I see what youâ€™re getting at, the block proposer _is running_ a consensus client, which does this work of optimising the block for them",
        "created_at": "2022-11-05T01:46:56.349000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "all nodes will receive and process the attestations, but only the block proposer will run the optimisation algorithm to pack those attestations into a viable block",
        "created_at": "2022-11-05T01:48:13.701000+00:00",
        "attachments": null
    },
    {
        "author": "jovanka_",
        "category": "general",
        "parent": "",
        "content": "Now I got it, thanks!",
        "created_at": "2022-11-05T09:09:38.891000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "https://sepolia.beaconcha.in/ is available now. It's currently syncing, so it might take a day or two to be fully synced ðŸ™‚ \n\n\u003c@102952036382830592\u003e  , \u003c@654267572107083777\u003e , \u003c@543900561460822016\u003e  , \u003c@758579010027782144\u003e",
        "created_at": "2022-11-05T11:38:10.373000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "general",
        "parent": "",
        "content": "\u003ca:pepehug:901538345480495136\u003e",
        "created_at": "2022-11-05T14:32:11.012000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "thanks for the blessing",
        "created_at": "2022-11-05T14:49:37.505000+00:00",
        "attachments": null
    },
    {
        "author": "p_bitfly",
        "category": "general",
        "parent": "",
        "content": "CL data for https://sepolia.beaconcha.in/ is now fully synced, EL data will be complete in a few hours. please let us know if you see any issues",
        "created_at": "2022-11-05T19:02:53.610000+00:00",
        "attachments": null
    }
]