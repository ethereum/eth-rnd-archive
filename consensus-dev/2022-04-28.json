[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Agreed, but if it becomes an issue, we could cheaply include some in-protocol way of enforcing historical data availability. Say when you propose a block some random blob is chosen from the list that you are supposed to be holding and if you don't include it you get slashed. We could even have a \"request\" transaction that validators can include notifying a validator that it needs to produce a blob, etc. Surely there are smart ways of doing this",
        "created_at": "2022-04-28T01:45:39.609000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "It's relatively easy to enforce the requirement that someone stores some data (just request a random piece of it from time to time) but much more difficult to force them to serve that data on demand which is what we actually need.  Even requiring them to include a portion of the data in a block gives them the option to not produce the block - essentially just pretending they're offline.",
        "created_at": "2022-04-28T02:04:27.781000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Proof of custody games are/will be designed to do something like this",
        "created_at": "2022-04-28T03:19:17.201000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Protocol picks a val and a chunk they were supposed to custody",
        "created_at": "2022-04-28T03:19:38.393000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Some amount of time to respond with such a message",
        "created_at": "2022-04-28T03:19:49.463000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "To get on chain. Not coupled to block production",
        "created_at": "2022-04-28T03:20:05.533000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "And yeah, proving something on chain does not translate into any network guarantee. Can't really do that",
        "created_at": "2022-04-28T03:20:36.622000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Out of curiosity, what is the mechanism for avoiding people just asking a third party for the data?",
        "created_at": "2022-04-28T03:21:44.057000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "If they can reliably get the data that way, do we care that's how they do it? There's no reason the data needs to be stored on any particular system as long as its accessible.",
        "created_at": "2022-04-28T03:23:01.236000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "There is a concern that we will end up with a replication factor of 1.",
        "created_at": "2022-04-28T03:23:59.390000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "And then a solar flare hits.",
        "created_at": "2022-04-28T03:24:19.405000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Validators would be running the risk of being slashed then.  Having the same kind of increased penalties when large number of validators fail at the same time as we have for penalties and slashings now would setup a reasonable incentive for validators to avoid centralising storage systems.",
        "created_at": "2022-04-28T03:26:27.514000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This is a classic tragedy of the commons.  The optimal individual strategy for everyone is to outsource storage, right until that strategy fails for everyone simultaneously.",
        "created_at": "2022-04-28T03:28:41.647000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Ideally, we would want the system to either have guarantees of a high replication factor, or at least make it so we can notice when the RF is low.",
        "created_at": "2022-04-28T03:29:29.971000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "You either store it or take on counter party risk",
        "created_at": "2022-04-28T03:29:31.434000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This may not be possible of course, but in that case it feels like proof of custody games are kind of pointless if they don't actually prove custody.",
        "created_at": "2022-04-28T03:29:51.977000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "You can't really do better than that unless you do some exotic vdf constructions for \"proof of space time\" and even then eh",
        "created_at": "2022-04-28T03:30:47.446000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The counterparty risk is almost certainly worth the cost savings.",
        "created_at": "2022-04-28T03:30:49.556000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Proof of custody also proves you had the data when commiting",
        "created_at": "2022-04-28T03:31:09.757000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Unless you give your key to someone else",
        "created_at": "2022-04-28T03:31:16.075000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Especially as the history and state size grows.",
        "created_at": "2022-04-28T03:31:20.675000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "And this isn't about state size or history",
        "created_at": "2022-04-28T03:31:31.039000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "But only a subset of the data, right?",
        "created_at": "2022-04-28T03:31:34.306000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "It's to solve data availability",
        "created_at": "2022-04-28T03:31:36.855000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Which is primarily to ensure data withholding attacks don't happen and that data is disseminated to those that want it",
        "created_at": "2022-04-28T03:32:02.636000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "And the custody period attempts to strengthen that for some stretch. E.g. a month",
        "created_at": "2022-04-28T03:32:21.753000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "So it doesn't grow unbounded",
        "created_at": "2022-04-28T03:32:25.990000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "A month of history, or state?",
        "created_at": "2022-04-28T03:32:41.367000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\"History\" here being headers and bodies I assume.",
        "created_at": "2022-04-28T03:33:53.443000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "My understanding is that we're talking about this for data blobs at this point, not state or blocks.",
        "created_at": "2022-04-28T03:38:08.281000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "And proof of custody is probably a misnomer. More like a set of data availability games",
        "created_at": "2022-04-28T03:40:46.028000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Is there any nice human consumable blog posts/articles on the plans on this front?",
        "created_at": "2022-04-28T03:45:50.748000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Answers two questions\n1. Did validator have data in hand when attesting to it\n2. Can validator recall a random chunk of committed to data during some custody period\n\nYou can do proof of custody on any block data (including header, body, txs) but the value comes at a data resource that scales beyond O(C) where C is standard consumed resources. Thus \"shard data\" or tx data blobs",
        "created_at": "2022-04-28T03:54:21.868000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Signing off. \"proof of custody\" or \"data commitments\" on ethresesrch",
        "created_at": "2022-04-28T03:54:57.644000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "This might be the first article\nhttps://ethresear.ch/t/1-bit-aggregation-friendly-custody-bonds/2236",
        "created_at": "2022-04-28T03:55:55.863000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "This is nearer the construction likely to make it on chain \nhttps://ethresear.ch/t/a-0-001-bit-proof-of-custody/7409",
        "created_at": "2022-04-28T03:56:34.852000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Can we rename it to \"Proof of Data Accessibility\"?  I feel like that would frame the conversation better and lead to a more clear understanding of what we are actually proving.",
        "created_at": "2022-04-28T04:17:19.508000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "You are proving that you have the ability to acquire some data with X advanced notice.",
        "created_at": "2022-04-28T04:18:07.136000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "There are three *different* games around data availability. Proof of publication, proof of storage (retention), and proof of retrievability. The first one is relatively easy to do, the last one is the most complicated, IMO. Current proof of custody game is well designed to prove publication, it also can be used to prove retention but the cost of this in the current design is very high (challenger gets slashed if validator publishes requested data, nobody will challenge if there is no evidence that it will win). Non-interactive proof of retention requires additional space on-chain, but it probably could be limited somehow to reach scalability. Regarding proof of retrievability, it's hard to say if it's possible to have a non-interactive game with a restricted subset of data -- ideally, network should publish a subset that would be enough to restore original data -- we can assume enough honest nodes in the network are willing to provide this data.\n\nObviously, proof of publication is a must for the base protocol. But I am not sure about the other two. If retention rate would be pretty high then we may probably rely on the honesty assumption.",
        "created_at": "2022-04-28T06:45:25.311000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This is slightly different than the PoC designs, since I'm saying that not only the validator will have to prove it has/had the blob, but actually include it entirely. In principle, even if very slowly, this gives an in-protocol guarantee that one can recover the full blob (or slash the offending vals) by requesting pieces to the right validators.",
        "created_at": "2022-04-28T09:43:19.413000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "The problem is that in current design whistleblower gets slashed if validator wins a challenge. It makes challenges enormously expensive as a way of retrieving data",
        "created_at": "2022-04-28T09:47:29.623000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "It could be fixed I guess but this would change the equilibrium. It may not be an easy change",
        "created_at": "2022-04-28T09:48:33.752000+00:00",
        "attachments": null
    }
]