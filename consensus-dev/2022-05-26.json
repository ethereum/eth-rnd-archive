[
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Can someone explain to me what consensus changes are in Bellatrix?",
        "created_at": "2022-05-26T16:15:41.086000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Or point me at a document that does so?",
        "created_at": "2022-05-26T16:15:51.638000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/tree/dev/specs/bellatrix",
        "created_at": "2022-05-26T16:18:00.847000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "So Bellatrix is The Merge (just under a different name)?",
        "created_at": "2022-05-26T16:18:59.350000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Yes correct",
        "created_at": "2022-05-26T16:20:12.924000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "just like \"Paris\" is on the EL side",
        "created_at": "2022-05-26T16:20:18.163000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "(good argument towards never using double names again ðŸ™‚ )",
        "created_at": "2022-05-26T16:20:43.156000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I thought we were calling it The Merge for both.  That clears things up (a bit).",
        "created_at": "2022-05-26T16:20:45.912000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "That's what I'm using in the blog posts (and then use the actual spec names only when linking to the files)",
        "created_at": "2022-05-26T16:21:33.331000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Then I don't understand why we can't do things in the proper order:\n1. Launch consensus chain.\n2. Release consensus and execution clients with code for The Merge/Bellatrix/Paris, TTD override only (hard coded value set to intmax or something).\n3. Decide on TTD.  All client should be ready to cut a release with hard coded TTD as soon as this decision is made.\n4. Release consensus and execution clients with hard-coded values for The Merge/Bellatrix/Paris.\n5. Wait for TTD to be hit.",
        "created_at": "2022-05-26T16:23:08.783000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "There is a *tiny* race condition in (3) if someone can accelerate the merge so much that the time between TTD decision and releases being cut is greater than the time to accelerated TTD, but that is why we have step (2) in place, so people can TTD override if necessary without having to download/audit/test/validate/install a new client release.",
        "created_at": "2022-05-26T16:23:48.348000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "We could do that, and it's basically what we are now doing for Ropsten",
        "created_at": "2022-05-26T16:26:29.472000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If we did that for Ropsten, we wouldn't have the current problem.",
        "created_at": "2022-05-26T16:26:55.992000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "That's how we are fixing the current problem on Ropsten*",
        "created_at": "2022-05-26T16:27:05.959000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Or are you saying that we are changing strategies to that.",
        "created_at": "2022-05-26T16:27:07.134000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "yes ðŸ™‚",
        "created_at": "2022-05-26T16:27:09.938000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "and we will need to do this on Sepolia too because hashrate is so low",
        "created_at": "2022-05-26T16:27:23.046000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think we should follow that same plan for Sepolia and Mainnet up front.",
        "created_at": "2022-05-26T16:27:24.184000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "yeah, that's a fair point.",
        "created_at": "2022-05-26T16:27:40.519000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "A. Because practicing the same plan for each public network is good, rather than having mainnet follow a *different* plan.\nB. Because it protects us from ourselves making bad decisions (like choosing TTDs that are too low, making incorrect assumptions about hashrate availability, etc.)",
        "created_at": "2022-05-26T16:28:24.394000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Mainnet is even easier cause the beaconchain is already live, we can release CL with a ridiculously high TTD and no new release of EL until Bellatrix Epoch happens. And then fix TTD to whatever we want and release EL clients.",
        "created_at": "2022-05-26T16:33:40.721000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yeah, with mainnet we have already done (1).  Have we done (1) yet with Sepolia?",
        "created_at": "2022-05-26T16:39:01.790000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "What do you mean by \"until Bellatrix Epoch happens\"?",
        "created_at": "2022-05-26T16:39:23.403000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "The way the merge happens in the happy case is that a certain epoch is achieved in the beacon chain, after we reach this epoch (Bellatrix) we start monitoring blocks to see if they bring execution payloads. Also we check with the El if the execution blocks have reached the TTD in which case we will start accepting/proposing blocks with payloads",
        "created_at": "2022-05-26T16:42:58.886000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "TTD should be decided and clients released *long* before that epoch is reached though.",
        "created_at": "2022-05-26T16:44:46.988000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "\u003e no new release of EL **until** Bellatrix Epoch happens\nEmphasis mine.  It sounds like you are suggesting here that an EL release should happen once Bellatrix epoch happens?",
        "created_at": "2022-05-26T16:45:16.434000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Ah no that's a mistake in my sentence, we do need to agree on a ridiculous high TTD",
        "created_at": "2022-05-26T16:45:46.699000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Decide on TTD =\u003e Release clients with TTD hard coded (ASAP) =\u003e Don't release any new clients until after The Merge happens (other than non-consensus changes)",
        "created_at": "2022-05-26T16:47:10.067000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Can we launch Sepolia beacon chain \"now-ish\" on Altair and then decide on when it will transition to Bellatrix after genesis?  Would that help at all?",
        "created_at": "2022-05-26T17:48:58.307000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "Yes, I think we will do that",
        "created_at": "2022-05-26T17:50:15.331000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "general",
        "parent": "",
        "content": "at the very least, it will make the sepolia fork much more similar to mainnet",
        "created_at": "2022-05-26T17:50:29.911000+00:00",
        "attachments": null
    }
]