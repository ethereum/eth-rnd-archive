[
    {
        "author": "gfukushima",
        "category": "general",
        "parent": "",
        "content": "Any CLs passing the v1.6.0-alpha.3 ? We found a problem when if we fix the edge case for the test `peerdas__not_available` than we end up breaking a bunch of other tests that are not passing data column in fulu. \u003c@592004585506340885\u003e",
        "created_at": "2025-07-09T01:30:13.204000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Cc \u003c@654267572107083777\u003e",
        "created_at": "2025-07-09T10:50:30.993000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "not fully, we're seeing issues with `fulu/fork_choice/on_block/pyspec_tests/on_block_peerdas__invalid_wrong_proof_1`, `fulu/fork_choice/on_block/pyspec_tests/on_block_peerdas__invalid_wrong_proof_2`, `fulu/fork_choice/on_block/pyspec_tests/on_block_peerdas__invalid_wrong_column_1`, and `fulu/fork_choice/on_block/pyspec_tests/on_block_peerdas__invalid_wrong_column_2`. not sure if it's an issue with the KZG bindings we have, but none of the spec things are picking up discrepancies for us with them even though they're supposed to be invalid",
        "created_at": "2025-07-09T10:54:09.085000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "also as a point of note for `peerdas__not_available`, it's fine for the tests to include that as a point of intention, but Nimbus fork choice isn't where it verifies any of this anyway, so the test runner will manually-ish handle that case",
        "created_at": "2025-07-09T10:55:39.331000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "We chatted about this via DM yesterday, but just to share with others, this \"not available\" test mirrors [`test_invalid_data_unavailable`](https://github.com/ethereum/consensus-specs/blob/927073b0aafc958aef4689010fb4f97d22813015/tests/core/pyspec/eth2spec/test/deneb/fork_choice/test_on_block.py#L93) for Deneb. There might need to be a special case for this like \u003c@654267572107083777\u003e mentioned.",
        "created_at": "2025-07-09T16:13:39.849000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "This is interesting. It implies the KZG proof verification is passing when it shouldn't, right? Could you share a link to `is_data_available` in nimbus? I'd like to take a look there then, if that looks correct, the ckzg bindings.",
        "created_at": "2025-07-09T16:15:41.211000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/v1.6.0-alpha.3/specs/fulu/fork-choice.md#modified-is_data_available oh ok, it's elsewhere in Nimbus",
        "created_at": "2025-07-09T16:18:14.636000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "so more special cases, ok",
        "created_at": "2025-07-09T16:18:23.491000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "because the fork choice test, _per se_, tests Nimbus's fork choice, and Nimbus's fork choice doesn't handle that part",
        "created_at": "2025-07-09T16:18:47.645000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "at least not the same part of the construction",
        "created_at": "2025-07-09T16:18:55.147000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Hmm let me make a thread for this topic.",
        "created_at": "2025-07-09T16:20:19.151000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "CL devs that contribute to `ethereum/consensus-specs`, we have changed the default branch from `dev` to `master`. I apologize for the inconvenience, we're trying to simplify things for better automation. When making new PRs, please base your changes on top of the `master` branch. If your fork does not have a master branch, run the following `git` commands to make it:\n```bash\ngit remote add upstream git@github.com:ethereum/consensus-specs.git\ngit fetch upstream\ngit checkout -b master upstream/master\ngit push -u origin master\n```",
        "created_at": "2025-07-09T20:33:30.043000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "And now you tell me ðŸ˜… I'm waiting for \u003c@520034910149410861\u003e to give me the ok to open my PR, I spent two days getting tested fixed, hopefully those haven't changed from dev to master",
        "created_at": "2025-07-09T21:16:49.872000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Ha sorry, it shouldn't be too difficult to change ðŸ™‚",
        "created_at": "2025-07-09T21:18:46.367000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "ok so i made `peerdas__not_available` work without too much craziness, but to do it i had to put into the test code a rule that seems logical but i cant find..\ni basically had to add in \n`[REJECT] the block has kzg commitments and the sidecars column data is present`\nIs there a rule like that somewhere that I'm just not seeing? This seems like something we should be explicit about before attempting to check data availability...",
        "created_at": "2025-07-09T23:09:21.063000+00:00",
        "attachments": null
    }
]