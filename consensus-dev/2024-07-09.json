[
    {
        "author": "hsiaowei",
        "category": "general",
        "parent": "",
        "content": "Reminder: PeerDAS breakout starting now\n\nAgenda: https://github.com/ethereum/pm/issues/1093\nZoom: https://ethereumfoundation.zoom.us/j/87225793361?pwd=Pe0H4sFMX9wr1HFRLfQo3yrDB6a4hk.1",
        "created_at": "2024-07-09T10:03:22.385000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "general",
        "parent": "",
        "content": "\u003c@777935002263617576\u003e \n\nre the link sent in the peerDAS call for gpu vs multithreading:\n\nIt seems to compare blst pippenger (BGMW) to a gpu version of pippenger/MSM -- If that is correct, then I think you want to compare a fixed base MSM with pre-computations versus the gpu pippenger. \n\nCurrent CPU implementations use precomputations and batch inversions in order to do MSMs\n\nReference: https://github.com/grandinetech/rust-kzg?tab=readme-ov-file#blob-to-kzg-commitment-1",
        "created_at": "2024-07-09T11:13:32.071000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "BGMW uses pre-computations, it's not vanilla blst pippenger. I still need to find time to check the precomputations you use, I suspect it's a different algo than BGMW precomputations.",
        "created_at": "2024-07-09T11:15:29.531000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "general",
        "parent": "",
        "content": "Yeah IIRC, BGMW uses precomputations in order to do pippenger (ie for the bucket values) -- This algorithm is much simpler and just precomputes values according to some radix, recodes the scalar and then batches the additions across the scalar multiplications in the MSM",
        "created_at": "2024-07-09T11:19:15.325000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "yea, most of MSM optimisations are variations/optimisations of pippenger. Do you have some writeup of the optimisations you use?",
        "created_at": "2024-07-09T11:26:29.537000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "general",
        "parent": "",
        "content": "It came from the blst repo here: https://github.com/supranational/blst/blob/bcdedbfeb4316a3371c1b350f0cf5065103895c5/src/multi_scalar.c#L61",
        "created_at": "2024-07-09T11:36:07.073000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "general",
        "parent": "",
        "content": "Its a bit hard to grok, but the high level idea is what I explained above and the \"batch addition\" part is `ptype##s_accumulate(ret, scratch, j);`",
        "created_at": "2024-07-09T11:37:45.003000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "thanks, will try to check it when I find some time ðŸ™‚",
        "created_at": "2024-07-09T12:17:38.134000+00:00",
        "attachments": null
    }
]