[
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "Just a poll for client teams about BlockV3 and its `Eth-Consensus-Block-Value` header value. Is really cheap for clients to provide it? Our current implementation is not that cheap..",
        "created_at": "2024-01-31T15:19:07.962000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "lodestar can/does compute it while computing the block's stateroot",
        "created_at": "2024-01-31T15:23:49.969000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "proposer packs it this way? i guess it should work",
        "created_at": "2024-01-31T15:26:31.980000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "I would have to measure it but it's probably not cheap, as we are essentially performing parts of the STF to obtain it",
        "created_at": "2024-01-31T17:16:41.137000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "i'm currently exploring a way to cache it while we do processBlock. But I have a feeling that if it is not straightforward and cheap for all clients we could introduce a param to the API which explicitly request for those values",
        "created_at": "2024-01-31T17:23:58.167000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "ATM I don't think there is any VC using those anyway",
        "created_at": "2024-01-31T17:24:30.297000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "(we currently obtaining it by getting the state prior to the slot and recalculating. but this involves processing empty slots if there are.. TLDR on goerli i see normally 20ms and a spike to 300ms just for doing this)",
        "created_at": "2024-01-31T17:28:46.321000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Can it be calculated in parallel with waiting for the execution client to return a payload? That seems to take a while...",
        "created_at": "2024-01-31T17:46:20.463000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "yes true. but I'd like to not do it twice in the first place.",
        "created_at": "2024-01-31T17:49:03.083000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "(Vouch is planning to use these values for proposal scoring).",
        "created_at": "2024-01-31T17:49:29.510000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Also: do you not do this already when packing attestations for proposals? If you have some sort of accounting there  it shouldn't be a big jump to turning it into a Wei vale.",
        "created_at": "2024-01-31T17:50:33.826000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "ok that's a usecase. current implementation works but there is definitely improvements to be done",
        "created_at": "2024-01-31T17:50:38.368000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "I really hate slowing donw block production flow TBH",
        "created_at": "2024-01-31T17:50:52.402000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I haven't looked at attestation packing, but I would assume that there are both absolute (the value of the aggregate if it were top of the block) and relative (the value of the aggregate if it were in the proposed position in the block)scores maintained for each potential aggregate attestation.  If there is something that tracks the total number of head/source/target correct/timely scores for a given set of aggregate attestations it shouldn't be a big leap to obtain the Wei value.",
        "created_at": "2024-01-31T17:54:13.027000+00:00",
        "attachments": null
    }
]