[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@144468805697929216\u003e can I steal some of your time? I believe you do have tools to analyze this. I would want to know if the voting information for slots 5505730, 31 and 32 is correct on beaconcha.in.  Beaconcha.in shows about 3 full committees on 30, almost a full committee on 31 and 60% on 32.",
        "created_at": "2023-01-05T13:18:05.999000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I don't summarize the committee info anywhere, I just sum all the votes.  Which committees are you looking at, and is it fullness of committees in particular that you are interested in?",
        "created_at": "2023-01-05T13:23:30.878000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I need to know if the full block count is correct, we can assume that a full committee is about 15.4K votes currently in mainnet",
        "created_at": "2023-01-05T13:24:21.524000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "we observed a reorg and a reorg back on those slots and we got those blocks on time, so I can't really explain that flip-flop from my point of view of the network",
        "created_at": "2023-01-05T13:25:00.503000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "and before starting pinging every other team for forkchoice info, the voting pattern helps. If beaconcha.in is correct, it seems like a big chunk of the network saw both 31 and 32 not on time. But the numbers are a bit off since 30 gets many more votes than what I would expect in this situation",
        "created_at": "2023-01-05T13:25:56.799000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Perhaps you can confirm them to be right or find out if they are double counting votes",
        "created_at": "2023-01-05T13:26:26.700000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Okay well for the block arrival times at my nodes I can give you some info:\n```\n f_slot  | min  | median | avg  | max  \n---------+------+--------+------+------\n 5505730 | 1941 |   2261 | 2487 | 6255\n 5505731 |  889 |   2931 | 2601 | 6194\n 5505732 |  815 |   1262 | 1900 | 3927\n```\n\nThis is the times that we were notified of the blocks' arrival via the `events` REST stream (I can DM you the raw data if you want it, it's quite big so I won't paste it here).\n\nRegarding block summaries, I have the following for 30 and 31:\n```\n f_slot  | f_attestations_for_block | f_duplicate_attestations_for_block | f_votes_for_block | f_parent_distance \n---------+--------------------------+------------------------------------+-------------------+-------------------\n 5505730 |                      136 |                                  0 |             24471 |                 1\n 5505731 |                      138 |                                  0 |             13123 |                 1\n```\n\nI don't have summary info for 32 because it was non-canonical.",
        "created_at": "2023-01-05T13:36:19.768000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "(We don't count double votes, and we don't count votes in blocks that end up being non-canonical, which are likely to be the two sources of discrepancy.)",
        "created_at": "2023-01-05T13:36:45.373000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "ahhh nice thanks, so 31 was seen late in a few places it seems. Thanks a lot, I think this confirms what I thought, that beaconcha.in is giving bad info on votes for 30",
        "created_at": "2023-01-05T13:43:34.202000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "that is, the attestations that were included in 32 with 30 as target, were also included in 31, so they double counted essentially all of the 31'st committee and that's why 30 has that impossible count of 3x committees",
        "created_at": "2023-01-05T13:44:25.652000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "it's still a bit of a mistery why 32 wasn't really voted since it's on-time. At the very least in our nodes, at the time of its arrival, it beat 31's weight",
        "created_at": "2023-01-05T13:49:37.678000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "`f_delay` column in `blocks.csv` is the delay of arrival, not processing right?",
        "created_at": "2023-01-05T14:17:44.596000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "ah sorry you did say that above",
        "created_at": "2023-01-05T14:18:00.824000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "oooops, wrong channel ðŸ™‚",
        "created_at": "2023-01-05T14:18:13.431000+00:00",
        "attachments": null
    }
]