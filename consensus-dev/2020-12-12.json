[
    {
        "author": "howd2333",
        "category": "general",
        "parent": "",
        "content": "EIP-1559 implementation pull request created.\n\nhttps://github.com/ethereum/go-ethereum/pull/21971",
        "created_at": "2020-12-12T17:14:33.986000+00:00",
        "attachments": null
    },
    {
        "author": "zulutu",
        "category": "general",
        "parent": "",
        "content": "I've been digging into this issue further. I don't think my finds are related to block propagation. Let me know what you guys think.\n\n1. I've been investigating problematic blocks like: \n    - https://beaconcha.in/block/79232\n    - https://beaconcha.in/block/80704\n    - https://beaconcha.in/block/78337\n    - https://beaconcha.in/block/80961\n2. So far, most of the problematic blocks occur in slot 0 or 1\n3. The majority of my finds show these blocks have few \"correct\" votes or are orphaned entirely\n4. The majority of attestations are voting for the correct beacon block root (e.g. 79232 -\u003e 79231, 80704 -\u003e 80703), but aren't in agreement with the block proposer\n5. The minority of attestations are voting for the incorrect beacon block root by a significant deviation (e.g. 79232 -\u003e 79222, 80704 -\u003e 80678), but are in agreement with the block proposer\n6. This leads me to believe that perhaps there is a cacheing issue in one of the clients around the beacon block root",
        "created_at": "2020-12-12T20:45:05.066000+00:00",
        "attachments": null
    },
    {
        "author": "zulutu",
        "category": "general",
        "parent": "",
        "content": "7. If this was simply a block propagation issue I'd expect the beacon block root to only be 1 or 2 slots misaligned, but instead we're seeing 10+",
        "created_at": "2020-12-12T20:49:50.849000+00:00",
        "attachments": null
    },
    {
        "author": "zulutu",
        "category": "general",
        "parent": "",
        "content": "I've combed through how the `beacon_block_root` is set on each of the clients. Prysm, Lighthouse, and Teku seem fine",
        "created_at": "2020-12-12T21:48:43.747000+00:00",
        "attachments": null
    },
    {
        "author": "zulutu",
        "category": "general",
        "parent": "",
        "content": "I did notice something odd about Nimbus",
        "created_at": "2020-12-12T21:49:06.714000+00:00",
        "attachments": null
    },
    {
        "author": "zulutu",
        "category": "general",
        "parent": "",
        "content": "1. The validator clients makes a request to `get_v1_validator_attestation_data(slot, committee_index)`\nhttps://github.com/status-im/nimbus-eth2/blob/stable/beacon_chain/nimbus_validator_client.nim#L185\n\n2. The RPC server creates the attestation data with `makeAttestationData(epochRef, head.atSlot(slot), committee_index`\nhttps://github.com/status-im/nimbus-eth2/blob/91741326cc529f02817a1887180316a969b76998/beacon_chain/rpc/validator_api.nim#L58\n\n3. `makeAttestationData` accepts 4 parameters not 3. The 4th parameter is `beacon_block_root: Eth2Digest`: \nhttps://github.com/status-im/nimbus-eth2/blob/stable/beacon_chain/spec/beaconstate.nim#L668\n\n4. `beacon_block_root` seems to be a null value when added to the `AttestationData`. (I'm not sure how this works in Nim)",
        "created_at": "2020-12-12T21:57:02.397000+00:00",
        "attachments": null
    },
    {
        "author": "zulutu",
        "category": "general",
        "parent": "",
        "content": "I just read up on `LMD_GHOST`, I believe one of the clients has a situation where it's making an incorrect fork choice",
        "created_at": "2020-12-12T23:07:45.906000+00:00",
        "attachments": null
    }
]