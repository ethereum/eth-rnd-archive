[
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Not planning on streaming.  It is expected to be the most uneventful fork ever, given that nothing actually changes.",
        "created_at": "2022-09-06T02:33:01.142000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Hey all, \nwe plan to rewrite our JSON_RPC errors a bit (so that they use more correct error codes) Is any CL team currently relying on the RPC errors being a certain way?\nWe want to change the code for an internal server error specifically (which is used if a method crashes for example)",
        "created_at": "2022-09-06T08:29:03.196000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "https://beaconcha.in/epoch/144896 shows the timestamp \u0026 local time üòõ",
        "created_at": "2022-09-06T09:51:47.657000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "https://twitter.com/beaconcha_in/status/1567155721027960833",
        "created_at": "2022-09-06T11:52:35.184000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "time for bigtable! i feel asleep watching the hf on the explorer \u003ca:OH_peepoHang:805687567181152287\u003e",
        "created_at": "2022-09-06T11:52:53.031000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If you exit a validator pre-withdraws, can you re-enter with the exited ETH?",
        "created_at": "2022-09-06T17:04:50.402000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Or do you have to fully withdraw before you can re-enter with the same ETH?",
        "created_at": "2022-09-06T17:04:59.590000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I don't understand what pre-withdraws means? was that a question mark before that comma? if so no, the validator does not pre-withdraw, that would defeat the purpose of the withdrawal queue. You have to wait before you can reenter",
        "created_at": "2022-09-06T17:17:07.609000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I mean if you exit your validator prior to whenever we enable withdraws on mainnet.",
        "created_at": "2022-09-06T17:17:32.524000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Like if you exit today, can you re-enter with that ETH or is that ETH just stuck in the withdraw queue?",
        "created_at": "2022-09-06T17:17:53.422000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "For example, if I need to turn my validator off for a few weeks, can I exit and then turn it back on in a few weeks?",
        "created_at": "2022-09-06T17:18:14.977000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "you can exit your validator right now, it will be withdrawable soon, then when we implement withdrawals it will be among the first ones to be fully withdrawn",
        "created_at": "2022-09-06T17:18:18.303000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "but no, you cannot turn it off now, for a few weeks and then turn it back on later",
        "created_at": "2022-09-06T17:18:39.615000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "There were proposals for this though",
        "created_at": "2022-09-06T17:18:46.768000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I get that part.  I want to know though if I can exit and then enter *without* withdrawing in between the two events.",
        "created_at": "2022-09-06T17:18:53.896000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Exiting and coming back in without withdrawing is a problem that has a lot of complexity for no gain, the user can just withdraw and redeposit. But for turning off your validator for a while, we could add a new broadcast message and status of the validator being \"off\", this at least reuses the validator index and does not increase the validator registry. I am not really sure if it's worth the trouble though",
        "created_at": "2022-09-06T17:21:25.848000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e Perhaps here is a good spot to discuss this, feel free to move it otherwise. With \u003c@363800010518822915\u003e we're thinking on implementing your forking PR. As far as I can see the design I would like to take is that if no block has come up to second `x` in the slot (I think this should be 4 seconds) then we call FCU and we are betting on forking any late block that arrives at this point. Then if we see a late block, at second `y` (I suspect this has to be 11 seconds) we process attestations and if we see more than 10% we call FCU on the late block and we lost here our bet and have less time to prepare the payload. \n\nNow we would want to move the parameters x and y so that they maximize our gain and minimize the number of bet loses. Have you done statistical analysis on late blocks on chain correlating the time they come with the percentage vote they have at a given time `y`? Otherwise I'll run a node measuring precisely this: for a week, grab for all blocks after `x` seconds, what is the percentage they get at `y` seconds. Move x and y for a few weeks until I get a clear picture.",
        "created_at": "2022-09-06T18:27:42.363000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Ohhh as Terence pointed out, this may be a cool project for a \u003c#843176491386667018\u003e",
        "created_at": "2022-09-06T18:28:22.755000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "those that exit now, don‚Äôt need to go through some kind of withdrawal queue right? funds would available immediately after the fork",
        "created_at": "2022-09-06T19:55:32.081000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "They will have to go through a withdrawal queue anyway. There is a maximum number of withdrawals (16 I think) that can be included per block.",
        "created_at": "2022-09-06T20:19:06.273000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "what's the point of having an exit queue AND a withdrawal queue ?",
        "created_at": "2022-09-06T20:19:57.622000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Processing withdrawals is done at the execution layer, there's only so much that you can do without doxing a node",
        "created_at": "2022-09-06T20:20:36.069000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@84562395988508672\u003e I am a bit shocked to learn that a site run by an EF devops (https://beaconstate.info/) runs on a closed source CL, could you please change that for any of the 5 clients that are open sourced?",
        "created_at": "2022-09-06T20:30:20.685000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "There's no way to justify having a site serving checkpoints from a closed source client. It gives me the creeps that I myself would fall from this when I look at the github and I see that it's run by someone at the EF, I would tend to trust it.",
        "created_at": "2022-09-06T20:31:35.206000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "We don't run that site or the closed source CL. The EF DevOps team has just built the tool checkpointz, that makes it easier to run checkpoint sync endpoints.",
        "created_at": "2022-09-06T20:43:40.194000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "it really looks like an official thing and the only backlinks are to the github page, that is why we thought it was EF devops",
        "created_at": "2022-09-06T20:44:52.078000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Ahh :/\nYeah maybe we should add a disclaimer at the bottom or something...",
        "created_at": "2022-09-06T20:46:07.074000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Holy crap, thanks for the clarification \u003c@199561711278227457\u003e it does make sense now",
        "created_at": "2022-09-06T20:46:14.846000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "what you mean \"we should add\"?",
        "created_at": "2022-09-06T20:46:37.923000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "there's a closed source CL?",
        "created_at": "2022-09-06T20:48:04.052000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "I'm actually also not sure what wording would prevent such a confusion from happening. We already mention that its powered by checkpointz and allow everyone to add their own branding on the page (as shown by the 1337 on the webpage you linked). \nI was thinking of another piece of text like \"not an official site managed by the EF\" or something - but I am not sure it would achieve anything else.",
        "created_at": "2022-09-06T20:51:49.323000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Oh you mean in the tool itself.. sure that would help. I freaked out",
        "created_at": "2022-09-06T20:52:50.814000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Specially cause I remember Sam announcing this here just a few days ago",
        "created_at": "2022-09-06T20:53:10.529000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "general",
        "parent": "",
        "content": "https://github.com/sifraitech/grandine",
        "created_at": "2022-09-06T20:55:39.545000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Just to add some color to that:\nWe built the tool checkpointz, but we will not run an instance of it for mainnet to avoid any centralisation concerns (if any). We will maintain the tool, help community members run it, show people how to verify and collect endpoint URLs to make them visible - but we won't run it ourselves (except on testnets).",
        "created_at": "2022-09-06T20:56:15.199000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "aha, thanks for the clarifications, this convo was very confusing to come into w/o that background (or knowing about grandine, TIL).  As for a disclaimer to add to the footer of checkpointz, maybe something like \"checkpointz code is released as open source by the EF, but individual sites are independently operated\"?",
        "created_at": "2022-09-06T21:00:44.581000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Thanks! yea i think that wording makes sense üòÑ",
        "created_at": "2022-09-06T21:02:13.487000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I think even changing the \"about\" button to be something like \"about the underlying tool\" or something that doesn't look like it's about the site itself. This is how I fell: first thing I did was click in \"about\" and was directed to the repo",
        "created_at": "2022-09-06T21:04:31.664000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "I'd suggest making the default branding something very clearly untrustworthy. \"Shady Slim's Checkpoint Server\" ü§£",
        "created_at": "2022-09-06T21:22:57.730000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "Sorry for any confusion üòÖ - we can add an additional note to the About section üôè",
        "created_at": "2022-09-06T21:47:06.206000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "Shady Sam‚Äôs checkpoint server ü§£",
        "created_at": "2022-09-06T21:54:31.836000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Continuing on this \u003c@602753420033785856\u003e are you making sure that you include attestations for the orphaned block, even though those are against our own block? I can see how not doing this will end up in trouble",
        "created_at": "2022-09-06T23:46:00.518000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "It'll be nice also to steal the blocks attestations, but that's a little harder for us I think",
        "created_at": "2022-09-06T23:46:40.782000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "I haven't done this analysis, but agree it would be cool to do + might be suitable for a \u003c#843176491386667018\u003e",
        "created_at": "2022-09-06T23:56:12.371000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "Yes, we will include the attestations _to_ the orphaned block and will also steal the attestations from it",
        "created_at": "2022-09-06T23:56:36.352000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Nice, thanks for confirming, we'll get to work on this soon. I'll try to set a node to gather this data cause we're thinking on processing attestations around second 10-11 instead of  11.5 like you, do I would want to have hard numbers before doing this",
        "created_at": "2022-09-06T23:58:19.963000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "Yeah your strategy sounds quite robust from a timing PoV, and you get a bit longer to prepare payloads in the case of a misprediction",
        "created_at": "2022-09-06T23:59:21.955000+00:00",
        "attachments": null
    }
]