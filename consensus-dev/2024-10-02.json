[
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "There's one thing that I am worried about when it comes to hitting Electra, and that's getting away with a slashable attestation. Because attester slashings in pre-Electra and post-Electra blocks are different, there might be a situation where a validator produces an attestation `Pre` before the Electra fork and then a surrounding/surrounded attestation `Post` after the Electra fork. What I am afraid of is that clients will ignore `Pre` after the fork, while what they should do is convert `Pre` to a post-Electra attestation and include it in a post-Electra slashing. It is probably a good idea to test this in devnet-4",
        "created_at": "2024-10-02T09:59:53.625000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "general",
        "parent": "",
        "content": "OK wait, this is actually a slasher thing",
        "created_at": "2024-10-02T10:02:52.292000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "it's a great idea for a devnet test",
        "created_at": "2024-10-02T10:03:27.357000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "Yeah, by the time it hits `AttesterSlashing` it's just a list of indices, which doesn't care about fork",
        "created_at": "2024-10-02T10:05:47.251000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "CLs per se don't care",
        "created_at": "2024-10-02T10:05:51.455000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "yeah, and for this test we need to run slasher",
        "created_at": "2024-10-02T10:12:37.483000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "but agree, with its being a valuable test, of course",
        "created_at": "2024-10-02T10:14:25.896000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@199561711278227457\u003e",
        "created_at": "2024-10-02T10:18:40.430000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Ah interesting, so we should do this around the fork epoch boundary right?",
        "created_at": "2024-10-02T10:35:33.877000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Yeah, I see three a bit different cases for `A1(S_1, T_1) and A2(S_2, T_2)` where `A2` surrounds `A1`:\n1) `S_1 \u003c T_1 \u003c ELECTRA_ACTIVATION_EPOCH`, `T_2 \u003e= ELECTRA_ACTIVATION_EPOCH`\n2) `S_1 \u003c ELECTRA_ACTIVATION_EPOCH \u003c= T_1` \n3) `ELECTRA_ACTIVATION_EPOCH \u003c= S_1`, `S_2 \u003c ELECTRA_ACTIVATION_EPOCH`\n\nI don't know how difficult it is to have them happening all at the same time. Also, it probably can be tested with Kurtosis rather than on the devnet",
        "created_at": "2024-10-02T10:53:46.417000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "the testnet is interesting for the slasher, but this should be covered by a standard spectest on our code",
        "created_at": "2024-10-02T12:30:21.204000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "`AttesterSlashing` is a pair of integer lists",
        "created_at": "2024-10-02T12:35:07.710000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Yeah unsure how easy it is to create a test for this reliably, most of our devnet slashing stuff is just a python script that isnt time sensitive. cc \u003c@808969530608451584\u003e in case you had something else that could be used",
        "created_at": "2024-10-02T12:38:01.274000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "maybe rig a pre-prepared slashing?",
        "created_at": "2024-10-02T12:40:52.062000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "so it's not as such detected",
        "created_at": "2024-10-02T12:41:00.540000+00:00",
        "attachments": null
    }
]