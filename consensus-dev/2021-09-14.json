[
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Single slot finality will make it much harder for an average user to run a validator. You can potentially break it up into more committees, subnets and have other tricks, but ultimately you still have to verify 200,000 validators in a slot. Bandwidth will increase by a non trivial factor along with the verification load. This would most likely exclude single/dual core machines from being viable to run a beacon node.",
        "created_at": "2021-09-14T03:38:59.681000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "My single slot finality proposal doesn't make the entire validator set confirm a block, only a random subset; so you don't need to verify 200k in a slot",
        "created_at": "2021-09-14T03:39:38.897000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So it makes an explicit tradeoff in that regard, one which we did not consider seriously enough earlier on",
        "created_at": "2021-09-14T03:39:51.715000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Thanks , just took a look through the proposal. \n- How would you prevent a malicious committee from finalizing an invalid block ? Due to how committees are shuffled, with enough time you could have a malicious actor with an aggregated stake of less than the safety threshold potentially confirming a block that is invalid.",
        "created_at": "2021-09-14T07:59:43.700000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "I think you need just about the same amount. I.e. something like 49% of the total staked amount (250k validators) will give you a small chance at getting 50% in a committee of 8192. And 45% is basically \"nope, no chance\"",
        "created_at": "2021-09-14T08:28:31.983000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "I guess I was referring more to the possibility of a minority staker potentially controlling a whole committee with a large enough time frame. Since all validators are pseudo-randomly shuffled, with enough time the malicious party can be in control of a committee for a slot and from there finalize an invalid block.\n \n\u003e I think you need just about the same amount. I.e. something like 49% of the total staked amount (250k validators) will give you a small chance at getting 50% in a committee of 8192. And 45% is basically \"nope, no chance\"(edited)\nDo you have a link to this ?",
        "created_at": "2021-09-14T09:15:31.471000+00:00",
        "attachments": null
    },
    {
        "author": "_yifanw",
        "category": "general",
        "parent": "",
        "content": "If I understand the original validator math correctly, 10000 years is not long enough for such malicious party to form a committee and produce an invalid block. So the chance of an attack is extremely low here.",
        "created_at": "2021-09-14T09:30:20.962000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "I don't have a link as it's just high school level stastistics (which will probably take me a few hours to remember and get right ðŸ˜…). Might give it a whirl tonight if no one else has by that time",
        "created_at": "2021-09-14T10:15:01.019000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "ah k lol, but I do understand your general point. With choosing a random subset, we are assuming that the probability is too low that you could have a malicious committee. Not sure I like that tradeoff as now you potentially have a non zero probability of an invalid block being finalized",
        "created_at": "2021-09-14T10:39:42.892000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "It opens the door to other attacks to increase that probability: depending on the implementation if for example a simple majority instead of a fixed number of votes are needed then one could try to DoS other members, but if every plausible attack is studied carefully I very much like this idea",
        "created_at": "2021-09-14T11:07:17.716000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Did anyone check if the issue today on mainnet affected eth1 voting?",
        "created_at": "2021-09-14T13:35:55.388000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Too early still I suppose",
        "created_at": "2021-09-14T13:37:58.469000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "But I wonder if a Nevermind connected validator may have trouble proposing",
        "created_at": "2021-09-14T13:38:43.136000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "If say there was a deposit in that fake chain",
        "created_at": "2021-09-14T13:39:13.491000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "It affected a few prysm validators, because their geth node assumed it was 'syncing'",
        "created_at": "2021-09-14T15:10:40.089000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Due to the other peers having a higher highest block",
        "created_at": "2021-09-14T15:11:10+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "ah yeah, that's bad but I suppose minimal: namely those users would have voted for a random hash right? so only in the case of actual deposits included in that block that they would miss the proposal. What I wonder is if there's possibly a bad situation where the bad chain included a deposit, the Nethermind operator would think there is a different deposit count if they included those in their dbase and then not only they'll propose wrong blocks but also probably won't be able to validate others?",
        "created_at": "2021-09-14T15:18:02.535000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Ah no, we have a 8 hour delay before voting for the block",
        "created_at": "2021-09-14T15:18:45.172000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "So those nodes should be fine",
        "created_at": "2021-09-14T15:19:02.509000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "The downside of the issue was that their geth node became unhealthy due to it thinking it was behind. In the event it continues being out of sync, the worst case is that it votes for a random hash",
        "created_at": "2021-09-14T15:20:42.066000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "I would assume that the nethermind operator would then vote for that tuple",
        "created_at": "2021-09-14T15:21:11.521000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Which would be rejected by most of the other validators",
        "created_at": "2021-09-14T15:21:29.699000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Since it is invalid, etc",
        "created_at": "2021-09-14T15:21:42.423000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "right, this is what worries me, that if there was a deposit then it may affect participation in the beacon-chain if Nethermind operators can't propose. And also if the above is correct (which I haven't given more than 30 seconds, so most probably is wrong) those operators would also not be able to vote for the right head when they attest on a block with a different deposit count?",
        "created_at": "2021-09-14T15:32:11.618000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "That is possible",
        "created_at": "2021-09-14T15:33:48.775000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "But this all assumes that the nethermind nodes dont follow the longest chain",
        "created_at": "2021-09-14T15:34:09.067000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "And remaing stuck on the chain with the faked pow",
        "created_at": "2021-09-14T15:34:42.296000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "I am not aware of any issue that would cause nethermind nodes to remain stuck on the invalid chain",
        "created_at": "2021-09-14T15:36:05.361000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Got around to it, because I wanted to see the actual numbers as well.",
        "created_at": "2021-09-14T15:39:51.575000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Right, but if after the lookahead the nodes would remain this would be an issue right? their beaconclients would not roll back imported deposits correct?",
        "created_at": "2021-09-14T15:45:53.983000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "If the deposits end up cached, then it would be an issue",
        "created_at": "2021-09-14T15:48:03.220000+00:00",
        "attachments": null
    }
]