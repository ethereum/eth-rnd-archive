[
    {
        "author": "nazarhussain",
        "category": "general",
        "parent": "",
        "content": "Hey all, I was looking to clarify few scenarios related to `dataColumnSidecars` which I found not fully clarified in the specs. Want to know how other client teams handles those scenarios: \n\nScenario 1: Peer requested for a data column for which we don't have custody \nScenario 2: Peer requested for a data column for block which have zero blobs \nScenario 3: Peer requested for a data column which we should have custody but we dont have it (in our db)\n\nMy understanding is following: \n\nScenario 1: Abort the request with `invalid_request` error \nScenario 2: Just skip those columns and not respond anything \nScenario 3: Abort the request with `resource_unavailable` \n\nHow you guys are handling these scenarios? \u003c@\u0026595681804422479873\u003e \u003c@\u0026595683609080365088\u003e \u003c@\u0026836981489430036500\u003e \u003c@\u0026595683849225240704\u003e",
        "created_at": "2025-08-28T14:46:07.748000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Currently, when a peer requests some data column sidecars, Prysm responds with what it has, regardless it effectively advertises the requested sidecars. So, in both scenarios 1, 2 and 3, it will not respond anything and close the stream.",
        "created_at": "2025-08-28T15:28:25.454000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "And, on the contrary, if Prysm advertises columns 1, 2, 3 for a given root, but, for some reason, also has column 4 in DB, and a peers requests column 4, then it will respond with column 4.",
        "created_at": "2025-08-28T15:29:23.773000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "(without downscoring the peer)",
        "created_at": "2025-08-28T15:29:30.561000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Client devs, thoughts on this PR?\nhttps://github.com/ethereum/consensus-specs/pull/4542",
        "created_at": "2025-08-28T20:10:12.844000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I was reading it today, in principle I have nothing against it. We won't use it at all I assume, but I also don't like it when the spec leaks, so I think this will be such a case where the spec won't leak to clients.",
        "created_at": "2025-08-28T21:00:55.094000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Thanks for the feedback, interesting. How does Prysm plan to implement this? Sort of like how the spec currently is?",
        "created_at": "2025-08-28T21:05:50.131000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "\u003c@680234424037670912\u003e I know you started working on this. Would this PR be helpful for Teku?",
        "created_at": "2025-08-28T21:06:56.324000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Oh you've already commented, thanks!",
        "created_at": "2025-08-28T21:07:38.687000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "general",
        "parent": "",
        "content": "We had a slightly different approach. With more semantic names for the functions.",
        "created_at": "2025-08-28T21:07:44.932000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "yeah, it's kinda hard for me to tell you right now, I suspect there's going to be some inertia to move from our current design around timings.",
        "created_at": "2025-08-28T21:07:58.441000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Nice, yeah I like the approach described in the comment. \u003c@680234424037670912\u003e what does \"so i think its worth having that in the interface\" mean exactly?",
        "created_at": "2025-08-28T21:10:29.547000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "We could add `get_attestation_due_ms()` style helper functions. That sounds reasonable.",
        "created_at": "2025-08-28T21:12:20.465000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "general",
        "parent": "",
        "content": "I'm not sure if I should speak for Paul, but my understanding is that he meant that it is worth having those methods for each duration instead of a single method that receives the duration_id.",
        "created_at": "2025-08-28T21:12:25.908000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Got it, yes that was my understanding as well.",
        "created_at": "2025-08-28T21:12:54.874000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "When I get back from PTO, I will make an alternative PR which does it that way.",
        "created_at": "2025-08-28T21:13:36.021000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "If \u003c@555483069038198827\u003e thinks that's a good compromise.",
        "created_at": "2025-08-28T21:14:04.240000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "basically yep we wanted to just be able to call a function at a slot and get the expected duration for a specific thing (attestation due, aggregation due, slot duration etc)",
        "created_at": "2025-08-28T21:50:30.858000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "+1 this is what I had in mind on how we would implement this",
        "created_at": "2025-08-28T22:00:30.058000+00:00",
        "attachments": null
    }
]