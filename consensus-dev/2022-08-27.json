[
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "whats the best way to get a collection of *all* (beacon) blocks a node sees, including orphans?\n\ni want a way to collect all blocks a node sees, even if they end up being non-canonical wrt the fork choice\n\nit is ok if the node eventually prunes the non-canonical blocks, i can run some other tooling to poll and get its own copy of any data\n\nis there a special mode one of the CL clients supports to help me here? or do i need to use a judicious combo of the beacon API methods?",
        "created_at": "2022-08-27T19:47:50.919000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Chaind",
        "created_at": "2022-08-27T20:01:35.999000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Or just hook to the stream endpoint",
        "created_at": "2022-08-27T20:01:48.345000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "the events endpoint in the beacon api? \n\na node will pass all valid blocks to this stream?",
        "created_at": "2022-08-27T20:04:33.451000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Not the events stream as that only has header info. I  could've sworn that we had a prysm specific endpoint but can't find it now",
        "created_at": "2022-08-27T22:02:48.054000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "You can always ask by root",
        "created_at": "2022-08-27T22:10:18.281000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Get the stream and ask the block",
        "created_at": "2022-08-27T22:10:30.396000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "You can use that event stream to learn of all blocks accepted from the network (note it's before the block is imported) and then request the full block content for blocks you discover.  Alternatively you can use the `/eth/v1/beacon/headers?slot=xxx` endpoint to retrieve all block headers at a specific slot. The polling would be interesting though as you don't know when late blocks are received.",
        "created_at": "2022-08-27T22:10:51.821000+00:00",
        "attachments": null
    }
]