[
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "Is there any doc explaining this change? https://github.com/ethereum/consensus-specs/blob/dev/specs/capella/beacon-chain.md#blstoexecutionchange",
        "created_at": "2022-08-24T03:56:27.246000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "There is a PR with this change but not that much description in it, https://github.com/ethereum/consensus-specs/pull/2855\nIt is done to allow BLS withdrawal credentials to be changed to Execution Address (regular Ethereum Address) to allow validators to set an address to be used for withdrawing their balance to",
        "created_at": "2022-08-24T07:13:12.711000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "cool, ty ðŸ™‚ to be clear, this is just a recipient of the withdrawn stake in case of slashing/exit? are there any plans to implement something like https://ethresear.ch/t/withdrawal-credentials-exits-based-on-a-generalized-message-bus/12516 to allow more powerful withdrawal mechanisms?",
        "created_at": "2022-08-24T08:22:59.875000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I'd hope not, it's additional complexity with no real gain.  Capella will bring the ability to set `0x01` withdrawal credentials, if they need to be changed after that the user can exit and re-enter.  The only way I would support `0x01` to `0x01` changes is if they came with a balance decrease on the relevant validator (a rudimentary gas fee).",
        "created_at": "2022-08-24T08:27:58.683000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "For sure, but appropriate fee mechanisms can solve it as you point out. I think a general message bus is also useful for things like contract triggered withdrawals. As for it having no real gain, I think it has a lot of useful applications. Liquid staking protocols get much better guarantees on withdrawal liquidity for LSD holders and apps built on top of liquid stake and \"withdrawability\" of beacon chain eth are enabled. I agree though, that it needs to be thoroughly scrutinized as it is one of the worst things that could break!",
        "created_at": "2022-08-24T08:38:18.682000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Automatic withdrawals are already in place for capella, pull-based withdrawals would be a communications headache (and that is putting it _very_ mildly) for no gain.  As long as we have some ability to access the beacon state / block root from the EVM we should be okay to build proofs for most things, and it would be significantly prettier.  The consensus layer just isn't the place to be dealing with contract-related items.",
        "created_at": "2022-08-24T08:42:05.689000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "That's another EIP that I'm in heavily favor of (beacon chain state roots on execution layer)! ðŸ™‚ Contract triggered deposits have opened up the space for some of the most important applications to be built on ethereum, and contract triggered withdrawals closes the loop for a lot of them. Is your main concern complexity?",
        "created_at": "2022-08-24T08:53:19.669000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Yes, complexity increases significantly.  What is the specific use case that is trying to be addressed with contract-triggered withdrawals that won't work with the current proposal plus proofs?",
        "created_at": "2022-08-24T08:56:02.180000+00:00",
        "attachments": null
    },
    {
        "author": "hdxhaha",
        "category": "general",
        "parent": "",
        "content": "\u003c@301186049323958275\u003e \u003c@476250636548308992\u003e Hello, after eth mainnet merge, as a beacon chain full node not a validator, Do i have to run execution client? Are the beacon chain apis dependent on execution layer? I i just want to provide beacon chain api, i don't need to run execution layer, is it right?",
        "created_at": "2022-08-24T08:58:30.001000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "Clearest immediate use case rn is if a bunch of LSD holders want to liquidate their liquid stake position and retrieve underlying eth for any reason they desire, the LSDs contracts need to be able to trigger a withdrawal for one or more of its validators on the beacon chain to return the underlying eth",
        "created_at": "2022-08-24T09:00:15.557000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Do you  mean \"exit\" rather than \"withdrawal\" here?",
        "created_at": "2022-08-24T09:00:42.608000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "Not super clear on the terminology difference here haha",
        "created_at": "2022-08-24T09:01:22.021000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yes, you must run both EL client and CL client from The Merge forward.",
        "created_at": "2022-08-24T09:01:53.081000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "If you wanted to initiate an exit from an execution layer contract you would need to have a lot of additional pieces in the consensus layer, and in communications between them, to manage this.  It also changes the balance of function between the validating and withdrawal keys that has been clear since the beginning of the chain.  Given that triggering an exit will require an indeterminate amount of time from operation to receipt of the funds I suspect that this is something that could be handled more readily by some pieces of this (e.g. requesting the exit, giving a proof of request of exit to the issuer) being off-chain.",
        "created_at": "2022-08-24T09:06:38.167000+00:00",
        "attachments": null
    },
    {
        "author": "hdxhaha",
        "category": "general",
        "parent": "",
        "content": "If i just want to provide beacon chain api, Do I also need to run CL?",
        "created_at": "2022-08-24T09:22:16.655000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Yes.  After The Merge neither EL nor CL can operate without the other.",
        "created_at": "2022-08-24T09:22:44.437000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "hm, thanks this is super helpful. there's still a problem of stalemate in that last suggestion where the holder of validating keys may just choose not to exit, but i like the idea of splitting it up somehow. also, the validating keys have power over initiating an exit whereas the withdrawal credentials are simply just recipients? then, i agree seems problematic for validators to be able to switch execution layer withdrawal credentials: only the withdrawal credentials should be able to do so. not sure how liquid staking providers are going to deal with this... its less a problem of timing and more an issue of how power is split and the extent of programmability we want to allow",
        "created_at": "2022-08-24T09:25:51.398000+00:00",
        "attachments": null
    },
    {
        "author": "bbuddha.xyz",
        "category": "general",
        "parent": "",
        "content": "thanks for the responses \u003c@144468805697929216\u003e ! really appreciate the info and perspective ðŸ™‚",
        "created_at": "2022-08-24T09:26:42.332000+00:00",
        "attachments": null
    },
    {
        "author": "hdxhaha",
        "category": "general",
        "parent": "",
        "content": "Thank you! But i am also confused, why I have to run both, I just want to sync beacon chain, I don't need produce block and get El data.",
        "created_at": "2022-08-24T09:28:45.627000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The two combine to make \"Ethereum\".  It is one piece of software split into modular components but neither makes any sense without the other.",
        "created_at": "2022-08-24T09:29:40.873000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "The beacon node cannot tell if an execution payload in its block is valid, and hence if the beacon block is valid, without the execution node.  So to build the chain it has to have an execution node in place.",
        "created_at": "2022-08-24T09:32:23.756000+00:00",
        "attachments": null
    },
    {
        "author": "hdxhaha",
        "category": "general",
        "parent": "",
        "content": "\u003c@144468805697929216\u003e \u003c@301186049323958275\u003e I see. Thanks a lot !",
        "created_at": "2022-08-24T09:37:58.164000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Micah already answered. Just to confirm, there is no more separate beacon chain post Merge. It is becoming a consensus layer (CL) that secures Ethereum execution layer (EL). These two layers are tightly coupled, CL block contains EL payload, block trees are tightly coupled as well, former beacon chain and execution chain clients communicating via Engine API constitute post-Merge Ethereum client and you must have both if you want to run a node. One of validity rules that is secured by CL is EL payload validity with respect to the execution, i.e. state and receipts root matches the one that is in the EL payload. This validity rule can't be enforced without running an EL client.",
        "created_at": "2022-08-24T11:46:06.564000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If one wanted to design a UASF to inactivity leak a staker, how would you do that (technically)?  Are attestations written to slots by proposers, so you could say that any block that contained an attestation from that proposer would be considered invalid?",
        "created_at": "2022-08-24T13:02:14.822000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "I think that we should invalidate any consensus message signed by that staker, whether it's a block or attestation or sync committee vote etc",
        "created_at": "2022-08-24T13:15:33.975000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "The easiest way to do that would be to have two hard forks in a row to make all signatures invalid for those who doesn't accept these forks. But if the staker decides to accept a fork it won't work. \n\nThe mechanism that I bear in mind is specified here: https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/beacon-chain.md#get_domain\n\nBeacon chain \"remembers\" the previous fork version, but it doesn't remember the ones that were before the previous one. So, this mechanism could be leveraged to make signatures of all validators not accepting the fork invalid",
        "created_at": "2022-08-24T13:26:31.558000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Doing it with a hard fork seems relatively simple.  I'm curious how we can do it with only a soft fork though.",
        "created_at": "2022-08-24T13:44:31.682000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "With a hard fork we can just do an irregular state change to simply remove the offending validators from the pool.  That seems like the \"simplest\" way.",
        "created_at": "2022-08-24T13:44:54.271000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Their money would be permanently stuck since they wouldn't be validators anymore.",
        "created_at": "2022-08-24T13:45:04.999000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "With a soft fork we need to make it so they can no longer attest or exit (but maybe we still let them withdraw once they get leaked out).",
        "created_at": "2022-08-24T13:45:31.171000+00:00",
        "attachments": null
    },
    {
        "author": "cheerful_piglet_95568",
        "category": "general",
        "parent": "",
        "content": "Hi Team, we are implementing the consensus client (lighthouse) in addition to the execution client( geth ) in preparation for the merge. Currently we monitor geth by checking from a external block explorer and comparing the block height with our nodes. Now with the addition of the consensus client we want to understand how we change our monitor. If consensus client start to fall behind will that impact execution client as well? Do we need to monitor both the clients? If so what metrics would make sense for consensus client? Thanks",
        "created_at": "2022-08-24T15:29:02.703000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Sorry, I missed the main point that it should be a *soft* fork. But it can't be done without client support. It could be a flag which lists validators that should be leaked out. Then I think a client can invalidate any message signed by a validator from defined set except for e.g. exits",
        "created_at": "2022-08-24T16:44:39.557000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "How does that work in practice?  Where are the attestations stored?",
        "created_at": "2022-08-24T16:47:38.600000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Tentatively, the plan would be to disallow exits but allow withdraws so the validators would leak until they were force exited and then they could withdraw.",
        "created_at": "2022-08-24T16:48:07.057000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Presumably the validator balances are synced between clients and a root or something is stored somewhere to ensure the clients are all in sync?",
        "created_at": "2022-08-24T16:48:43.624000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "In this case attestations and blocks signed by these validators will be considered invalid. Disseminated attestations and blocks should be invalidated on the networking layer as well causing peers publishing or forwarding these messages to be disconnected. Invalid attestations and blocks aren't applied to the fork choice, making the chain forking off blocks proposed by validators from the set and so force.\n\nSo, these validators will likely have to use peers that took the SF to be able to submit exit messages. Btw, there is no explicit withdrawal message, there is a message that changes credentials to EL Address and Exit message. Any exited validators will be automatically withdrawn after IIRC 27hrs if their withdrawal creds are set to EL address",
        "created_at": "2022-08-24T17:00:12.434000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Where do attestations live?  Long term I mean.",
        "created_at": "2022-08-24T17:01:43.545000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "In beacon block body, https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/beacon-chain.md#beaconblockbody\n\nInvalid attestation invalidates an entire block",
        "created_at": "2022-08-24T17:03:42.432000+00:00",
        "attachments": null
    },
    {
        "author": "snoopy6353",
        "category": "general",
        "parent": "",
        "content": "out of curiosity, are there benchmarks of the consensus clients anywhere?",
        "created_at": "2022-08-24T19:32:30.630000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "From the Single Slot Finality notes (https://notes.ethereum.org/@vbuterin/single_slot_finality) description of LMD GHOST:\n\n\u003e This parallel voting by thousands of attestations makes Ethereum much more robust than a traditional longest-chain system: unless there is an active attack or a huge network mishap, even a single slot is almost never reverted.\n\nDoes \"never reverted\" here refer to reorgs, or some other concept?  If so why do we still see large numbers of reorgs on Goerli and Ropsten post-merge?  For example in the last 24h I see nine reorgs on goerli and one on ropsten, which is actually much better than I saw last week, but still doesn't quite pass my threshold for \"almost never\".  Am I misinterpreting this sentence?",
        "created_at": "2022-08-24T20:01:56.849000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "^ maybe this refers to \"multi block\" reorgs?  I don't see any such reorgs on Ropsten in the last week, and only see six on goerli (ranging from 2 to 25 blocks though)",
        "created_at": "2022-08-24T20:06:02.249000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "for example this 25 block reorg: https://goerli.etherscan.io/block/7423216/f",
        "created_at": "2022-08-24T20:07:18.384000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Not convinced that information is accurate.  Can you take a look at the underlying chain information to see if that reorg really exists?",
        "created_at": "2022-08-24T20:20:38.577000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "The numbers I posted was from my EL (geth) logs.  Interestingly, while I do see a 25 block reorg on goerli I see it on a totally different block than etherscan:\n\n```\nAug 18 10:35:03 ip-10-0-65-20 geth[12614]: INFO [08-18|10:35:03.975] Chain reorg detected                     number=7,426,339 hash=fbfe06..73d88c drop=25 dropfrom=72f165..4fa022 add=2  addfrom=cc1204..e831f9\n```",
        "created_at": "2022-08-24T20:24:35.838000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "So yes, I'm also not convinced that etherscan's information is accurate, but can confirm I see the above reorg on at least three different goerli teku/geth pairs.",
        "created_at": "2022-08-24T20:29:12.785000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "for context here's the combined surrounding logs from geth and teku: https://gist.github.com/ryanschneider/90cedafc4e5040f105661c6d6665aa42",
        "created_at": "2022-08-24T20:34:03.811000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Hmm... just ran a dump of CL:EL block numbers for a range around that slot:\n```\n3692500:7426309\n3692501:7426310\n3692502:7426311\n3692503:7426312\n3692504:\u003cmissed\u003e\n3692505:7426313\n3692506:7426314\n3692507:\u003cmissed\u003e\n3692508:7426315\n3692509:\u003cmissed\u003e\n3692510:7426316\n3692511:7426317\n3692512:7426318\n3692513:\u003cmissed\u003e\n3692514:7426319\n3692515:7426320\n3692516:\u003cmissed\u003e\n3692517:\u003cmissed\u003e\n3692518:7426321\n3692519:7426322\n3692520:7426323\n3692521:7426324\n3692522:\u003cmissed\u003e\n3692523:7426325\n3692524:\u003cmissed\u003e\n3692525:\u003cmissed\u003e\n3692526:7426326\n3692527:7426327\n3692528:\u003cmissed\u003e\n3692529:7426328\n3692530:7426329\n3692531:7426330\n3692532:7426331\n3692533:7426332\n3692534:7426333\n3692535:7426334\n3692536:7426335\n3692537:7426336\n3692538:7426337\n3692539:\u003cmissed\u003e\n3692540:\u003cmissed\u003e\n3692541:7426338\n3692542:7426339\n3692543:\u003cmissed\u003e\n3692544:7426340\n3692545:7426341\n3692546:7426342\n3692547:\u003cmissed\u003e\n3692548:7426343\n3692549:7426344\n3692550:7426345\n3692551:\u003cmissed\u003e\n3692552:7426346\n3692553:7426347\n3692554:7426348\n3692555:7426349\n3692556:7426350\n3692557:7426351\n3692558:7426352\n3692559:7426353\n3692560:7426354\n3692561:7426355\n3692562:7426356\n3692563:\u003cmissed\u003e\n3692564:7426357\n3692565:7426358\n3692566:7426359\n3692567:7426360\n3692568:\u003cmissed\u003e\n3692569:7426361\n3692570:7426362\n3692571:7426363\n3692572:\u003cmissed\u003e\n3692573:7426364\n3692574:\u003cmissed\u003e\n3692575:\u003cmissed\u003e\n3692576:\u003cmissed\u003e\n3692577:\u003cmissed\u003e\n3692578:\u003cmissed\u003e\n3692579:7426365\n3692580:7426366\n3692581:7426367\n3692582:7426368\n3692583:\u003cmissed\u003e\n3692584:\u003cmissed\u003e\n3692585:7426369\n3692586:\u003cmissed\u003e\n3692587:7426370\n3692588:7426371\n3692589:7426372\n3692590:7426373\n3692591:7426374\n3692592:7426375\n3692593:\u003cmissed\u003e\n3692594:7426376\n3692595:\u003cmissed\u003e\n3692596:\u003cmissed\u003e\n3692597:7426377\n3692598:7426378\n3692599:\u003cmissed\u003e\n3692600:\u003cmissed\u003e\n```\n\nNot seeing anything there that suggests a reorg, which is interesting.",
        "created_at": "2022-08-24T20:35:35.991000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "ok, perhaps my confusion is around the correlation between CL slots and EL blocks, as I noticed the teku log says:\n\n```\nAug 18 10:35:03 ip-10-0-65-20 teku[12613]: 2022-08-18 10:35:03.899 INFO  - Reorg Event *** New Head: ee76ff44b824fc88cb48053f3fd76c10245d3d7cc49f90266a1bc9c01adf2bf8 (3692574), Previous Head: f9773ae953ecbafe05f60235fbf392721b0d1c\na0b4325f93a84ea9814a281c19 (3692573), Common Ancestor: 264c04153b0631a39481b6eebd5dd6b2f48eee7d4e031b0970f1ae9fe8661ca4 (3692542)\n```\n\nAm I reading this correctly that teku is saying this is a single \"slot\" reorg from slot `3692574` to `3692573`?  But then why is the common ancestor `3692542` 32 slots ago?",
        "created_at": "2022-08-24T20:37:15.658000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Also sorry if this is veering of into merge territory, my original question was around CL-level reorgs ðŸ™‚ Happy to move this discussion elsewhere if necessary.",
        "created_at": "2022-08-24T20:38:42.032000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "3692574 seems to have been orphaned, not sure if that confused matters.  Not sure I have the block around to see what its parent was.",
        "created_at": "2022-08-24T20:41:33.260000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "if it's possible for me to dump it from a running geth or teku instance I can do so.",
        "created_at": "2022-08-24T20:43:21.499000+00:00",
        "attachments": null
    },
    {
        "author": "matilareo",
        "category": "general",
        "parent": "",
        "content": "Hey guys! is it posible to run a consensus node (Which one?)  along with the geth light sync mode execution node ? Previously i was using just the geth node and works fine, but now due to The Merge , the node stopped working on Goerli, i need to achive the same functionality that i had. Light sync node ðŸ™‚",
        "created_at": "2022-08-24T20:43:51.500000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "\u003c@690723768456314880\u003e this discord is more for ethereum R\u0026D than dealing w/ specific client issues/questions, I would ask geth support questions in https://discord.com/channels/482467812179181568/482467812816977921 instead",
        "created_at": "2022-08-24T20:45:50.847000+00:00",
        "attachments": null
    },
    {
        "author": "matilareo",
        "category": "general",
        "parent": "",
        "content": "thanks ryan",
        "created_at": "2022-08-24T20:46:22.576000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvdWijden\u003e No, you need a full node atm. We will update the light mode soon, s.th. you can follow the chain with a beacon noce and a light node (you will still need a full node for running a validator/peoposing blocks)",
        "created_at": "2022-08-24T20:46:28.998000+00:00",
        "attachments": null
    },
    {
        "author": "matilareo",
        "category": "general",
        "parent": "",
        "content": "cant access to this link :(\\",
        "created_at": "2022-08-24T20:46:44.898000+00:00",
        "attachments": null
    },
    {
        "author": "matilareo",
        "category": "general",
        "parent": "",
        "content": "which channel is it ?",
        "created_at": "2022-08-24T20:46:58.095000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "it's a different discord server focused on geth, try this invite link: https://discord.gg/hsEVbN44",
        "created_at": "2022-08-24T20:47:50.640000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "but as Marius mentioned you'll need to switch to a full node now that goerli has merged, or wait until light mode is re-enabled.",
        "created_at": "2022-08-24T20:48:35.274000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Anyways \u003c@144468805697929216\u003e if there's something I can run on my instances to get the data you need, let me know and I'll do so.",
        "created_at": "2022-08-24T20:49:21.131000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "It's unlikely you have the blocks as the nodes generally throw them out when decided to be non-canonical, but you can try GETting `/eth/v2/beacon/blocks/3692574` from the REST API port of the beacon nodes and see if they return anything.",
        "created_at": "2022-08-24T20:51:00.019000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Yup 404'd:\n\n```\ncurl http://0:5051/eth/v2/beacon/blocks/3692574\n{\"code\":404,\"message\":\"Not found\"}\n```",
        "created_at": "2022-08-24T20:53:17.934000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "So I don't have the data, but my best bet is that the validator that generated block 3692574 was lagging behind the network and as such when it came to propose a block its head was 3692549 and hence a reorg was seen.  Ultimately, though, that block was orphaned when the votes went against it.",
        "created_at": "2022-08-24T20:55:47.230000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Thanks!  So back to SSF, if single slot finality was in place would we have been \"stuck\" with this block being canonical, or would the super committee have rejected it sooner somehow?",
        "created_at": "2022-08-24T21:00:54.899000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "From my understanding of SSF it would have been orphaned/rejected within the same slot in which it was proposed, but I'm sure others here have more info on it than I.",
        "created_at": "2022-08-24T21:03:44.809000+00:00",
        "attachments": null
    },
    {
        "author": "cheerful_piglet_95568",
        "category": "general",
        "parent": "",
        "content": "just a generic question. What happens to the execution layer client(geth) if the consensus layer client (lighthouse) becomes unhealthy and stop syncing? we have both of these running in two separate containers on the same host",
        "created_at": "2022-08-24T21:47:01.256000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "edit: sorry i mixed up the order in your question ðŸ™‚ \n\nwas: my understanding is that the CL will also stop being able to import new blocks, since the engine API back-and-forth requires both to be in a healthy state to progress.\n\nnow: if the CL becomes unhealthy it'll stop sending new blocks to the EL via the engine API, so the EL will appear \"stalled\" until the CL resumes feeding new blocks to it.",
        "created_at": "2022-08-24T21:55:32.347000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I think this statement as is there is just a theoretical one. It's obvious by just counting the number of reorgs in mainnet that PoS does not satisfy the conditions of that first sentence. If we come to count the forks we saw on Goerli it's clear that reorgs are incredibly worse in the Ethereum pos version of consensus than in pow. There are a lot of benefits, and probably the possibility of reorgs will come to be also in this list, but it's disingenuous to think that we will see less reorgs after the merge",
        "created_at": "2022-08-24T22:12:29.273000+00:00",
        "attachments": null
    },
    {
        "author": "cheerful_piglet_95568",
        "category": "general",
        "parent": "",
        "content": "Thanks. if we have to setup monitor, can we monitor one or the other or do both need to be monitored?",
        "created_at": "2022-08-24T22:12:50.766000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Yes there have been reorgs in Goerli longer than 25 blocks, albeit temporary",
        "created_at": "2022-08-24T22:14:29.252000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "There's no need to sell what's not there: PoS has a bunch of benefits like the capacity of punishing after the fact. Perhaps we'll get to a situation where forking a couple of blocks happens less often than in pow, but I don't think we're close to that now",
        "created_at": "2022-08-24T22:16:33.290000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Yup true, though it sounds like SSF could in theory deliver on actual reorg reduction once implemented.",
        "created_at": "2022-08-24T22:32:54.517000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "general",
        "parent": "",
        "content": "Depends.  More likely than not if one gets unhealthy the other will too, so it depends on the goals of your monitoring.  although AFAICT the EL can't really tell the difference between an unhealthy CL and a more general consensus issue where all the recent slots are empty.",
        "created_at": "2022-08-24T22:33:16.849000+00:00",
        "attachments": null
    },
    {
        "author": "chris2_2_2",
        "category": "general",
        "parent": "",
        "content": "Any idea why thereâ€™s reorgs on pos? I thought with the way blocks are decided there generally wouldnâ€™t be any as everyone agrees on which block is valid and thereâ€™s enough delay between them. (Trying to learn here)",
        "created_at": "2022-08-24T23:06:32.554000+00:00",
        "attachments": null
    }
]