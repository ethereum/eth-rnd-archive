[
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "I have a question, state have assigned a slot which I assumed is the slot at which that state is currently at, but what about the block root for the state, where is it found?",
        "created_at": "2022-12-06T00:02:11.184000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "There are many roots, the checkpoints roots for example",
        "created_at": "2022-12-06T00:02:30.413000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "And I noticed that if I compute the root of LatestValidHeader of a state given by checkpoint sync it leads me nowhere?",
        "created_at": "2022-12-06T00:03:13.221000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Like to non existant block root?",
        "created_at": "2022-12-06T00:03:26.776000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "The state root is included in the block so the state can't contain the block root itself, however you can calculate it by taking the latest_valid_header from the state, setting the state_root field to the hash_tree_root of the state then getting the hash_tree_root of that header.",
        "created_at": "2022-12-06T00:04:14.688000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "oh",
        "created_at": "2022-12-06T00:04:32.023000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Thats why it was giving me bogus root",
        "created_at": "2022-12-06T00:04:42.153000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ConsenSys/teku/blob/ce6e13e32f2c5029aa05895f400c00a9c72a3f38/ethereum/spec/src/main/java/tech/pegasys/teku/spec/datastructures/blocks/BeaconBlockHeader.java#L81 is Teku's code to get the actual block header from a state.",
        "created_at": "2022-12-06T00:04:55.361000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Thank you, you are right that would have been paradoxical",
        "created_at": "2022-12-06T00:04:56.583000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm still curious about this if someone who knows things can answer.",
        "created_at": "2022-12-06T01:43:42.605000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Continuing on that. What seems currently missed by the spec is the fact that during a period of non-finality longer than `MIN_EPOCHS_FOR_BLOBS_SIDECARS_REQUESTS` fresh nodes won't be able to check data availability near to the checkpoint they are bootstrapped with. cc \u003c@203220829473996800\u003e",
        "created_at": "2022-12-06T04:36:29.915000+00:00",
        "attachments": null
    },
    {
        "author": "wowsuchname.eth",
        "category": "general",
        "parent": "",
        "content": "What would happen with the Ethereum network in case of a solar superstorm that would disrupt all intercontinental internet cables and take down all satellite communications?",
        "created_at": "2022-12-06T09:04:20.515000+00:00",
        "attachments": null
    },
    {
        "author": "wowsuchname.eth",
        "category": "general",
        "parent": "",
        "content": "Here is a thorough paper estimating the changes of this happening at up to 12% in the next decade: https://www.ics.uci.edu/~sabdujyo/papers/sigcomm21-cme.pdf",
        "created_at": "2022-12-06T09:04:34.681000+00:00",
        "attachments": null
    },
    {
        "author": "wowsuchname.eth",
        "category": "general",
        "parent": "",
        "content": "I imagine it would fork into a few parts, each behaving as if all the other validators are offline.",
        "created_at": "2022-12-06T09:05:03.852000+00:00",
        "attachments": null
    },
    {
        "author": "wowsuchname.eth",
        "category": "general",
        "parent": "",
        "content": "Any change of a reconciliation after such an event?",
        "created_at": "2022-12-06T09:05:06.967000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "Yes, especially if the sides of the partition can come back together before enough time has passed to achieve finality. On a split network it takes several weeks to leak out the balances of the partitioned validators to the point where the remainder can achieve finality.\n\nEven if finality were achieved, people could switch chains based on social consensus and one side may prevail as the “true Eth”",
        "created_at": "2022-12-06T10:00:55.220000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "(in case of no-finality the partition heals automatically)",
        "created_at": "2022-12-06T10:01:27.322000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "From theory to reality though there's a gap, I think every experiment Yorick did with very long splits ended up with Prysm and Teku on a different fork",
        "created_at": "2022-12-06T10:46:21.802000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "hey folks, just wonder what it the current proposal for daily withdrawal limits post Shanghai and if the request to withdraw exceeds that limit, what's the rule to decide who gets the chance on that day? Thanks!",
        "created_at": "2022-12-06T11:53:55.150000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/specs/capella/beacon-chain.md\nBasically just a loop over the validators, starting at 0. No queue (there is an exit queue of course, but that remains unchanged)",
        "created_at": "2022-12-06T11:58:58.292000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "thanks, is there a max withdrawal limit per withdrawal for each validator or e.g. if I have one validator and want to withdrawal 64 eth, does that take 2 weeks?",
        "created_at": "2022-12-06T12:07:42.886000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "No. Take a look at `get_expected_withdrawals` and `process_withdrawals`.",
        "created_at": "2022-12-06T12:09:22.704000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "Thanks, a few questions, seems is_fully_withdrawable_validator only checks if balance \u003e 0? does that mean this is always true if validator gets the credential?",
        "created_at": "2022-12-06T12:15:03.216000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "And does it check these conditions for every epoch?",
        "created_at": "2022-12-06T12:15:31.192000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "there's three requirements as you can see, one of which is `\u003e 0.` They all have to be satisfied.",
        "created_at": "2022-12-06T12:16:12.527000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "yeah, I am just thinking if is_fully_withdrawable_validator always happen before is_partially_withdrawable_validator",
        "created_at": "2022-12-06T12:17:11.694000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "the condition is validator.withdrawable_epoch \u003c= epoch, I guess",
        "created_at": "2022-12-06T12:17:39.316000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "That's what the code says yes.",
        "created_at": "2022-12-06T12:17:42.717000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "thanks, how withdrawable_epoch is decided?",
        "created_at": "2022-12-06T12:19:00.154000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/beacon-chain.md#initiate_validator_exit",
        "created_at": "2022-12-06T12:19:31.214000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "So like minimum 27 hours after signing/broadcasting an exit message, assuming no exit queue. If the exit queue is filled up, it might be a while longer of course.",
        "created_at": "2022-12-06T12:21:14.032000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "thanks, will FAR_FUTURE_EPOCH be the first epoch post Shanghai fork?",
        "created_at": "2022-12-06T12:22:16.844000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "sorry how the exit queue works? is it constrained by some max withdrawal limit per epoch, etc.",
        "created_at": "2022-12-06T12:23:02.700000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "Yep, similar to entry/deposit queue. A maximum number per epoch, I think like 6 now.",
        "created_at": "2022-12-06T12:24:33.010000+00:00",
        "attachments": null
    },
    {
        "author": "rays5439",
        "category": "general",
        "parent": "",
        "content": "got it, thanks a lot!",
        "created_at": "2022-12-06T12:25:17.538000+00:00",
        "attachments": null
    },
    {
        "author": "wowsuchname.eth",
        "category": "general",
        "parent": "",
        "content": "So the vaildators that are outside US will most likely end up eating the loss if we later decide to merge chains based on social consensus? I would assume we merge with the chain that has the biggest number of validators ..?",
        "created_at": "2022-12-06T18:07:41.784000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "general",
        "parent": "",
        "content": "I'd say there are way too many unknowns and nuances to make any statement how to resolve a split like that a priori.",
        "created_at": "2022-12-06T18:34:05.858000+00:00",
        "attachments": null
    }
]