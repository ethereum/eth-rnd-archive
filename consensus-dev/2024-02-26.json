[
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "Is there any security added to the chain with a permanently inactive validator? Some mainnet validators have never attested since genesis yet the inactivity is so low they've lost less than 1 eth.. wondering if an inactivity sunset - could be generous - or higher inactivities over time might be better than having a % of validators that never participate...\nTo my understanding unless a validator participates they're worth 0 to the security of the chain...\nMy guess is the ones that haven't ever participated are just lost keys and will never come good... in that regard may be academic whether they leak out over 20-30 years or we just nuke them...\nGoing by https://beaconcha.in/validators#offline theres a large number of validators that have been active for more than half a year, and quite an appreciable amount that have never attested (18 on first page of 100 without cross-checking if it's a bug or anything)",
        "created_at": "2024-02-26T00:21:31.101000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I honestly think the solution to this is to have a higher ejection balance. At the current validator size it seems to be completely useless to have 16ETH as the ejection balance",
        "created_at": "2024-02-26T00:40:36.966000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "even if it was 30 the ejection for these would take several more years",
        "created_at": "2024-02-26T01:11:26.743000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "unless \u003c@602753420033785856\u003e crazy penalty came in obviously heh",
        "created_at": "2024-02-26T01:12:18.456000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "general",
        "parent": "",
        "content": "Is it harmful if the inactive validators stay on network? From implementation perspective, whether a validator is inactive or ejected will still take up the same amount of space in beacon state and caches unless something like EIP-6914 is endorsed. In the event of inactivity leak, these validators will bleed a lot (not sure how likely it is to bleed to ejection balance though)",
        "created_at": "2024-02-26T08:01:11.333000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "They reduce rewards for all active validators due to decreased participation.  Apart from that, though, probably no significant impact.",
        "created_at": "2024-02-26T08:07:19.852000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "Mostly just noise... if we're looking at reducing active validators through other mechanisms like consolidation it's something to think about, and for long term health.... realistically it's not a huge list currently, but the ones that have never attested will take decades at the current rate to be removed",
        "created_at": "2024-02-26T09:29:14.139000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Inactive validators also won't produce blocks right?  So network throughput is decreased by them?",
        "created_at": "2024-02-26T09:54:58.383000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Or will their inactivity result in them not being selected to produce blocks?",
        "created_at": "2024-02-26T09:55:15.241000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "I believe they'd get selected and just miss duty",
        "created_at": "2024-02-26T09:55:34.582000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "its a smallish percentage of the network - a couple of thousand keys currently",
        "created_at": "2024-02-26T09:56:00.722000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "just we're applying inactivity etc every epoch and over time its likely to continue to grow",
        "created_at": "2024-02-26T09:56:45.981000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If we \"fix the bug\" of missed slots being incentive misaligned they would reach ejection balance quite quickly.",
        "created_at": "2024-02-26T09:56:46.085000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "many ways to skin that cat üôÇ",
        "created_at": "2024-02-26T09:57:34.630000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "IIRC the average time to proposal for validators is ~2 months?  If they take a ~0.5 ETH penalty every time they fail to produce they'll be in a bit over a year, even at 16 ETH ejection balance.",
        "created_at": "2024-02-26T09:57:46.813000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "It'd be fairly terrible for people that miss due to network or other factors to be wacked with 0.5 eth when they'd normally make 0.001 eth proposing a lot of the time",
        "created_at": "2024-02-26T09:58:58.118000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "My goal isn't to make stakers happy.  It is to correctly align incentives.  üôÇ",
        "created_at": "2024-02-26T09:59:25.457000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "these two things don't need to be at odds",
        "created_at": "2024-02-26T09:59:38.676000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The cost to the network for missing a block is ~`gas_target * base_fee`, which is on the order of 0.5 ETH right now.  As long as validators suffer less penalty than that, they aren't incentive aligned to do what is best for the network.",
        "created_at": "2024-02-26T10:00:06.646000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If a higher penalty means people need to invest more effort into redundancy, network connectivity, etc. then that should happen for the health of the network, but won't as long as incentives aren't properly aligned.",
        "created_at": "2024-02-26T10:00:33.876000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "This will just drive solo stakers away.",
        "created_at": "2024-02-26T10:00:50.120000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "I really don't think that's aligned to the 'good of the network'",
        "created_at": "2024-02-26T10:01:06.709000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The solo staker issue is the strongest argument against, I agree.  I'm conflicted because on the one hand we absolutely need solo stakers, but on the other hand misaligned incentives always lead to bad things over long timeframes.",
        "created_at": "2024-02-26T10:01:18.942000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "we can have additional correlated (with attestation performance) penalities for missing a slot because of last N attest misses,",
        "created_at": "2024-02-26T10:01:48.938000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "having a handful of large players run the whole network because noone else is left is most definitely not good for the network, but i do agree missing numerous duties could steadily increase",
        "created_at": "2024-02-26T10:02:16.768000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Aligning incentives means you need to know what you're trying to achieve.  If that's a highly decentralized network, then high punishments for situations that are more common for the long tail of validators won't help.",
        "created_at": "2024-02-26T10:02:16.809000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The incentives are clearly misaligned here (classic externality problem), but the incentives to solo stake are also misaligned (and we don't know how to fix it, but we do suspect some things will make it worse).",
        "created_at": "2024-02-26T10:02:18.159000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Incentives aren't misaligned, a staker obtains ~12.5% of their rewards from proposing blocks.  They are incented to do so.",
        "created_at": "2024-02-26T10:02:43.433000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "we need to define the problem space imo",
        "created_at": "2024-02-26T10:02:45.331000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "or just weighted inversely to the \"effective balance\"",
        "created_at": "2024-02-26T10:02:48.241000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Per-validator inactivity leak.",
        "created_at": "2024-02-26T10:02:59.446000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "We already see timing games being played because validators aren't punished appropriately for missing, so we know that this is a real issue.",
        "created_at": "2024-02-26T10:03:04.822000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Their reward is significantly less than the cost to the network for missing is the problem.",
        "created_at": "2024-02-26T10:03:32.349000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "On the order of ~20x less at the moment (ballpark/order of magnitude).",
        "created_at": "2024-02-26T10:03:51.272000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "it should be 'ok' for a small number of duty msises, and get steadily less ok",
        "created_at": "2024-02-26T10:05:02.672000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If we had some solution that ensured solo stakers and no pools, I would advocate extremely strongly for aligning the missed block incentives.  However, we are extremely far from such a scenario which is why I just bring it up as a concern but recognize that the cure may be worse than the illness.",
        "created_at": "2024-02-26T10:05:02.904000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "there is no way to know if validator missed intentionally or because of network issues",
        "created_at": "2024-02-26T10:05:09.885000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Doesn't matter for incentive design.  The incentives (if aligned properly) will drive people to internalize the cost they are putting on the network and optimize/adjust/address as needed to ensure they are not missing on accident too much.",
        "created_at": "2024-02-26T10:05:55.480000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "may be we can also factor in their past block proposal performance?",
        "created_at": "2024-02-26T10:06:03.498000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "In a perfect world (where we didn't have to worry about solo/custodial staker split) this would look like building redundancy and such to guarantee extremely high uptime (e.g., 5 nines).",
        "created_at": "2024-02-26T10:06:34.543000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "imo its a great win to have robust blockchain , else solo stakers will be forced out becuase of more speaclized hardware or monitoring needs",
        "created_at": "2024-02-26T10:07:42.054000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "As long as the cost to the network is an externality for the validators, they will continue to ignore it (and play timing games that cause misses, not care about building resiliency, etc.)",
        "created_at": "2024-02-26T10:08:03.423000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Perhaps another approach would be to make it so missing a block isn't so costly for the network?",
        "created_at": "2024-02-26T10:08:17.172000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "positive reinforcement is a better method (more proposal reward)",
        "created_at": "2024-02-26T10:08:28.788000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Naive example: Missed slot means next block can be twice as big, or base fee drops significantly?",
        "created_at": "2024-02-26T10:08:29.798000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "ahh yes this could be very nice imo",
        "created_at": "2024-02-26T10:08:51.425000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "although missed slot should already mean more mev for the next proposer?",
        "created_at": "2024-02-26T10:09:13.540000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Then we remove most of the negative impact on the network (reduced throughput) so a missed slot really is just missed rewards, not reduced throughput.",
        "created_at": "2024-02-26T10:09:27.683000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "since mev seems to linearly increase with time delay proposed",
        "created_at": "2024-02-26T10:09:31.688000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "timing games aren't via validators directly, staked builders sharing some blame imo",
        "created_at": "2024-02-26T10:09:32.832000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Sure.  Aligned incentives will make the responsible parties fix the problem.",
        "created_at": "2024-02-26T10:09:58.844000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "e.g., The bond for builders would increase to cover the missed block, thus transferring the cost of miss to the builder.",
        "created_at": "2024-02-26T10:10:17.195000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "builders aren't staked, they get away with it and the validator wears the blame",
        "created_at": "2024-02-26T10:10:33.114000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Or proposers would stop outsourcing to builders that play timing games and prefer proposers that aggressively produce.",
        "created_at": "2024-02-26T10:10:43.253000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "unlikely",
        "created_at": "2024-02-26T10:10:52.052000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "I'll be interested to read the take on this but i can't see that happening",
        "created_at": "2024-02-26T10:11:11.189000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "IIRC, by design they are bonded but no one has bothered implementing this in the MEV Boost/relays?",
        "created_at": "2024-02-26T10:11:12.887000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "I think the validator would be more incentivized to miss to extract more mev if next proposer is also under same control",
        "created_at": "2024-02-26T10:11:54.057000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Over time, proposers that use builders that play timing games and lose will end up making less money, and proposers that either solo build or use builders that don't play timing games will make more money.  Market economics eventually takes over and drives the market towards the more profitable strategy.",
        "created_at": "2024-02-26T10:12:05.886000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "else i don't see why validator would want to miss a proposal",
        "created_at": "2024-02-26T10:12:11.606000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "id not be against that theory, in preference to the theory that everyone now uses mev so lets reduce curve (not everyone actually uses mev)",
        "created_at": "2024-02-26T10:12:47.325000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Do you have a proposal to get people to stop doing MEV extraction stuff?  I would like it, but I don't see a viable solution.",
        "created_at": "2024-02-26T10:13:16.014000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "lodestar by default only wait till 2 seconds into slot, and then goes with whosoever gives the block first between builder/execution",
        "created_at": "2024-02-26T10:13:16.633000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Why wait 2 seconds?",
        "created_at": "2024-02-26T10:13:40.171000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Just because you need to give *some* time for builders to respond?",
        "created_at": "2024-02-26T10:13:49.905000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "I'm still catching up on the current round of things, so currently no crazily amazing ideas",
        "created_at": "2024-02-26T10:13:54.100000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "builder blocks generally come in at around 1.5 sec as per our emperical data",
        "created_at": "2024-02-26T10:14:05.350000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "unless you're in apac where you get left behind :/",
        "created_at": "2024-02-26T10:14:22.101000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "i think there is some analysis circulating around (in twitter) that builders target 2.2 sec into slot",
        "created_at": "2024-02-26T10:15:08.523000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I was a little hasty to approve of that quickly the other day. I did the math and I think I would exit my validators if that gets approved. I have kept my validators closely watched since Genesis, but nonetheless power loses and the subsequent state healing are inevitable. \"Luckily\" I only missed one block proposal, but that penalty could easily be more than all my earnings. I don't think I'd be taking that risk",
        "created_at": "2024-02-26T10:45:02.751000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I think you actually spoke up against it, or at least the version that I think is meaningful/useful for incentive alignment.  üòÖ  That being said, the argument that solo stakers don't have the capability of internalizing the externality is valid, which suggests to me that perhaps the better solution is to reduce/remove the externality.",
        "created_at": "2024-02-26T10:49:37.142000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Does anyone (maybe \u003c@486501030046203915\u003e) know how much total chain throughput *actually* decreases when a single block is missed if we had missed slots reduce the base fee by the same amount (1/8) as if a block was just empty?  Perhaps the simple solution here is one that \u003c@415548822983278593\u003e (I think) proposed a long time back which is to make missed slots count as empty blocks with regards to base fee adjustment.  If the following block is 2x target full, then there is not actually any throughput loss I think.",
        "created_at": "2024-02-26T10:51:50.042000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Lodestar doesn't request payloads from builders on the slot boundary?  That's... surprising.",
        "created_at": "2024-02-26T11:12:08.914000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "we request on slot boundary but wait till 2 secs for builders to respond unless both execution/builder respond earlier",
        "created_at": "2024-02-26T11:12:50.523000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "the mev-boost (atleast) or the relay infra (in turn with mev boost), i don't know who, but they keep connection waiting",
        "created_at": "2024-02-26T11:13:48.411000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "We all have deadlines afaik",
        "created_at": "2024-02-26T11:13:50.530000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Ah great, sorry misread what you wrote.",
        "created_at": "2024-02-26T11:14:45.281000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Personally I think that proposer boost needs to be much more of a cliff; if a block comes in after the 4s mark then unless there is overwhelming support for it, it should be ignored for the purposes of attesting.\n\nTreating a missed slot as an empty block for the purposes of calculating base fee would be interesting, it could be calculated with the current EL data with the difference in timestamps between current head and the proposed block.  Although then the point of its purpose as congestion control does come into question a little; a missed slot during a time of congestion doesn't necessarily make sense to be considered as \"no-one wants to use the chain at the given base fee, so decrease it\".",
        "created_at": "2024-02-26T11:18:44.406000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "\u003e unless there is overwhelming support for it\n\nhow would this be measured, block just came in",
        "created_at": "2024-02-26T11:19:45.378000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "(Increasing the gas limit of the block proportionally would be _very_ interesting.)",
        "created_at": "2024-02-26T11:19:57.547000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "^^ yes i also find it very promising",
        "created_at": "2024-02-26T11:20:12.445000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Dunno, I'm not a fork choice person.  But the current proposer boost has a % boost value for early blocks, I believe, so it would be a case of significantly increasing that value.",
        "created_at": "2024-02-26T11:20:49.429000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "right, i mean what params one would use to measure support for a new block",
        "created_at": "2024-02-26T11:21:26.882000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "may be by the rewards its packing",
        "created_at": "2024-02-26T11:21:39.148000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "IIRC, \u003c@415548822983278593\u003e's proposal was something like \"base fee as a function of `time, gas_used`\", rather than a function of `blocks, gas_used`.",
        "created_at": "2024-02-26T11:22:43.187000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "The idea being that we aren't targeting a certain amount of gas per block as much as we are targeting a certain amount of gas per second.  If we are below the target gas per second, then we want to over-fill blocks for a while until we hit our target.",
        "created_at": "2024-02-26T11:23:37.374000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "so may be track unusedGasPerSecond or so üòÜ",
        "created_at": "2024-02-26T11:24:36.116000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "we will also need a CL side check where payload's timestamp should be \u003c= slot time",
        "created_at": "2024-02-26T11:26:03.333000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If we are just targeting gas per second, does it matter what the slot time is or even if a slot is missed or not?",
        "created_at": "2024-02-26T11:27:09.019000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "hmmm EL needs to know if it can trust the block's timestamp to calc gas per second",
        "created_at": "2024-02-26T11:27:59.671000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If our goal is 4.5B gas per hour, and the protocol sees that we have only spent 4.485B gas in the last hour, it will lower base fee to try to compensate.",
        "created_at": "2024-02-26T11:28:18.348000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Aren't timestamps supplied by CL and part of consensus?",
        "created_at": "2024-02-26T11:28:31.585000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "proposal generates timestamp corresponding with slot start, ~~but i don't think there is a consensus validation~~ there is a state transition validation for exact match for the slot time",
        "created_at": "2024-02-26T11:29:12.111000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "So proposer/builder can put whatever timestamp they want into the block header?  Is it at least bounded to sane values?",
        "created_at": "2024-02-26T11:29:36.758000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "EL has to validate the payload, CL has a fixed window where the block would work",
        "created_at": "2024-02-26T11:30:15.767000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "timestamp is used for EL hardfork, so there is some validation",
        "created_at": "2024-02-26T11:31:45.389000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "lighthouse and prysm both basically will reorg out late blocks if they're not high quality and a few other factors, which does make timing game interesting",
        "created_at": "2024-02-26T11:31:55.655000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "yes there is a header validation for parent timestamp \u003c= current, but nothing more than that",
        "created_at": "2024-02-26T11:33:47.818000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "this is a remnant of PoW in which block COULD be minted any time depending on the miner luck",
        "created_at": "2024-02-26T11:34:30.291000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "in clique consensus there is a validation that there needs to be a min gap but thats for pre-merge testnet",
        "created_at": "2024-02-26T11:35:12.677000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "What do you mean it should be ignored for the purposes of attesting, we already do this",
        "created_at": "2024-02-26T11:38:11.175000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "PB is a dangerous double edge sword: you decrease it and you have ex-anti reorgs, you increase it and you have post-anti reorgs",
        "created_at": "2024-02-26T11:39:45.878000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "The best thing we can do with proposer boost is to get rid of it",
        "created_at": "2024-02-26T11:40:12.765000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "The consensus layer strictly validates that the block timestamp is the start of the slot.  There's no wiggle room at all.  The EL does only validate that the timestamp is greater than the parent but it's not the final arbiter of validity.",
        "created_at": "2024-02-26T20:45:08.038000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "general",
        "parent": "",
        "content": "yes that I was talking about EL validation, but yes I see that state transition's process execution payload does the exact match! thanks for the correction üôè",
        "created_at": "2024-02-26T20:50:40.886000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "general",
        "parent": "",
        "content": "This was a note on it! You can make up for missed slots indeed, as long as you keep the target per unit of time right: https://notes.ethereum.org/@barnabe/HkUg2pLUK",
        "created_at": "2024-02-26T23:25:19.178000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "general",
        "parent": "",
        "content": "One thing though is it doesn‚Äôt really make sense to make a missed slot into an empty block and reduce base fee, since the block missing probably means congestion is piling up and so the base fee should go up if anything. I discuss it in the note too",
        "created_at": "2024-02-26T23:28:12.468000+00:00",
        "attachments": null
    }
]