[
    {
        "author": "tes1207",
        "category": "general",
        "parent": "",
        "content": "I read this paper by VB and Griffith, https://github.com/ethereum/research/blob/master/papers/casper-basics/casper_basics.pdf, it talks about making a checkpoint every 100 blocks, which requires a 2/3 supermajority. How would the network handles network latency? For example, validator A sends out his block at the end of his slot, 50% of other validators receive the block on time, but other 50% don't and think validator A is offline, so there would be two branches of chain where A is on time/or timed out.",
        "created_at": "2021-05-16T21:16:15.196000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "That could happen once in a while",
        "created_at": "2021-05-16T21:16:38.464000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "But there are proofs that such a thing cannot cause the chain to get stuck or break finality",
        "created_at": "2021-05-16T21:16:49.534000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "And once the network goes \"back to normal\", the chain will continue finalizing",
        "created_at": "2021-05-16T21:16:59.283000+00:00",
        "attachments": null
    },
    {
        "author": "tes1207",
        "category": "general",
        "parent": "",
        "content": "Wow, hello! I thought about the process (imagined, haven't found out the real implementation), but I am not sure how such a transmission delay wouldn't cause a problem?\n\nSay validators A, B, C, D… are to produce blocks 97, 98, 99, 100… \nA sends out block 97 really late, 50% of other validators receive it on time, another 50% don't and think A is offline.\nB doesn't receive it on time and thinks A is offline, B makes the block 98 without A's block 1 information.\nC receives A's block 98 on time, it thinks B makes an invalid block, so it builds block 99 on block 97.\nD agrees with B, D builds block 100 on block 98 but not block 99… and so on. \n\nLater, how would the 50-50 split validators resolve the difference and make the checkpoint?",
        "created_at": "2021-05-16T22:14:28.347000+00:00",
        "attachments": null
    },
    {
        "author": "tes1207",
        "category": "general",
        "parent": "",
        "content": "reading this paper, it's probably covered https://arxiv.org/pdf/2003.03052.pdf",
        "created_at": "2021-05-16T22:14:57.775000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "Attestations can be included in any of the following 32 blocks",
        "created_at": "2021-05-16T22:15:28.161000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "So all those blocks would still probably come to consensus on some recent ancestor of A, and the chain will detect that",
        "created_at": "2021-05-16T22:16:05.757000+00:00",
        "attachments": null
    },
    {
        "author": "tes1207",
        "category": "general",
        "parent": "",
        "content": "But if they are split 50-50 at first (because only 50% receive A's block on time), and build two separate branches as a result, it's possible they will still be divided after 32 blocks?",
        "created_at": "2021-05-16T22:18:24.304000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "possible, but in each block there is a possibility that they stop being split 50-50",
        "created_at": "2021-05-16T22:32:40.505000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "And even after those 32 blocks, *eventually* they'll stop being split 50-50",
        "created_at": "2021-05-16T22:32:50.015000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "general",
        "parent": "",
        "content": "once it tilts to one side by random chance, the fork choice quickly flips in that direction and settles there",
        "created_at": "2021-05-16T22:33:08.374000+00:00",
        "attachments": null
    },
    {
        "author": "tes1207",
        "category": "general",
        "parent": "",
        "content": "Thus even tho validators are 50-50 at first, just by chance, 'A', 'C' would build on branch 1, but 'B', 'D', 'E', 'F' would build on branch 2. although 'G' receives 'A's block on time and would build on branch 1, seeing that 'B', 'D', 'E', 'F' are building on branch 2, 'G' would choose to build on branch 2 instead. And all the later validators would also build on branch 2. Thanks!",
        "created_at": "2021-05-16T22:55:02.050000+00:00",
        "attachments": null
    },
    {
        "author": "tes1207",
        "category": "general",
        "parent": "",
        "content": "just curious, if validators need to attest to all the blocks, wouldn't the data grow too big very fast? are the attestation data deleted after certain period?",
        "created_at": "2021-05-16T23:09:34.315000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "attestation data does not go into the state",
        "created_at": "2021-05-16T23:12:45.547000+00:00",
        "attachments": null
    }
]