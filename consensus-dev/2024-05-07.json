[
    {
        "author": "0xunclebill",
        "category": "general",
        "parent": "",
        "content": "for eip7549, the spec defines a function `compute_on_chain_aggregate`. does this function assume that  for each attestation, only a single committee bit is set?\n\ntake for example a situation where there are two attestations provided to the function and both have multiple committee bits set\n\nattestation A has committee bits 1 and 5 set\nattestation B has committee bits 2 and 6 set\n\nsorting by the first set committee bit for each attestation, we get a list of attestations [A,B]\n\ncombining the aggregation bits for both attestations we'd have a situation where the agg bits of attestation A are appended first and then the agg bits for attestion B are appended last\n\nwe'd have an aggregation_bits list that looks like\n[agg bits from committee 1, agg bits from committee 5, agg bits from committee 2, agg bits from committee 6]\n\nwouldn't we actually want an agg bits list that looks like\n[1,2,5,6] ?",
        "created_at": "2024-05-07T15:11:27.210000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "\u003e does this function assume that  for each attestation, only a single committee bit is set?\n\nYes, it does. It assumes that the input aggregates are \"network aggregates\" which can absorb only 1 committee",
        "created_at": "2024-05-07T17:16:16.706000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "general",
        "parent": "",
        "content": "got it, thanks for clearing that up. this part of the spec almost seems to imply that you could have multiple committee bits \n\n\u003e Attestation aggregates received by the block proposer from the committee aggregators with disjoint committee_bits sets",
        "created_at": "2024-05-07T20:40:56.726000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "general",
        "parent": "",
        "content": "it feels like maybe an assert is missing in `compute_on_chain_aggregate`",
        "created_at": "2024-05-07T20:41:30.671000+00:00",
        "attachments": null
    }
]