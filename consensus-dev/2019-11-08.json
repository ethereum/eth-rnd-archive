[
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cmaxwellfoley3\u003e hey guys, this might be a noob question but ive been following the eth2 research and i want to make sure my understanding is correct. with this latest update where the shard count has been reduced to 64 and each beacon chain block contains the latest block of every shard, does this remove the need for developers to worry about asynchronous connections between shards (eg \"yanking\" and all that?) Or do these asynchronous interactions still need to be taken into account, its just that the overall experience will be much faster now?",
        "created_at": "2019-11-08T02:01:54.148000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**will_vill**\nCross shard communication will still need to be asynchronous, but now it can typically happen within one block vs. waiting for finality.",
        "created_at": "2019-11-08T02:03:08.282000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cmaxwellfoley3\u003e what if you call a function thats like: do something in shard A =\u003e do something in shard B =\u003e return a value back to shard A? Would that take multiple blocks?",
        "created_at": "2019-11-08T02:05:16.240000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cmaxwellfoley3\u003e intuitively it feels like a shard A validator wouldnt be able to do something in shard A, wait for a bit, then run more code in shard A within the same block",
        "created_at": "2019-11-08T02:07:35.663000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**will_vill**\nYes it would - and for the most part, HLLs like solidity should be able to abstract a lot of this into basic async programming models/calls",
        "created_at": "2019-11-08T02:10:04.418000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cmaxwellfoley3\u003e ok cool thanks. makes sense",
        "created_at": "2019-11-08T02:13:00.844000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ajsutton**\nIn the 0.9 spec, the deposit contract has a new depost data root param for the deposit function. The vyper code looks to be doing the same kind of merkelization as hash_tree_root or signing_root do, but neither of those actually match what the contract expects. Should it be the same as one of those or is the docs on what it should be somewhere?",
        "created_at": "2019-11-08T04:28:52.754000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ajsutton**\nAddendum: the deposit data root the contract accepts appears to be the same merkelisation as hash_tree_root but with the values for pubkey, withdrawal_credentials and signature reversed. So I suspect it should be the same as hash_tree_root and our implementation of that is using the wrong endianess.  Would be very helpful if someone could confirm that though.",
        "created_at": "2019-11-08T04:53:03.272000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "depositors provide the expected leaf value as a checksum of sorts",
        "created_at": "2019-11-08T05:19:54.510000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/eth2.0-specs/issues/1357",
        "created_at": "2019-11-08T05:20:01.002000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "this value is the hash tree root of a `DepositData` instance",
        "created_at": "2019-11-08T05:21:45.983000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ajsutton**\nAwesome thanks. So we have a big somewhere but since weâ€™re passing the ssz ref tests which seem to check the hash tree root, itâ€™s not there. I guess Iâ€™ll go play with some other clients and see what they think of my deposits...",
        "created_at": "2019-11-08T05:27:50.310000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "the fields appear to be in the correct order to me and i'm not sure how endianness plays a role",
        "created_at": "2019-11-08T05:27:59.059000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ralexstokes**\n@ajsutton worth spot checking one of the failures to make sure the hash tree root is what is differing, iâ€™d wager",
        "created_at": "2019-11-08T05:31:27.687000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ralexstokes**\nim not sure if there are any tests yet covering this checksum bit wrt the deposit contract â€” someone else in this channel may know...",
        "created_at": "2019-11-08T05:32:28.887000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ajsutton**\nThe deposit contract definitely doesnâ€™t have tests but the ssz ones do cover it. The deposit contract only works on the data you give it, so my guess is that weâ€™re giving it reversed input and our listener is then reversing it again. If I also reverse the data when creating the root it gets the same answer. \n\nSo I think if all the reversing is just removed it will be right but will have to confirm that somehow.",
        "created_at": "2019-11-08T05:34:28.350000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ajsutton**\nI come to eth2 after all the endianness changing so donâ€™t really know where the reversing came from.",
        "created_at": "2019-11-08T05:34:57.286000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ralexstokes**\ngood luck ðŸ™‚",
        "created_at": "2019-11-08T05:35:17.033000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**ajsutton**\nAppreciate the help.",
        "created_at": "2019-11-08T05:35:47.898000+00:00",
        "attachments": null
    }
]