[
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "quick question regarding BLS signature aggregation - does the order of aggregation matter for the final result or would I end up with the same aggregate signature - no matter the order of aggregation?",
        "created_at": "2020-12-09T19:45:18.182000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "order does not matter bc the underlying operation (elliptic curve point addition) is commutative",
        "created_at": "2020-12-09T19:46:23.310000+00:00",
        "attachments": null
    },
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "ok, another quick question: what's the speed difference for BLS signatures and the Keccak hash algorithm - roughly?",
        "created_at": "2020-12-09T19:46:52.925000+00:00",
        "attachments": null
    },
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "like... is a BLS signature orders of magnitude slower for the same payload or maybe in the same ballpark?",
        "created_at": "2020-12-09T19:47:32.675000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "they are kind of hard to compare like that",
        "created_at": "2020-12-09T19:48:02.149000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "generally you will be doing expensive elliptic curve operations w/ BLS mathematics",
        "created_at": "2020-12-09T19:48:19.971000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "so slower than say a hardware-optimized keccak hash",
        "created_at": "2020-12-09T19:48:34.160000+00:00",
        "attachments": null
    },
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "how about a non-hardware-optimized keccak-256 hash? On the same CPU as where the BLS signing is taking place. I guess I should just do the experiment because nobody would have those numbers on the top of their heads",
        "created_at": "2020-12-09T19:49:45.009000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "what is the use case / what are you trying to do?",
        "created_at": "2020-12-09T19:50:07.411000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "generally, there has been more time to build optimized keccak routines, whereas we have not had the same amount of time to produce optimized BLS over BLS12-381 software -- although i'd recommend benchmarking against the blst lib",
        "created_at": "2020-12-09T19:51:16.142000+00:00",
        "attachments": null
    },
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "imagine if we moved from keccak-256 hashing the nodes in the state trie to using BLS signature aggregation for the hexary trie on each level... wouldn't we be able to literaly make witness proofs for stateless clients 5 times smaller? (not 15 but only 3 because of the 32 vs 96 byte difference)",
        "created_at": "2020-12-09T19:51:32.455000+00:00",
        "attachments": null
    },
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "this is related to ethereum 1.0, stateless clients \u0026 witness generation",
        "created_at": "2020-12-09T19:51:56.046000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "for reference, there are other channels on this server dedicated to exactly that stuff ðŸ™‚",
        "created_at": "2020-12-09T19:52:14.698000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "there has been some thinking to use Kate committments actually",
        "created_at": "2020-12-09T19:52:28.515000+00:00",
        "attachments": null
    },
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "true, I just asked here first because BLS aggregation is used in eth2, and this could remove the need for switching from a hexary trie to a binary trie",
        "created_at": "2020-12-09T19:52:31.001000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "https://ethresear.ch/t/should-eth-1-x-commit-to-contract-code-using-kate-commitments/8143",
        "created_at": "2020-12-09T19:52:45.122000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "https://ethresear.ch/t/using-polynomial-commitments-to-replace-state-roots/7095",
        "created_at": "2020-12-09T19:52:48.678000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "so you wouldn't really use a signature aggregation algorithm to save on the proof overhead",
        "created_at": "2020-12-09T19:53:23.585000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "your intuition here is to find something that \"aggregates\" better than a Merkle accumulator",
        "created_at": "2020-12-09T19:53:59.996000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "and i haven't seen anything that will beat a Kate committment which comes in at 48 bytes (if we are working in BLS12-381)",
        "created_at": "2020-12-09T19:54:21.245000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "assuming we can do the trusted setup correctly (e.g. powers of tau seems to have gone well) then we can use kate committments for this -- the emerging consensus seems to be using them for shard data in eth2, actually",
        "created_at": "2020-12-09T19:55:17.511000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "and if they can help w/ small witnesses for stateless ethereum use cases, all the better!",
        "created_at": "2020-12-09T19:55:46.233000+00:00",
        "attachments": null
    },
    {
        "author": "onqtam",
        "category": "general",
        "parent": "",
        "content": "fair enough. Well... kate commitments are totally out of my depth. Just wanted to get my random idea out there",
        "created_at": "2020-12-09T19:56:09.834000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "it was the right direction ðŸ™‚",
        "created_at": "2020-12-09T19:57:24.646000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i was actually just reading this so i'll share here: https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html",
        "created_at": "2020-12-09T19:57:38.187000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "if you get the gist of the BLS math, Kate commitments are basically just building polynomials using \"special public keys\" as the basis and then doing math on top of those to prove certain facts so it may be more \"in depth\" that you think",
        "created_at": "2020-12-09T19:59:31.465000+00:00",
        "attachments": null
    }
]