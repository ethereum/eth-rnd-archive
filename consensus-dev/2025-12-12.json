[
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "started looking at graffiti watermarks from recent slots, found watermarking on 25% of 420k slots.\n\nClient    % watermarked\nTK    39.92\nLS    2.79\nLH    57.29\n    \nBU    17.51\nNM    28.57\nRH    2.41\nGE    51.35\nEG    0.16\n\ni haven't de-duped proposers or anything, just raw data from sample size, and can't really read a lot into it when such a small % is watermarked i think. would need to change the adoption for it to be meaningful (and i know i've said a lot about that so i wont go into that again)\nI could scrape more blocks and improve the output but its not really going to give me the data i'd like, just figured i'd share it.",
        "created_at": "2025-12-12T00:34:49.737000+00:00",
        "attachments": null
    },
    {
        "author": "abcoathup",
        "category": "general",
        "parent": "",
        "content": "I'm keen we have better numbers on client diversity.  25% is a good base to work on and gives some indication on where we are at.  \n\nDo all clients support it by default now? https://github.com/ethereum/execution-apis/pull/517\n\nIT is then a matter of a community campaign to get stakers to use the default",
        "created_at": "2025-12-12T02:52:48.659000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "maybe clientdiversity can drive telling ppl how to turn it on for each client or something, but on by default was certainly my hope when we implemented... would be nice to have a code for vouch so that they can set that too possibly, and once the hit rate is high enough we could have a good level of confidence.",
        "created_at": "2025-12-12T03:21:54.502000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "i do believe all have it supported at least, just that its not really 'on' in a lot of circumstances i think (including as default, appending etc) ... maybe not grandine and vouch, not sure",
        "created_at": "2025-12-12T04:54:13.822000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "Adding a new code for Vero/Vouch doesn't tell us much about the safety of the network from client bugs.\n\nThat's because Vero/Vouch can be pointed at:\n- 5 Lighthouse nodes in which case it is the same as using Lighthouse-only\n- Anywhere between 2-7 different CL clients. Vero defaults to a majority threshold which can be overridden. Vouch has different strategies. =\u003e how many CL clients contribute to safe attesting is configurable.\n- Vouch has other attestation-data strategies (\"best\", \"first\") that only use one random CL client's data to attest\n\nI'd love to revive the conversation on the topic in this thread - https://ptb.discord.com/channels/595666850260713488/1399999127751757947/1400367856847425556 . There is a way to account for the safer multi-node setups, and also a slightly better way of measuring this network-wide than the graffiti.\n\nOnce we have reliable data, we can start pushing people towards less-used clients. Of course, this can all be faked but there is also an incentive *not* to fake things and truly switch from a heavily-used client.",
        "created_at": "2025-12-12T08:05:32.363000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "We can’t store much the way this is happening so at least quantifying it as a bucket would be better than the lack of data we will have otherwise imo. If it’s one client underneath you could use that I guess, but it’d get complicated fast",
        "created_at": "2025-12-12T10:04:51.883000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "I'm not sure exactly what you mean in your last message Paul, but from that earlier linked thread you said:\n\n\u003e its probably first best to ask what problem we're trying to solve exactly, and what do we think success looks like\n\nI agree with that approach. Therefore, what problem are we trying to solve? Are we:\n\nA) trying to purely measure client usage across the network\nB) trying to measure how resilient Ethereum is against client bugs\n\nI'd argue B is the more important metric – the whole point of client diversity is to protect against client bugs, right?\n\nIf so, and if we want to measure B, I think it's important to *properly* take multi-node staking infra into account. It's probably the future for larger staking operations, whether it's Vouch, Vero, DVT or something similar. Which is why I'd even argue measuring A is becoming less meaningful every day.",
        "created_at": "2025-12-12T10:18:40.856000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "At the moment we have no info, and we’re trying to get some in 4 bytes. More is possible but we’d need to do it properly to cover something like vouch, ssv well",
        "created_at": "2025-12-12T10:45:23.045000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "Anyway, open to ideas, I’m just following up on the original plan currently",
        "created_at": "2025-12-12T10:48:51.577000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "My idea is to do something like [this](https://ptb.discord.com/channels/595666850260713488/1399999127751757947/1400367914099675147) and periodically publish it on a dedicated gossipsub channel, as the [Nethermind research team proposed a while ago](https://ptb.discord.com/channels/595666850260713488/1399999127751757947/1400383079385796658).",
        "created_at": "2025-12-12T11:07:03.074000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "That thread go fairly needlessly complicated trying to be all things to everyone - attester bn etc. at the moment we just need the data and I’m not sure we want to go fully down the rabbit hole, but hopefully others will engage",
        "created_at": "2025-12-12T11:14:52.811000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "Understood. My opinion is that the current approach of getting the data has serious flaws and to me it seems worth fixing properly.",
        "created_at": "2025-12-12T11:40:45.073000+00:00",
        "attachments": null
    },
    {
        "author": "kingy__",
        "category": "general",
        "parent": "",
        "content": "have you looked at the sigp project at vals.sigp.io?",
        "created_at": "2025-12-12T11:46:11.854000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "Correct me if I'm wrong, but that also doesn't account for multi-node setups...",
        "created_at": "2025-12-12T12:14:26.395000+00:00",
        "attachments": null
    },
    {
        "author": "kingy__",
        "category": "general",
        "parent": "",
        "content": "You're not wrong",
        "created_at": "2025-12-12T12:22:09.128000+00:00",
        "attachments": null
    },
    {
        "author": "kingy__",
        "category": "general",
        "parent": "",
        "content": "Multi-node is hard to reason about. Particularly if you're trying to count from the perspective of the validator set rather than just nodes. \n\nTake a relatively simple case of 4 dvt clients operating 1 validator. If they're all on different BNs do you count each as 25%? Well in ssv only one of them is actually attesting at any particular time and the rest are just agreeing. So it's more like 100% for each but only for 1 in 4 slots. Now what if they all also run a multi-node weighted attestation arrangement with multiple BNs. How do you count that? \n\nWe could say this is an edge case and decide client diversity only matters on the scale of majority client used per validator but well dvt is now a significant portion of the validator set. SSV on its own is ~15%. \n\nAll this to say I think we need meaningful client diversity numbers but I think theyre gonna be hard to get.",
        "created_at": "2025-12-12T12:32:35.016000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "I think the threshold-based system I proposed here https://ptb.discord.com/channels/595666850260713488/1399999127751757947/1400367914099675147 works nicely for multi-node setups too, including DVT.\n\n\u003e Well in ssv only one of them is actually attesting at any particular time and the rest are just agreeing.\n\nThankfully, it doesn't work that way anymore. Nowadays (SSV 2.3.8+) the other nodes verify the duty leader's attestation data against their own beacon nodes. For Obol this behavior is opt-in for now, I'm hoping it becomes the default soon.\n\n\u003e dvt is now a significant portion of the validator set. SSV on its own is ~15%. \n\nThis is exactly why I think we need to improve the way we measure this significantly, and properly account for multi-node setups.",
        "created_at": "2025-12-12T12:38:23.212000+00:00",
        "attachments": null
    },
    {
        "author": "kingy__",
        "category": "general",
        "parent": "",
        "content": "If you're talking about majority fork protection on ssv you should review the latest releases from labs. We've also got a 1.2 release for anchor that is making some adjustments to how that works. There are also other ideas in the mix that would potentially make this accounting more difficult again but they're early stage.  It's a trivial problem in abstract but the more granular you want to make the metrics the harder it gets. A more reliable higher order count is at least better than the finger in the wind we have now.",
        "created_at": "2025-12-12T12:53:19.693000+00:00",
        "attachments": null
    },
    {
        "author": "serenita_io",
        "category": "general",
        "parent": "",
        "content": "Yes, I'm talking about majority fork protection indeed. I am trying to follow both SSV and Anchor's development in this regard but don't particularly like some of those very recent developments - dropping the block root from the checkpoint verification (I believe, at the very least, the *full source* checkpoint should be verified across the cluster).\n\nI don't see any blind spots in the threshold-based measuring system I proposed but maybe some of your early stage ideas would not be accounted for (I don't immediately see how though).\n\n\u003e A more reliable higher order count is at least better than the finger in the wind we have now.\n\nSure! And for that reason I do like the vals.sigp.io project, it's probably the best data we have right now! But I think this data will only grow less relevant as large staking operations continue adopting safer multi-node setups. If a year from now this data ends up only covering 30% of the network properly, we'll basically be flying blind.",
        "created_at": "2025-12-12T13:14:07.416000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "yes but the coverage isn't high enough for good data yet imo",
        "created_at": "2025-12-12T20:50:07.615000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "I put some thoughts down on that ethresearch topic. seems like as good a place as any to think about it",
        "created_at": "2025-12-12T21:35:47.015000+00:00",
        "attachments": null
    }
]