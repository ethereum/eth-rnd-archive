[
    {
        "author": "abcoathup",
        "category": "general",
        "parent": "",
        "content": "Is there a write up (or is anyone doing one) of the success of the Altair upgrade?",
        "created_at": "2021-10-28T05:06:51.269000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "\u003c@\u0026595685821026271242\u003e ^",
        "created_at": "2021-10-28T08:08:37.295000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "for this reason and implications on secondary unintended consequences, we need (in my eyes) a review for a post-merge world the impact on missed blocks RE 1559...",
        "created_at": "2021-10-28T09:47:03.905000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "(e.g. was it missed. or determined to just be empty)",
        "created_at": "2021-10-28T09:47:42.890000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "after almost 24 hours of Altair, I went from 3 bad head/source/targets to 25, that's over 10% of attestations daily. Got about 6 bad sources... Altair may be a stronger deflationary force than EIP-1559 ðŸ™‚",
        "created_at": "2021-10-28T09:49:55.582000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Have the general mechanism of recovery after a network split been discussed for the beacon chain? Would a respective client upgrade including the fix and restart with the WS checkpoint made on the correct chain a good default strategy to do a recovery?",
        "created_at": "2021-10-28T09:51:55.595000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "There is a plan to have an EIP specifying that every missed slot should be counted as a block with empty transaction list with respect to the EIP1559 logic. The intention is to have this EIP in the initial scope of the Merge",
        "created_at": "2021-10-28T09:55:48.174000+00:00",
        "attachments": null
    },
    {
        "author": "mrabino1",
        "category": "general",
        "parent": "",
        "content": "Thank you. (good to hear)..",
        "created_at": "2021-10-28T09:56:34.289000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "this depends on the split, there are scenarios where if one of the branches finalizes, then recovery by that strategy would result in one of the two branches being slashed. Since finalization may be really fast (still on the order of minutes if one branch has a substantial validating power compared to the other) then I suspect we'll need a social recovery mechanism to roll back to a valid source and prevent some validators from being slashed.",
        "created_at": "2021-10-28T10:06:23.508000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "That's a very good point. In this case attestations from an invalid chain could be used to slash the chain that becomes valid after a social consensus. The only way to prevent slashing is considering attestations from an invalid fork invalid in attestation slashing processing or prevent them from being included into a block. This kind of change to the client software logic doesn't look appealing",
        "created_at": "2021-10-28T10:14:57.245000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "In this case the second option is not really there: those attestations will already be included in blocks in the invalid chain (that you want to keep and become valid). So the social agreement here is either preventing those specific attestations from being slashed, or something more involved that doesn't touch the slashing logic but touches justification, like 1) stopping all clients from the good chain.  2) let the invalid chain go normally to a slot higher than any attestation in the valid chain. 3) declare the head of the invalid chain as justified and 4) start the fixed clients in the valid chain preventing them from submitting attestations until that agreed justified point. They'll take an inactivity hit, but won't be slashed.",
        "created_at": "2021-10-28T11:10:21.908000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Right, so it basically to stop voting on the valid chain until the checkpoint with the height greater than the finalized checkpoint on the wrong chain gets finalized, it implies inactivity leak of a period of time required to diminish the stake of voters on invalid chain enough to reach the finality",
        "created_at": "2021-10-28T11:44:41.372000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Oh no way people in the valid (although forked chain, and willing to take a hit to go back) will accept that: I think the only reasonable way to do this (besides not slashing them) is to socially agree that a given epoch with the given hash is already justified, even though it lacks the voting weight",
        "created_at": "2021-10-28T11:52:29.747000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Oh, I see. Then it probably better be finalized and served as a new WS checkpoint. To re-use the startup from WS checkpoint mechanism",
        "created_at": "2021-10-28T12:03:53.641000+00:00",
        "attachments": null
    },
    {
        "author": "ron17769529",
        "category": "general",
        "parent": "",
        "content": "\u003c#718596092828057631\u003e",
        "created_at": "2021-10-28T12:15:24.755000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "Would the lesson not be that we should version all message types and change them all in lock step with each HF? Therefore rendering old software obsolete by force",
        "created_at": "2021-10-28T12:23:28.434000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "general",
        "parent": "",
        "content": "Which would hopefully trigger operators finding out that their software doesnâ€™t work on test nets faster",
        "created_at": "2021-10-28T12:23:55.250000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Surely the lesson is simply to test more conditions.  I don't think that forcing protocol changes in an attempt to get people to notice an incompatibility is a good way to go.  What else would change?  Default ports?  Binary names?  Just seems like a lot of effort on the developers' side in an attempt to make up for operational deficiencies on the stakers' side.",
        "created_at": "2021-10-28T12:42:10.592000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Is this not related to the large miss in online blocks for much of yesterday?",
        "created_at": "2021-10-28T13:05:54.708000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Yeah. I'd like to seriously consider inclusion of this but we'd need an eip pretty soon",
        "created_at": "2021-10-28T13:06:32.772000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "There were many reorgs because of yesterday's event and this surely helped in having several missed source votes, will continue monitoring (as everyone is) but there seem to be something else: we've caught at least one case of a double reorg at slot 2381941 which was orphaned :   the parents are 2381939 ---\u003e 2381941, and 2381938 --\u003e 2381940 ---\u003e 2381942. The first chain got orphaned. What's interesting is that the proposer of 41 got 40 first, then 39, and based her block 41 on top of 39, not 40, without a reorg.  And these were valid blocks, not the ones missed by having invalid attestations. I suspect a bug in fork choice implementation in the case of very late blocks, but here the guys differ ðŸ™‚",
        "created_at": "2021-10-28T13:43:33.002000+00:00",
        "attachments": null
    }
]