[
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Hi, is the p2p protocol used by Consensus layers the same with the on used with EL (apart from the different messages)?",
        "created_at": "2022-09-23T09:14:47.898000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "if yes, why does one start with enode: and the other with enr?",
        "created_at": "2022-09-23T09:15:07.035000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "No. Consensus uses libp2p but that’s not where the enrs come from - lib p2p primarily uses multiaddrs. It’s discv5 that uses enrs.",
        "created_at": "2022-09-23T09:17:55.523000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "So is that the same, EL uses libp2p too",
        "created_at": "2022-09-23T09:20:52.094000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "But one uses discv5",
        "created_at": "2022-09-23T09:20:56.793000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "pretty sure EL uses devp2p",
        "created_at": "2022-09-23T09:21:03.881000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Aaah",
        "created_at": "2022-09-23T09:21:08.358000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Okay",
        "created_at": "2022-09-23T09:21:14.540000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "For discovery, all ELs should be using discv4 afaik",
        "created_at": "2022-09-23T09:22:10.346000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "uhg okay",
        "created_at": "2022-09-23T09:25:46.591000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "ELs are a bit more complex. They do use devp2p for actual peer connections but discovery is a mix of discv4, some dns based discovery and there is an off by default discv5 implementation in geth I think.",
        "created_at": "2022-09-23T09:26:41.816000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "do prysm have this logic packaged out somewhere?",
        "created_at": "2022-09-23T09:31:39.832000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Under the hood, we use geth's implementation:\nhttps://github.com/ethereum/go-ethereum/blob/master/p2p/discover/v5_udp.go",
        "created_at": "2022-09-23T09:33:31.947000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "ok nice, that is a dead end for me, thank you anyway",
        "created_at": "2022-09-23T09:39:35.790000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "\u003c@687974325072035882\u003e maybe I can help with your question?",
        "created_at": "2022-09-23T12:41:06.231000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Well I want to try to connect to the CL p2p network",
        "created_at": "2022-09-23T13:37:48.405000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "And make a CL lightclient",
        "created_at": "2022-09-23T13:38:05.810000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "But first off I need the p2p layer, which I may implement by myself",
        "created_at": "2022-09-23T13:38:37.129000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Since you need to connect to the CL P2P network, this might help you:\n\nhttps://github.com/prysmaticlabs/prysm/blob/develop/beacon-chain/p2p/service.go#L172",
        "created_at": "2022-09-23T14:37:54.064000+00:00",
        "attachments": null
    }
]