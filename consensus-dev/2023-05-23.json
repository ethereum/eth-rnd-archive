[
    {
        "author": "holiman",
        "category": "general",
        "parent": "",
        "content": "Hey ho CL devs. I'm collecting feedback and thoughts on this little firedrill scenario that I've been formulating: https://gist.github.com/holiman/4f6601018a8f559d7ce4cfe4e861cf73 . What do you think? Worth doing? Would you be interested in helping out with it? Did I miss or misunderstand anything?",
        "created_at": "2023-05-23T17:10:57.370000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "I think it'd be worth doing, it'd also help figure out if we have all the tooling needed to triage the issue. Happy to help with forking a network or creating genesis for a new one.",
        "created_at": "2023-05-23T18:48:32.725000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "I'd be very strongly against any slashing impunity. It's vital for security in PoS that you lose money if your validator does things that harm the network and so its essential that running a majority clients comes with the risk of being slashed in this kind of chain split scenario. If we aren't prepared to do irregular state transitions to bail out buggy smart contracts we also shouldn't bail out buggy validators.\n\nA fire drill of what it takes to switch clients from an incorrectly finalized chain to the valid chain makes sense though, plus seeing the inactivity leak restore finality - on the CL side that would generally mean deleting the database and doing a fresh checkpoint sync.",
        "created_at": "2023-05-23T22:58:07.988000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I left my braindump after a bottle of wine the first thoughts that came to mind on reading the drill. I promise to reread with a fresh mind and retract anything obviously wrong. But by reading Adrian's reply here, it seems that at least we are on the same fence of the problem, particularly:\n\u003e on the CL side that would generally mean deleting the database and doing a fresh checkpoint sync.\nThat's essentially the only solution here: changing forkchoice rules to allow finalization switching is dangerous in incredible levels, I maintain what I wrote in your issue: from this perspective, this is an EL problem, if you can handle the reorg, the CL can simply start from a socially accepted checkpoint, but we cannot \"jump\" to it while running.",
        "created_at": "2023-05-23T23:02:32.909000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Yeah agreed.  There's a key difference in mentality between EL and CL because the CL state is so small.  On the EL side having to do a resync is a pain and so you go to great lengths to avoid it. On the CL side it's under a minute to be back up and running and so there's no reason to avoid it as a solution to these kind of exceptional circumstances.",
        "created_at": "2023-05-23T23:05:29.274000+00:00",
        "attachments": null
    }
]