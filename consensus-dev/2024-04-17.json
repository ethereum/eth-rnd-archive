[
    {
        "author": "0xunclebill",
        "category": "general",
        "parent": "",
        "content": "For EIP7549, when computing the on chain aggregated attestation\nhttps://github.com/ethereum/consensus-specs/blob/dev/specs/electra/validator.md#constructing-the-beaconblockbody\n\nwhats the reasoning behind the need to sort the attestations by `get_committee_indices()[0]` ?\n\nalso, the p2p interface spec mentions a convenience variable\n\n `index = get_committee_indices(attestation.committee_bits)[0]`\n\nwhy is the first element in the committee indices list used here? whats so special about the first element in this list?",
        "created_at": "2024-04-17T16:19:14.451000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "the `committee_bits` field currently is just a bitfield of all committes 0..MAX_COMMITTEES_PER_SLOT",
        "created_at": "2024-04-17T16:40:53.933000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "so if you just have a bag of attestations as input to this function, you'd need to sort them in order so that the rest of the code is correct",
        "created_at": "2024-04-17T16:41:13.330000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i think the definition in the p2p files is just for backwards compatbility",
        "created_at": "2024-04-17T16:42:42.645000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i haven't verified myself but the idea would be that just taking the first index in the committee set would stand in for the rest of the committees in the particular attestation, as far as the gossip validations are concerned",
        "created_at": "2024-04-17T16:43:34.603000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "general",
        "parent": "",
        "content": "makes sense, thank you!",
        "created_at": "2024-04-17T19:02:56.009000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@\u0026595685821026271242\u003e",
        "created_at": "2024-04-17T20:55:40.582000+00:00",
        "attachments": null
    }
]