[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Given the discussion in \u003c#745077610685661265\u003e I was wondering if we tested eth1 data voting in a scenario with varying block times. I remember there was an early issue, which was caused by a slight difference in block times between goerli and mainnet.",
        "created_at": "2022-05-24T07:48:32.940000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "what's \"goassembly\" btw? as in .. is https://github.com/prysmaticlabs/hashtree/tree/main/src the repo we're talking about?",
        "created_at": "2022-05-24T07:48:50.040000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "No, it's a freak of nature where you don't need to worry about stack alignment and the such cause the Go runtime environment does this for you, but you get to write an old form of assembly based on Plan 9. The repo is \u003chttps://github.com/prysmaticlabs/gohashtree\u003e It's kind of nasty, some instructions aren't supported by the assembler yet so you need to write them directly in machine code hex... I was forced to learn this cause the overhead of calling the regular assembled object was worse than the gain. Don't wish this to my enemies",
        "created_at": "2022-05-24T07:54:33.067000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "general",
        "parent": "",
        "content": "I'd rather people started learning programming from the machine code hex end actually ðŸ™‚",
        "created_at": "2022-05-24T07:57:04.152000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "general",
        "parent": "",
        "content": "In lighthouse, we are trying to move towards authenticated communication with the EL for the non-engine api stuff as well. Currently, only the `engine` and `eth` namespaces are exposed over the auth port in the EL clients. However, we were also using the `net_version` call to match the network id in `config.yml` which we can't access over the auth channel. \n\nAs pointed out by the EL devs, the networkid is mainly used to check if execution nodes can talk to each other on the p2p layer, so it doesn't really seem relevant as a config parameter on the consensus side. Is there anything specific that using the networkid protects us from? Relevant issue https://github.com/ethereum/consensus-specs/issues/2163",
        "created_at": "2022-05-24T11:04:42.548000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "AFAIU, `chainId` and `networkId` values diverge only in case of Ethereum Classic mainnet. So, the ETC mainnet `networkId` has the same value as ETH one, while `chainId` values are different. Considering this fact, using `chainId` in favour of `networkId` does seem more valuable",
        "created_at": "2022-05-24T11:23:54.748000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "I think the original concern was that both were necessary to fully specify the correct chain.  Is there any attack that could occur if a new chain were started with the same chain ID but different network ID?  Wondering specifically about deposits.",
        "created_at": "2022-05-24T11:27:03.862000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "`networkId` doesn't specify a chain, the check is happening during the ETH subprotocol handshake on the networking level. If `networkId` of remote peer mismatches then the peer is disconnected",
        "created_at": "2022-05-24T11:31:34.461000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "I'm not saying that all storage formats should be standardized. Actually the opposite - I'm saying that there is value in standardizing a heavy tree-based format as it's hard to populate such an amount of data, hard to switch between clients etc.",
        "created_at": "2022-05-24T11:47:08.541000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Yeah, but I think the proposed attack was something along the lines of \"someone hijacks infura, creates a new chain with a mainnet chain ID but different network ID, beacon chain confirms deposits from the incorrect chain\" or similar.  This was a while back, though, so I may be misremembering.\n\nIt also may be the case that with the merge and the assumption of local execution nodes for each consensus node whatever attack it was is no longer relevant.",
        "created_at": "2022-05-24T11:48:11.667000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "general",
        "parent": "",
        "content": "if someone does hijack infura, they can feed users whatever chain they want irrespective of the network id though. Doesn't seem that networkId protects us in any way in this scenario",
        "created_at": "2022-05-24T12:10:17.094000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Yeah, it didn't sound quite right when I was writing it.  Can't remember what the supposed attack vector was.",
        "created_at": "2022-05-24T12:35:44.936000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "I've always just seen it as a sanity check that the beacon node was talking an EL sync'd to the right chain. It's an easy mistake for users to make to configure their EL wrong. It would be bad if 50% of validators were looking at the wrong Eth1 chain but that seems pretty unlikely.",
        "created_at": "2022-05-24T21:03:39.649000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "With the move to execution engine endpoint the configuration call is a more effective check that the EL is configured correctly anyway, so in Teku we try to check the network ID but don't worry if the net_version API is unavailable.",
        "created_at": "2022-05-24T21:04:48.626000+00:00",
        "attachments": null
    }
]