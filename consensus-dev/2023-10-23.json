[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "In the context of https://github.com/ethereum/consensus-specs/issues/3527\n\nDo I understand correctly that the split caused by publishing two blobs with the same slot/index values should be resolved when a network receives an aggregate incorporating votes in favour of that block? I.e. validators that have received correct block and blobs will attest to it, others will get attestations at most after the aggregation time and upon receiving those aggregates will request the block with the valid blob set.",
        "created_at": "2023-10-23T09:00:28.422000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "If the block runs late and receives no votes then the proposer of the next slot should force the split resolution as well. The situation gets more complicated if adversary proposes blocks in several consecutive slots and can exploiting such split strategy multiple times in a row. At the end of the day it doesn't seem to open a new attack vector but might open a new way to balancing attacks. Moreover, that new way might be more complicated thus less valuable for an attacker than already existing ones",
        "created_at": "2023-10-23T09:06:15.808000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "The split would happen because of the way some clients were handling such blocks (at least Prysm). We would declare such a block invalid if we had the bad blobs, so that when receiving any child of it we would still find the bad blobs on db and be unable to sync the parent.",
        "created_at": "2023-10-23T10:41:38.662000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Deeming such a block as invalid isn't conformant with the spec. My thoughts are about the situation when DoS protection allows for chain splits because a portion of nodes received invalid blob won't accept a valid one for the same (root, index) causing a split. But this split should be resolved shortly, except for the case when a block isn't timely so no attestations voting for the block has been casted, the worst case scenario would be multiple consecutive proposal belonging to the same adversary",
        "created_at": "2023-10-23T12:24:08.135000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "There is not reason to introduce slashing for blobs equivocation unless we find a strong reason in favour of that, it might be a new attacking vectors which such equivocation would introduce. But to my observation there is no one, as a non-timely block with equivocating blobs is quite similar to withholding a block today. For the timely case the split is very likely to be resolved before the end of the slot",
        "created_at": "2023-10-23T12:30:25.873000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003e Deeming such a block as invalid isn't conformant with the spec. \nRight, I am pointing out that this was the cause of the split, not any lack of consideration in the spec. If we had all followed the spec, we would recover immediately from such a split. The only problem would be if the next proposer has seen the \"bad blobs\" then it would try to reorg the block, which is most likely a good thing to do anyway.",
        "created_at": "2023-10-23T12:39:46.358000+00:00",
        "attachments": null
    }
]