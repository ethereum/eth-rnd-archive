[
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "If you wanted to prove a bound, we could use (D_low) which is the lowest tolerable degree by the gossip router. You would get a hop count of 6 from it",
        "created_at": "2024-12-18T00:00:43.591000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Doesn't that assume perfectly random peers?",
        "created_at": "2024-12-18T04:57:07.895000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I believe the reality is that your peer set is not randomly distributed across the entire set of possible peers.",
        "created_at": "2024-12-18T04:57:42.834000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "That being said, I agree with the hunch that it is way under 20 hops.",
        "created_at": "2024-12-18T04:58:00.529000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "general",
        "parent": "",
        "content": "I dont think you can prove this without assumptions on the network topology. \n\nLike we could consider the worst case (which is not strictly forbidden, just very unlikely to form naturally) which is that all 10,000 peers are peer'd linearly. In which case it will take like ~10,000 hops. \n\nIn the assumption that the peers are peered without overlap and the topology is connected \"uniformly\" or maximally connected, we'd get the log_d(N) that pop mentioned, which gives ~5 hops. \n\nThe point i'm making is that I dont think we can \"prove\" any upper bound without making some assumption on the topology of our connections.",
        "created_at": "2024-12-18T06:04:36.566000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "general",
        "parent": "",
        "content": "Yeah, I agree. I think its way less than 20 hops for the majority of peers. \n\nWe could experiment on testnets etc, by adding in the hop-count into gossipsub, which gets incremented each hop. \n\nObviously privacy concerns with doing this tho.",
        "created_at": "2024-12-18T06:06:27.934000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Non-random in the sense of geographical distribution ? For peer discovery and connecting with new peers, we try not to favour faster peers when maintaining our peer set",
        "created_at": "2024-12-18T07:40:37.333000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Geography, uptime, peer count configuration, etc.",
        "created_at": "2024-12-18T08:12:24.002000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "A datacenter client that has a peer count of 200, an uptime of 99.999%, and a response time of \u003c250ms to anywhere in the world of the time is going to peer differently than a client with a peer count of 10, is online only 50% of the time, and has a latency of 750ms to most places.",
        "created_at": "2024-12-18T08:13:50.451000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "This isn't to say that the protocol is broken, just that calculating actual propagation times for a live network is a legitimately hard problem.",
        "created_at": "2024-12-18T08:14:29.019000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "The protocol is lenient of peers with larger than expected latency up to a certain bound. However peers who are only online 50% of the time are never going to be peered well. Every node in the network desires peers who are functional, so if you do end up being non-responsive consistently the peer will be banned.",
        "created_at": "2024-12-18T08:34:42.499000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm not a fan of this, because it means a person cannot reasonably run a node on a computer that isn't online 24/7.  For example, a home computer that you turn off at night.",
        "created_at": "2024-12-18T08:35:34.820000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "ok this is a different interpretation, that would be fine",
        "created_at": "2024-12-18T08:36:23.542000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "I assumed you had a node periodically going offline every few minutes",
        "created_at": "2024-12-18T08:36:41.410000+00:00",
        "attachments": null
    },
    {
        "author": "popef",
        "category": "general",
        "parent": "",
        "content": "If you run a validator node, you wouldn't want to turn the computer off at night, you are supposed to vote every 12 second, so you must run it 24/7.\nIf you just run a full node, you probably don't need to have good peering and connections anyway.",
        "created_at": "2024-12-18T08:42:08.152000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I am almost never talking about staking/validators nodes.  I only really care about end users of the chain.  Though, perhaps \u003c@755590043632140352\u003e specifically is inquiring about staking node propagation times?",
        "created_at": "2024-12-18T08:45:28.157000+00:00",
        "attachments": null
    },
    {
        "author": "popef",
        "category": "general",
        "parent": "",
        "content": "That's just a point I want to add and that's why I mention both validator and non-validator cases.",
        "created_at": "2024-12-18T08:46:47.148000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Nope, I really mean any full node, also always prioritize those. The background is that we're thinking on using certain coding to  distribute blocks faster, but if the number of hops is of the order of 5/6 then this coding is very effective and incredibly fast cc \u003c@555483069038198827\u003e",
        "created_at": "2024-12-18T09:52:29.215000+00:00",
        "attachments": null
    },
    {
        "author": ".fjl",
        "category": "general",
        "parent": "",
        "content": "Isn't it also true that using an erasure coding scheme for propagation requires structure in the network?",
        "created_at": "2024-12-18T10:04:29.133000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "if it's erasure coding then i would loop in \u003c@425567222635954178\u003e as he has been looking into erasure pubsub concept. He has a prototype and also did some initial simulations",
        "created_at": "2024-12-18T10:13:41.657000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I was hoping originally to not use any erasure coding at all, but there are some tradeoffs, will loop Anton in.",
        "created_at": "2024-12-18T10:28:27.878000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "O was hoping to use random linear coding for example, which does not require anything from the network and is completely decentralized",
        "created_at": "2024-12-18T10:28:59.935000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "I'm hoping to see these use cases move towards Portal over the next few years.  Our network is better suited for intermittent use cases and in general for doing all kinds of on-demand data retrieval which is what lots user-oriented use cases involve.  Feels like protocol use-cases and end-user use-cases are often optimizing for different and occasionally opposing things.",
        "created_at": "2024-12-18T14:49:26.400000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Portal Network is the only thing that gives me any hope for Ethereum anymore, but I'm worried at the amount of difficulty you have run into getting clients to integrate with it.",
        "created_at": "2024-12-18T14:50:13.984000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "And I am also confident that dual-stack clients are going to be powerful, because there are also protocol use cases that can be served by Portal in really powerful ways.",
        "created_at": "2024-12-18T14:50:19.962000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I'm also concerned about order of operations.  e.g., crank up the gas limit with the promise of \"portal network will solve this, we don't need to worry about state growth anymore\" and then we just keep delaying actually implementing portal network everywhere.",
        "created_at": "2024-12-18T14:51:27.764000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/go-ethereum/issues/30908 will be a meaningful step towards adoption.  Seems that we may have gotten over the hump and on our way to meaningful adoption across most of the execution layer client stack.",
        "created_at": "2024-12-18T14:53:25.603000+00:00",
        "attachments": null
    }
]