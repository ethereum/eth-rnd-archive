[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Hi, I'm preparing slides for Devcon, I'm searching for an implementation of the hashing algorithm for Merkle trees written by Vitalik in python, he lays the hashtree in a flat array and works backward filling the higher layer hashes. I'm sure I've seen this a while ago, and I'm **almost** sure it was by Vitalik. I already have Proto's implementation in terms of trees. Searching for the flat array one now. Perhaps \u003c@203220829473996800\u003e you know?",
        "created_at": "2022-10-06T12:10:53.681000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "https://github.com/wealdtech/go-merkletree uses a flat array.",
        "created_at": "2022-10-06T12:15:15.483000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Thanks I do have that one Jim, but I'm mostly looking for historical reasons for the reference one. I think it's the one that ended up being in the specs almost as it is now\n```python\ndef merkle_tree(leaves: Sequence[Bytes32]) -\u003e Sequence[Bytes32]:\n    \"\"\"\n    Return an array representing the tree nodes by generalized index: \n    [0, 1, 2, 3, 4, 5, 6, 7], where each layer is a power of 2. The 0 index is ignored. The 1 index is the root.\n    The result will be twice the size as the padded bottom layer for the input leaves.\n    \"\"\"\n    bottom_length = get_power_of_two_ceil(len(leaves))\n    o = [Bytes32()] * bottom_length + list(leaves) + [Bytes32()] * (bottom_length - len(leaves))\n    for i in range(bottom_length - 1, 0, -1):\n        o[i] = hash(o[i * 2] + o[i * 2 + 1])\n    return o\n```",
        "created_at": "2022-10-06T12:16:31.083000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "If I can't find that post I'll just post the specs python one with a question mark in the attribution üôÇ",
        "created_at": "2022-10-06T12:17:40.102000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/research/blob/master/merkle_tree/merk.py maybe? I'm sure there are older versions of the array and divide by two trick, but this one also shows off multi-proof things",
        "created_at": "2022-10-06T16:49:33.492000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Ohh nice! thanks this is the exact same algo, not the post that I had in mind but it's precisely what I wanted. üôè",
        "created_at": "2022-10-06T23:03:08.499000+00:00",
        "attachments": null
    }
]