[
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "Should we think about removing `deposits` in `BeaconBlockBody` (too late in Fulu, Gloas?) While writing spec tests, got me realized some ssz_static tests end up generating random data for deposits, it's fine.. but useless",
        "created_at": "2025-08-19T02:25:56.311000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "I think we also can remove the following. `eth1_data` from `BeaconBlockBody`\nBut not sure if we want to remove `eth1_data` related fields from `BeaconState`\nI feel more strongly about block than state",
        "created_at": "2025-08-19T15:58:44.952000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "do you want to remove as in delete the field? or just clear them (set to \"empty\") and leave them alone",
        "created_at": "2025-08-19T18:04:47.999000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "deletions are a bit tricky given backwards-compatibility and applications who may be using particular genearlized indices for things",
        "created_at": "2025-08-19T18:05:34.687000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "i was thinking delete and frankly didnt consider generalized indices issue so that's a good point, it may not be worth it, I think setting them as empty is also good, my only complain today is they get populated in spec tests (ssz_vector) and it just feels off",
        "created_at": "2025-08-19T18:11:37.134000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yeahâ€¦ we can investigate but we have reasons for not deleting stuff so far",
        "created_at": "2025-08-19T19:40:16.791000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "altho i guess the SSZ stuff is the only real reason",
        "created_at": "2025-08-19T19:40:43.764000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "general",
        "parent": "",
        "content": "it's worth nothing in Gloas, in eip7732, block body and even beacon state (if we decide not to keep execution payload header around) will contain deletions, it's part of pipelining, moving some stuff to the execution side of processing, so I thought it would be a good opportunity. If we do not want to be deleting anything at first place, and rather stubbed it out, then eip7732 spec needs to be updated",
        "created_at": "2025-08-19T19:43:30.695000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i see -- i'd defer to what clients think is the right path forward",
        "created_at": "2025-08-19T20:12:47.415000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "its not ideal to break the generalized indices but also not the end of the world",
        "created_at": "2025-08-19T20:12:59.327000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "i feel like there have been comments in the past that it would also complicate code but thinking about it now it seems fine (at least on the CL side as we tend to have explicit types per fork)",
        "created_at": "2025-08-19T20:13:50.985000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "Back in the day with bad structures we'd just rename the fields 'spare1'.. 'sparen' and leave them empty or have them as small as possible, like storing an 8 bit int or whatever.... not sure if renaming is safer or if changing the size would be an issue but figured i'd flag that as a potential workaround.\nthen future upgrades you'd consume 'spare' before adding new ones was the old way we used to do it.\nWould obviously make it ugly to read, but maybe preserve the positions of fields that we need etc.",
        "created_at": "2025-08-19T22:05:11.124000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "the tech debt of having a bunch of execution stuff on the CL state is awkward even if empty. I don't mind changing the EIP to add them back and assert they are empty, but I would personally prefer we remove this crap, after all, after the WS period, this can be removed from codepaths at least for non-archive nodes.",
        "created_at": "2025-08-19T23:39:31.221000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "And can be simplified a lot for archive nodes that simply apply state diffs.",
        "created_at": "2025-08-19T23:39:56.316000+00:00",
        "attachments": null
    }
]