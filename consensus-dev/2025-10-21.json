[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I have a dumb question. It kinda bugs me to have to verify signatures when backfilling. I understand the reason and that signatures are malleable, but my question is \"why do we send the signed envelope in the first place?\".  For finalized blocks, is there really a reason to keep the signatures around? even if we were on branches because we finalized a few different ones or even if we decide to go to an unfinalized one like in Holesky, at any rate, once we pick a branch and declare it canonical, there is zero need to verify signatures of ancestors. Can't we just send the block instead of the signed block on RPC requests for finalized blocks?",
        "created_at": "2025-10-21T15:41:40.943000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@833706406699073536\u003e \u003c@539495253418180618\u003e",
        "created_at": "2025-10-21T15:41:46.180000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "purely in terms of networking, it’s much simpler to just send the extra 96 bytes than have to reason about if the block under request is finalized or not",
        "created_at": "2025-10-21T18:56:42.767000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "if something is finalized it does seem like you can skip signature verification but i’d want to review the security impacts before recommending this",
        "created_at": "2025-10-21T18:57:19.607000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "yeah I was thinking that it may be even zeroed out in the reply to avoid having different returns in case someone does attack this way. But having workers verifying signatures in the background all the way down to genesis doesn't make sense.",
        "created_at": "2025-10-21T20:45:15.504000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "yeah, you would instead just use finality as proof of the canonical chain, rather than the N signatures (which i think you _could_ batch into 1 large sig verify, but still)\n\nseems to make sense.. i'd be careful to not store _invalid_ signatures though, if only to not confuse someone getting blocks from the RPC",
        "created_at": "2025-10-21T20:58:35.660000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "general",
        "parent": "",
        "content": "its certainly tighter from a security perspective to just re-verify everything, but im sure there are many users who just would not care",
        "created_at": "2025-10-21T20:59:24.596000+00:00",
        "attachments": null
    }
]