[
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nI just think we need to be really careful, especially because the connection to every single one of the 64 shard subnets needs to be maintained",
        "created_at": "2020-10-06T04:46:46.745000+00:00",
        "attachments": null
    },
    {
        "author": "alon.ssv.network",
        "category": "general",
        "parent": "",
        "content": "\u003e i'm not sure if this is appropriate for this channel, but i've just run into a situation which i think warrents some thought.  I deposited to Spadina and thought all is well cause I saw the 'Deposit' event log.  Little did I realize that my deposits were in fact invalid.  How do we prevent this loss of funds and even more so, the inability to validate after such a mistake ?\n\u003c@!489217181104734219\u003e One solution could be to engage with the leading wallet providers and work with them to actually parse the deposit data so the user can verify it when sending, instead of a data blob like it's today.",
        "created_at": "2020-10-06T05:22:32.251000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "Has the use of DHTs (https://en.wikipedia.org/wiki/Distributed_hash_table) been considered? They're specifically designed to solve the problem of efficiently discovering which peers have the data you're looking for, and they're used in IPFS and BitTorrent. DHTs are typically indexed by the Merkle root of the files they store, so each block could easily be represented as a key in the DHT. Either way, abstracting the block retrieval into a DHT, and treating it as a modular network component, seems like a cleaner approach.",
        "created_at": "2020-10-06T11:25:29.885000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "Distribution of block headers could done on a single subnet as light clients need all the block headers anyway; but when it comes to sampling of the actual data, they can go to the DHT.",
        "created_at": "2020-10-06T11:38:29.244000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nAre there any DHTs that are known to be able to reliably broadcast data in \u003c5 seconds though?",
        "created_at": "2020-10-06T11:56:25.897000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**dankrad**\nwhat's freenet's response time nowadays? haven't tried it for more than a decadeðŸ˜€",
        "created_at": "2020-10-06T11:57:13.753000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "I'm not sure. I'd want to know for example, if I publish data on an IPFS URI, how quickly other people will be able to download it from me.",
        "created_at": "2020-10-06T13:28:04.464000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "In my experience the BitTorrent DHT is pretty slow when I download torrents, it can take a while to discover peers.",
        "created_at": "2020-10-06T13:28:37.177000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nMy impression has always been that these things are optimized for chunk sizes way bigger than 100 bytes....",
        "created_at": "2020-10-06T13:28:45.487000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nAm I wrong about that?",
        "created_at": "2020-10-06T13:28:49.927000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "Yeah the default chunk size in IPFS is 256KB, but since files are represented as Merkle trees I don't see anything inherently preventing a much smaller chunk size",
        "created_at": "2020-10-06T13:30:05.862000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nI guess I mean fixed per-chunk overhead",
        "created_at": "2020-10-06T13:30:36.657000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "Either way, I think the \"subnet per block\" approach could be worthwhile considering as \"approach 4\", aka a DHT-type solution optimised for block distribution",
        "created_at": "2020-10-06T13:32:07.506000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "Perhaps the overhead of \"switching subnets\" isn't really that high, as 1) nodes that want to help store blocks can be a member of multiple subnets, and 2) it's simply a matter of doing a TCP connection to download a sample from a different block",
        "created_at": "2020-10-06T13:33:50.388000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "This just popped up in my Google Scholar feed today, I haven't read in depth but looks interesting: https://arxiv.org/abs/2010.00217\nThey propose a collaborative data availability encoding scheme.",
        "created_at": "2020-10-06T14:04:33.368000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nYou can do something fairly simple with Kate commitments:",
        "created_at": "2020-10-06T14:06:23.197000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\n1. N proposers publish N Kate commitments to their shard blocks",
        "created_at": "2020-10-06T14:06:31.570000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\n2. The main beacon block proposer low-degree extends those N Kate commitments to 2N Kate commitments (you can do this with Lagrange interpolation or an FFT)",
        "created_at": "2020-10-06T14:07:06.004000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\n3. Individual nodes can then extend the published data along either the x or y axis or even the diagonal axis, and the amazing thing is that the result would even be immediately verifiable against the commitment for the corresponding row in the beacon block (!!), so you can fill out the entire 2N * 2N square with each node only doing O(N*log(N)) work",
        "created_at": "2020-10-06T14:07:57.396000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nBasically take advantage of linearity of Kate commitments",
        "created_at": "2020-10-06T14:08:19.974000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nUnfortunately I don't think there's a nice quantum-proof analog ðŸ˜¢",
        "created_at": "2020-10-06T14:08:34.554000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nwell, ok, in the quantum-proof setting, you can always do stuff with recursive STARKs",
        "created_at": "2020-10-06T14:10:51.051000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "Nice. I've only been following the Kate commitment stuff loosely, but are they at a stage where they are reasonably efficient to compute and verify?",
        "created_at": "2020-10-06T14:10:53.212000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nI think so!",
        "created_at": "2020-10-06T14:11:01.593000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nWe actually did the math, and Kate-committing to 1 MB takes something like 100-500 ms I believe?",
        "created_at": "2020-10-06T14:11:14.203000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "Sounds good. The new CoVer paper seems to use the SPAR-style LDPC codes. While these are more order optimal than 2D-RS codes, they require more samples to achieve the same availability guarantee, so when you do the math the overall bandwidth overheads are actually higher than the 2D-RS scheme.\nSo if we can efficiently do collaborative coding of 2D-RS codes with Kate commitments, that would be more ideal.\n(Assuming we're not using STARKs to skip to 1D coding.)",
        "created_at": "2020-10-06T14:15:16.374000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nwait, can you do collaborative 1D coding?",
        "created_at": "2020-10-06T14:15:40.168000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nI thought you need the entire file to generate even one additional coordinate?",
        "created_at": "2020-10-06T14:16:00.268000+00:00",
        "attachments": null
    },
    {
        "author": "musalbas",
        "category": "general",
        "parent": "",
        "content": "No, not that I know of, I was just referring to using STARKs to prove correctness of 1D codes.",
        "created_at": "2020-10-06T14:16:06.134000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_bridge_bot",
        "category": "general",
        "parent": "",
        "content": "**vbuterin**\nright I see",
        "created_at": "2020-10-06T14:16:14.042000+00:00",
        "attachments": null
    }
]