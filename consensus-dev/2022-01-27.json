[
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "CL call in 35 minutes\nhttps://github.com/ethereum/pm/issues/458",
        "created_at": "2022-01-27T13:27:09.301000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "CL call now",
        "created_at": "2022-01-27T13:58:45.701000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Hi guys, I want some confirmation about something that is not strictly in the specs. In the spec we talk about a finalized Checkpoint, which in a happy situation, would look like `Epoch: N, Root: Root of block(32*N)`. However clients require deciding if they consider a particular intermediate block as final. Supposing that there are no forks, all blocks are full, and given the above finalized checkpoint, is clear that slot `32*N - 1` is final. Slot`32*N` , the first one in epoch `N`  and the checkpoint, is final. How about slots `32*N+1 -- 32*N+31`? are they considered final or not at this stage?",
        "created_at": "2022-01-27T19:34:39.618000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I thought they would be, until I was pointed to \u003chttps://github.com/ethereum/consensus-specs/issues/2174\u003e",
        "created_at": "2022-01-27T19:35:01.126000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@!361447803194441738\u003e I see you green and would love to know what LH does since you participated in that issue",
        "created_at": "2022-01-27T19:35:36.037000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "it is a bit of a shame with the terms here\n\nthe 0th slot of an epoch gets finalized. so when they say epoch N, really it's slot 0 of epoch N and all prior slots",
        "created_at": "2022-01-27T20:06:51.075000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "tbh, for cleanliness sake and for allowing an additional slot for synchronization on a checkpoint, it should have been attempting to justify slot 32*N-1 during epoch N and finalize it during epoch N+1 -- thus \"finalizing epoch N-1\"",
        "created_at": "2022-01-27T20:07:40.423000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "yeah it's a bit confusing, and frankly I don't understand how is it that we're not having an off by 63 right now ðŸ˜… , but just to be overly explicit, we finalize epoch N, assuming the block 32*N is full, that block will be the only one considered final in that epoch, correct?",
        "created_at": "2022-01-27T20:22:18.852000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "we finalize `(block, slot)`  where `block` it's the most recent block in that finalized chain at or before 32*N and *at the state of the 0th `slot` in N*",
        "created_at": "2022-01-27T20:35:03.352000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "yes, the `(block, slot)` at 32*N  is the only one finalized when we usually say \"N\" is finalized",
        "created_at": "2022-01-27T20:35:30.078000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "I'm pretty sure beaconcha.in has had an off-by-1 (or two?) since genesis",
        "created_at": "2022-01-27T20:36:01.530000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "Screen_Shot_2022-01-27_at_1.35.42_PM.jpg",
                "content": "5dfa8b6793a1b3680c15e494e2a3314d9c9d88bf318fb3f2c53dfa90d680ecdf"
            }
        ]
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "thanks!",
        "created_at": "2022-01-27T21:38:29.655000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm debugging what I thought was an off by 1, now I think it's an off by 63 ðŸ˜‚",
        "created_at": "2022-01-27T22:38:58.764000+00:00",
        "attachments": null
    }
]