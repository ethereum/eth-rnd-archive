[
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "Do you use trusted snapshots? Or did I miss some major invention of fast blocks validation?",
        "created_at": "2021-02-03T08:29:54.861000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "You need to get a beacon state from somewhere trusted yes (just the regular state you should be able to get from any sync'd node).  With PoS it's actually not secure to sync from genesis (or won't be once enough validators exit) because of the weak subjectivity period.  So all clients (I think) support specifying a trusted weak subjectivity checkpoint which they check along the way but you can still be fed a pretty long chain you sync only to discover right at the end that it's the wrong one and have to throw it out and start again.",
        "created_at": "2021-02-03T08:33:59.903000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "I'm quite surprised more clients haven't added support for snapshot sync to be honest - it's just so nice to use. ðŸ™‚",
        "created_at": "2021-02-03T08:34:43.167000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "Parity/OpenEthereum has snapshoting for a long period of time, geth made new version but it is same principle.",
        "created_at": "2021-02-03T09:22:58.583000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "Well, here we start to touch a sensitive philosofical topics ðŸ™‚ But sure if you are not validating the entire chain and just trust some particular state - loading the trusted state is very fast.",
        "created_at": "2021-02-03T09:24:46.671000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "Another topic - is there some convenient way to analyze the reasons why a particular validator didn't receive max reward?",
        "created_at": "2021-02-03T09:25:27.622000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "Maybe somebody wrote some analyzer?",
        "created_at": "2021-02-03T09:25:48.943000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "There are reasons, and reasons.  In general you lose a (small) chunk of your reward because not every active validator actually attests.  Bigger losses occur either because your attestation is delayed in its inclusion on the beacon chain, or because one or more parts of your attestation is incorrect.  Former is often due to a lack of peers or other network-based issue (or an out-of-sync clock, which causes all number of problems in a rigid clock-based system like Ethereum 2), latter can be CPU-based but again more commonly due to a lack of peers and hence a lack of an up-to-date view of the chain.\n\nAs to the reasons for the reasons, they are many and varied.  Probably not simple to create something that can provide root cause analysis.",
        "created_at": "2021-02-03T09:38:25.521000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "this makes it sound like the main factors are in the attester's side or control, while I believe that the major component, at least economically, is on the proposer side. The most common reason to get a significantly less proportion of the reward is a bad head vote. The typical situation for this is that the block arrives late to the attester side. Since this is the case for most attesters on those blocks (grab any of the blocks that you got half a reward and check the number of votes those blocks got) the blame is on the proposer of the block. Actually in this common scenario, having more peers  is detrimental, since the few that vote correctly are actually penalized more because of the lack of participation. All this should be fixed by the proposed fix to fork choice. But in the meantime I'd like to see of a serious attempt to measure this on mainnet. For a while I did it on pyrmont but I believe we need people with many nodes measuring this to get an accurate description. Monitoring my own node I am seeing currently 4% of late arriving blocks that is a lot, and it seems to be the same mean that the guys at prysmaticlabs are getting. I ran a quick poll on discord and many told me they are getting about 9 bad head votes/day/validator which is about 4%. A quick indicator for this would be to grab the bad head votes from all blocks to estimate.",
        "created_at": "2021-02-03T09:49:28.547000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Also this is getting worse and fastly so, in december, the only bad head votes were also bad target votes cause they happened in slot 0, now the vast majority are within the epoch",
        "created_at": "2021-02-03T09:50:24.334000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "Thanks, so basically your idea is that a validator can only sync the clock better and calculate the head faster. Otherwise, there isn't much more a validator can do?",
        "created_at": "2021-02-03T09:55:33.981000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "And obviously, be connected to a decent Internet connection ðŸ™‚",
        "created_at": "2021-02-03T09:57:38.059000+00:00",
        "attachments": null
    },
    {
        "author": "mohseng",
        "category": "general",
        "parent": "",
        "content": "65 validators were slashed ini the last 24 hours???",
        "created_at": "2021-02-03T18:00:09.538000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "seem so",
        "created_at": "2021-02-03T18:00:19.928000+00:00",
        "attachments": null
    },
    {
        "author": "chandlersong",
        "category": "general",
        "parent": "",
        "content": "Was that staked.us?",
        "created_at": "2021-02-03T18:00:30.715000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "https://blog.staked.us/blog/eth2-post-mortem",
        "created_at": "2021-02-03T18:01:41.322000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "was it a different issue from last time?",
        "created_at": "2021-02-03T18:07:00.752000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "or did the same thing cause the slashings?",
        "created_at": "2021-02-03T18:07:11.580000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "From that description it seems to be a different issue. They deliberately disabled the slashing protection and tried to use an adhoc system",
        "created_at": "2021-02-03T18:22:08.851000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "With PoS it's not really philosophical and actually a technical detail.  There is a certain amount of time (the weak subjectivity period) where if you are further behind than that, enough validators may have exited and withdrawn their funds that they can now create an alternate but completely valid chain which can actually finalize.  Other than getting a snapshot or checkpoint from a trusted source, there's no way to distinguish the \"real\" and \"alternate\" chain because both are legitimately signed by real validator keys.  And they can't be slashed for double signing because they've already exited.  https://www.symphonious.net/2019/11/27/exploring-ethereum-2-weak-subjectivity-period/ explains it in more detail.\n\nSo syncing from genesis is actually less secure than starting from a trusted state. It's one of the few times that better security also results in much better user experience, which is why I'm so surprised it hasn't been implemented more widely.",
        "created_at": "2021-02-03T20:04:04.513000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Similar idea yeah. The big advantage of Eth2 vs Eth1 here is that the snapshot is quite small and almost fixed size (grows in the number of validators but not the length of chain).  So rather than a snapshot of many gigabytes, it's about 17Mb I think for the beacon chain MainNet.",
        "created_at": "2021-02-03T20:21:28.047000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "That sounds a lot less, but where do we found state for eth1 for world state",
        "created_at": "2021-02-03T20:29:43.161000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "You don't need eth1 world state for the beacon chain at the moment.  Post merge, the eth1 client is actually still running quite independently and would have to sync its own state (using something like Geth's fast sync, OpenEthereum's snapshot sync or the newer snap sync). Notably, very very few users will try to do a full sync from Eth1 genesis because that's crazy (but that's what most beacon chain nodes do right now).",
        "created_at": "2021-02-03T20:36:02.922000+00:00",
        "attachments": null
    },
    {
        "author": "draganrakita",
        "category": "general",
        "parent": "",
        "content": "Got it now, state can be synced from other eth1 client but it can be verified by beacon if it is latest and greatest.",
        "created_at": "2021-02-03T20:41:42.843000+00:00",
        "attachments": null
    }
]