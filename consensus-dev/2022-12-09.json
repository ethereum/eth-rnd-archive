[
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Question on an attestation: on prater, slot 4503682, index 99, there is an attestation that appears to be of 0 value (incorrect votes, source not timely).  Is there any reason to include this attestation on the chain?",
        "created_at": "2022-12-09T09:36:09.833000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "general",
        "parent": "",
        "content": "Nope.",
        "created_at": "2022-12-09T10:09:34.325000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Thanks.  \u003c@\u0026595681804422479873\u003e looks like this was included by nimbus, worth adding in a check when packing attestations to not include those that are 0 value?",
        "created_at": "2022-12-09T10:42:56.875000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I think we still have an open issue about this that we never got the time around  to fix",
        "created_at": "2022-12-09T10:53:57.760000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "I think there is a lot of useless code in prysm state root computation. correct me if wrong but basically the wheel is reinvented for hash tree root of beaconBlockHeader, Fork, etc... there are custom hash tree root methods which seems identical to what fastssz already generate",
        "created_at": "2022-12-09T12:41:45.468000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "they also seem to use GoHashTreeRoot as well both fastssz and the custom methods so there should not also not be improvement in performance? I think that code can be safely removed",
        "created_at": "2022-12-09T12:42:37.700000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "the same cannot be said of some of the other fields. However, I think there is a very big chunk of code you guys can remove to make your own life easier, I also see LatestExecutionHeader uses its own auto generated HashTreeRoot and does not have a custom one, which leads me to believe that the same could be done with the others?",
        "created_at": "2022-12-09T12:44:26.478000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Its dependant on the fields in the state, for some fields we employ caching so fast-ssz will not do, while for others fast-ssz is fine. Some of this code is left over from a previous state implementation, so it might be redundant",
        "created_at": "2022-12-09T12:59:23.393000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Gotcha, anyway those methods dont do any caching, those methods computes the lowest leaves to be cached(depth 5 it seems)",
        "created_at": "2022-12-09T13:05:57.320000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Feel free to open up PRs to remove them and would be happy to take a look ðŸ™‚",
        "created_at": "2022-12-09T13:06:43.888000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Yes can do that",
        "created_at": "2022-12-09T13:07:05.903000+00:00",
        "attachments": null
    }
]