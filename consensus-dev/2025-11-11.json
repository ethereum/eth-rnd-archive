[
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "8061 seems very complex to me for what seem like fairly marginal staking UX improvements. I think I have a preference for patching the exit-consolidation submarine issue for Glamsterdam and leaving out 8061",
        "created_at": "2025-11-11T02:47:00.189000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "general",
        "parent": "",
        "content": "We already have a lot on our plate with ePBS, and potentially FOCIL",
        "created_at": "2025-11-11T02:47:26.290000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "A simpler alternative could be:\n1) change `CHURN_LIMIT_QUOTIENT` (e.g. double)\n2) do the \"exits can route through the consolidation queue\" thing\n\nIt still increases both exit and consolidation churn, without any of the refactoring",
        "created_at": "2025-11-11T05:42:18.161000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "Are you worried about the complexity of 2) specifically? Because that could also just be removed from the current EIP",
        "created_at": "2025-11-11T05:43:14.601000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "Independently of 8061, do you think that 8071 is a significantly easier fix for the submarine problem compared to routing exits through the consolidation queue?",
        "created_at": "2025-11-11T06:06:25.051000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "its interesting that we'd talked about the idea behind submarine in electra timeframe and didnt really worry about it, but now its a problem?",
        "created_at": "2025-11-11T07:49:03.901000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "Did we? I only found out about it a couple of months ago ðŸ˜„",
        "created_at": "2025-11-11T08:55:46.296000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "it came up a couple of times that i recall and we decided after exit we werent super worried",
        "created_at": "2025-11-11T08:56:11.079000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "For me it's not a big problem, it seemed worth to at least propose an EIP to fix given the PFI deadline, but I am not so sure it's worth fixing",
        "created_at": "2025-11-11T08:56:18.668000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "to me the thing i care more about is getting exit duration under control i guess",
        "created_at": "2025-11-11T08:56:41.528000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "However routing exits through the consolidation queue seems quite worth it because we at least get a big efficiency gain for exits",
        "created_at": "2025-11-11T08:56:55.393000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "Even without touching the churn parameter/s at all, that alone would be a 2.7x increase in max exit throughput",
        "created_at": "2025-11-11T08:57:51.169000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Yeah we figured this attack in Kenya and dismissed it ðŸ˜…",
        "created_at": "2025-11-11T09:36:22.638000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "Oh well it isn't much of an attack",
        "created_at": "2025-11-11T09:39:03.505000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "general",
        "parent": "",
        "content": "But the root cause that people use this loophole is because withdrawal is congested. Which increasing churn limit can mitigate.",
        "created_at": "2025-11-11T14:48:10.464000+00:00",
        "attachments": null
    },
    {
        "author": "greystroke",
        "category": "general",
        "parent": "",
        "content": "I agree, we should remove the loophole though since it is deisign flaw that lets whales with access to a 2048 ETH 0x02  validators skip the withdrawal queue. The solution should be to try and safely increase the churn limit for all stakers, not create an unfair withdrawal priority fee system that favors larger stakers over smaller ones.",
        "created_at": "2025-11-11T14:52:43.372000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "At the moment both EIP-8061 and 8071 fix the loophole, in different ways (allowing for everyone and disallowing for everyone)",
        "created_at": "2025-11-11T18:17:34.132000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "general",
        "parent": "",
        "content": "One thing in epbs is that builder payment is subject to churn limit when converted into withdrawal. So a large builder payment can put pressure on withdrawal queue, and subsequent proposers can wait for a while before they get their builder payment. So 8061 can mitigate that",
        "created_at": "2025-11-11T18:47:51.261000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "not sure we dismissed as much as decided that its not important because the funds were exited",
        "created_at": "2025-11-11T19:35:25.589000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "they're utilising another queue, but i wouldnt go as far as to say they're \"skipping the withdrwawal queue\"\nthey do skip the long exit queue, but they are still rate limited, just in a different bucket...",
        "created_at": "2025-11-11T19:37:00.032000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm not sure if there's an expressed consensus among the two of these, or even if we want to do these in Glamsterdam, but a fix along 8061 seems better to me than 8071",
        "created_at": "2025-11-11T22:20:39.647000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "i guess im still in line with what we were saying at Kenya, why does it matter if balances are moving that are exited, its not really an issue for security, so to me 8071 doesnt really seem that beneficial compared to 8061.",
        "created_at": "2025-11-11T22:38:07.398000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "general",
        "parent": "",
        "content": "My preference would be:\n1) Doing 8061 as is\n2) Just doing the exit re-routing + increasing CHURN_LIMIT_QUOTIENT\n3) Doing nothing",
        "created_at": "2025-11-11T22:55:59.747000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "If we didn't have the helper that both computes the exit epoch and updates the churn limit at the same time I'd say 8061 is easy. But the fact that we're touching the state churn at different points during both block and epoch transition makes me doubt the simplicity of implementation of 8061. 8071 definitely is simple. I am not claiming 8061 is not, just that it's not entirely obvious to me right now. It could be a good opportunity to remove altogether that helper and just update the churn once on epoch transition and not touch it again",
        "created_at": "2025-11-11T23:17:02.801000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "i do wonder if we just treat the 2 queues separately with no re-routing and their own config items, and then we can tweak individually if needed (removing artificial cap)\nprobably cleanest in terms of the spec",
        "created_at": "2025-11-11T23:23:28.355000+00:00",
        "attachments": null
    }
]