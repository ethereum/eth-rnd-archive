[
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "re. shorter slot time, im still of the opinion that we ship what's ready, and shorter slot times isn't ready to take into a delivery pipeline atm so imo its kind of a no brainer (catching up on acdc, this is my 2c)\nlets get the spec updates, get the discussions happening, and start thinking about what it looks like, but I agree with \u003c@554799849288105986\u003e that the shortest path to deliver both restructuring and shorter times is to do slot times second given the state of play of the respective features.",
        "created_at": "2025-06-27T00:38:15.748000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm working on the spec update for 7732, Francesco has already done forkchoice I think (haven't had time to actually review). \u003c@520034910149410861\u003e also left a bunch of open questions that are good and we should probably revisit. Anyway at this stage in stuck with a matter of form: both implementations and specs are on top of Electra. Not sure what will be easier, if rebase first and then update or the other. I think I'll do the other order",
        "created_at": "2025-06-27T01:01:11.460000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@592004585506340885\u003e We just had a consensus bug on devnet-1 that is a subtle thing that should be caught in spectests I think, not  sure how to generate such a test, having trouble generating the regression in go actually https://github.com/OffchainLabs/prysm/pull/15450",
        "created_at": "2025-06-27T17:16:16.673000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@911437720994324570\u003e",
        "created_at": "2025-06-27T17:16:25.339000+00:00",
        "attachments": null
    },
    {
        "author": "linoscope",
        "category": "general",
        "parent": "",
        "content": "Thanks for reporting! Agree we should have tests for checking if lookahead initialization at fork is using correct active validator set. We do have tests for this for the epoch processing but it was missing for fork initialization. Filed this issue for it, will take a stab at it: https://github.com/ethereum/consensus-specs/issues/4412",
        "created_at": "2025-06-27T17:27:00.404000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This is not something that is only for this particular feature, we've run Kurtosis runs ad-nauseum now, and a bunch of devnets, and this bug shows that we **never** changed the active validator set at the fork, this is kinda crazy",
        "created_at": "2025-06-27T17:29:59.089000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "There should be standard fork tests where the active validator set changes at the fork, both by exits and by activations",
        "created_at": "2025-06-27T17:30:33.938000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Oh wow. Yeah thanks for reporting \u003c@755590043632140352\u003e. And thanks \u003c@911437720994324570\u003e for working on it. We definitely should add tests for this like you describe.",
        "created_at": "2025-06-27T17:56:31.340000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm shocked we don't have these, we went through 5 forks already üôÇ",
        "created_at": "2025-06-27T18:07:12.722000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "devnet 2*",
        "created_at": "2025-06-27T19:02:26.387000+00:00",
        "attachments": null
    },
    {
        "author": "linoscope",
        "category": "general",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e \u003c@592004585506340885\u003e I have added spec-tests that checks that proposer lookahead initialization uses the correct active validator set at fork transition.\n\nhttps://github.com/ethereum/consensus-specs/pull/4413",
        "created_at": "2025-06-27T19:33:41.080000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "general",
        "parent": "",
        "content": "could we have this for all previous forks too please?",
        "created_at": "2025-06-27T20:24:37.531000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "this is impossible for previous forks. What needs to be done is to add fork tests (not lookahead tests) for all forks, where there are exits and activations at the fork, and we need to compare the post-state",
        "created_at": "2025-06-27T20:30:16+00:00",
        "attachments": null
    },
    {
        "author": "linoscope",
        "category": "general",
        "parent": "",
        "content": "Yes, my tests are just for proposer lookahead initalization at Fulu fork, for the more general variant will need \u003c@592004585506340885\u003e 's assistance üôè",
        "created_at": "2025-06-27T20:36:13.914000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "The way I did it in Go (well, I told Claude to do) is to cook the activation epoch of the validators to be the fork epoch, and that's it",
        "created_at": "2025-06-27T20:37:31.071000+00:00",
        "attachments": null
    }
]