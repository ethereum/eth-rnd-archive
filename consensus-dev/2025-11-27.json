[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "From all the EIPs discussed today, the one that seemed to have broad support and I am not sufficiently informed is the SSZ one. cc \u003c@881905303011086387\u003e I have some questions. People from Lodestar said that it was entirely contained to their SSZ library. I believe Teku said the same. I am a bit confused, shouldn't this also affect the state trie and the remerkleization/marking of dirtly leaves and such?",
        "created_at": "2025-11-27T15:34:13.500000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm not pro or against, just trying to get a feeling as to where complexity will creep. I don't mind changes to the SSZ library that I can statically check. But if this is going to change our Merkleization of the trie those bugs are a hell of a subtle ones to find",
        "created_at": "2025-11-27T15:35:06.368000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@833706406699073536\u003e who would be the most informed one in our team I believe",
        "created_at": "2025-11-27T15:35:30.771000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "The changes are completely within our SSZ lib (merkleization and marking of dirty leaves, etc).  The API we consume in the `beacon-node` is the same. How the containers (state, etc) are defined doesnt change much (`Container` -\u003e `ProgressiveContainer`).\nAn important caveat is that while we have strong strong support for the EIP, we do not want to affect shipping the fork (in June-ish) which we think is doable.  From a personal perspective I think a focus on the slot restructuring of ePBS to first get that dialed in via devnets is critical.  Then, after there is no risk to moving the fork timeline, if we can get the SSZ changes interop-tested via later devnets (3, 4, 5?) it will be fantastic.  Its a great EIP that will go a long way to making DX better",
        "created_at": "2025-11-27T15:44:52.541000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "So how is it that it doesn't affect the trie?",
        "created_at": "2025-11-27T16:14:23.007000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I guess it's internal to Lodestar, you offload rehashing of a trie to the SSZ library?",
        "created_at": "2025-11-27T16:15:28.662000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "general",
        "parent": "",
        "content": "I raised the question that the sentiment is to ship Glamsterdam fast, but I got impression no one cares about it anymore. If delaying the fork is OK then for sure we should consider to add lots of great EIPs. There is zero chance to ship Glamsterdam with Stable Containers in June-ish. It‚Äôs a big challenge to do that without Stable Containers (devnet0 is still a bit too far away). I think the question is ‚Äúare we OK with shipping late‚Äù this time?No doubt that Stable Containers is a desired feature, but that‚Äôs not the key question.",
        "created_at": "2025-11-27T17:13:44.699000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "This is exactly what I'm getting at. Shipping faster is critical. Getting on a regular cadence matters a lot. If we cannot get in stable container without a delay, then it doesn't go this fork and can go in H*",
        "created_at": "2025-11-27T17:42:09.021000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "\u003c@534934855113506836\u003e is more familiar with the implementation so i would prefer to let him answer (is thanksgiving today).  But to the best of my knowledge, yes, all the rehashing is part of our implementation and only the name (class) of the container changes in the main repo",
        "created_at": "2025-11-27T17:45:13.788000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "general",
        "parent": "",
        "content": "If I remember correctly we had serious discussions for including stable containers in Deneb because beacon state merkle tree depth was increasing due to additional fields being added. Is something similar happening in Gloas? Not that I‚Äôm necessarily against stable containers in Gloas, more just trying to gauge urgency.",
        "created_at": "2025-11-27T17:49:20.382000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "Great question.   I think there is a lot of community interest because it makes fork transitions easier (smart contract upgrades).   Is it ‚Äúurgent‚Äù, this is more difficult to assess.  But if I had a goal it will be to get the fork upgrade discussion swayed away from knee-jerk ‚Äúwe need this now‚Äù and ‚Äúit must be now or it‚Äôll never go‚Äù style decision making.  And to that end I think we as a group are doing a good job not considering lots of great EIPs due to time constraints.  \n\nInclusion Analysis Paralysis and the Battle for Inclusion are the enemies of cadence and cohesion.   When we ship on a regular, shorter schedule it will be much easier to interleave feature development and do feature selection for N+1 and N+2.  Will also make it more comfortable for EIP champions that if a feature (like the IL and SSZ upgrade which there is broad consensus for) doesnt make it then there are some ‚Äúimplicit guarantees‚Äù that it will go in the next fork without having to fight for inclusion again.    \n\nLike from a scheduling perspective we make sure the first couple of devnets go smoothly (with essentially ePBS only) so from a code perspective the main features will be mostly merged to trunk branches.  That allows the other EIPs to be developed on feature branches based on the trunk with the G* already merged.  SSZ and Inclusion Lists (as well as any other small EIPs) can be developed in parallel well before G* goes to testnets (devnet 2ish goal to merge bulk of ePBS).  Then the decision for ‚Äúdoes it go now, or in the next‚Äù becomes trivial (around devnet 3ish when spec for that and discussion for H* starts) both from a timing and a testing perspective. This will build in flexibility as teams will have surety of  inclusion for future features and thus can ensure development resources are allocated.",
        "created_at": "2025-11-27T18:14:06.088000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "Yeah this is exactly what we wanted to avoid with our question of asking for implementation complexity. If its already known that its a big change, then the discussion is very different from if it‚Äôs a small change that can make lives easier. Could client teams have a look and have a position on complexity by next acdc?",
        "created_at": "2025-11-27T18:52:19.925000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "general",
        "parent": "",
        "content": "\u003e Will also make it more comfortable for EIP champions that if a feature [...] doesnt make it then there are some ‚Äúimplicit guarantees‚Äù that it will go in the next fork without having to fight for inclusion again\nI don't think I agree with this. What is important now and what is important in 6 months can be different. Every fork is an opportunity to review priorities.\n\n\u003e That allows the other EIPs to be developed on feature branches based on the trunk with the G* already merged.  SSZ and Inclusion Lists (as well as any other small EIPs) can be developed in parallel well before G* goes to testnets\nI guess something like this could work, but at least for Teku we rarelly will have everyone in the team working on a single EIP. So having clarity around what EIPs are going to make it in means we can better plan the work and our integration plans.\n\n\u003e Shipping faster is critical. Getting on a regular cadence matters a lot. If we cannot get in stable container without a delay, then it doesn't go this fork and can go in H*\nI understand that we want to get into a better cadence for releases. But IMHO forcing ourselves into a fixed and strinct cycle (and dropping things that are important) is a bit counter productive. The cost of a hardfork is high (both in development but all the process around it), so arbitrarily fitting it into 6 months just for the sake of consistency to me is not ideal. I'll give an example to illustrate my point:\n\nImagine it would take us 7 months to deliver ePBS and EIP-X. Everyone agrees that EIP-X is important and would be a great addition to the fork. We deliver the fork one month later, but everyone benefits from that feature for \"extra\" 5 months (compared to waiting for the next 6 month cycle to release).",
        "created_at": "2025-11-27T21:14:43.796000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "general",
        "parent": "",
        "content": "I understand that in my example, we could always have the argument of adding EIP-X, Y and Z, etc. And we would never deliver the fork hehe. My point is that we should not just focus on the 6 month window, but also the value of each EIP. \n\nMetaphor: similar to target and limits in blobs... IMHO our time between forks would be better with target 6 months, limit 12 months (for example). Giving us a little bit of flexibility. üôÇ",
        "created_at": "2025-11-27T21:16:44.021000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "general",
        "parent": "",
        "content": "Don't take my message as going against 6 month cycle. I think as a target it is a good idea to have better cadence and predictability. This is coming from genuine concern for the wellbeing of my team and everyone else working on the protocol. ‚ô•Ô∏è",
        "created_at": "2025-11-27T21:18:29.590000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "general",
        "parent": "",
        "content": "\u003c@931591385545584640\u003e I do like your idea of focusing on the headliner first and only after that bringing in other \"companion\" EIPs. I am just worried on how that would work in practice (at least for my team).",
        "created_at": "2025-11-27T21:20:22.174000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "you can see the implementation complexity in the PR:\n\n- https://github.com/ethereum/consensus-specs/pull/4630\n\n+ https://github.com/ethereum/remerkleable last few commits",
        "created_at": "2025-11-27T22:51:52.487000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "\u003c@808969530608451584\u003e maybe can commit on complexity as well, as he also played with the library changes",
        "created_at": "2025-11-27T22:53:46.561000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "general",
        "parent": "",
        "content": "Yes, gloas (especially ePBS) has a lot of modifications to both, the BeaconState and BeaconBlockBody.\nhttps://github.com/ethereum/consensus-specs/blob/master/specs/gloas/beacon-chain.md#modified-containers\nSo it'd make a lot sense to introduce stable containers with gloas.",
        "created_at": "2025-11-27T23:02:56.574000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "general",
        "parent": "",
        "content": "Yea, I've been implementing stable container support into my ssz library. \nIt definitely touches the tree shape and requires some effort to implement the new progressive merkelization code path (and intense testing for it).\nThis is basically the complex part, all the new Progressive or Stable types build on top of this afterwards and are not very complex to add on top.\nI think most ssz libs hide this complex logic, but for clients that cache tree nodes and try to optimize the hashing via caching it's more work.\n\nI'm a bit undecided.  On one side it's a nice feature and helps application developers that rely on beacon state or block proofs a lot.\nOn the other side, it looks like most ssz libs are still missing support for it: https://pureth.guide/implementations-ssz/ \nAnd I'm not sure if we should push for this without getting support in all major ssz libs first.  It is officially part of the spec now,  so they should implement it.\nIt feels like we're stuck in this situation.  We agree it'd be nice to have,  but we're depending on libs that don'T have it yet as it's not scheduled for a fork and we don't wanna schedule it as it's too much work to get the libs ready and properly tested till the next fork üòÑ",
        "created_at": "2025-11-27T23:15:12.566000+00:00",
        "attachments": null
    }
]