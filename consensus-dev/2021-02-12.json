[
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "For HF1, is it complete enough to have test vectors? https://github.com/ethereum/eth2.0-spec-tests/branches doesn't seem to have any branches updated since HF1's been coalescing.",
        "created_at": "2021-02-12T09:43:56.953000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Tried renicing geth to +12 and nothing really improved. Got rid of it and after 24 hours I went from more than 4% bad votes to less than 1%, half of them because of a drop in my network",
        "created_at": "2021-02-12T10:00:08.794000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "May be worth seeing if you can drop down the number of peers to a minimal amount (2?) and seeing if that helps",
        "created_at": "2021-02-12T10:08:07.425000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "I think \u003c@!755590043632140352\u003e already tried that and it was still an issue",
        "created_at": "2021-02-12T10:50:44.598000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "yeah I ran with 3 for more than a month",
        "created_at": "2021-02-12T10:51:05.556000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "How about we start identifying pools proposing bad blocks and shame them? here is one with a LOT of bad blocks https://beaconcha.in/blocks?q=Powered that was just the first that appeared in the explorer without applying any filters. I think beaconcha.in can quickly provide us with this info. The point is that pool operators are probably not aware of this issue since they get full reward you wouldn't check if your blocks are being voted. I myself didn't realize about checking my own blocks until today",
        "created_at": "2021-02-12T10:52:49.637000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "How would you define \"bad blocks\" here?",
        "created_at": "2021-02-12T11:13:36.180000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "that there are many more blocks with less than 200 votes than the average for the network: those blocks are blocks that were seen late by most attesters.",
        "created_at": "2021-02-12T12:04:07.071000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Coming from your graph above we know more or less how many bad blocks in that sense to expect, and it's easy to find proposers with many more (orders of magnitude) that the proportion of 4% of blocks that generated bad head votes",
        "created_at": "2021-02-12T12:05:19.968000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Think there would need to be a bit more correlation.  According to https://bi.etherscan.io/public/dashboards/KH9jbP687szqlAnHiNEfNictrwNhvdOEQl0PwB6m?org_slug=default Kraken has over 14% of the total validators, for example, so if they didn't attest to a block for some reason it would be considered bad.\n\nIt would be really nice if the ETH2 network allowed probes (receive-only peers), but from what I gather the current peer scoring systems would kick them out and blacklist them.",
        "created_at": "2021-02-12T12:09:08.355000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Why, that would count to about 400 votes now, to be considered bad you will need 90% of nodes not seeing them",
        "created_at": "2021-02-12T12:14:32.079000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "a block with 300-200 votes now has not been seen by 90% of attesters",
        "created_at": "2021-02-12T12:14:48.547000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Okay my misunderstanding, thought you mean 200 votes fewer than expected.",
        "created_at": "2021-02-12T12:15:51.752000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "yeah if you look at that list (that has different pools it seems, but I can't filter now on beaconcha.in) you will find that there are tons of these bad blocks, so this is a group of validators hurting a lot of attesters. I think it should be fairly simple to identify other large groups like this",
        "created_at": "2021-02-12T12:17:27.500000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Should be possible to generate some sort of list out of the data in chaind",
        "created_at": "2021-02-12T12:26:26.569000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "We need to filter blocks from the last couple of weeks and order them by votes, i thought chaind didn't include the number of votes received yet, I was supposed to look into that",
        "created_at": "2021-02-12T12:27:56.492000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "It has all the attestations so you should be able to work it out from them",
        "created_at": "2021-02-12T12:29:15.357000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "In beaconcha.in this seems like it may be a simple addition since they already have a the table including time and votes and in a nice visualization form, so you can just click on the proposer and see if they have been producing regularly bad blocks",
        "created_at": "2021-02-12T12:29:19.434000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "From chaind it looks like it would be a lot of work getting first the list of bad blocks then grab the proposers and check if they are part of a pool proposing bad blocks",
        "created_at": "2021-02-12T12:30:30.726000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "It took me less than a minute to find the above one on beaconcha.in",
        "created_at": "2021-02-12T12:30:55.027000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Main difference being that you can do the work yourself with chaind, however.  I'll see if I can have a look at it over the weekend.",
        "created_at": "2021-02-12T12:33:31.635000+00:00",
        "attachments": null
    }
]