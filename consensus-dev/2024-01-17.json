[
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "In the context of MAXEB we would probably need to store additional information in the Validator record. I would like to know what client devs are thinking about the following options:\n1) Append a new field to the Validator record\n2) Use an existing field to keep that information, e.g. `activation_eligibility_epoch` which is not used\n3) Create a separate list in the beacon state similar to `balances` to keep validator's meta information (may be extended in the future)\n\nFor the context, the information is an index of another validator required by the stake consolidation operation. It can only be set once and never changes after that.\n\nWill any of these options be a show stopper? Which of them would be preferable?",
        "created_at": "2024-01-17T05:41:55.025000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "What is the UX you are thinking here? validators send a message to send all their balance to another validator?",
        "created_at": "2024-01-17T15:20:16.954000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Yes, exactly this",
        "created_at": "2024-01-17T17:08:00.939000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Max EB is already very invasive. Changing the validator structure is one of the worst things you could do to hashing, if we could avoid it that would be great. Also not nice to keep a structure that won't change ever. I need to think about this UX, why do you want to keep track of this instead of just consider this as a deposit? You process such message and just remove the balance from one validator and pool it on other",
        "created_at": "2024-01-17T20:13:20.928000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Or exit and re-enter?  Seems like a lot of long-term debt to provide a short-cut to an already existent procedure.",
        "created_at": "2024-01-17T20:19:39.258000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "Relying on the churn is an alternative approach. The problem with pushing this balance through the activation churn as a regular deposit is unpredictable time of under realized revenue. We want to make consolidation smooth for stakers, ideally with no losses or with a limited amout of losses. There is one promising consolidation proposal that doesn't require extending a validator structure. Anyway I decided to ask to weigh in alternatives",
        "created_at": "2024-01-17T20:38:24.194000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "The whole issue with MaxEB is that there is now a spread of balances where a validator can be active.  If higher balances have some sort of benefit then people will move to them regardless of short-term costs (within reason).  And if not then people won't move regardless, and will continue to create 32 ETH validators.",
        "created_at": "2024-01-17T20:42:21.419000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "We want to provide as higher stake consolidation rate as it is possible for the health of the network. And in-protocol consolidation is one of the things that makes the consolidation more attractive",
        "created_at": "2024-01-17T20:45:15.940000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "If there are long-term benefits for having a larger stake on a validator then that should be enough for stakers to take the short-term hit whilst consolidating, no?",
        "created_at": "2024-01-17T20:47:27.483000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "The problem is that you don't know how many validators will be in the activation queue while your validator is being exited and withdrawn. Long term it will be beneficial but it's not certain on what horizon -- I think this uncertainty might be an obstacle on the way to consolidation for some stakers",
        "created_at": "2024-01-17T20:50:27.621000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "There may be an inherent benefit in consolidating independent of L1 decisions: there are restaking primitives that would require a single large node instead of many for example. I think large operators will anyway coalesce because it's in their own interest regardless",
        "created_at": "2024-01-17T21:20:20.754000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Perhaps then building  without this transfer of balance ability, and if consolidation doesn't happen add it in the next hard fork?",
        "created_at": "2024-01-17T21:24:36.652000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "If we can come up with consolidation design of a moderate engineering complexity then I would prefer to include it into MAXEB from the very beginning",
        "created_at": "2024-01-17T22:33:25.242000+00:00",
        "attachments": null
    }
]