[
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Hello, I have a little project that perhaps someone here would want to take. Perhaps even someone like \u003c@!514429265001971732\u003e or one of your interns. There have been increased reports of missing attestations across clients. \u003c@!602753420033785856\u003e of Lighthouse and \u003c@!476250636548308992\u003e of Prysm have been looking independently to diagnose this for their clients (I suppose all clients have people looking into this). Michael's findings are that there are increased numbers of evenly split aggregates and Nisdas'  findings are that these occur right after a very late block that causes a short reorg. Ben Edington has been saying for a while of the impact of these in conjunction with having fill blocks, and how the next proposers have little incentive to include attestations on a short fork. I have a suspicion that this is happening now because of clustering on mainnet. I suspect that there are very large chunks of validator keys being run by pools on highly peered networks of their own, that produce blocks fast and they pack them with their own attestations. Those blocks are then arriving late to the single validator. If this is the case this should be checkable with on-chain data. \n1) There are large lists of validators associated to pools in Beaconcha.in. Find those, just the first 5 pools would be more than enough. \n2) Grab several blocks and gather the average attestation performance of these validators: that is, for each block, get the committe, match how many of these pool validators were supposed to attest and then how many did correctly.\n3) Do the same for the network as a whole.\n4) Find blocks with a large number of missed attestations: Given the information in 3) you can filter now some blocks that were statistically not voted. \n5) On these blocks, determine the percentage of them that were proposed by the pools (see if it is more than their validator share)\n6) On these blocks determine if pool validators attested with average performance as in 2)",
        "created_at": "2021-08-31T11:30:11.186000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "If no one takes on this project I'll do it the next period without classes",
        "created_at": "2021-08-31T11:30:46.651000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "general",
        "parent": "",
        "content": "On prysm side, we fixed two issues regarding attestation mem pool that should drastically improve orphaned attestations seen on mainnet. See 9441 and 9443. From your description, it seems highly correlated",
        "created_at": "2021-08-31T14:38:59.746000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Yes, if the cause is what's being guessed, then if the following blocks are prysm produced then we will start seeing less missed attestations and more bad head votes. But still I think it would be nice to see the root cause for this situation in the first place.",
        "created_at": "2021-08-31T14:45:06.576000+00:00",
        "attachments": null
    }
]