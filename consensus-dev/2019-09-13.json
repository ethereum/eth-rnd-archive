[
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "\u003c@291925846556540928\u003e do these cases pass in pyspec? https://github.com/djrtwo/interop-test-cases/tree/master/tests",
        "created_at": "2019-09-13T18:26:48.403000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "If you apply the blocks to the pre state correctly, then yes",
        "created_at": "2019-09-13T18:27:32.122000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "zcli fails on the artemis one, i dont know how to run with pyspec",
        "created_at": "2019-09-13T18:27:34.699000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Update zcli",
        "created_at": "2019-09-13T18:27:42.263000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "i'm on 0.0.11",
        "created_at": "2019-09-13T18:27:47.003000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Copy paste from Danny:\n\nhttps://github.com/djrtwo/pycli\n\nYou can try to pull it down if you want.\nNote that due to some current battle I’m having with the cli builder, the —pre and —post args must be run after the base pycli.py and cannot be after the trailing commands (eg transition, blocks, etc)\n\nGOOD: python pycli.py —pre \u003csample.ssz\u003e transition blocks … \n\nBAD: python pycli.py transition —pre \u003csample.ssz\u003e blocks …",
        "created_at": "2019-09-13T18:28:40.956000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "```\nzcli transition blocks --pre tests/artemis_16_crosslinks_and_balances/pre.ssz tests/artemis_16_crosslinks_and_balances/block.ssz  -o /dev/null\nfailed block transition to block tests/artemis_16_crosslinks_and_balances/block.ssz\nblock has invalid state root\n➜  interop-test-cases git:(master) zcli version\n\nZCLI: v0.0.11\nZRNT: v0.8.4-4 interop proposer rewarding fix\nZSSZ: v0.1.3\n\n```",
        "created_at": "2019-09-13T18:29:13.412000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Not sure if the option passing order was fixed yet",
        "created_at": "2019-09-13T18:29:15.339000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "i'll try in pycli, ty",
        "created_at": "2019-09-13T18:29:32.186000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Ah yes, state root is invalid still, since the block was produced on an invalid implementation afaik.",
        "created_at": "2019-09-13T18:30:07.446000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "But can be disabled with verify-state-root=false",
        "created_at": "2019-09-13T18:30:35.570000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "ah",
        "created_at": "2019-09-13T18:30:38.647000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "OK so we should expect this to fail state transition?",
        "created_at": "2019-09-13T18:30:58.796000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "we have been debugging this for hours lol",
        "created_at": "2019-09-13T18:31:07.384000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "You shouldn't expect anything based on state root. These testcases are just interesting test inputs, and then you can compare your behavior against that of pyspec and zcli",
        "created_at": "2019-09-13T18:31:59.428000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "ah ok, we do get the expected resulting state",
        "created_at": "2019-09-13T18:32:18.479000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "but block fails processing",
        "created_at": "2019-09-13T18:32:23.157000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "Nice",
        "created_at": "2019-09-13T18:32:24.291000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "If just because of state root, then that is expected, as the block state root was produced with a buggy client (afaik, don't know per test). Just check if the other parts of the state match reference spec",
        "created_at": "2019-09-13T18:33:40.720000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "got it, we'll ignore the state root verification error for now",
        "created_at": "2019-09-13T18:34:17.952000+00:00",
        "attachments": null
    },
    {
        "author": "prestonvanloon",
        "category": "general",
        "parent": "",
        "content": "thanks!",
        "created_at": "2019-09-13T18:34:22.355000+00:00",
        "attachments": null
    },
    {
        "author": "eth2_gitter_bot",
        "category": "general",
        "parent": "",
        "content": "\u003cmratsim\u003e Mmm we have spec test cases ignored because they require failing state root verification and our skip Validation flags skips both BLS and State Root verification (not granular enough), maybe add a verify State Root flag in the meta.yaml?",
        "created_at": "2019-09-13T20:13:00.497000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Good call mamy",
        "created_at": "2019-09-13T20:39:53.097000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "general",
        "parent": "",
        "content": "Will need to hand write vectors that capture this functionality anyway. These test cases will be invalidated if any bump in spec version",
        "created_at": "2019-09-13T20:40:43.449000+00:00",
        "attachments": null
    }
]