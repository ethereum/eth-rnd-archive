[
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "the EL currently only has an interface for full ExecutionPayload so does not receive tx/withdrawals root",
        "created_at": "2023-01-09T14:16:56.315000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "",
        "created_at": "2023-01-09T14:17:18.173000+00:00",
        "attachments": [
            {
                "type": "application/pdf",
                "origin_name": "elroots.pdf",
                "content": "200266aea377284e3e2ba803611df71a87f5b63a00f03a9350ddb4b3818822cf"
            }
        ]
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "here the summarey",
        "created_at": "2023-01-09T14:17:23.069000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "I know but thats full chain, header chain is broken though",
        "created_at": "2023-01-09T15:16:36.064000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "I would prefer to not have multiple hashings in EL due to the fact that compared to CL, it is not as a complex system. And it would be as breaking as EIP1559 because it is somewhat radical. The alternative could be to move full sszification to another hard fork and maybe transition the whole EL chain to SSZ and get rid of RLP completely, or to just send in the payload header the rlp tx hash which would be easier to implement overall",
        "created_at": "2023-01-09T15:21:05.665000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Just my 2 cents",
        "created_at": "2023-01-09T15:21:09.885000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "If you think that the EL will get SSZ eventually (which it sounds like you do) it feels worse to me to have the header contain RLP encoded witness root for some limited number of folks, as we'll forever have to retain both RLP and SLZ code for handling witness roots in the EL.",
        "created_at": "2023-01-09T15:59:43.145000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "i dont think that but I agree with you that it will be a disadvantage",
        "created_at": "2023-01-09T16:00:54.551000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "but you also have got to keep in mind that switching rlp to ssz completely is not really something to take easily, I would at least attempt this in a less breaking hard fork. there is still the alternative to just change tx root to be rlp based in CL",
        "created_at": "2023-01-09T16:02:35.657000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "which is less breaking as well as CL does not nothing else with txs",
        "created_at": "2023-01-09T16:02:53.495000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "it just is easier to change it on the CL side rather than EL side, far less consequences and used way less",
        "created_at": "2023-01-09T16:04:01.957000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "it would also makes more sense conceptually IMO since receipt hash and block hash are both rlp based there so why should only that one be ssz based? if you do that you can even validate the execution payload header object against its blockhash field which can come handy",
        "created_at": "2023-01-09T16:04:25.678000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "general",
        "parent": "",
        "content": ".NET doesn't have an SSZ library. We are developing some, but don't assume it is just a given.",
        "created_at": "2023-01-09T16:39:34.255000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "general",
        "parent": "",
        "content": "So be aware that introducing serialization changes that late into development has risks.",
        "created_at": "2023-01-09T16:42:07.132000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "general",
        "parent": "",
        "content": "in last ACDE call there was a mention that receipt hash would be useful to transition to SSZ as well",
        "created_at": "2023-01-09T17:09:23.938000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "\u003c@360491619402776577\u003e I reviewed your PR, I think there are a few things more. I figured I could help you guys, here's a trivial implementation, haven't even read it, certainly not optimized and no error/length-checks, but it should give you an idea of how much easier it is to hash with the right signature and how much faster it is as well. You can remove a bunch of allocations from this impl, but is already way better than hashing 2 chunks at a time. \ncc \u003c@687974325072035882\u003e  I think you guys would benefit from this if using Go. There may be a few off-by-ones, will check the code later. https://github.com/potuz/txroot/blob/main/txroot.go",
        "created_at": "2023-01-09T19:34:15.876000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "Thank you, I am slowingly switching all of my hashing to gohashtree so this will come in handy",
        "created_at": "2023-01-09T19:39:40.754000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Be careful though, this is using a different branch that takes []byte instead of [][32]byte, I will add another function to the library with this signature cause changing the API in prysm would be painful, but this signature is way better",
        "created_at": "2023-01-09T19:41:45.601000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "general",
        "parent": "",
        "content": "Did you come up with the zero hash init trick yourself?",
        "created_at": "2023-01-09T20:14:26.551000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I think every implementation uses zero hashes tables. Or you mean to run it at init time?",
        "created_at": "2023-01-09T20:27:48.014000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "general",
        "parent": "",
        "content": "\u003cvdWijden\u003e Damn, I thought I was really clever when writing this :D",
        "created_at": "2023-01-09T20:28:20.918000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "In C I would have done it at compile time as a constexpr ðŸ™‚",
        "created_at": "2023-01-09T20:28:41.192000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "general",
        "parent": "",
        "content": "FWIW, even the old vyper eth2 deposit contract had the zero-hashes trick. The code is discussed here: https://github.com/ethereum/consensus-specs/pull/490 from Vitalik Jan 2019. And the zero-hashes trick itself is probably older, but don't have a better source",
        "created_at": "2023-01-09T22:13:17.114000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I think Marius refers specifically to initialize it",
        "created_at": "2023-01-09T23:18:00.276000+00:00",
        "attachments": null
    }
]