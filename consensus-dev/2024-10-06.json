[
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "what two pipelines? the only thing which calls or otherwise references https://github.com/ethereum/consensus-specs/blob/v1.5.0-alpha.7/specs/electra/beacon-chain.md#new-is_valid_switch_to_compounding_request is https://github.com/ethereum/consensus-specs/blob/v1.5.0-alpha.7/specs/electra/beacon-chain.md#new-process_consolidation_request per, e.g. https://github.com/search?q=repo%3Aethereum%2Fconsensus-specs%20is_valid_switch_to_compounding_request\u0026type=code\n\nIt's one pipeline, implemented strangely redundantly",
        "created_at": "2024-10-06T09:36:33.916000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "`is_valid_switch_to_compounding_request` is effectively part of `process_consolidation_request` and has no separate external existence",
        "created_at": "2024-10-06T09:37:15.771000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "really, I'd just go with a version of `get_validator_index_by_pubkey` which could return not-there also, because basically every time it does:\n```python\n  validator_exists = is_existing_validator(...) # but in a clumsy way\n  if validator_exists:\n    index = get_validator_index_by_pubkey(...)\n```",
        "created_at": "2024-10-06T09:47:09.832000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "was thinking about this method with `UINT64_MAX` returned if given the pubkey there is no validator in the state",
        "created_at": "2024-10-06T21:41:18.693000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "general",
        "parent": "",
        "content": "what two pipelines? the only thing which",
        "created_at": "2024-10-06T21:45:07.901000+00:00",
        "attachments": null
    }
]