[
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "Eth2 blocks of the past few hours have the same eth1 block hash, is this supposed to happen?",
        "created_at": "2021-03-09T08:13:18.664000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "\u003chttps://beaconcha.in/block/704455\u003e",
        "created_at": "2021-03-09T08:13:23.998000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "No...",
        "created_at": "2021-03-09T08:14:58.602000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "beaconscan has the same (was worried it was an issue on our end first)",
        "created_at": "2021-03-09T08:16:40.623000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "From a bunch of different block proposers as well, which suggests it isn't just one ETH1 node stalling out.",
        "created_at": "2021-03-09T08:17:35.125000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Would be good to gently escalate I think.  Who is on that would be able to dig a bit?",
        "created_at": "2021-03-09T08:18:01.256000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "maybe a bug on prysm's end? \u003c@!476250636548308992\u003e",
        "created_at": "2021-03-09T08:18:09.441000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "You think that many people are running Prysm?",
        "created_at": "2021-03-09T08:18:36.926000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "yes",
        "created_at": "2021-03-09T08:18:42.149000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@!118185622543269890\u003e who is a green dot in Discord.",
        "created_at": "2021-03-09T08:18:58.929000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "\u003chttps://www.reddit.com/r/ethstaker/comments/l97tm1/distribution_of_beacon_nodes_per_client_type_and/\u003e",
        "created_at": "2021-03-09T08:19:24.319000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "gs5hfpvyjme61.png",
                "content": "35394205e320a9a4d2c4539c6dc3b6580c8fa045ca88dc146b160f7f8c61bb4e"
            }
        ]
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "i dont think so, but will have to dig in to it.",
        "created_at": "2021-03-09T08:20:05.948000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "I would expect at least one not-prysm block mined after a \"few hours\".",
        "created_at": "2021-03-09T08:20:52.718000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "this is across all clients though",
        "created_at": "2021-03-09T08:21:23.292000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Is there an easy way to see if there are *any* blocks recently with different ETH1 data?",
        "created_at": "2021-03-09T08:21:24.306000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Is there any abnormalities in the voting since the problem started?",
        "created_at": "2021-03-09T08:22:07.420000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "There were some in the previous testnet before mainnet launch",
        "created_at": "2021-03-09T08:22:35.347000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "\u003c@!97774605351010304\u003e can you clarify the abnormality ? it does take a few hours for the new eth1 data to be voted in",
        "created_at": "2021-03-09T08:22:58.424000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Shouldn't there regularly be new ETH1 data in ETH2 blocks?",
        "created_at": "2021-03-09T08:23:23.571000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Like every 15 seconds or so?",
        "created_at": "2021-03-09T08:23:26.615000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "it was reported over at @ ethstaker, i haven't looked into it too much. Thought i report it here in case this is an issue.\nI believe patrick could query the last few hours to see for how long this has been happening",
        "created_at": "2021-03-09T08:24:32.314000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "would that help?",
        "created_at": "2021-03-09T08:24:44.517000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Ah no, it takes a few hours for the new eth1 data to be voted in \u003c@!301186049323958275\u003e",
        "created_at": "2021-03-09T08:24:55.624000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "it's now 21 hours behind, but it should be around 8 hours, no?",
        "created_at": "2021-03-09T08:25:30.920000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "https://github.com/ethereum/eth2.0-specs/blob/dev/specs/phase0/validator.md#eth1-data",
        "created_at": "2021-03-09T08:25:32.356000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "I am seeing this across all clients though hmm",
        "created_at": "2021-03-09T08:26:03.289000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "ok give me a while let me dig through it",
        "created_at": "2021-03-09T08:26:25.624000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "general",
        "parent": "",
        "content": "Oh, OK.  I thought it happened as part of each block, not as a scheduled thing.",
        "created_at": "2021-03-09T08:26:31.233000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "ah no, not part of each block. It lags mainnet by around 2048 blocks, and the respective hash has to be voted in by all proposers. The voting period takes a few hours",
        "created_at": "2021-03-09T08:27:11.020000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "its been ongoing  for like ~13hours",
        "created_at": "2021-03-09T08:28:13.996000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "is the maxiumum 8 or 16h ?",
        "created_at": "2021-03-09T08:28:23.883000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "roughly about ~7 hours",
        "created_at": "2021-03-09T08:30:11.714000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "Thats at each voting period",
        "created_at": "2021-03-09T08:30:22.654000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "if during the period, all proposers cant come to a majority on the state of eth1, we then move onto the next period",
        "created_at": "2021-03-09T08:30:55.474000+00:00",
        "attachments": null
    },
    {
        "author": "freek7899",
        "category": "general",
        "parent": "",
        "content": "new slots are being filled with new eth1 blocks now.",
        "created_at": "2021-03-09T08:34:22.190000+00:00",
        "attachments": null
    },
    {
        "author": "freek7899",
        "category": "general",
        "parent": "",
        "content": "well all eth1 block 12001080",
        "created_at": "2021-03-09T08:35:59.032000+00:00",
        "attachments": null
    },
    {
        "author": "freek7899",
        "category": "general",
        "parent": "",
        "content": "so on slot 704512 it jumped from  eth1 block 1197359 to  eth1 block 12001080 in slot 704513 and then repeats again.",
        "created_at": "2021-03-09T08:41:03.260000+00:00",
        "attachments": null
    },
    {
        "author": "freek7899",
        "category": "general",
        "parent": "",
        "content": "What would happen to a pending deposit in a skipped eth1 block?",
        "created_at": "2021-03-09T08:45:45.072000+00:00",
        "attachments": null
    },
    {
        "author": "dkdkdkdkdkdk",
        "category": "general",
        "parent": "",
        "content": "it will be processed in a later block https://github.com/ethereum/eth2.0-specs/blob/dev/specs/phase0/validator.md#deposits",
        "created_at": "2021-03-09T08:49:38.734000+00:00",
        "attachments": null
    },
    {
        "author": "freek7899",
        "category": "general",
        "parent": "",
        "content": "Thanks!",
        "created_at": "2021-03-09T08:55:25.397000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "\u003c@!97774605351010304\u003e looked into it and it indeed is confusing",
        "created_at": "2021-03-09T09:32:01.146000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "ran a script to get all eth1 data votes over the last few voting periods",
        "created_at": "2021-03-09T09:32:23.873000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "There was no split in eth1 votes",
        "created_at": "2021-03-09T09:32:45.739000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": ":/ let me know if we can help with data",
        "created_at": "2021-03-09T09:32:50.082000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "there was a clear majority in each period",
        "created_at": "2021-03-09T09:32:55.088000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "which makes it all the more confusing",
        "created_at": "2021-03-09T09:33:02.969000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "general",
        "parent": "",
        "content": "\u003c@144468805697929216\u003e ðŸ‘€",
        "created_at": "2021-03-09T09:33:04.996000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "will post what I find, going digging now",
        "created_at": "2021-03-09T09:33:19.177000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "Yep very clear majority for recent voting periods, but seeing a few duplicates in there.",
        "created_at": "2021-03-09T09:51:45.774000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "general",
        "parent": "",
        "content": "",
        "created_at": "2021-03-09T09:51:49.556000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=ascii",
                "origin_name": "message.txt",
                "content": "bbeff2f25377a1aba42726aa9d2eb3ecfc97540525ef10bd4f2df4935d2b4f8c"
            }
        ]
    },
    {
        "author": "nishant0",
        "category": "general",
        "parent": "",
        "content": "\u003c@!97774605351010304\u003e \nIt looks mostly like clients are mostly re-voting for already included eth1-data sets. Given that this is the behaviour performed by the absolute majority of the clients, this is mostly block proposers following according to the spec. As \u003c@!144468805697929216\u003e has posted above this isnt the first time, there have been duplicates above. \n\nMy guess here is that the eth1 vote by majority method might be causing these deadlocks; if at the start of a voting period a proposer simply votes for the current eth1data in the state, all the clients will follow it as long as the vote is valid(in the current voting range). The data posted above kind of proves it as you see there are duplicate eth1 data votes lasting for more than a single period. I rechecked prysm, and in the event there are 0 eth1 data votes in the state our default vote would be to have the most current eth1 block(according to the voting range). \n\nHowever if there already exists a vote in the state from a previous proposer, we will follow that as long as that is in the voting range. So what you see above is a byproduct of the Vote By Majority method; The first block proposer in the voting period voted for an already voted in older eth1data tuple into the state.(state.eth1_data)  , and all the following proposers after basically just follow it. Ultimately the older eth1data tuple eventually falls out of the voting range and you end up seeing a new eth1data voted in the following period.",
        "created_at": "2021-03-09T13:55:13.768000+00:00",
        "attachments": null
    }
]