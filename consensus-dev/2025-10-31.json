[
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Oh sorry. I missed this. Nothing currently planned. But I could make a tool for this! I will think about this tomorrow.",
        "created_at": "2025-10-31T00:55:39.995000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "Hey, we are receiving a lot of wrong column sidecars via gossip\n\n```\nDataColumnSidecar rejected: DataColumnSidecar[block da19cc..8e75 (1637530), index 19, 1st cell 003f75dd89a3f7, commitments 6, proofs 6], commitments: SszList{size=6: SszByteVector{0xa8cbbabe357ace5802508e97e6995f62447aaa3e6b1b0a48bf370f89518a1bf6e4657f1e136c570b5897e52f58bafefd}, SszByteVector{0x92c1184ee2a1b1dac6fc7eb78c48204b6b35c0629b80b7276a965b641b405883d5d7662349bb74f40706fd69941dc851}, SszByteVector{0xa533bb9ad773ec03044f78c22ab957dad15c61d6078d2f0af3cdd739b62185957569d8fa942225d83a4c34e4e531156d}, SszByteVector{0x91f5c60cc22bdae464072875b7ac24cd23a46e7a8005978eb1c30594b231bc40ac6f29197665d2a32c66e8794dbaacc6}, SszByteVector{0x908f8cb27a86ca7263495b528c921202b31d6c48adbb67a3eacc2e95b2b266212adde2c1cda5cf65d5f3a46912119fdb}, SszByteVector{0xad9632998a0d51a0caab82b90503007b9468fcba63627aed07152a72f65eaa4c064d571fe985ca63c6df3b3faee7abd6}}, proofs: SszList{size=6: SszByteVector{0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}, SszByteVector{0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}, SszByteVector{0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}, SszByteVector{0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}, SszByteVector{0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}, SszByteVector{0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000}}, reason: Optional[DataColumnSidecar does not pass kzg validation]\n```\n\napparently proofs are incorrect: https://hoodi.beaconcha.in/slot/1637530#blobs\n\nThere must be a bug out there...",
        "created_at": "2025-10-31T07:34:13.038000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "general",
        "parent": "",
        "content": "\u003c@84562395988508672\u003e Do you know if we can pull more info about this from the p2p layer?",
        "created_at": "2025-10-31T07:42:15.456000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "I'll try to identify the peers",
        "created_at": "2025-10-31T07:48:21.733000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "We have the same, for block [1638532](https://hoodi.beaconcha.in/slot/1638532#blobs) (among others, lot of other occurences)\n\nGossiped by lodestar:",
        "created_at": "2025-10-31T08:05:29.980000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "e1f85ac43e58ff68ef47e8181727dae4afc6992e801dade28fc6adccb1c8b212"
            }
        ]
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "i haven't seen really any more like that today at least at home",
        "created_at": "2025-10-31T08:06:05.028000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Actually on ~~Dora~~ beaconcha.in all KZG proof seem to be `0xc000...`\neg:\n- https://hoodi.beaconcha.in/slot/1638954#blobs\n- https://hoodi.beaconcha.in/slot/1638955#blobs\n- https://hoodi.beaconcha.in/slot/1638956#blobs",
        "created_at": "2025-10-31T08:09:13.709000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "maybe its an interface thing but the logging i've been running hasn't printed in like... 6 hrs",
        "created_at": "2025-10-31T08:09:56.180000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Yeah I think ~~dora~~ beaconcha.in has an issue.\nI have this invalid proof (only from Lodestar so far) once every hour or so.",
        "created_at": "2025-10-31T08:12:46.746000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@\u0026595681771690000403\u003e",
        "created_at": "2025-10-31T08:30:06.539000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "Also seeing a lot of sends from Lodestar nodes from looking at our data but I'll refine the methodology a bit",
        "created_at": "2025-10-31T08:30:53.683000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "Taking a look now",
        "created_at": "2025-10-31T08:40:09.421000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "From the looks of it we're sometimes getting 2 distinct `message_id`'s for each column per slot.\n\n- Batch 1 arrives around the same time as the block. Diverse set of peer `remote_agent`'s sending us the message\n- Batch 2  arrives 2-8s after the block. We've only received these from Lodestar and Erigon (caplin) peers AFAICT.\n\nMaybe some interaction with fetching the blobs from the EL? ü§∑‚Äç‚ôÇÔ∏è",
        "created_at": "2025-10-31T08:45:52.849000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "do you by chance have a list of slot numbers where you see that?",
        "created_at": "2025-10-31T08:47:26.390000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "I'm just about to go to bed but will be digging into this in the am.  Also any peerId's/enrs.  Any info you have will be awesome!!! Thank you in advance!!!",
        "created_at": "2025-10-31T08:48:17.507000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "If its 2 sec after its possible its from reconstruction or from getBlobs.  Both have been thoroughly tested but ü™≤ are real sadly....",
        "created_at": "2025-10-31T08:49:47.824000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "I do confirm I (rarely) have the same issue with erigon/caplin:\n```\n[2025-10-31 04:48:42.27] DEBUG sync: Gossip message was rejected agent=erigon/caplin error=could not verify: verify cell KZG proof batch: bad arguments gossipScore=0 multiaddress=/ip4/185.209.177.126/tcp/59357 peerID=16Uiu2HAm4hfpGzwHotRnAEdpW52adXeC6r2sbZFLGWW5XSKBtAij topic=/eth2/e2abcca4/data_column_sidecar_67/ssz_snappy\n```\n\nAnd so for Lodestar \u003c@931591385545584640\u003e :\n```\n[2025-10-31 03:21:38.68] DEBUG sync: Gossip message was rejected agent=lodestar/v1.35.0 error=could not verify: verify cell KZG proof batch: bad arguments gossipScore=0.00013887207973980046 multiaddress=/ip4/87.201.61.46/tcp/60364 peerID=16Uiu2HAmRczcg7oVLE3iNrGyi8k46djCqRJRPKaUTT7tsvreiD5m topic=/eth2/e2abcca4/data_column_sidecar_78/ssz_snappy\n```",
        "created_at": "2025-10-31T08:51:07.852000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "(peerID in the log message)",
        "created_at": "2025-10-31T08:51:41.852000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "This is for slot https://hoodi.beaconcha.in/slot/1638532#blobs ?",
        "created_at": "2025-10-31T08:52:26.135000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Well sorry I cannot tell precisely, since the `dataColumnSidecar.slot` is not logged in the error message. So we can make a deduction regarding the time (UTC), but not 100% it's accurate. I'll log the data column sidecars data in such a case, it will be easier to debug.",
        "created_at": "2025-10-31T08:57:57.029000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "ok. that is good enough.  if those timestamps are UTC I can go off of that (that was my next question so all good)",
        "created_at": "2025-10-31T08:58:23.235000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Yeah UTC",
        "created_at": "2025-10-31T08:59:17.752000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "Is 4am so time for bed but will be on this first thing in the AM if someone on our team doesnt pick it up first. I forwarded the messages on internally",
        "created_at": "2025-10-31T09:00:37.263000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "I can get you a list, but it might hlep to just focus on that above slot (1638532). My methodology saw 15 lodestar peers and 8 erigon peers send bad columns üôè",
        "created_at": "2025-10-31T09:05:07.475000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "fwiw we're also seeing this on sepolia",
        "created_at": "2025-10-31T09:27:58.546000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "ahh.. that is important info.  This was not new behavior on hoodi then?",
        "created_at": "2025-10-31T09:28:20.259000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "this is the first I've heard this or seen it so can help me track down changes that might have introduced the issue.",
        "created_at": "2025-10-31T09:28:56.964000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "\u003c@\u0026688101493978562687\u003e what kzg lib are you using?  Is anyone else using the rust-kzg?  We pass all spec tests but might be something silly",
        "created_at": "2025-10-31T09:30:27.755000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "question \"we are also seeing this on sepolia\" as in just now with the latest release or you have been seeing it since the fork there?",
        "created_at": "2025-10-31T09:32:43.822000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "",
        "created_at": "2025-10-31T09:56:34.622000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "b81c441d2166935bfc4c2bdd53559ce86cbfdfb9719fabeb1c14c01db682b6fa"
            }
        ]
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "So we've seen it on all 3 networks, but Hoodi is an outlier. All of them start with the Fulu fork.",
        "created_at": "2025-10-31T09:58:37.037000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "general",
        "parent": "",
        "content": "Also worth ignoring the holesky data after 10/21 - we shut off our infra üòÜ",
        "created_at": "2025-10-31T10:02:33.956000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "general",
        "parent": "",
        "content": "We use github.com/crate-crypto/go-eth-kzg v1.4.0",
        "created_at": "2025-10-31T10:14:21.749000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@737207167169462352\u003e",
        "created_at": "2025-10-31T10:16:30.107000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "I think we know what it is. We might be overwriting a buffer before the data is done sending.  Will dig more into it tomorrow",
        "created_at": "2025-10-31T10:19:05.935000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "the caplin issue is probably just forwarding without downscoring",
        "created_at": "2025-10-31T10:19:48.586000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "probably it should be downscored on this offense",
        "created_at": "2025-10-31T10:20:21.313000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "general",
        "parent": "",
        "content": "The proofs in the ssz byte vector don't look correct to me (ie I think no library should output all zeroes, but the ones in Dora do look like valid serializations of a point), even though they are not the correct points",
        "created_at": "2025-10-31T10:25:36.360000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Without downscoring and without verifying?",
        "created_at": "2025-10-31T10:25:54.816000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "Correct. Is what I was going to look at.  never should be all `0x00` is why i think we are wiping the buffer before we finish reading/flushing the data to the network",
        "created_at": "2025-10-31T10:29:21.245000+00:00",
        "attachments": null
    },
    {
        "author": "kevaundray",
        "category": "general",
        "parent": "",
        "content": "Lodestar seems to be using v0.8 of rust-eth-kzh https://github.com/ChainSafe/lodestar/blob/d8afb6dc391bc663f4047c480a7f4f39d166940f/packages/beacon-node/package.json#L132 I would have expected this to fail the consensus-spec-tests since we added: https://github.com/ethereum/consensus-specs/pull/4519 and that was supported in 0.9 of rust-eth-kzg",
        "created_at": "2025-10-31T10:31:25.821000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "I dont think its the rust lib. like not how we calculate, its how we write to the network and timing/race condition on our side because we are passing all spec tests",
        "created_at": "2025-10-31T10:31:59.357000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "\u003c@427491045308235776\u003e i would venture to guess your code is as flawless as your character sir ü´°",
        "created_at": "2025-10-31T10:33:58.267000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "we verify",
        "created_at": "2025-10-31T10:40:44.314000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "If you verify and if the verification fails, why gossiping?",
        "created_at": "2025-10-31T10:41:33.508000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "probably a mistake. we gossip also if it says ignore for example",
        "created_at": "2025-10-31T10:42:07.119000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "the spec just says do whatever you want in that case so idk. we can change it ofc",
        "created_at": "2025-10-31T10:42:29.771000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "i am ooo currently, I will take a look next week",
        "created_at": "2025-10-31T10:42:49.294000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "lemme take a look after my break lol",
        "created_at": "2025-10-31T10:45:06.047000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Ok this explains why we're flooded with Caplin spam ever since it exists more or less.",
        "created_at": "2025-10-31T10:45:21.157000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "yeah - not sure what the heuristic is there tbh",
        "created_at": "2025-10-31T10:45:42.024000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "can be either imo but i think We can just downscore",
        "created_at": "2025-10-31T10:45:46.106000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "you don't downscore on ignores",
        "created_at": "2025-10-31T10:47:04.198000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "yeah",
        "created_at": "2025-10-31T10:47:11.772000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "i mean, should I? idk",
        "created_at": "2025-10-31T10:47:23.084000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I meant you have to not downscore",
        "created_at": "2025-10-31T10:47:29.151000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "downscoring on ignores would be bad",
        "created_at": "2025-10-31T10:47:39.608000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "peers that send you messages that can't be verified as bad but also not good and end up being ignored, eventually get downscored because other peers keep a higher score",
        "created_at": "2025-10-31T10:48:51.529000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "general",
        "parent": "",
        "content": "i think this should be rectified then to avoid it - will get it prioritized next week when I am back",
        "created_at": "2025-10-31T10:52:33.700000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "\u003c@931591385545584640\u003e I printed the proofs when Prysm cannot verify correctly:\n```\n[2025-10-31 11:03:28.75] DEBUG sync: Bad KZG sidecar info error=verify cell KZG proof batch: bad arguments index=48 proofs=0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, root=0xf49f3319a45e681b11d9517a0459d28f65e62e96b04c6a7586ca07f78a03c917 slot=1641267\n[2025-10-31 11:03:28.75] DEBUG sync: Gossip message was rejected agent=lodestar/v1.35.0 error=could not verify: verify cell KZG proof batch: bad arguments gossipScore=0 multiaddress=/ip4/109.202.198.146/tcp/9002 peerID=16Uiu2HAmKu7wm3g8uvH8rwNRztDPsfQ3V2Q8oxG13jBcUSwffwqf topic=/eth2/e2abcca4/data_column_sidecar_48/ssz_snappy\n```",
        "created_at": "2025-10-31T11:05:59.799000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "Thanks",
        "created_at": "2025-10-31T11:06:49.297000+00:00",
        "attachments": null
    },
    {
        "author": "stefanbratanov",
        "category": "general",
        "parent": "",
        "content": "On that topic, I created a fork and added github action which polls and syncs tests from new releases  https://github.com/StefanBratanov/consensus-spec-tests",
        "created_at": "2025-10-31T13:40:42.126000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Nice lol. That's a simple/effective solution. I'll see if I can come up with something better. But this is a nice fallback if it turns out to be too difficult/complex.",
        "created_at": "2025-10-31T13:47:44.744000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "how was it working before? it seemed fine",
        "created_at": "2025-10-31T13:48:07.471000+00:00",
        "attachments": null
    },
    {
        "author": "kalo9480",
        "category": "general",
        "parent": "",
        "content": "We have found the [same issue](https://discord.com/channels/595666850260713488/598292067260825641/1433168179953274993) with Vouch VC as with Nimbus and Prysm VCs. üòÖ \nI think it's only for submitting attestations though (aggregations seem fine on first read).\n\u003c@\u00261337018366795186237\u003e I've opened a [PR](https://github.com/attestantio/vouch/pull/356) that should fix it, however, I'm not fully aware of your prefered way of solving it.",
        "created_at": "2025-10-31T13:57:40.497000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Re invalid KZG proofs ( \u003c@931591385545584640\u003e ) I surprisingly saw once a Prysm peer sending a sidecar with an `0x000000....` proof as well. (So, being rejected by an other Prysm peer)\n\nATM I don't really know why.\nMy 50 cents guess now is the sidecars are retrieved by the peer from its EL (via getBlobsV2).\nFor some reasons, proofs are `0x0000...` . \nPrysm trusts its EL for `getBlobsV2`, so it does not re-verify proofs before gossiping them.\nThis could lead to this situation.\n\n```\n2025-10-31 11:02:15.50] DEBUG sync: Bad KZG sidecar info error=verify cell KZG proof batch: bad arguments index=42 proofs=0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, root=0x16ec26272b48065edaa602841b7f352f5c1835c704dd3b7142906f50f96cc062 slot=1641261\n[2025-10-31 11:02:15.50] DEBUG sync: Gossip message was rejected agent=Prysm/v6.1.4/253f91930ab5f9506f7133c89dcfd1b3463001fc error=could not verify: verify cell KZG proof batch: bad arguments gossipScore=0 multiaddress=/ip4/141.95.98.128/udp/15103/quic-v1 peerID=16Uiu2HAmVGW3Yt2SRzCYRBYfV74JVi36gJumi8KrYHhkG2e21Rd7 topic=/eth2/e2abcca4/data_column_sidecar_42/ssz_snappy\n```",
        "created_at": "2025-10-31T14:11:21.699000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "(So it could also be the case for Lodestar)",
        "created_at": "2025-10-31T14:14:01.066000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "Thus all clients might be affected given we probably all trust EL",
        "created_at": "2025-10-31T15:13:17.451000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "well the point of getBlobsV2 is to trust the EL",
        "created_at": "2025-10-31T15:14:56.564000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "that's how it's efficient",
        "created_at": "2025-10-31T15:15:13.333000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "i'm not saying we should not üôÇ",
        "created_at": "2025-10-31T15:15:40.523000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "also, as a general note, https://github.com/eth-clients/mainnet/pull/11 must be merged for Nimbus to proceed with a mainnet Fusaka-ready release, it's not optional",
        "created_at": "2025-10-31T15:16:49.949000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "mainnet isn't scheduled/real until then anyway",
        "created_at": "2025-10-31T15:17:18.498000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "I'm preparing an internal doc and reviewing the p2p doc and noticed that many of the validation pipelines explicitly mention a `state` which is not specified what it is. This is implicitly assumed to be the head state when not mentioned explicitly (here's my first question, I want to confirm that this reading aligns with others). In some cases, for example beacon block topics, where it's critical that one is able to sync blocks that are not in the same view of head, we define explicitly the context as defined by the parent block, eg. \n```\n[REJECT] The block is proposed by the expected proposer_index for the block's slot in the context of the current shuffling (defined by parent_root/slot). If the proposer_index cannot immediately be verified against the expected shuffling, the block MAY be queued for later processing while proposers for the block's branch are calculated -- in such a case do not REJECT, instead IGNORE this message.\n```\nBut attestations for example do not have this explicit remark. And instead a vague `state` is used. In the Phase 0 case (and actually for all validations) Prysm gets the state that is coherent with the attestation `target` after verifying FFG/LMD consistency, this guarantees that the state will have the right beacon committees to check the attestation in the context in which the attestation was cast. However, this may not be consistent with the current head state committee and thus it diverges from the somewhat implicit usage of `state` in the p2p spec. In the electra spec this becomes even more explicit by the addition of \n```\n[REJECT] The attester is a member of the committee -- i.e. attestation.attester_index in get_beacon_committee(state, attestation.data.slot, index).\n```\nWhich again uses `state` here. Now for Prysm getting the right context of the attestation is costly and is a cause of worry to me, and I want to check if other clients are doing this or simply using the head state here.",
        "created_at": "2025-10-31T15:18:00.867000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "cc \u003c@520034910149410861\u003e you may have an opinion here.",
        "created_at": "2025-10-31T15:18:09.956000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "this has been discussed elsewhere, Nimbus uses the correct state",
        "created_at": "2025-10-31T15:19:07.226000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "it's how forks work",
        "created_at": "2025-10-31T15:19:19.322000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "and voting on forks",
        "created_at": "2025-10-31T15:19:26.192000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Well, using the right state for onchain validation is specified, but I don't see anything explicitly over gossip",
        "created_at": "2025-10-31T15:19:59.118000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "perhaps I'm missing something, since I am only quickly skimming these docs now though.",
        "created_at": "2025-10-31T15:20:20.227000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "Also cc \u003c@539495253418180618\u003e I can't find any explicit statement for attestations. So now I am unsure on how to align what I think it's safe vs what the spec leaves unspecified at all",
        "created_at": "2025-10-31T15:28:05.758000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "general",
        "parent": "",
        "content": "This by the way applies to a lot of other validations, where `state` is pretty ambiguous over gossip",
        "created_at": "2025-10-31T15:28:41.441000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Hey consensus devs, we just published the stable [v1.6.0](https://github.com/ethereum/consensus-specs/releases/tag/v1.6.0) release! The only difference to beta.2 is that the stable release includes scheduling for Fusaka.",
        "created_at": "2025-10-31T16:25:50.981000+00:00",
        "attachments": null
    },
    {
        "author": "joyvoister",
        "category": "general",
        "parent": "",
        "content": "Good evening, \nI just want to ask about the minimum number of validators after genesis. This is my configuration in config.yaml: MIN_GENESIS_ACTIVE_VALIDATOR_COUNT: 64\nIf I have already bootstrapped VC (running 64 validator addresses) using LH and stopped it and changed it to 5 addresses, will the blockchain still be able to run normally?",
        "created_at": "2025-10-31T16:42:00.549000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "What EL are you using?",
        "created_at": "2025-10-31T17:35:41.512000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "It's my understanding that the ELs should be validating the blobs and proofs before we can pull them, right? cc \u003c@531934490826768418\u003e \u003c@592004585506340885\u003e",
        "created_at": "2025-10-31T17:38:38.383000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "general",
        "parent": "",
        "content": "I guess they should but maybe there is a bug serving the api",
        "created_at": "2025-10-31T17:39:44.085000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "My math is a bit fuzzy, so curious to confirm if a 0x00 proof somehow passes EL validation? Like a point at unity type of issue or similar \u003c@592004585506340885\u003e \u003c@427491045308235776\u003e",
        "created_at": "2025-10-31T17:44:46.551000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Yes.",
        "created_at": "2025-10-31T18:17:38.830000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "No. That‚Äôs an invalid proof. The point at infinity (zero) is 0x0c000000‚Ä¶",
        "created_at": "2025-10-31T18:18:16.614000+00:00",
        "attachments": null
    },
    {
        "author": "bez625",
        "category": "general",
        "parent": "",
        "content": "Thanks for flagging \u003c@597765951479480340\u003e - i've released https://github.com/attestantio/vouch/releases/tag/v1.12.0-beta.4",
        "created_at": "2025-10-31T19:00:16.434000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "i thought i was seeing `0xc0...` but i didnt count the zeros... - example https://hoodi.beaconcha.in/slot/1638533#blobs",
        "created_at": "2025-10-31T19:36:18.549000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "Oops you're right, sorry! 0xc000... not 0x0c00...",
        "created_at": "2025-10-31T19:51:36.204000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "general",
        "parent": "",
        "content": "There's definitely a 'c' in there somewhere üôÇ",
        "created_at": "2025-10-31T19:51:55.865000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "My EL does not really matter here. If my theory is correct, it's the EL of my peer (here, a Prysm peer) which matter.\nThe peer's EL sends a bad proof to the peer's CL (Prysm), then the Prysm CL gossip the bad proof without verifying it itself (because it trusts its EL). Then I (Prysm also) receive the gossip message with the bad proof, reject the message and downscore the peer. And my EL is not in the equation.",
        "created_at": "2025-10-31T20:13:26.914000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "But someone's EL does matter",
        "created_at": "2025-10-31T20:14:10.287000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Yes. Peer's EL.",
        "created_at": "2025-10-31T20:14:23.467000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "Yes, that is what I mean. The prysm peer that sent it, what EL did it call getBlobs on?",
        "created_at": "2025-10-31T20:14:25.865000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "I don't know üôÇ I don't know who own this peer, it's on Hoodi. Or maybe there is a way to know the peer's EL?",
        "created_at": "2025-10-31T20:15:15.435000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "This is one of the ones we gossiped.  Also has the infinity proof‚Ä¶ `0xc0`",
        "created_at": "2025-10-31T20:16:27.732000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "Seems like a spec bug or something‚Ä¶. should the EL throw for transactions with infinity/0 proofs.  Or is that Dora that is showing the wrong thing?",
        "created_at": "2025-10-31T20:17:39.569000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "ahhh ok.  i forgot we are on a public testnet. can be anyone",
        "created_at": "2025-10-31T20:18:34.318000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "still thinking in ‚Äúdevnet‚Äù mode where we own everything",
        "created_at": "2025-10-31T20:18:46.664000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "It's not dora, it't beaconcha.in. And yes, all proofs are 0xc0000... on beaconcha.in",
        "created_at": "2025-10-31T20:18:53.903000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "https://discord.com/channels/595666850260713488/598292067260825641/1433729514692804608",
        "created_at": "2025-10-31T20:19:45.657000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "So that is def an issue‚Ä¶ Correct me if I‚Äôm wrong \u003c@592004585506340885\u003e but wont that 0xc0 proof always be valid but never be real?",
        "created_at": "2025-10-31T20:19:48.065000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "like no way to end up with a proof at infinity",
        "created_at": "2025-10-31T20:20:05.624000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "IMO it's just beaconcha.in which has a bug here.",
        "created_at": "2025-10-31T20:20:08.125000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "oh",
        "created_at": "2025-10-31T20:20:17.444000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Also, with bad proof from lodestar, Prysm does not see 0xc0000, but 0x00000 (no c)",
        "created_at": "2025-10-31T20:20:56.903000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "true, just went back and checked that",
        "created_at": "2025-10-31T20:21:17.043000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "yeh thats where we started at, we weren't expecting 0x00",
        "created_at": "2025-10-31T20:24:36.484000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "there is evidence of this aside from some chain explorer, correct?",
        "created_at": "2025-10-31T20:26:44.253000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "general",
        "parent": "",
        "content": "yes. logs",
        "created_at": "2025-10-31T20:26:57.914000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "i believe we literally saw it over gossip",
        "created_at": "2025-10-31T20:27:07.111000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "general",
        "parent": "",
        "content": "ok",
        "created_at": "2025-10-31T20:27:11.022000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "delete that - confirmed the log we added was on the gossip validation",
        "created_at": "2025-10-31T20:28:47.117000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "general",
        "parent": "",
        "content": "Yeah I added specific log in case of bad proof at gossip validation.\nhttps://discord.com/channels/595666850260713488/598292067260825641/1433773999858516068",
        "created_at": "2025-10-31T20:38:58.292000+00:00",
        "attachments": null
    }
]