[
    {
        "author": "duguorong009",
        "category": "general",
        "parent": "",
        "content": "Hey, guys\nI have one question about p2p connection in consensus client.\nFirst step of making connection with other clients is to connect to **bootnode** and bond with it **ping-pong**.\nAfter that, I should send the **FIND-NEIGHBORS** request to get the ENR of real clients.\nHow can I do that in rust? I am using `discv5` crate(https://github.com/sigp/discv5)",
        "created_at": "2023-08-21T19:18:34.378000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "general",
        "parent": "",
        "content": "I'd probably start by looking at the lighthouse project, and see where it does that call...",
        "created_at": "2023-08-21T22:33:40.445000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "general",
        "parent": "",
        "content": "I'd suggest using the higher level functions provided in discv5. The steps would be roughly:\n1. Create a `Discv5` struct using your required config\n2. add the bootnodes using the `add_enr` method\n3. Get the event stream using the async `event_stream` method\n4. Poll the event stream to get any events from discv5 in another thread\n5. Call `find_node` with a random `NodeId`\nThis example is pretty close to what we use in lighthouse https://github.com/sigp/discv5/blob/master/examples/find_nodes.rs",
        "created_at": "2023-08-21T22:42:07.145000+00:00",
        "attachments": null
    }
]