[
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hi\nI  have some discovery bug. Teku affected, Prysm affected, Lighthouse is not affected by my code review and tests.\nI've tried attack with it and it was not successful, discovery is using only one thread in Teku, something similar in Prysm and memory usage is not increasing. But it's still a bug.\nWhere should I report, directly to Teku and Prysm, or I could create issue in Attacknet github?",
        "created_at": "2020-09-25T11:57:43.919000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "random packet -\u003e\n\u003c- whoareyou\nmalformed authheadermessage packet -\u003e\nmalformed authheadermessage packet (same) -\u003e\nmalformed authheadermessage packet (same) -\u003e\nmalformed authheadermessage packet (same) -\u003e\ncorrect authheadermessage packet -\u003e\nwill pass for Teku/Prysm\nthey are not dropping session from first malformed authheader\nand authheader has ec curve verify, which is expensive\neven for bad packet",
        "created_at": "2020-09-25T12:11:49.322000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "and 5.1 adds only aes above\nwhich is way cheaper than ec curve",
        "created_at": "2020-09-25T12:11:50.950000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh interesting",
        "created_at": "2020-09-25T12:13:26.036000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think an issue in our repo is fine for this, would make it easier to tracl",
        "created_at": "2020-09-25T12:14:14.852000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "*track",
        "created_at": "2020-09-25T12:14:17.829000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You're sending the malformed authheader and making the server check the secp256k1 Sig?",
        "created_at": "2020-09-25T12:14:35.048000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah",
        "created_at": "2020-09-25T12:14:46.379000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i modify idNonce",
        "created_at": "2020-09-25T12:15:16.863000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "its check is last both in Teku and Prysm",
        "created_at": "2020-09-25T12:15:27.552000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this sounds like a bug to me",
        "created_at": "2020-09-25T12:15:37.328000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yeah its definitely a bug",
        "created_at": "2020-09-25T12:15:46.576000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I will create issues both in Teku and Prysm githubs so",
        "created_at": "2020-09-25T12:16:02.956000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I have test for go",
        "created_at": "2020-09-25T12:16:10.347000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Right. So yeah, if we get a bad packet we drop a session the send a whoareyou so you have to repeat?",
        "created_at": "2020-09-25T12:16:33.256000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "perfect, thanks a lot üëç",
        "created_at": "2020-09-25T12:16:36.145000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!498009160982724610\u003e yeah, I think it will be correct. Lighthouse doing it this way already",
        "created_at": "2020-09-25T12:17:03.619000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/prysmaticlabs/prysm/issues/7346",
        "created_at": "2020-09-25T12:29:26.854000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks !",
        "created_at": "2020-09-25T12:35:46.328000+00:00",
        "attachments": null
    },
    {
        "author": "protolambda",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!539495253418180618\u003e and I were hitting similar discv5 problems, thought it was a user error on our side, interesting",
        "created_at": "2020-09-25T12:43:56.867000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Teku\nhttps://github.com/PegaSysEng/teku/issues/2846",
        "created_at": "2020-09-25T12:48:32.581000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!425907307621122049\u003e in Nimbus the session isn't dropped either in discv5, but I actually  realized this when implementing discv5.1 and adjusted it in the new implementation. I'll do the same fix in the older discv5.0 code too considering it will be used a while still.",
        "created_at": "2020-09-25T13:38:04.943000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The idNonce check however did always happen before the signature check.",
        "created_at": "2020-09-25T13:45:06.577000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But in discv5.1 that is something that is not being passed anymore in the handshake.",
        "created_at": "2020-09-25T13:46:51.316000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "anyway you could change which part of AuthHeaderMessagePacket to break, it's not limited to idNonce, so dropping the session is the best",
        "created_at": "2020-09-25T14:43:32.377000+00:00",
        "attachments": null
    }
]