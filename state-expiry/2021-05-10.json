[
    {
        "author": "ghosts_in_the_code",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Is there any reason state is stored for a fixed time period by default (6 months or whatever)? Can't I instead rent state for a smaller period, say 2 days, and pay less gas?",
        "created_at": "2021-05-10T17:47:31.491000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "The design becomes more complicated if you allow that",
        "created_at": "2021-05-10T17:47:44.817000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Particularly the logic around proving that some state object never existed in the past",
        "created_at": "2021-05-10T17:48:02.511000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "It becomes 100x harder to prove that a state object is being created for the first time (and so there isn't some older version that needs to be revived) if the number of periods during which it could have existed increased by 100x",
        "created_at": "2021-05-10T17:48:42.986000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Really long periods are just a simple-and-dumb way to make this problem not a big deal",
        "created_at": "2021-05-10T17:48:56.898000+00:00",
        "attachments": null
    },
    {
        "author": "ghosts_in_the_code",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Got it. Would the optimal time period for expiry depend on the most likely type of usage of the blockchain or is it largely fixed in few months range?",
        "created_at": "2021-05-10T17:54:18.088000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "So, my usual way of thinking about optimal time periods is asking, what goes wrong if you set it really high or really low?",
        "created_at": "2021-05-10T17:54:56.130000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you set the expiry period to 2 days, then (i) recovering old state would take far more witnesses, and (ii) you would need witnesses far more often, and access lists would become de-facto mandatory for most activity",
        "created_at": "2021-05-10T17:56:04.595000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "If you set the expiry period to 100 years, then the bound on how much state gets stored goes up from ~100 GB to ~10000 GB (or from ~16 GB to ~1600 GB if you use my pricing schemes)",
        "created_at": "2021-05-10T17:56:27.365000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Or alternatively, you would need a 100x lower gaslimit to keep it at 100 GB",
        "created_at": "2021-05-10T17:57:02.770000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I suspect you could analyze average usage, and solve an optimization problem: if we force storage requirements to be some fixed amount (eg. 16 GB), then what configuration would maximize the gaslimit?",
        "created_at": "2021-05-10T17:58:15.855000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "But that's not a complete analysis",
        "created_at": "2021-05-10T17:58:30.346000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Because there are other costs than just increased witness size from the time periods being too short",
        "created_at": "2021-05-10T17:58:42.251000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "eg. it's nice for clients that log on at least once per weak subjectivity period to not have to worry about witnesses",
        "created_at": "2021-05-10T17:58:59.032000+00:00",
        "attachments": null
    },
    {
        "author": "ghosts_in_the_code",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "I see. I will have to read up on some of this. I was only wondering because if we end up with zkrollups as the primary use case, they won't resurrect old state often (if I'm correct)",
        "created_at": "2021-05-10T17:59:45.419000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "\u003c@!488328812501663744\u003e maybe your question was more about why it's a fixed period instead of being able to pay for \"what you need\"?",
        "created_at": "2021-05-10T18:00:03.001000+00:00",
        "attachments": null
    },
    {
        "author": "ghosts_in_the_code",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Initial question yes. But \u003c@273808422753796097\u003e answer is great.",
        "created_at": "2021-05-10T18:00:39.560000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "the answer to that question basically is that in a \"pay for what you need\" model, proofs that some account was not yet filled become much harder",
        "created_at": "2021-05-10T18:00:51.095000+00:00",
        "attachments": null
    },
    {
        "author": "ghosts_in_the_code",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "Can we assume this?",
        "created_at": "2021-05-10T18:02:05.809000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "yeah, zkrollups are light on L1 state",
        "created_at": "2021-05-10T20:20:24.848000+00:00",
        "attachments": null
    },
    {
        "author": ".vbuterin",
        "category": "Execution R\u0026D",
        "parent": "",
        "content": "All rollups are, actually",
        "created_at": "2021-05-10T20:20:29.910000+00:00",
        "attachments": null
    }
]