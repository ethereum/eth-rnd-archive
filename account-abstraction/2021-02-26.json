[
    {
        "author": "ciphergarden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am getting ready to play around with the AA sandbox but before I do I wanted to ask: do those of you who know far more about this than I do see any reason a contract wallet that supports nft ownership/transfers such as erc721 tokens couldn't be implemented using eip2938?\nThanks very much to those of you who have been working on this!",
        "created_at": "2021-02-26T22:58:33.972000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Fair warning, the AA sandbox is out of date with the spec. It's a reasonable approximation, but if you're planning a detailed exploration, let us know, and we can see about getting it to spec.",
        "created_at": "2021-02-26T23:08:38.151000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If I understand ERC-721, and there's a good chance I don't, the `onERC721Received` callback would make it impossible to use with `safeTransfer`, at least until some of the Beyond 2938 extensions are implemented.",
        "created_at": "2021-02-26T23:10:45.455000+00:00",
        "attachments": null
    },
    {
        "author": "ciphergarden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok, thank you. I will just play around a bit first I think.",
        "created_at": "2021-02-26T23:22:44.859000+00:00",
        "attachments": null
    },
    {
        "author": "ciphergarden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "not sure I understand. For my case, I think at a minimum the contract wallet would just need to implement the `onERC721Received` callback. a separate non AA contract will act as an operator and move the tokens between AA accounts based on some logic/predicates the operator implements.",
        "created_at": "2021-02-26T23:31:40.721000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Implementing `onERC721Received` is actually the issue. In plain EIP-2938, contracts cannot call into an AA contract.",
        "created_at": "2021-02-26T23:34:17.030000+00:00",
        "attachments": null
    },
    {
        "author": "ciphergarden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "hmm, i see",
        "created_at": "2021-02-26T23:34:50.464000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Well, more specifically, the mandatory prefix for 2938 contracts will return immediately, and not include the special return value ERC-721 specifies.",
        "created_at": "2021-02-26T23:35:52.657000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://hackmd.io/@SamWilsn/S1UQDOzBv#Read-write-Calls has a bit more detail on exactly what we'd need to enable that feature.",
        "created_at": "2021-02-26T23:36:39.691000+00:00",
        "attachments": null
    },
    {
        "author": "ciphergarden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok, thank you",
        "created_at": "2021-02-26T23:47:02.786000+00:00",
        "attachments": null
    }
]