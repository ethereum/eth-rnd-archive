[
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, I see. I feel like storing anything secret must be done off-chain?",
        "created_at": "2020-12-23T16:09:25.285000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Generally yes.  The conclusion I came to was that there needs to be an anonymity system where the assets can be bound to a withdraw address at secret generation time.  That way, you don't have to be *quite* so careful with securing your secrets against theft.",
        "created_at": "2020-12-23T16:18:02.288000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You can instead focus on securing them against loss, which is significantly easier when you don't have to worry as much about theft.",
        "created_at": "2020-12-23T16:18:28.113000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That way you can set the withdraw address to a contract that has features like recovery, key rotation, spending limits, etc.",
        "created_at": "2020-12-23T16:18:49.318000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(i.e., a contract)",
        "created_at": "2020-12-23T16:18:54.373000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, that makes sense. Is there a way to set a withdrawal address at deposit time that doesn't link the deposit and withdrawal addresses? Assuming tornado can do that safely, it would probably just work with AA natively.",
        "created_at": "2020-12-23T16:20:49.927000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is possible, but not currently built into Tornado.",
        "created_at": "2020-12-23T16:21:12.355000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Maybe Tornado vNext or Aztec 2 will support something like that.",
        "created_at": "2020-12-23T16:21:27.679000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How would that work? My 10 seconds of thought was that once the withdrawal address claims the funds, you could iterate through the deposits and see which had the correct hash",
        "created_at": "2020-12-23T16:22:18.425000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But I assume there's some cryptocraphic tomfoolery that lets you hide it more completely?",
        "created_at": "2020-12-23T16:22:48.761000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The withdraw address can be part of the data associated with the note as I understand it.",
        "created_at": "2020-12-23T17:10:25.909000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "A note is just \"proof that I deposited X ETH\".  You can attach other data to the note as well at note generation time, such as a valid withdraw address or something.",
        "created_at": "2020-12-23T17:11:19.115000+00:00",
        "attachments": []
    }
]