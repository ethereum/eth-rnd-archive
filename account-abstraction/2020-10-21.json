[
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Finally got around to drafting an EIP for sponsored transactions that works with AA: https://hackmd.io/@SamWilsn/rkmD5l8Pw",
        "created_at": "2020-10-21T02:21:33.650000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Pretty similar to the proposal anydot had posted back in July",
        "created_at": "2020-10-21T02:22:45.846000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@689161464829050960\u003e Abstract should be a human readable version of the specification, with edge cases and minutia left out.  What you have in there right now is content more appropriate for the Motivation section.",
        "created_at": "2020-10-21T02:28:16.919000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Also, your simple summary is too long.  Imagineemail subject line or the last row in a table, or a GitHub pull request title line.",
        "created_at": "2020-10-21T02:29:23.813000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Think of the abstract like a gist of the specification.  It isn't fully detailed, but ideally someone reading it can quickly get an idea of what is involved and/or what the solution is.",
        "created_at": "2020-10-21T02:30:35.504000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I bring this up because I'm currently trying to get the gist of the solution and failing, looks like I'll have to read and grok the full spec.  ðŸ˜¢",
        "created_at": "2020-10-21T02:31:34.746000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I appreciate the feedback!",
        "created_at": "2020-10-21T02:33:20.702000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I am a bit concerned that this solution will require maintaining transaction processing code in two places every time we change valid transactions (e.g., introduce new transaction types).",
        "created_at": "2020-10-21T02:33:59.946000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Though, bsmaybe I'm thinking about this wrong...",
        "created_at": "2020-10-21T02:34:36.344000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think this approach is more akin to a `CALL` than a transaction",
        "created_at": "2020-10-21T02:34:42.630000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, I'm starting to get that...",
        "created_at": "2020-10-21T02:34:54.765000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Basically just a CALL with a different msg.sender.",
        "created_at": "2020-10-21T02:35:08.963000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep!",
        "created_at": "2020-10-21T02:35:13.153000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And the signature and nonce are present to ensure the sender allows it.",
        "created_at": "2020-10-21T02:35:24.804000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Exactly",
        "created_at": "2020-10-21T02:35:38.360000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Why `gas_limit`?",
        "created_at": "2020-10-21T02:35:41.542000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e A transaction package can only be invalidated if both the relayer and sponsee cooperate, which is nice for EOA sponsors, and necessary for AA contracts.\nI think this is a bad thing, not a good thing.  I feel like end users **should** be able to cancel their transactions without needing agreement from a third party.",
        "created_at": "2020-10-21T02:37:49.322000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If the relayer is able to choose the gas limit, they could pick a tiny limit, causing the inner transaction to rollback. Essentially a relayer could DoS a sponsee.",
        "created_at": "2020-10-21T02:37:50.385000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So a well written relayer contract would allow users to cancel",
        "created_at": "2020-10-21T02:39:04.241000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Use sponsee nonce: the sponsee could attack the sponsor by submitting another transaction with a conflicting nonce at a higher gas price.\nCan you describe the specific attack here in more detail?",
        "created_at": "2020-10-21T02:39:17.676000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e So a well written relayer contract would allow users to cancel\n\u003c@689161464829050960\u003e requires trust though I believe?",
        "created_at": "2020-10-21T02:39:32.331000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Can you describe the specific attack here in more detail?\n\u003c@!301186049323958275\u003e An attacker could frontrun a sponsored transaction, but only provide 2300ish gas. The sponsee's nonce would get bumped, and they'd have to resubmit their transaction.",
        "created_at": "2020-10-21T02:42:47.559000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's from https://ethereum-magicians.org/t/eip-callwithsigner-as-a-potential-fix-for-the-msg-sender-problem/4340/3?u=samwilsn",
        "created_at": "2020-10-21T02:43:54.985000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Why is that a problem?",
        "created_at": "2020-10-21T02:43:58.708000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is the concern that the sponsor will still have to pay for *some* gas?",
        "created_at": "2020-10-21T02:44:23.281000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "With AA, can we not verify the nonce is valid prior to PAYGAS?",
        "created_at": "2020-10-21T02:44:33.728000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It's not that the sponsor pays for gas, it's that the sponsor can censor a sponsee",
        "created_at": "2020-10-21T02:44:57.705000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e The sponsee's nonce would get bumped\nPerhaps I'm misunderstanding.  You are saying that someone *else* (besides the sponsee) can bump a sponsee nonce?",
        "created_at": "2020-10-21T02:45:29.879000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh, I think we are talking about two different things.",
        "created_at": "2020-10-21T02:49:14.506000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm convinced on min_gas_limit being necessary.",
        "created_at": "2020-10-21T02:49:26.097000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm now talking only about the nonce issue.  If the sponsee provides and signs over a nonce (as part of the signed call details), what is the attack vector that creates?",
        "created_at": "2020-10-21T02:50:20.910000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e I'm now talking only about the nonce issue.  If the sponsee provides and signs over a nonce (as part of the signed call details), what is the attack vector that creates?\n\u003c@!301186049323958275\u003e It's only an issue if the sponsee's transaction never completes, because of the gaslimit",
        "created_at": "2020-10-21T02:56:47.522000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Or do you mean why we have to use relayer-sponsee nonces, instead of just sponsee nonce?",
        "created_at": "2020-10-21T02:57:35.870000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, yes, I think I see what you were asking now.\n\nIf an AA contract sponsors a transaction, it wants to be absolutely sure the transaction will succeed before committing to pay with `PAYGAS`. If a malicious sponsee is allowed to invalidate a transaction-like package, they could drain an AA contract with transactions that'll never be valid.",
        "created_at": "2020-10-21T03:04:08.981000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If we can check the nonce validity prior to PAYGAS, then it seems like the sponsor can't be screwed out of their gas by front-running the sponsor with a nonce-burning transaction.  Also, I'm not terribly concerned about attacks where the attacker has to pay more in gas to burn the victim's gas than the victim has to pay, and it feels like we could ensure this is the case?",
        "created_at": "2020-10-21T03:28:39.980000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!689161464829050960\u003e Is there a reason we cannot validate the nonce prior to PAYGAS?",
        "created_at": "2020-10-21T03:28:53.657000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thinking more on this subject, it is very unfortunate that AA sponsors can only sponsor private-key signed transactions.  I kinda feel like we have failed to achieve AA if we still have restrictions like that.",
        "created_at": "2020-10-21T03:30:08.864000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e If we can check the nonce validity prior to PAYGAS, then it seems like the sponsor can't be screwed out of their gas by front-running the sponsor with a nonce-burning transaction. \n\u003c@!301186049323958275\u003e Allowing an AA contract to read another contract's nonce before `PAYGAS` is a whole can of worms with transaction propagation. You could stack a ton of pending transactions and invalidate them all with a cheap transaction from the sponsee account.",
        "created_at": "2020-10-21T03:31:55.765000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Thinking more on this subject, it is very unfortunate that AA sponsors can only sponsor private-key signed transactions.  I kinda feel like we have failed to achieve AA if we still have restrictions like that.\n\u003c@!301186049323958275\u003e If AA contracts don't need a signature to sponsor a transaction, couldn't they just steal every token from any account?",
        "created_at": "2020-10-21T03:33:33.636000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't have a solution to the problem, just lamenting that this particular solution doesn't feel like it fits the AA ethos.",
        "created_at": "2020-10-21T03:34:13.270000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "An AA smart contract wallet wouldn't need signatures, but to sponsor a transaction for an EOA, they absolutely need a signature",
        "created_at": "2020-10-21T03:34:47.080000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Can we make it so only AA accounts can be sponsees?",
        "created_at": "2020-10-21T03:34:51.389000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ðŸ¤”",
        "created_at": "2020-10-21T03:35:06.126000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sponsees or sponsers?",
        "created_at": "2020-10-21T03:35:18.543000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The argument here is that an AA account doesn't need a sponsor at all?",
        "created_at": "2020-10-21T03:35:21.407000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Correct",
        "created_at": "2020-10-21T03:35:29.206000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That is, you can just call it and it can decide (based on call data) whether the transaction is valid or not.",
        "created_at": "2020-10-21T03:35:44.964000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Wasn't there some rule against calling an AA account from another contract?",
        "created_at": "2020-10-21T03:36:22.489000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Maybe that was in an older iteration?",
        "created_at": "2020-10-21T03:36:28.281000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Anyone can craft a transaction targetting an AA contract, and the AA contract decides validity. That is true for all versions.\n\nCalls (`CALL` \u0026 `STATICCALL`) into an AA contract require a bit more work, and are only supported by the stuff in the \"beyond eip-2938...\" document.",
        "created_at": "2020-10-21T03:38:20.570000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh, lol, just saw your edit.",
        "created_at": "2020-10-21T03:38:50.935000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Heh, sorry.  Realized my word choice was terrible the first time around.  ðŸ™‚",
        "created_at": "2020-10-21T03:39:23.159000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So to sponsor an AA's transaction, we would need \"beyond 2938\" stuff.",
        "created_at": "2020-10-21T03:39:51.840000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I haven't thought of any use cases for an AA contract being a sponsee. I've been focused on AA contracts as sponsors, since generally AA contracts will pay for their own transactions.",
        "created_at": "2020-10-21T03:39:59.722000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Why would you want to sponsor an AA contract?",
        "created_at": "2020-10-21T03:40:09.706000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I actually care relatively little about supporting sponsorship of non-AA transactions in a post-AA world.",
        "created_at": "2020-10-21T03:40:10.033000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "AA contract only has tokens, no ETH.",
        "created_at": "2020-10-21T03:40:22.056000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How would you end up in that state?",
        "created_at": "2020-10-21T03:41:20.201000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Or AA contract is redeeming a Tornado note as its first input and the user doesn't want to connect their accounts.",
        "created_at": "2020-10-21T03:41:25.668000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Someone transfers some TOK to an AA account.",
        "created_at": "2020-10-21T03:41:40.022000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ðŸ¤” Does deploying an AA account require gas?  Can that deployment not be sponsored?",
        "created_at": "2020-10-21T03:42:04.351000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Presumably yes to the first (deploying an AA contract requires gas).",
        "created_at": "2020-10-21T03:42:15.947000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Or AA contract is redeeming a Tornado note as its first input and the user doesn't want to connect their accounts.\n\u003c@!301186049323958275\u003e I think, in this case, tornado would be the AA contract and would pay for the fees from the funds being claimed",
        "created_at": "2020-10-21T03:42:24.055000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Deploying an AA contract requires gas, because there's no difference between an AA contract and a non-AA contract, consensus-wise",
        "created_at": "2020-10-21T03:42:58.672000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But anyone can pay *that* gas right?",
        "created_at": "2020-10-21T03:43:12.909000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But, for the same reason, the creation could be sponsored ðŸ˜›",
        "created_at": "2020-10-21T03:43:15.045000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep!",
        "created_at": "2020-10-21T03:43:16.277000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So lets say I want to set my grandma up with an AA account that holds DAI.  I don't want her to have to understand ETH.  I create the contract for her and deposit some DAI into it.  She now has an AA account with DAI in it and no ETH.",
        "created_at": "2020-10-21T03:43:59.893000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, wait",
        "created_at": "2020-10-21T03:44:12.294000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I want her to be able to transact, but I don't want to have to give her ETH to do so.",
        "created_at": "2020-10-21T03:44:17.702000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Assume I am building tools for her to use (e.g., MetaMask like thing).",
        "created_at": "2020-10-21T03:44:28.250000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But I don't want her to have to trust me, or me to trust her, because I don't want to have to interact with her every time she transacts.  I want to help get her setup and then be able to walk away.",
        "created_at": "2020-10-21T03:45:08.786000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So you wouldn't set your grandma up with an AA contract. You'd set her up with an EOA, and that EOA would hold Dai.\n\nThen, some general AA contract would exist that would sponsor transactions given Dai.",
        "created_at": "2020-10-21T03:45:27.570000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e So you wouldn't set your grandma up with an AA contract. You'd set her up with an EOA, and that EOA would hold Dai.\nThis feels like a failure of AA?",
        "created_at": "2020-10-21T03:45:46.504000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I thought the whole idea with AA was that we can move away from EOAs?",
        "created_at": "2020-10-21T03:46:01.717000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Like what if I want to set her up with a BLS signature instead of an ECDSA signature (for reasons)?",
        "created_at": "2020-10-21T03:46:21.019000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hm, that's a good point.",
        "created_at": "2020-10-21T03:47:01.508000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So you'd want a BLS signature based AA contract to hold no ETH, to be sponsored by another AA contract that handles Dai\u003c-\u003eETH conversions?",
        "created_at": "2020-10-21T03:47:56.871000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Or rather you'd like a system that can support that construction.",
        "created_at": "2020-10-21T03:48:12.227000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah.",
        "created_at": "2020-10-21T03:48:44.056000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The ability for an AA account (which may utilize any validation technique including BLS, multisig, etc.) to be able to be sponsored so that gas payments can be come from somewhere else (be it secondary gas sponsorship networks or whatever).",
        "created_at": "2020-10-21T03:49:47.400000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Well you could get _close_ to that by adding different signature options for the precompile... but it isn't full account abstraction plus full sender abstraction.",
        "created_at": "2020-10-21T03:50:55.356000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Soooo.... technically with the way EIP-2938 (and even with all of its extensions), it's _really_ difficult to use Dai to pay for transactions.\n\nYou have to deposit your Dai into the AA contract (because the contract can't read external state before `PAYGAS`), and then you need some sort of conservative price oracle... it gets pretty messy.",
        "created_at": "2020-10-21T03:52:43.600000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Just as a refresher, the two wins we want from AA are the following right?\n1. Gas paid by contract.\n2. Expanded signing options.",
        "created_at": "2020-10-21T03:53:02.875000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep",
        "created_at": "2020-10-21T03:53:10.344000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And ideally have those two features work with all of the other things we have/want.",
        "created_at": "2020-10-21T03:53:31.861000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(like sponsorship, 1559, etc.)",
        "created_at": "2020-10-21T03:53:40.032000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Agreed",
        "created_at": "2020-10-21T03:53:47.486000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For some reason, my brain really is struggling to keep properly scoped/focused when talking about AA.  ðŸ˜¢",
        "created_at": "2020-10-21T03:54:10.429000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I find my brain constantly leading me down incorrect paths where I think AA contracts are more than they are designed to be.",
        "created_at": "2020-10-21T03:54:34.760000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I *think* the \"AA account with only DAI still makes sense in an AA world, but maybe not?",
        "created_at": "2020-10-21T03:55:25.101000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There's a lot they _could_ be, but because of various constraints, EIP-2938 _isn't_.",
        "created_at": "2020-10-21T03:55:25.598000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That scenario totally makes sense!",
        "created_at": "2020-10-21T03:55:51.484000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Why couldn't you have a smart contract wallet that only holds Dai, and uses a relayer to pay gas?",
        "created_at": "2020-10-21T03:56:11.330000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If my grandma has the DAI holding contract, how would she do stuff like use a dapp where the calls have `msg.sender` as her DAI holding AA account?",
        "created_at": "2020-10-21T04:00:04.311000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "FWIW, meta transactions try to solve this at layer 2 today but we are realizing that it is kind of hell for UX, which is why we want a layer 1 solution for sponsorship.",
        "created_at": "2020-10-21T04:00:23.751000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So it is *possible* to do all that without layer 1 sponsorship, the question is how do we achieve it via layer 1 sponsorship?",
        "created_at": "2020-10-21T04:00:55.888000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You've convinced me that one missing piece is having an AA contract as a sponsee. I don't know exactly how necessary that piece is, but the hole certainly exists.\n\nI'm going to have to think about this some more and get back to you!\n\nMy thoughts so far are that with EIP-2938 and this sponsored transaction precompile, your grandma could keep the Dai in an AA exchange/relayer contract and have `msg.sender` be an EOA **or** keep some ETH with her Dai in an AA smart contract wallet, but not both.",
        "created_at": "2020-10-21T04:13:48.707000+00:00",
        "attachments": null
    }
]