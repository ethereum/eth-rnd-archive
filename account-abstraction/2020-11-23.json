[
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Contract pays gas.  Contract wallet that doesn't require signer have gas money.\n\n✅  Base EIP-2938 supports this.\n\n\u003e Sponsored Transactions.  Totally unrelated address pays for gas than is CALLER.  CALLER can be a contract wallet\n\n✅  EIP-3074 handles this and works with AA\n\n\u003e Multi-action transactions.  Example: Approve then Call atomically, both with msg.sender of owner.\n\n✅  Base EIP-2938 supports this.\n\n\u003e EOA == Contract.  isHuman and isContract should not be possible.  Contracts should not be able to discriminate against people securing their assets smartly!\n\n❌ `EXTCODESIZE` makes this impossible without some sweeping changes.\n\n\u003e Arbitrary Executions.  A contract wallet should be able to do arbitrary things, not only what it was programmed to do (e.g., caller passes an array of contracts and calldatas to call in order).\n\n✅  Base EIP-2938 supports this\n\n\u003e Third Party Callers. A contract wallet should be able to receive incoming calls from other contracts.\n\n✅  Supported with `COMMIT_GAS`: https://hackmd.io/@SamWilsn/S1UQDOzBv#Read-write-Calls\n\n\u003e Account Storage. A contract wallet should be able to store data, and that data should be publicly visible.(edited)\n\n✅  Supported with base EIP-2938",
        "created_at": "2020-11-23T17:56:55.385000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Accessing your own state is always allowed before `PAYGAS`, and the contract can choose what limits to apply, just like a regular contract.",
        "created_at": "2020-11-23T17:58:46.766000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "If all EOAs were converted to AA accounts, wouldn't that break extcodesize?",
        "created_at": "2020-11-23T18:07:54.255000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep, though you could do an `EXTCODECOPY` and check it against some whitelist.",
        "created_at": "2020-11-23T18:08:48.551000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I feel like as long as contracts can discriminate on human vs contract caller, they will discriminate.  And as long as contracts discriminate on that, people will not switch to using contract accounts.",
        "created_at": "2020-11-23T18:11:11.062000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is one of my fears with going down the AA path rather than something like rich transactions.",
        "created_at": "2020-11-23T18:11:30.443000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How often is `EXTCODECOPY` even used?",
        "created_at": "2020-11-23T18:12:13.314000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For anything other than isHuman checks?",
        "created_at": "2020-11-23T18:12:34.408000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah",
        "created_at": "2020-11-23T18:12:38.373000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "My guess is never, but I can't prove it.",
        "created_at": "2020-11-23T18:12:45.820000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh, it is used by bots for gas savings.",
        "created_at": "2020-11-23T18:13:00.227000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Using a contract as a constant?",
        "created_at": "2020-11-23T18:13:25.580000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is cheaper to write contracts when storing large amounts of data.",
        "created_at": "2020-11-23T18:13:29.405000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "lol!",
        "created_at": "2020-11-23T18:13:39.975000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There are good reasons though, and it isn't an exploit, even if it is dumb.",
        "created_at": "2020-11-23T18:14:02.728000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Contracts are contiguous storage, while every 32 bytes in storage is a merkle node.",
        "created_at": "2020-11-23T18:14:29.342000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "_Very_ expensive writes, and cheap reads",
        "created_at": "2020-11-23T18:14:46.534000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Or something along those lines.",
        "created_at": "2020-11-23T18:14:47.560000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, is it expensive to write, cheap to read?",
        "created_at": "2020-11-23T18:15:01.020000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep",
        "created_at": "2020-11-23T18:15:06.292000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Makes sense",
        "created_at": "2020-11-23T18:15:08.465000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You'd need to do a self-destruct then deploy to write",
        "created_at": "2020-11-23T18:15:28.631000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm not too worried about those people.",
        "created_at": "2020-11-23T18:15:34.922000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But `EXTCODECOPY` to read.",
        "created_at": "2020-11-23T18:15:39.825000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Maybe an EIP to remove them, or make them always return a zero length?",
        "created_at": "2020-11-23T18:16:02.749000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I support pretty much all extreme measures to stop the isContract behavior.",
        "created_at": "2020-11-23T18:16:42.553000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That's about the only way to actually make isHuman checks impossible to implement.",
        "created_at": "2020-11-23T18:16:49.534000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "My concern is that if we implement AA without those extreme measures we may not reap the benefits of AA.",
        "created_at": "2020-11-23T18:17:07.296000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, well... `tx.origin` will always be `ENTRY_POINT` I think?",
        "created_at": "2020-11-23T18:17:23.808000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "However, I also worry we won't be able to convince the core devs to implement extreme measures.",
        "created_at": "2020-11-23T18:17:33.274000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'll have to check the EIP to be sure.",
        "created_at": "2020-11-23T18:17:33.446000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I would rather tx.origin be the AA account, for basically the same reason.",
        "created_at": "2020-11-23T18:17:53.659000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e If ORIGIN (0x32) is invoked in any frame of execution of an AA transaction it must return AA_ENTRY_POINT.",
        "created_at": "2020-11-23T18:18:21.316000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, I don't like that because it provides a discriminant.",
        "created_at": "2020-11-23T18:18:49.277000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`require(tx.origin == msg.sender)`",
        "created_at": "2020-11-23T18:19:05.121000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep",
        "created_at": "2020-11-23T18:20:03.650000+00:00",
        "attachments": null
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think it should return the target contract as well.",
        "created_at": "2020-11-23T18:20:58.652000+00:00",
        "attachments": null
    }
]