[
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!301186049323958275\u003e \n\nIf you make an AA-typed transaction and target an AA contract, the contract decides validity and chooses the gas limit/price. This uses the EOA's nonce.\n\nIf you send a normal untyped transaction to an AA contract, you'd use the EOA's nonce, and the EOA would pay for gas.",
        "created_at": "2020-09-24T01:13:15.862000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!689161464829050960\u003e Hmm, I thought external calls into AA contracts isn't allowed in phase 0?",
        "created_at": "2020-09-24T02:14:19.856000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is possible I'm getting phases mixed up.",
        "created_at": "2020-09-24T02:14:28.972000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e If you send a normal untyped transaction to an AA contract, you'd use the EOA's nonce, and the EOA would pay for gas.\nWould this just be like any other contract call?",
        "created_at": "2020-09-24T02:16:12.290000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So the contract would need to have an entrypoint that accepted a signature I guess, but that isn't so bad.",
        "created_at": "2020-09-24T02:16:34.597000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You are correct, not in phase 0, but _if_ we allow external calls (possible with `RESERVE_GAS` and/or access lists) you can get the behaviour you want, I think.",
        "created_at": "2020-09-24T02:16:35.028000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e So the contract would need to have an entrypoint that accepted a signature I guess, but that isn't so bad.\nAnd that entrypoint would need to have its own replay protection.",
        "created_at": "2020-09-24T02:17:18.793000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm not sure I follow. If `msg.sender == shr(-1, 12)`, it's an AA transaction and the contract needs to check the signature in the calldata, and that signature _should_ sign over the nonce.\n\nIf `msg.sender != shr(-1, 12)`, it's a normal transaction, and the contract doesn't need to do any signature checking.",
        "created_at": "2020-09-24T02:19:52.179000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What is `msg.sender` in the context of a root AA call?",
        "created_at": "2020-09-24T02:20:25.597000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "`0xffff...`",
        "created_at": "2020-09-24T02:20:41.723000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And why do you `shr(-1, 12)`?",
        "created_at": "2020-09-24T02:21:02.026000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh, I see.",
        "created_at": "2020-09-24T02:21:15.029000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That's what's in the EIP, and I can never remember exactly how many f's that is ^^;;",
        "created_at": "2020-09-24T02:21:22.036000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Just a confusing way to see if `msg.sender` is `0xfff...`.",
        "created_at": "2020-09-24T02:21:31.043000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e If `msg.sender != shr(-1, 12)`, it's a normal transaction, and the contract doesn't need to do any signature checking.\nIf the goal is sponsored transactions this doesn't work.",
        "created_at": "2020-09-24T02:22:01.621000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The owner of the AA account needs to provide a signature authorizing the call, and that signature needs to be not replayable.",
        "created_at": "2020-09-24T02:22:37.423000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "In your terminology, is a sponsored transaction one that is paid for by the contract itself, but `msg.sender` or `tx.origin` is set to an EOA?",
        "created_at": "2020-09-24T02:27:32.233000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Sponsored Transaction: Action is authorized by user A, but gas is paid for by user B.",
        "created_at": "2020-09-24T02:28:16.185000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Right, but specifically is `msg.sender` or `tx.origin` set to A or B?",
        "created_at": "2020-09-24T02:28:41.816000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "User A.",
        "created_at": "2020-09-24T02:28:48.557000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "B *only* pays for gas.  They otherwise don't show up in the transaction at all and have no control over anything and should be assumed to be malicious.",
        "created_at": "2020-09-24T02:29:20.336000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep. I knew that as meta-transaction, and yeah, it isn't supported by our EIP.",
        "created_at": "2020-09-24T02:29:20.951000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, we have been trying to rename \"meta transactions\" to \"sponsored transactions\" to be more clear about what they are/do.",
        "created_at": "2020-09-24T02:29:45.967000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\"Sponsored transactions\" is a much better name.",
        "created_at": "2020-09-24T02:30:01.848000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So my concern is that sponsored transactions is a pretty desirable feature, and we want it to be *compatible* with AA I think.",
        "created_at": "2020-09-24T02:30:20.792000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is pretty easy (IMO) to get sponsored transactions at layer 1 without AA, but it is unclear to me how we could make sponsored transactions work with AA.",
        "created_at": "2020-09-24T02:30:50+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah... You could do it as an ERC (if I understand the terminology) with AA pretty easily.",
        "created_at": "2020-09-24T02:30:51.583000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hmm, how would you make it work via a standardized contract interface with AA?",
        "created_at": "2020-09-24T02:31:14.454000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You'd need some agreed upon proxy contract (or a precompile) at some known address.\n\nThe AA sponsor contract would get the transaction, do whatever checks it wants before `paygas` to decide if it's willing to pay, then call the proxy contract passing the inner calldata and signature.\n\nThe proxy contract would check the signature and calldata, then call the real target of the inner transaction, passing the sponsee's address and the calldata.\n\nFinally the real target would check that `msg.sender` is equal to the proxy's address.",
        "created_at": "2020-09-24T02:36:06.017000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Wouldn't work for existing contracts, obviously.",
        "created_at": "2020-09-24T02:37:00.567000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We explicitly didn't want to touch sponsored transactions with EIP-2938, but we'd be happy to explore that road if AA sans-sponsored-transactions isn't desirable enough.",
        "created_at": "2020-09-24T02:37:56.619000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What is `ORIGIN` for AA contracts in all call frames other than the first?",
        "created_at": "2020-09-24T02:43:27.252000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Bleh, I found the answer and I'm very sad.  Surprised \u003c@!273808422753796097\u003e was OK with this given their previous comments on the matter.\n\u003e If `ORIGIN (0x32)` is invoked in any frame of execution of an AA transaction it must return `AA_ENTRY_POINT`.\nThis means that contracts can discriminate on AA transactions vs EOA transactions, which historically has been quite problematic for contract wallet adoption.  I would much rather see `ORIGIN` equal the AA account address.  However, to maintain `ORIGIN` semantics, we would need `AA_ENTRY_POINT` to also equal `tx.target`.",
        "created_at": "2020-09-24T02:48:32.119000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What is the argument against having `ORIGIN` and first call frame `CALLER` being `tx.target`?  We would still be able to do the prefix check with `if (CALLER == this)` I believe.",
        "created_at": "2020-09-24T02:49:18.949000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think we wanted AA and EOA to be distinguishable?",
        "created_at": "2020-09-24T02:49:49.169000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Basically because existing apps that are EOA-only do that to prevent transferability",
        "created_at": "2020-09-24T02:49:59.235000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "whereas anything in an AA is transferable because the AA itself could be transferable",
        "created_at": "2020-09-24T02:50:10.636000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That just results in people doing:\n```\n// don't allow any contracts to participate\nrequire(tx.origin != 0xfff...);\n```",
        "created_at": "2020-09-24T02:50:35.148000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but yeah, in the long run things that demand untransferability will require a different approach....",
        "created_at": "2020-09-24T02:50:35.326000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "right but the point is that being AA-friendly means you can't have any non-transferability",
        "created_at": "2020-09-24T02:51:00.518000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I don't have a problem with breaking all of those things... ðŸ˜¬",
        "created_at": "2020-09-24T02:51:27.068000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "heh ðŸ˜›",
        "created_at": "2020-09-24T02:51:37.228000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That pattern totally against the ethos of \"your keys, your assets\".",
        "created_at": "2020-09-24T02:51:49.123000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I feel like if we allow people to differentiate between AA and EOA we are going to end up with significant problems with adoption because a lot of apps are going to openly disallow AA accounts.",
        "created_at": "2020-09-24T02:53:15.963000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For example, USDC will likely disallow AA because it breaks their ability to censor.  Same with all of the apps that have really terrible security practices where they think that EOA only means that the callers cannot game the system by running some code first.",
        "created_at": "2020-09-24T02:54:09.359000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And if we have a whole segment of contracts disallowing AA, then I worry we'll see the same adoption problems we see today with contract wallets.",
        "created_at": "2020-09-24T02:54:34.441000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "right, that's fair",
        "created_at": "2020-09-24T02:55:12.515000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm all for supporting more features in the first hardfork containing AA. I think we (Quilt) were afraid of proposing something too large and scaring off the coredevs.",
        "created_at": "2020-09-24T03:00:23.985000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, I totally get that.  The problem is that the current proposal may not implement enough to get core devs excited enough about it to want to implement it.",
        "created_at": "2020-09-24T03:12:32.612000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We have the EIPs up for `IS_STATIC` (enables `STATICCALL` into AA contracts) and `SET_INDESTRUCTIBLE` (enables `DELEGATECALL` out of AA contracts.)\n\nIs a sponsored transactions EIP on top of EIP-2938 where we want to go next?",
        "created_at": "2020-09-24T03:20:49.024000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "For AA to win my vote (over Rich Transactions) I would like to see/understand a clear path to:\n1. Inability for contracts to discriminate on AA vs EOA (this sounds like it is political rather than technical)\n2. Support for stealth sponsored transactions (someone else pays for gas, but ORIGIN/CALLER is AA account).\n3. Ability to do external static calls before `PAYGAS` (sounds like this is already partially solved, I need to look into the solution still)\n4. Maybe more I can't think of at the moment.  ðŸ˜¬",
        "created_at": "2020-09-24T03:47:47.885000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e 1. Inability for contracts to discriminate on AA vs EOA (this sounds like it is political rather than technical)",
        "created_at": "2020-09-24T05:11:34.285000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think making EOA-only contract *by default* accept AAs could solve ~75% of this; at least prevent the current problem where there's already-existing applications that won't accept AAs",
        "created_at": "2020-09-24T05:12:07.430000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e 3. Ability to do external static calls before PAYGAS (sounds like this is already partially solved, I need to look into the solution still)",
        "created_at": "2020-09-24T05:12:45.945000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "this is definitely a tougher one. The thing that's partially solved is the ability for external contracts to call _into_ an AA contract. What you're asking for seems to be an AA contract being able to call an _external_ contract before PAYGAS, which is tougher",
        "created_at": "2020-09-24T05:13:26.432000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(what is your usecase for that btw? Is it just libraries, or something else too?)",
        "created_at": "2020-09-24T05:13:43.791000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e I think making EOA-only contract *by default* accept AAs could solve ~75% of this; at least prevent the current problem where there's already-existing applications that won't accept AAs\n\u003c@!273808422753796097\u003e What do you mean by this?",
        "created_at": "2020-09-24T05:17:01.806000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You mean making it so new accounts are all AA unless you go way out of your way to make not-EOA?",
        "created_at": "2020-09-24T05:17:15.950000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Oh I mean the ORIGIN = target change for example",
        "created_at": "2020-09-24T05:17:36.637000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(which I think you proposed above)",
        "created_at": "2020-09-24T05:17:42.495000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That would make _existing_ EOA checks accept AAs",
        "created_at": "2020-09-24T05:17:48.843000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But you would still be able to check for EOA-ness by checking `extcodesize(caller) == 0`",
        "created_at": "2020-09-24T05:18:05.232000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Eh, I think as long as it is possible to discriminate people *will* discriminate.",
        "created_at": "2020-09-24T05:18:10.460000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e But you would still be able to check for EOA-ness by checking `extcodesize(caller) == 0`\nBleh.",
        "created_at": "2020-09-24T05:18:25.826000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "One fun thing we could do is force-convert all the EOAs into AA contracts which have a \"change my own key\" function",
        "created_at": "2020-09-24T05:19:01.180000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Can we do that live?",
        "created_at": "2020-09-24T05:19:22.250000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So users would have to jump through hoops to prove their account's nontransferability",
        "created_at": "2020-09-24T05:19:22.727000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "sure why not",
        "created_at": "2020-09-24T05:19:29.659000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "One poke at a time, like the state clearing in 2016",
        "created_at": "2020-09-24T05:19:38.350000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We would need legacy transactions to still work with the AA accounts I think.",
        "created_at": "2020-09-24T05:21:42.219000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Else pre-signed transactions from a while back would cease to work.",
        "created_at": "2020-09-24T05:21:59.091000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "What is the legitimate (non-discriminatory) use case for extcodesize?",
        "created_at": "2020-09-24T05:22:13.607000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e What is the legitimate (non-discriminatory) use case for extcodesize?",
        "created_at": "2020-09-24T05:32:48.359000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Solidity uses it to check to verify that what you're calling actually is a contract, I think?",
        "created_at": "2020-09-24T05:33:03.857000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I like the idea of converting everyone's account to AA automatically and removing the ability to have non-AA accounts.",
        "created_at": "2020-09-24T05:38:11.688000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Then I would be fine with ORIGIN being `0xffff...` as there would be nothing to discriminate on.",
        "created_at": "2020-09-24T05:38:20.892000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "In full AA, is there a legitimate use case for legacy EOA support?  Is it possible to make it so transactions signed and saved a year ago will continue to work with an account that was migrated to AA?",
        "created_at": "2020-09-24T05:39:10.847000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Perhaps something that will convert legacy transactions to an AA transaction under the assumption that they are using the default AA contract (that we auto-migrated everyone to).",
        "created_at": "2020-09-24T05:39:48.872000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is it possible to *change* the contract code for an AA account?  Or is the code at it permanent?",
        "created_at": "2020-09-24T05:40:08.660000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hmm, everyone being migrated to AA *would* break some contracts.  There are some standards out there for tokens that support both EOA and contract, and the behavior is different.  I believe this is fine, but only if we allow users to *change* their AA contract code.  That way, a user could add support for certain callbacks later (like checking to see if a particular contract supports X).",
        "created_at": "2020-09-24T05:54:16.139000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How much trouble would we cause if, for AA transactions, the ext code family of opcodes, pointed at the AA contract, return what they would for an EOA?",
        "created_at": "2020-09-24T06:22:58.144000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "then we would need to have an explicit AA contract type",
        "created_at": "2020-09-24T06:23:40.751000+00:00",
        "attachments": []
    },
    {
        "author": ".vbuterin",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "which we currently do not",
        "created_at": "2020-09-24T06:23:43.727000+00:00",
        "attachments": []
    },
    {
        "author": "samwilsn",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!273808422753796097\u003e Why would we need to know if the contract is AA? Return zero from `EXTCODESIZE` if `addr == tx.target`.",
        "created_at": "2020-09-24T14:24:32.597000+00:00",
        "attachments": []
    }
]