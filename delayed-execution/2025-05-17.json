[
    {
        "author": "jochembrouwer",
        "category": "Cross-layer",
        "parent": "",
        "content": "I got some minor thoughts regarding the current spec\n\n```python\n        # Calculate gas costs (both EIP-7623 intrinsic cost and floor cost)\n        intrinsic_gas, calldata_floor_gas_cost = calculate_intrinsic_cost(tx)\n        blob_gas_used = calculate_total_blob_gas(tx)\n\n        # Track total gas usage (using the maximum of intrinsic gas and floor cost)\n        total_inclusion_gas += max(intrinsic_gas, calldata_floor_gas_cost)\n```\n`calldata_floor_gas_cost` is a bit misleading, I assume this intend to be this part of EIP-7623: `Any transaction with a gas limit below '21000 + TOTAL_COST_FLOOR_PER_TOKEN * tokens_in_calldata' or below its intrinsic gas cost (take the maximum of these two calculations) is considered invalid.  '21000 + TOTAL_COST_FLOOR_PER_TOKEN * tokens_in_calldata')`. But var name only looks like it is the `TOTAL_COST_FLOOR_PER_TOKEN * tokens_in_calldata` part (without the 21000)\n\n---- \n\n```python\n        # Verify sender is an EOA or has delegation support\n        if sender_address not in sender_balances:\n            account = get_account(chain.state, sender_address)\n            is_sender_eoa = (\n                account.code == bytearray()\n                or is_valid_delegation(account.code)\n            )\n            if not is_sender_eoa:\n                raise InvalidBlock\n            sender_balances[sender_address] = account.balance\n            sender_nonces[sender_address] = account.nonce\n```\n\nThis should link to https://eips.ethereum.org/EIPS/eip-3607",
        "created_at": "2025-05-17T19:08:29.149000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Cross-layer",
        "parent": "",
        "content": "Regarding FOCIL + delayed executions if we include BALs would this be the verification algorithm for the IL?\n\n- Check if IL tx is in the transactions already included\n- If this is not the case, check available gas left in the block, the nonce of the sender (should be read from BAL, if not present read from past state) and balance (should be read from BAL, if not present read from past state). If this situation allows tx to be included, block is invalid.",
        "created_at": "2025-05-17T19:21:00.791000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Cross-layer",
        "parent": "",
        "content": "Since in current execution spec we already make it mandatory that `gasUsed` is correct, this thus means block producer has already executed the block. To construct the BAL is a (minor) extra overhead. How much extra logic/time is usually necessary to compute the state root?",
        "created_at": "2025-05-17T19:23:20.852000+00:00",
        "attachments": null
    }
]