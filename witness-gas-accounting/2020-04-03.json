[
    {
        "author": "s1na",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Anyone thought about metering for (merklized) code during execution? seems harder than storage metering. The best i could think of is to bump every opcode cost by some amount (exceptional rule for `codecopy`, and co.) while not raising block gas limit. Otherwise gas can be charged at the end of the call frame by seeing how many chunks were touched during the frame",
        "created_at": "2020-04-03T10:35:06.275000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Why during?",
        "created_at": "2020-04-03T13:51:30.709000+00:00",
        "attachments": null
    },
    {
        "author": "s1na",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Well I was thinking, the earlier we can find out a tx is going OOG the less resources clients have to consume",
        "created_at": "2020-04-03T14:05:36.659000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Maybe a better way to go is to deduct the gas according to the total code size and then give a refund at the end when the actual size is known.",
        "created_at": "2020-04-03T14:10:28.064000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Can we do something similar for the storage witness?",
        "created_at": "2020-04-03T14:15:54.204000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "@sina I like the idea of charging for full size and then issuing a refund at the end. 1) it guarantees the call won't OOG in the middle of execution due to accessing a new chunk 2) it incentivises the design pattern of splitting contracts into small stand alone pieces 3) implementation complexity seems low (no need to do accounting at each opcode, only at the start and end of each call)",
        "created_at": "2020-04-03T14:49:42.008000+00:00",
        "attachments": null
    },
    {
        "author": "pipermerriam",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Eh, maybe that mention should have been \u003c@425279588009246720\u003e ðŸ˜‹",
        "created_at": "2020-04-03T14:52:07.037000+00:00",
        "attachments": null
    }
]