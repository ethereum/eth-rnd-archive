[
    {
        "author": "jonny.derp",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Question about the networking spec with respect to peer reputation.  I believe it is only mentioned twice in the networking spec and seems to be limited to req/resp section:\n            https://github.com/ethereum/eth2.0-specs/blob/master/specs/phase0/p2p-interface.md#responding-side\n\nhttps://github.com/ethereum/eth2.0-specs/blob/master/specs/phase0/p2p-interface.md#reqresp-interaction\n\nAre there plans to add more provide more guidance on how clients should track peer reputation?",
        "created_at": "2020-03-23T20:52:59.487000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Consensus Layer",
        "parent": "",
        "content": "As a follow-up question, I'm curious what additional logic client teams have included already to discourage peers that are behaving badly.",
        "created_at": "2020-03-23T20:54:42.256000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Prysm doesn't have peer reputation _per se_, but for any single run of a beacon node it will keep track of incorrect fork versions, failure to connect properly _etc._ and can mark peers as bad when they trip a counter.  The beacon node will then refuse to connect to the peer, and refuse connections from the peer (well, it will disconnect any connections it finds to said peers because libp2p doesn't ask us before it does its thing).  The \"peer badness\" ticks down over time, to give bad peers a chance in case they sort themselves out.",
        "created_at": "2020-03-23T22:36:55.145000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think any reputation system will be quite subjective and implementations are free to build whatever system they like. I'm not sure we should  specify a system in the spec. I think it's safe to drop peers that don't conform with the specification (don't abide by the MUST's)",
        "created_at": "2020-03-23T22:56:38.331000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e I think any reputation system will be quite subjective and implementations are free to build whatever system they like. \n\n\u003c@498009160982724610\u003e thanks.  With that in mind,  should we remove the to references to peer reputation that is in the spec?",
        "created_at": "2020-03-23T22:59:29.985000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I see your point, it's not referenced anywhere else. I think originally it was put in there as a hint that it might be a good idea to use these events if a reputation system was built for a client. If someone opened a PR to remove the two references, I wouldn't be opposed.",
        "created_at": "2020-03-23T23:04:34.032000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e I think it's safe to drop peers that don't conform with the specification (don't abide by the MUST's)\n\u003c@498009160982724610\u003e I'm trying to think through how this rule of thumb will affect light clients.  Will they be able to follow all the MUST's?  What gossip channels will they participate in?",
        "created_at": "2020-03-23T23:08:25.437000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Curious if you or others have some insight",
        "created_at": "2020-03-23T23:08:45.240000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Tbh I haven't thought through light clients entirely. But if they don't/can't  abide by the MUSTs we would need to modify the spec. I imagine they would only need to subscribe mainly to the block publishing channel (assuming they are not validating). Although many people here have been thinking through light clients and will have better answers than me",
        "created_at": "2020-03-23T23:11:33.349000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I *think* light clients would be incapable of implementing all of the req/res messages.  If so, should they only advertise the messages they can   implement (maybe just status and goodbye)?  Will nodes refuse to connect with them if they don't implement all of the req/res methods? Furthermore, that would essentially make it trivial to tell the difference between nodes and light clients.  Which, in some ways, would be unfortunate bc in the future...large numbers of light clients (I imagine) would help make it more difficult to find and possibly DoS validating nodes.  Maybe it's something worth bringing up in the next networking meeting if there is time.  I'm sure someone has thought thru this (I certainly haven't) and I'd love to hear from them as well.",
        "created_at": "2020-03-23T23:26:15.073000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yep, there have been a few discussions about allowing nodes to support gossipsub but not support the RPC entirely. This hasn't made the spec yet however.",
        "created_at": "2020-03-23T23:28:30.895000+00:00",
        "attachments": null
    },
    {
        "author": "jonny.derp",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e Yep, there has been a few discussions about allowing nodes to support gossipsub but not support the RPC entirely. This hasn't made the spec yet however.\n\u003c@498009160982724610\u003e cool...maybe I'll bring it up the question in the meeting",
        "created_at": "2020-03-23T23:29:35.163000+00:00",
        "attachments": null
    }
]