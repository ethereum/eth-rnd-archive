[
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Hey \u003c@!291925846556540928\u003e , pre-genesis, we dont validate the fork digest portion of the ENR when connecting to peers",
        "created_at": "2020-03-31T15:51:37.882000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "However, after genesis is reached, seems like we'll have to modify our ENR and basically resubscribe to all gossip topics, re-validating all our peers",
        "created_at": "2020-03-31T15:51:59.078000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "seems really brutal, is there a better approach here?",
        "created_at": "2020-03-31T15:52:07.403000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "it basically seems the same as not peering at all until genesis, because we'll have to find new peers anyways",
        "created_at": "2020-03-31T15:52:48.215000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e seems like we'll have to modify our ENR and basically resubscribe to all gossip topics\nI see you'd have to mod the ENR, but why need to resubscribe to all topics?",
        "created_at": "2020-03-31T16:14:38.309000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Consensus Layer",
        "parent": "",
        "content": "We would have a different fork digest now",
        "created_at": "2020-03-31T16:15:34.451000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Consensus Layer",
        "parent": "",
        "content": "due to there being a different genesis validator root \ninstead of `0x00000000`",
        "created_at": "2020-03-31T16:16:00.706000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Right, I understand the ENR churn, but I don't understand why resubscribing the topics",
        "created_at": "2020-03-31T16:16:26.992000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Also, remember that genesis happens 24-48 hours after the genesis state is known",
        "created_at": "2020-03-31T16:16:44.509000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Consensus Layer",
        "parent": "",
        "content": "aren't topics now \n```\n/eth2/fork-digest/topic/encoding\n```\n?",
        "created_at": "2020-03-31T16:17:05.211000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yup, missed that",
        "created_at": "2020-03-31T16:18:26.431000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "hmm, so you would need to do your subscriptions at the point of knowing the genesis, but you wouldn't need to get new peers",
        "created_at": "2020-03-31T16:18:54.581000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "and again, with  at least 24 hours of leadtime",
        "created_at": "2020-03-31T16:19:13.103000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "do you estimate this is a problem?",
        "created_at": "2020-03-31T16:19:27.922000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Consensus Layer",
        "parent": "",
        "content": "you would need to re-validate all your peers though to ensure their fork-digest is the same as yours and  and so on, although 48 hours technically should be fine in this case. Although there might be some peer churn from this",
        "created_at": "2020-03-31T16:21:56.726000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "got it. mgiht be reason to put fork_digest in MetaData so that it can naturally be fixed with pings instead of having to go to ENR",
        "created_at": "2020-03-31T16:23:40.016000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "We still need to come up with a solution to pre-genesis peer finding so maybe what we decide here might inform this corner case.",
        "created_at": "2020-03-31T16:24:08.260000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I'll make an issue to make sure we prioritize this",
        "created_at": "2020-03-31T16:24:14.759000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Consensus Layer",
        "parent": "",
        "content": "great, thanks for that",
        "created_at": "2020-03-31T16:25:24.076000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "thank you!",
        "created_at": "2020-03-31T16:25:31.776000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "https://github.com/ethereum/eth2.0-specs/issues/1700",
        "created_at": "2020-03-31T16:37:57.201000+00:00",
        "attachments": null
    }
]