[
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I see\nthat's why I added the \"MAY queue\" to assess the shuffling instead of MUST. This leaves the client able to make a decision on if it's worth investigating (e.g. might be if just a singular instance, but might not be if you just got flooded with weird looking fork blocks). \n\nBut I see your point, limiting scope of attack to a reduced set (validators) does  seem like the right way to go. \n\nA malicious set of validators could then attempt to DoS you with N blocks. You would verify the sigs and then if you decided to go investigate the past states, it would be costly but these messages wouldn't make it far in the gossip. I think \"MAY queue\" is still correct here to reduce the required workload when under this type of attack because otherwise, a set of N validators has an N-1 allowance per slot to get you to lookup past states.",
        "created_at": "2020-03-26T17:19:30.864000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e I think \"MAY queue\" is still correct here to reduce the required workload when under this type of attack because otherwise, a set of N validators has an N-1 allowance per slot to get you to lookup past states.\n\u003c@!291925846556540928\u003e so the MAY here means that we don't necessarily have to check the shuffling before gossiping? Or do you queue, check shuffling then publish?",
        "created_at": "2020-03-26T22:59:14.746000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "MAY is in reference to queuing and coming back to it for potential gossip",
        "created_at": "2020-03-26T22:59:43.290000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "otherwise the condition would fail and you drop",
        "created_at": "2020-03-26T22:59:51.043000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Gives optionality in investigating some weird fork blocks but not requiring to do it for all",
        "created_at": "2020-03-26T23:00:09.103000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Especially considering a cartel of N validators have an allowance of at least N-1 valid looking sigs per slot",
        "created_at": "2020-03-26T23:00:40.886000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Cool, thanks. What's a valid-looking sig?",
        "created_at": "2020-03-26T23:07:48.695000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Oh a signature for a slot where you're not a proposer?",
        "created_at": "2020-03-26T23:08:03.139000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yeah sorry, a block made by some random validator",
        "created_at": "2020-03-26T23:15:17.497000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "beacuse slashing is making two of those blocks per slot, anyone not assigned to a slot can make a block with a valid sig",
        "created_at": "2020-03-26T23:15:33.863000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "you could then point to some old block (say last epoch or the one before) as the parent even if the resulting shuffling doesn't dictate that that validator is the proposer at the slot on that fork",
        "created_at": "2020-03-26T23:16:21.263000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "but you'd have to go dig it up to know for sure",
        "created_at": "2020-03-26T23:16:31.451000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Consensus Layer",
        "parent": "",
        "content": "i feel you, this is what my nightmares consist of ðŸ˜›",
        "created_at": "2020-03-26T23:16:42.643000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\"noooo reading old states from the database\"",
        "created_at": "2020-03-26T23:16:58.575000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yup.",
        "created_at": "2020-03-26T23:17:12.049000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Consensus Layer",
        "parent": "",
        "content": "such slow, many allocation",
        "created_at": "2020-03-26T23:17:14.521000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "if you locally are seeing tons of attestations on some good looking blocks, might not be worth your time\n\nOr if you only see one of these come in from time to time, might be worth your time\n\nbut if you get a ton (especially for same slot), red flag, dos, drop most of them",
        "created_at": "2020-03-26T23:18:05.156000+00:00",
        "attachments": null
    }
]