[
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "",
    "created_at": "2026-02-01T21:52:10.652000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "<@402080271563751435> <@845691100072509460>  made a quick prototype to see what the savings would be for a few different encoding strategies. Here: https://eth-act.github.io/blob-encoding-experiments/",
    "created_at": "2026-02-01T21:52:12.786000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": ".",
    "created_at": "2026-02-01T21:53:45.709000+00:00",
    "attachments": [
      {
        "type": "image/png",
        "origin_name": "Screenshot_2026-02-01_at_21.52.27.png",
        "content": "95805af924fd4fc7071a2632465f28da5ebb30ec937d0026aee6a3efb09e15f9"
      }
    ]
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "One weird thing is that decoding for bitpack_254 is comparatively higher -- we can ignore this, it is essentially because the python method for doig bit manipulation is doing a lot of allocations",
    "created_at": "2026-02-01T21:55:22.193000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Notes:\n\n- The naming is {tx_list_encoding} + {compression} + {packing strategy}\n\n- I didn't implement the complex packing method where we pack based on the modulus because it was kind of complicated and the theoretical savings didn't seem worth it -- If someone disagrees, I can implement it\n\n-  Once we add compression, the difference between the simple 31 byte packing and 254 bit packing didn't really matter\n\n- Without compression, the rows that are marked with _none_ there was a difference with bitpacking upto 254 bits and doing 31 bytes bit packing",
    "created_at": "2026-02-01T22:01:07.687000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Nice! Will dig into this tomorrow.",
    "created_at": "2026-02-01T22:02:07.980000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Did you test any streaming compression algorithms? <@427491045308235776>",
    "created_at": "2026-02-01T22:14:50.752000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Would be interesting to evaluate compression ratio if we add one transaction at a time to simulate executing a transaction and then compressing. Essentially parallel block building / execution and compression pattern",
    "created_at": "2026-02-01T22:16:56.153000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Not sure if practical just a random thought",
    "created_at": "2026-02-01T22:17:31.203000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Maybe not needed since it’s already sub 100ms",
    "created_at": "2026-02-01T22:19:34.076000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Ah nope, only zstd and gzip, but can add them!",
    "created_at": "2026-02-01T22:20:29.357000+00:00",
    "attachments": []
  },
  {
    "author": "taulepton_",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "I think zstd supports streaming",
    "created_at": "2026-02-01T22:20:41.052000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Oh didn’t know, I can modify configs to enable and re-measure",
    "created_at": "2026-02-01T22:21:32.743000+00:00",
    "attachments": []
  },
  {
    "author": "kevaundray",
    "category": "Cross-layer",
    "parent": "l1-zkevm-protocol",
    "content": "Streaming would require a bit of a refactor on my part, however I reduced the compression levels on zstd and its a ~20x improvement in encoding speed with roughly the same amount of compressed data -- I would lean towards reducing compression since it allows us to use the same API.\n\nzstd_22 was the original (compression level of 22)",
    "created_at": "2026-02-01T22:46:30.220000+00:00",
    "attachments": [
      {
        "type": "image/png",
        "origin_name": "Screenshot_2026-02-01_at_22.46.18.png",
        "content": "72b2edf00eab31f50524e09e841b94d412dcc320eaa2cb5257d74efb882c2c59"
      }
    ]
  }
]