[
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Potentially a stupid question -- how are people computing the v value of (v, r, s) in the payload of a signed 1559 transaction? From my understanding, EIP-155 no longer applies because that was defined only for legacy transactions. Is there still guidance  (e.g. {0,1} + CHAIN_ID * 2 + 35) on how it should be computed?",
        "created_at": "2021-06-03T15:39:46.883000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There is no `v` in 1559 transactions.",
        "created_at": "2021-06-03T15:41:40.277000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There is now `yParity`.",
        "created_at": "2021-06-03T15:41:44.639000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Apologies, I meant yParity",
        "created_at": "2021-06-03T15:42:48.773000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e `YParity` The parity (0 for even, 1 for odd) of the y-value of a secp256k1 signature.",
        "created_at": "2021-06-03T15:42:57.174000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Got it, so it's always 0 or 1",
        "created_at": "2021-06-03T15:43:11.798000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks!",
        "created_at": "2021-06-03T15:43:18.252000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ChainID is now also part of the transaction, so we no longer have to bitpack it.",
        "created_at": "2021-06-03T15:43:25.943000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hey \u003c@!301186049323958275\u003e  quick follow-up - if I have the secp256k1 signature as a hex string, is there a quick way of extracting the y-value (and thereby the parity) from it?",
        "created_at": "2021-06-03T16:52:12.995000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Same way you got the `{0,1}` for the `v` previously.",
        "created_at": "2021-06-03T16:52:47.241000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "There is a fairly standard way of encoding a secp256k1 signature into a byte array, I think two actually: compressed and uncompressed.",
        "created_at": "2021-06-03T16:53:22.574000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "How many bytes do you have?",
        "created_at": "2021-06-03T16:53:25.290000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The signature is 65 bytes",
        "created_at": "2021-06-03T16:54:17.462000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "https://github.com/Zoltu/ethereum-crypto/blob/master/library/source/secp256k1.ts#L62-L72",
        "created_at": "2021-06-03T16:55:32.517000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hopefully that gets you close to the answer you seek.",
        "created_at": "2021-06-03T16:55:37.292000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "You want `affinePoint.y % 2` IIRC.",
        "created_at": "2021-06-03T16:56:06.924000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Or maybe the inverse of that?  (0 for even, 1 for odd)",
        "created_at": "2021-06-03T16:56:23.383000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ü§Ø",
        "created_at": "2021-06-03T16:56:30.011000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That function returns the 65 byte array you have.",
        "created_at": "2021-06-03T16:56:41.576000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So just work backward.",
        "created_at": "2021-06-03T16:56:45.047000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "kk",
        "created_at": "2021-06-03T16:56:52.661000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Looks like the last 32 bytes are the `y` value, and it *appears* (but double check my work) that it is big endian?",
        "created_at": "2021-06-03T16:57:51.541000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So maybe you can just `%2` the last byte?",
        "created_at": "2021-06-03T16:58:05.473000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "That would be ‚ù£Ô∏è",
        "created_at": "2021-06-03T16:59:31.144000+00:00",
        "attachments": []
    },
    {
        "author": "yuga.eth",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yep confirmed - it's big endian so you can just mod the last byte. And the parity seems to be 0 if even, 1 if odd",
        "created_at": "2021-06-03T17:18:41.476000+00:00",
        "attachments": []
    }
]