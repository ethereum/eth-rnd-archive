[
    {
        "author": "matkt0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hi \u003c@!376568077950910466\u003e \nI wanted to test your new Geth version with the freeze fix but I saw that you have implemented the `baseFee increment minimum magnitude of 1` https://github.com/vulcanize/go-ethereum/commit/af1c71046405ac18f41510a529c47542c35ae697. I will update my PR on Besu and I will try to test this asap üëç",
        "created_at": "2020-08-31T13:56:31.115000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hey \u003c@!680337202521440470\u003e sounds good. Btw I think baseFee should == parent baseFee if parent gas usage == parent gas target, but am currently decrementing the baseFee by 1 in that case (to match the current eth2.0 imp).",
        "created_at": "2020-08-31T16:41:43.666000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "ok I will do the same so that nodes can synchronize together. but imo it will be necessary to clarify this part in the specification",
        "created_at": "2020-08-31T16:48:18.608000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Agreed! Also I think it's implicitly understood but we should add a condition that baseFee is always \u003e= 0",
        "created_at": "2020-08-31T17:25:28.613000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Hey \u003c@!680337202521440470\u003e sounds good. Btw I think baseFee should == parent baseFee if parent gas usage == parent gas target, but am currently decrementing the baseFee by 1 in that case (to match the current eth2.0 imp).\n\u003c@!376568077950910466\u003e In my latest PR against my PR I do it the way you want (the PR that also removes the transition period).",
        "created_at": "2020-08-31T17:27:10.845000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Agreed! Also I think it's implicitly understood but we should add a condition that baseFee is always \u003e= 0\nDoes the formula currently allow it to go negative?",
        "created_at": "2020-08-31T17:28:09.153000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```python\nif parent_gas_used == parent_gas_target:\n    expected_base_fee = parent_base_fee\nelif parent_gas_used \u003e parent_gas_target:\n    gas_delta = parent_gas_used - parent_gas_target\n    fee_delta = max(parent_base_fee * gas_delta // parent_gas_target // BASE_FEE_MAX_CHANGE_DENOMINATOR, 1)\n    expected_base_fee = parent_base_fee + fee_delta\nelse:\n    gas_delta = parent_gas_target - parent_gas_used\n    fee_delta = parent_base_fee * gas_delta // parent_gas_used // BASE_FEE_MAX_CHANGE_DENOMINATOR\n    expected_base_fee = parent_base_fee - fee_delta\nassert expected_base_fee == block.base_fee, 'invalid block: base fee not correct'\n```\nIn the middle block, `fee_delta \u003e= 0`.  In the last block, `fee_delta \u003c= parent_base_fee` I believe?",
        "created_at": "2020-08-31T17:30:33.509000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Setting baseFee = parentBaseFee - 1 when gas usage == gas target has potential to let it go negative",
        "created_at": "2020-08-31T17:34:39.227000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "also since we have minimum increment magnitude of 1 if the baseFee is 0 and the usage is below the target",
        "created_at": "2020-08-31T17:34:43.813000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah, I suppose I'm looking at my latest version, which doesn't decrement when base_fee == parent_base_fee and does change the `fee_delta` calculation slightly.",
        "created_at": "2020-08-31T17:35:26.104000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah the former is definitely fixed in your spec updates",
        "created_at": "2020-08-31T17:35:49.241000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Btw going to merge your first PR, I hope you saw my latest comment!",
        "created_at": "2020-08-31T17:36:21.093000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So I only have a minimum *increment* of 1.  Was the assumption that we will also have a minimum *decrement* of 1?",
        "created_at": "2020-08-31T17:36:25.996000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(I'm not sure at what point we move this conversation to \u003c#692078615269212180\u003e)",
        "created_at": "2020-08-31T17:36:43.463000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah I think the idea was a minimum magnitude to the increment, whether it is in the positive or negative direction",
        "created_at": "2020-08-31T17:37:01.181000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Feel free to move it! I am going to be patchy with my responses here soon but will try to pick back up",
        "created_at": "2020-08-31T17:37:16.443000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm probably wrong about that",
        "created_at": "2020-08-31T17:37:39.777000+00:00",
        "attachments": null
    },
    {
        "author": "iannorden",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!680337202521440470\u003e did the baseFee get down to 0 in the testnet by natural progression or purposely set to 0 to test that edge case?",
        "created_at": "2020-08-31T17:44:57.548000+00:00",
        "attachments": null
    },
    {
        "author": "matkt0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e \u003c@!680337202521440470\u003e did the baseFee get down to 0 in the testnet by natural progression or purposely set to 0 to test that edge case?\n\u003c@!376568077950910466\u003e no it naturally went down to 0. just running the testnet without transaction",
        "created_at": "2020-08-31T17:49:48.301000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I wonder with the recent outstanding spec changes if that is still possible or not?",
        "created_at": "2020-08-31T17:56:08.261000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I agree that the spec should be only frozen when everything works in the implementation üôÇ",
        "created_at": "2020-08-31T18:01:04.190000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "because in this case, the spec isn't actually that large",
        "created_at": "2020-08-31T18:01:47.372000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We should start versioning the spec and match that up with PRs in Besu and go-ethereum so we know which is which.",
        "created_at": "2020-08-31T19:49:12.029000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We should match the testnets to the spec versions.",
        "created_at": "2020-08-31T19:50:52.934000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Does that make sense to everyone?",
        "created_at": "2020-08-31T19:51:02.317000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "We should cut releases for the testnets.",
        "created_at": "2020-08-31T19:51:19.427000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Definitely, and I really don't like continuing calling different testnets the same name \"YOLO\" - that is just so confusing",
        "created_at": "2020-08-31T19:51:52.798000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, it's silly.",
        "created_at": "2020-08-31T19:52:03.385000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "some name which reflects the version of the code is better, as you suggest",
        "created_at": "2020-08-31T19:52:16.633000+00:00",
        "attachments": null
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i would not mind it being silly, if it was helpful üôÇ",
        "created_at": "2020-08-31T19:52:47.474000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, let's just version them EIP1559_n where n is the release and right now we should name what's running in testnet EIP1559_0",
        "created_at": "2020-08-31T19:55:24.407000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "As an outsider, seeing the numerous EIP1559 changes on the EIP repository I was curious if there is any kind of versioning or indication of it. Perhaps in retrospect it would make sense utilising the `updated:` header in the EIP to mark major revisions?",
        "created_at": "2020-08-31T19:56:42.874000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, we should do that now. The issue is really \u003c@!301186049323958275\u003e should be doing that, not Ian.",
        "created_at": "2020-08-31T19:57:18.295000+00:00",
        "attachments": null
    },
    {
        "author": "axic3354",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It does not matter anymore if it is close to completion.",
        "created_at": "2020-08-31T19:57:19.225000+00:00",
        "attachments": null
    },
    {
        "author": "afdudley",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e It does not matter anymore if it is close to completion.\n\u003c@!425279588009246720\u003e It's not üòÑ",
        "created_at": "2020-08-31T19:57:30.561000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003e Definitely, and I really don't like continuing calling different testnets the same name \"YOLO\" - that is just so confusing\n+100, I dislike YOLO personally, and that was the name of a particular \"ephemeral testnet\" as per ACD. Happy with 1559_n üëç",
        "created_at": "2020-08-31T20:03:09.010000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Also, this can probably allow having testnets run with version `n` while we implement spec changes for version `n+1`, which is hard if everything is always running off master or ad-hoc commits.",
        "created_at": "2020-08-31T20:04:48.931000+00:00",
        "attachments": null
    }
]