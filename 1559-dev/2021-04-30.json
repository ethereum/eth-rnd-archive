[
    {
        "author": "matkt0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "it's good the nodes were still synchronized and the node besu-ohio continued to create new block. The problem came from communication with ethstats which was break (I think because of a new option that limits the number of http/ws open connection  on besu)",
        "created_at": "2021-04-30T09:13:44.809000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Aha! This explains a lot thanks üòÑ üëç",
        "created_at": "2021-04-30T10:45:30.518000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "An ethstats consensus bug? üòÖ üòÑ üëç",
        "created_at": "2021-04-30T10:46:03.552000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e just borked Geth",
        "created_at": "2021-04-30T11:24:52.252000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I `SSTORE`d `GASPRICE`",
        "created_at": "2021-04-30T11:25:12.239000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Also \u003c@\u0026688101493978562687\u003e bork",
        "created_at": "2021-04-30T11:25:26.705000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "http://eip1559-testnet.ops.pegasys.tech:3000/block/121644",
        "created_at": "2021-04-30T11:25:51.042000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Or besu reports the wrong state root",
        "created_at": "2021-04-30T11:26:43.981000+00:00",
        "attachments": []
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!508125616940515329\u003e you stored gasPrice from a \"dynamic fee\" transaction? the expected behaviour is to have GASPRICE == tip, right?",
        "created_at": "2021-04-30T11:29:40.097000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "No, this should be the effective gas price;\n\n`effective_gas_price = priority_fee_per_gas + block.base_fee_per_gas` \n\n(So what the tx sender is paying in total)",
        "created_at": "2021-04-30T11:30:35.911000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "And yes this was from a 1559 tx",
        "created_at": "2021-04-30T11:31:02.426000+00:00",
        "attachments": []
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "priority_fee_per_gas is another term for what used to be called \"tip\" ?",
        "created_at": "2021-04-30T11:32:06.625000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah it's tip üôÇ",
        "created_at": "2021-04-30T11:32:16.194000+00:00",
        "attachments": []
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok, let me see what we return as `GASPRICE` opcode",
        "created_at": "2021-04-30T11:32:28.998000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I sent a tx with this data \n\n```\n      maxFeePerGas: new BN(1000000000),\n      maxInclusionFeePerGas: new BN(5000),\n```\n\nI think this means tx pays 5007 effective gas price (base fee is 7 wei, and max tip 5000 so should effectively be 5007)",
        "created_at": "2021-04-30T11:33:10.796000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The tx I sent should sstore 5007 at slot 0",
        "created_at": "2021-04-30T11:33:25.607000+00:00",
        "attachments": []
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ok, I think I can see - this is most probably the bug, will try to fix and see if it un-borks",
        "created_at": "2021-04-30T11:35:51.723000+00:00",
        "attachments": []
    },
    {
        "author": "Deleted User",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "So, fix works for the fresh re-sync, but I want to figure out how to un-bork the existing database automatically - that would be a useful feature üôÇ",
        "created_at": "2021-04-30T11:56:42.752000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I just cranked up the base fee and sent some more gasprice txs",
        "created_at": "2021-04-30T11:59:09.277000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think I borked \u003c@\u0026836981603216654336\u003e ethstats again",
        "created_at": "2021-04-30T12:07:03.034000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yep, i was returning the wrong value for GASPRICE - fixed now üôÇ",
        "created_at": "2021-04-30T12:52:25.615000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Great üòÑ",
        "created_at": "2021-04-30T12:52:43.687000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I got a potential other bug",
        "created_at": "2021-04-30T13:29:14.097000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "```\n    {\n      data,\n      gasLimit: new BN(20000000),\n      maxFeePerGas: new BN(\"5000000000\"),\n      maxInclusionFeePerGas: Buffer.from((\"ff\").repeat(32), 'hex'),\n      nonce,\n    },\n```\n\nThese kind of txs do not get mined",
        "created_at": "2021-04-30T13:29:34.203000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Is there a hard cap on fee?",
        "created_at": "2021-04-30T13:29:40.445000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I think txs with tip greater than feeCap are dropped from pools",
        "created_at": "2021-04-30T13:36:57.189000+00:00",
        "attachments": []
    },
    {
        "author": "timbeiko",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yeah, that would basically be an invalid txn, no?",
        "created_at": "2021-04-30T13:37:46.646000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Not invalid since it‚Äôs min(feeCap-baseFee, baseFee+tip)",
        "created_at": "2021-04-30T13:38:46.329000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "But they‚Äôre pathological",
        "created_at": "2021-04-30T13:38:50.284000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "No, I mined a txn with 16 \"ff\" bytes of feetip yesterday",
        "created_at": "2021-04-30T14:14:15.619000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(and with lower fee cap)",
        "created_at": "2021-04-30T14:14:42.924000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "oh okay interesting - that would be dropped from geth pool: https://github.com/quilt/go-ethereum/blob/1651809de628c7688e5bd7371fa7c878ace162d4/core/tx_pool.go#L556-L558",
        "created_at": "2021-04-30T14:15:37.782000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "but if it were included in a block, shouldn't be an issue",
        "created_at": "2021-04-30T14:15:54.033000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I sent it to Nethermind which accepted it. But I can check again if this is the case",
        "created_at": "2021-04-30T14:15:54.694000+00:00",
        "attachments": []
    },
    {
        "author": "jochembrouwer",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I can't get any EIP2930 txn mined",
        "created_at": "2021-04-30T14:22:29.096000+00:00",
        "attachments": []
    },
    {
        "author": "matkt0",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Hum It's strange I will investigate that",
        "created_at": "2021-04-30T14:55:18.349000+00:00",
        "attachments": []
    },
    {
        "author": "marekm3498",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!543900561460822016\u003e Is it possible to send raw transactions via RPC to one of the geth nodes? \u003c@!508125616940515329\u003e's testing our RPC, but it will be good to check if we decode it in the same way",
        "created_at": "2021-04-30T15:00:34.679000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "i need to recompile with the PRs that make these changes and open a port, but yes",
        "created_at": "2021-04-30T15:03:01.820000+00:00",
        "attachments": []
    },
    {
        "author": "marekm3498",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks, it would be great",
        "created_at": "2021-04-30T15:04:55.761000+00:00",
        "attachments": []
    },
    {
        "author": "lightclient",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "\u003c@!758579010027782144\u003e should be available at `quilt.link:9045` - lmk if you have any issues",
        "created_at": "2021-04-30T23:44:19.233000+00:00",
        "attachments": []
    }
]