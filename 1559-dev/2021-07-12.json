[
    {
        "author": "barnabemonnot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "thanks perema!! it's great, yes this is the kind of format I was looking for",
        "created_at": "2021-07-12T15:02:06.117000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "did you use any available script or scraped it yourself? haven't found time to dive into ethereum-etl",
        "created_at": "2021-07-12T15:02:42.195000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Bit of a naive question, but will \"old-style\" transactions still be accepted after 1559 is rolled out? The EIP says it's a new transaction type, so I would expect it to be so, but how would it work for the old transactions? Is the gas price automatically split into fee+tip?",
        "created_at": "2021-07-12T16:08:57.696000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Yes, legacy transactions will continue to be accepted and propagated around the network and included in blocks.",
        "created_at": "2021-07-12T16:09:56.952000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "The `gasPrice` in a legacy transaction will be used to cover the base fee, and any remaining amount will go to the miner.",
        "created_at": "2021-07-12T16:10:21.928000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks! Then as a followup question: what's the rationale with introducing a new transaction type, couldn't we have kept the old version and done this automatically? Thinking about it, I guess the point is bounding the fee separately from the tip, but is that something that is interesting to toy with at all?",
        "created_at": "2021-07-12T16:21:22.751000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Then you wouldn't get any of the UX benefits of 1559, and you wouldn't get good price discovery,.",
        "created_at": "2021-07-12T16:44:17.122000+00:00",
        "attachments": null
    },
    {
        "author": "barnabemonnot",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "yes, on this point, this is a simulation of legacy users on a 1559 network, with a basefee: https://ethereum.github.io/abm1559/notebooks/transition1559.html#subsec-3-2\n\nin a few cases the basefee is completely irrelevant (~ zero), even though the market rate is positive",
        "created_at": "2021-07-12T16:48:11.461000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I'm probably missing something basic.\nIf basefee = 5, and a legacy user sets gasPrice = 10, isn't that identical to setting maxFeePerGas = basefee \u0026 maxTipPerGas = 10 - basefee?",
        "created_at": "2021-07-12T17:19:10.687000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Isn't that only for \"legacy clients\" that can't read the base fee from the block? Could we have clients that can read the base fee, but send old-style transactions?",
        "created_at": "2021-07-12T17:20:29.592000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "It is equivalent to the user setting `maxFee = priorityFee = gasPrice`.",
        "created_at": "2021-07-12T17:25:49.853000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Wallets are generally what generate signed transactions, and they can generate/submit either legacy or 1559 transactions.",
        "created_at": "2021-07-12T17:26:26.871000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Wait - legacy has `gasPrice` , while EIP-1559 has `priorityFee`  \u0026 `baseFee` , right?\nHow is your equations possible - it's like you're paying double?",
        "created_at": "2021-07-12T17:27:45.058000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "(To clarify I interpreted the equations as `maxFeePerGas = maxPriorityFeePerGas = gasPrice`)",
        "created_at": "2021-07-12T17:29:34.312000+00:00",
        "attachments": null
    },
    {
        "author": "sky.cactus",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "A legacy transaction with `gasPrice` of `x` is equivalent to a 1559 transaction with a `maxFee` of `x` and a `maxPriorityFee` of `x`.",
        "created_at": "2021-07-12T17:31:48.593000+00:00",
        "attachments": null
    },
    {
        "author": "perama",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "I synced an archive goerli node and then used python `requests` to call `eth_getBlock` over `localhost:8545`. I parsed in batches, populating a comma-separated string for each transaction and then appended to a `xyz.csv` file (first writing header names). \n\nThe run time for the script was a few minutes. I can do any other sort of data including traces, (for mainnet or goerli) or share the script if you want",
        "created_at": "2021-07-12T17:34:19.048000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Ah I see, so my mistake was to assume that in an EIP-1559 you pay (at worst) `(maxFee + maxPriorityFee) * gasConsumed`, it seems to be instead `maxFee * gasConsumed`  where `maxPriorityFee`  is the portion of the `maxFee`  that can be allocated to tips. Is that right?",
        "created_at": "2021-07-12T17:34:42.417000+00:00",
        "attachments": null
    },
    {
        "author": "norswap",
        "category": "Channel Graveyard",
        "parent": "",
        "content": "Thanks a lot üôè",
        "created_at": "2021-07-12T17:36:26.696000+00:00",
        "attachments": null
    }
]