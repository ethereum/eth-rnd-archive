[
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We were evaluating some of the testing tools and plans for testnets to find what we can optimise. One extremely helpful thing would be the ability to start CL beacon nodes from a  `merged` genesis state instead of a `phase0` state. This means we can avoid testing the transition, complexities around ttd, etc and it'd save quite a lot of testing hours and automation toil. We'd additionally need this if/when EL teams remove mining code from their main. \n\nDo client teams have support starting from a `merged` state? Is there some issue you guys see where we shouldn't go down this route?",
        "created_at": "2022-09-27T16:04:22.437000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Nimbus doesn't support this currently, and the only concern I'd have is that running in a merged (not just Bellatrix) state requires an intrinsically more complex setup",
        "created_at": "2022-09-27T16:06:27.854000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "That's fine as an option, but not as a sole option.",
        "created_at": "2022-09-27T16:08:20.812000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yea of course, i'd see it as an optional choice for testing purposes alone",
        "created_at": "2022-09-27T16:08:39.499000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Prysm doesn't support this unfortunately. We'll need to evaluate how difficult it is for us to support this",
        "created_at": "2022-09-27T16:08:40.110000+00:00",
        "attachments": null
    },
    {
        "author": "0xtylerholmes_",
        "category": "Testing",
        "parent": "",
        "content": "I looked into it awhile back with various clients, I think it makes the most sense to add a additional command line arg that when set just alters the flow so that you can specify which type of genesis you are using. Its definitely a huge thing for testing so we don't have to go through the merge all the time to do some fuzzing/regression tests etc.",
        "created_at": "2022-09-27T17:40:57.100000+00:00",
        "attachments": null
    },
    {
        "author": "0xtylerholmes_",
        "category": "Testing",
        "parent": "",
        "content": "I think just doing a bellatrix state would be fine for this. Definitely much easier to implement CL side. Is there any reason we couldn't do a merge as early as the first epoch?",
        "created_at": "2022-09-27T17:42:34.665000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "The other advantage of shifting testing to start at Altair or Bellatrix (unmerged) is that it might be possible to gradually drop gossip support for phase0 and/or altair, within some reasonable timeframe. Not the state transition function as much because that needs to be used for syncing, et cetera, but the machinery around it.",
        "created_at": "2022-09-27T17:55:20.276000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "presumably there's no reason for someone spinning up an Ethereum-compatible network today to start at phase 0",
        "created_at": "2022-09-27T17:56:01.844000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar has it!",
        "created_at": "2022-09-27T18:01:14.802000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I'm seeing some invalid payloads on mainnet:\n\n```\n2022-09-28T07:31:24+10:00    Sep 27 21:31:24.892 DEBG Invalid execution payload               method: new_payload, slot: 4790855, proposer_index: 229029, graffiti: , root: 0x396e1b7ebdce8e8581604b70bbe23caa605f27ff706b1e894512387a0390130c, execution_block_hash: 0x60261be00d8af73385503e9e7eaa48e1963151d4c6b1f92d6886a0bfcb9d8bd3, latest_valid_hash: 0x83c8ca88c4d288b10798fb4a3d58e436df303782873f437094a9915a82911cd0, validation_error: Some(\"invalid bloom (remote: 14afd96cc832058642050049e7b174b1a10186007542069f16d398829021eb88645c35e09844e24c72417b102444913b4f3b38677b8bf2762e250280106034130050efc65002e18ded85212818f855e72216300840489514b64b1d40dcded4461e020f200a3330600d515585a2802eb73a41c9819824c414d36bd61a618c204d49209808e2de2a5545d88fc10583001e680789f5293f1b6a0192a06c67f91030eb130f801ba364bb01d9c6c55d4fa129841fc300002152daba63020a0581318841bce612500551c348882519028ade3e96c60ec09faf0095095c69022261648431baa88c8d24c4003d661cbd76008edd34e283e290fd8e4646046a6182a23027  local: 14afd96cc832058642050049e7b174f1a10186007542069f16d3d8829021ebc8645c35e09844e24c72417b182444913b4f3b38677b8bf3762e2d0680106034530150efc65002e18ded85612818f855e72216b00840489514b64b1d40dcfed4465e020f200a33306a0d51558da2802eb73a41c9819824c455d36bd61a618c204d4920d808e2de2a5545da8fc10583001e6a0789f5297f1b6a0192a0ec67f91030eb134f801ba364bb01d9c6c55d4fa129841fc300002152daba63020a1581318841bce612500551c3488935590a8ade3e96c60ec09faf0095095c69a62261648431baa88c8d24c4003d661cbd76008edd34e283e290fd8f4646046a6182a23027)\"), service: beacon\n```\n\nIt's coming from a range of validators on a small scale, perhaps a minority EE? They're all `invalid_bloom`.",
        "created_at": "2022-09-27T21:54:13.227000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2022-09-27T21:59:17.940000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "Explore-logs-2022-09-28_07_51_13.txt",
                "content": "31f51614138c864eaffd6adf07ef32d6595da042158aa39d839cccc60ce72992"
            }
        ]
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Looks like a Lido validator, it should be easy to find out the combo...",
        "created_at": "2022-09-27T22:00:32.301000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Already reached out to Lido",
        "created_at": "2022-09-27T22:00:49.071000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Looks like BloXroute Ethical may be producing invalid block, we are investigating this now",
        "created_at": "2022-09-27T22:16:24.041000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "For invalid blocks coming from the BloXroute relayer. I recommended they turn off the relayer until the issue is fully investigated. 4791029, 4790116, 4790859, 4790770",
        "created_at": "2022-09-27T22:32:18.795000+00:00",
        "attachments": null
    }
]