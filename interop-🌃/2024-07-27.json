[
    {
        "author": "nflaig",
        "category": "Testing",
        "parent": "",
        "content": "it seems to be related to running lodestar instead of lighthouse, I can see first builder block at slot 66 with lighthouse, while lodestar is 450+. (after bit more testing I also saw a good run with lodestar, I think the reason why my full config does not work well is because my local network becomes overloaded / unstable causing all sorts of network errors)",
        "created_at": "2024-07-27T09:36:15.014000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "So it seems we found one potential issue. in the 7702 type of transaction we are incrementing the nonce of the original calling account before processing the 7702 authorization list, seems like pushing the increase till after that makes us pass that block.\n\u003c@543900561460822016\u003e does that sound correct?",
        "created_at": "2024-07-27T18:38:38.129000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "hmm i‚Äôd expect the nonce to be incremented before execution",
        "created_at": "2024-07-27T19:03:24.307000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "Is that how it is implemented in Geth? (for context, i am talking about the devnet-1 spec not the current eip spec)",
        "created_at": "2024-07-27T20:28:40.463000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "I took a quick look on my phone but in the diff I don‚Äôt modify them once handling for devnet 1 so the nonce should be incremented before execution begins like for other txs",
        "created_at": "2024-07-27T20:34:50.359000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "okay, we will double check from our end",
        "created_at": "2024-07-27T20:36:50.294000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e  just to confirm, we are talking about processing the authorization list and not the execution of thetransaction.",
        "created_at": "2024-07-27T20:38:50.141000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "so processing the list happens after the nonce increase? in case the same account fires a 7702 with itself in the list. it needs to increment the nonce inside the auth list by one over the nonce of the tx itself?",
        "created_at": "2024-07-27T20:39:43.798000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "okay, i just checked your PR here:https://github.com/ethereum/go-ethereum/pull/30078/files\nand you increment the nonce after validating and processig the authorization list. i personally think it makes sense but not sure if that is the intention.",
        "created_at": "2024-07-27T21:01:24.955000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "d6fa1f25ce605450bbe470d84b3c0f12675db8262386422e1b318013c769733b"
            }
        ]
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "sorry! i misunderstood. i guess this was under specified in the previous spec?",
        "created_at": "2024-07-27T21:33:38.787000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, i did not see anything related to this",
        "created_at": "2024-07-27T21:34:16.309000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "this should fix the fork. could be the same reason \u003c@\u0026836981603216654336\u003e is on the same fork as us.",
        "created_at": "2024-07-27T21:34:47.517000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@808969530608451584\u003e Appreciate if you can change the image of nethermind nodes to `nethermindeth/nethermind:pectra-fix`\ndigest: `sha256:e7cd54a735c0adf31f040857eb4ffa2b7c5d843638c58ae5e962d8dad1b0cd7f` please üôè",
        "created_at": "2024-07-27T21:42:24.362000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Would it need a resync?",
        "created_at": "2024-07-27T22:16:43.358000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "preferably",
        "created_at": "2024-07-27T22:19:32.313000+00:00",
        "attachments": null
    },
    {
        "author": "smartprogrammer",
        "category": "Testing",
        "parent": "",
        "content": "as i am not sure it would recover on its own",
        "created_at": "2024-07-27T22:19:46.254000+00:00",
        "attachments": null
    }
]