[
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e On the geth side I‚Äôm finding it very suspicious that it hasn‚Äôt sync‚Äôd any blocks. It has a peer, admin.peers shows that peer has a non-zero total difficulty but it‚Äôs not syncing even though it currently only has the genesis block.  Tried with ‚Äîsyncmode full as well and still no blocks imported.  I would have expected it to follow the chain up to the terminal total difficulty at least.",
        "created_at": "2021-10-06T00:03:59.635000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e So Lighthouse is giving a TerminalPoWBlockNotFound, which means that Geth wasn't able to return either the terminal PoW block or it's parent.\nWhen I curl Geth for the \"latest\" block it's giving me the block with number 0 and total difficulty 0.",
        "created_at": "2021-10-06T00:04:16.959000+00:00",
        "attachments": null
    },
    {
        "author": "pojeezy",
        "category": "Testing",
        "parent": "",
        "content": "wtf yall talkin about tho",
        "created_at": "2021-10-06T00:04:44.613000+00:00",
        "attachments": null
    },
    {
        "author": "yssakobe3908",
        "category": "Testing",
        "parent": "",
        "content": "üòÜ",
        "created_at": "2021-10-06T00:05:20.908000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e I'm just verifying it now, but it does seem to me that Geth hasn't synced the terminal PoW block so the CL nodes can't proceed.",
        "created_at": "2021-10-06T00:06:25.610000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Yep, so according to the beacon chain the terminal PoW block hash is 0xd9ad55356f249530fc1e8deac89fff4befe6cc8be3364b75415d04e452e55b3d. For that hash, Geth returns result: null on the RPC.\nSo, it seems that CL sync is blocked until the EL can sync the terminal pow block.",
        "created_at": "2021-10-06T00:09:13.644000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Right, so some work needed on Teku error messages but that lines up at least a bit with us getting rejections from geth.\nBesu doesn‚Äôt like the genesis.json from the testnet - it doesn‚Äôt have anything to indicate it‚Äôs a clique network and when I add that it really doesn‚Äôt like having empty extra data (the genesis block isn‚Äôt a valid clique block and there are no signers that can ever produce another block).",
        "created_at": "2021-10-06T00:38:51.455000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Treating it as ethash, besu connects to the bootnode but then disconnects again because it has a different genesis hash. Get the same issue with my local geth so either it‚Äôs not an ethash chain or there‚Äôs something different in how geth and besu are interpreting the genesis.json",
        "created_at": "2021-10-06T00:57:22.655000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctersec\u003e Is there some documentation for how to set up Besu for M3? https://hackmd.io/@tvanepps/amphora-milestones doesn't link to anything that I can see",
        "created_at": "2021-10-06T04:10:54.566000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e The link got lost on that page somehow it seems.  I think you want https://github.com/hyperledger/besu/issues/2830",
        "created_at": "2021-10-06T04:11:32.905000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e I‚Äôm just finishing off a script that will setup a local testnet with teku+besu and handles all the steps which may be useful documentation too.",
        "created_at": "2021-10-06T04:12:20.847000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e lol, let's get that boot file done once and for all then - https://github.com/eth2-clients/eth2-networks/tree/master/shared/mainnet still uses a txt file though, so I think what ended up missing last time around was a PR to switch all of those boot files to yaml (re @sigpaul: Yeah sorry about the strings in the YAML. We use the same library for JSON and YAML and due to ints being strings in JSON we‚Äôve had to set it up to always encode int as strings but accept int or string on decode.\nI did try to change the boot nodes to YAML in the testnet specs, so we don‚Äôt have inconsistent file formats. But it seems that battle was long lost.  \nI‚Äôll see if I can make our testnet generator produce testnet dirs without the quirks.)",
        "created_at": "2021-10-06T04:19:02.760000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e I think your gen might use a different name for the deposit contract block - at least it did in peter's repo - that said, we should really include the deposit contract block in config.yaml instead",
        "created_at": "2021-10-06T04:21:24.366000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Merge scripts, first one is Teku+Besu doing the merge (M3 if I have my milestones right): https://github.com/ajsutton/merge-scripts",
        "created_at": "2021-10-06T04:22:43.681000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e We temporarily disabled forward sync. We're waiting for you to give us a correct head to which we can sync to. We've had a long discussion about that yesterday (re @ajsutton: On the geth side I‚Äôm finding it very suspicious that it hasn‚Äôt sync‚Äôd any blocks. It has a peer, admin.peers shows that peer has a non-zero total difficulty but it‚Äôs not syncing even though it currently only has the genesis block.  Tried with ‚Äîsyncmode full as well and still no blocks imported.  I would have expected it to follow the chain up to the terminal total difficulty at least.)",
        "created_at": "2021-10-06T04:37:54.476000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e ah ok, I obviously haven‚Äôt been able to hear of that conversation from here - would be good to get a write up of it somewhere eventually.  In the meantime would be great if someone could catch up with Anton or Enrico today who are over there in Greece to work out what we need to do to get things working. Sounds like Lighthouse haven‚Äôt added the required magic yet either (unsurprising if it was only discussed yesterday). üôÇ",
        "created_at": "2021-10-06T04:39:51.704000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e So the way cl can trigger the sync is by sending an ExecutePayload message. The EL will then try to sync up to the head specified in ExecutePayload (or at least up to the parent of that). The problem is that you are waiting with that until the EL is synced, and the EL is waiting for the RPC call. If we reenable sync, we will just sync into the PoS chain (which should be okay, since you will set us the correct head anyway). I'll try to reenable sync for now (it was disabled because we also had a second issue which meant sync would never finish)",
        "created_at": "2021-10-06T04:49:27.460000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e hmm, that may not be the issue here then.  Teku is sending something to geth and getting a rejection back.",
        "created_at": "2021-10-06T04:50:31.402000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e -32000: blockhash mismatch, want 1d6bdf3a1e9b151ee6b249336b218ed7a6788744ec5e0e7e9fa9474e36e64600, got 2d6e03b6edbb9b1c96e84cee02f21879c941c7ea954a6e27a387fb7f39187780",
        "created_at": "2021-10-06T04:50:49.814000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctbenr\u003e This is the error we saw yesterday thet trigger my latest PR around baseFeePerGas",
        "created_at": "2021-10-06T04:51:59.183000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctbenr\u003e Are using the latest version?",
        "created_at": "2021-10-06T04:52:23.036000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e No I don‚Äôt think I have that change yet.",
        "created_at": "2021-10-06T04:53:59.641000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e or didn‚Äôt this morning when I was doing this.",
        "created_at": "2021-10-06T04:54:11.540000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctbenr\u003e K. I'm going to replay the test with geth guys this morning in any case",
        "created_at": "2021-10-06T04:54:51.008000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e Did you push your change already \u003c@504202741933932544\u003e",
        "created_at": "2021-10-06T04:55:32.443000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e yep change got pushed, it just got merged after I started playing and I didn‚Äôt think it was an actual functional change.",
        "created_at": "2021-10-06T04:55:59.117000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctbenr\u003e Yes is merged. But let me doublecheck",
        "created_at": "2021-10-06T04:56:00.689000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Plus Paul and I couldn‚Äôt get lighthouse working either so I didn‚Äôt want to spend huge amounts of time on it only to discover the geth config was wrong or something like that.",
        "created_at": "2021-10-06T04:56:57.185000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctbenr\u003e @vdWijden confirmed",
        "created_at": "2021-10-06T04:57:44.143000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e ooo that went wrong in new and very definitely teku‚Äôs fault kind of ways. üôÇ",
        "created_at": "2021-10-06T05:00:42.226000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e I think there's an issue still \u003c@504202741933932544\u003e",
        "created_at": "2021-10-06T05:00:47.347000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e ERROR - Internal error while importing block: 1bdc53..0aee (430)\njava.util.concurrent.CompletionException: java.lang.IllegalArgumentException: Invalid remote response: class org.apache.tuweni.units.bigints.UInt256 cannot be cast to class org.apache.tuweni.bytes.Bytes32 (org.apache.tuweni.units.bigints.UInt256 and org.apache.tuweni.bytes.Bytes32 are in unnamed module of loader 'app') (through reference chain: org.web3j.protocol.core.Request[\"params\"]-\u003ejava.util.Collections$SingletonList[0]-\u003etech.pegasys.teku.services.powchain.execution.client.schema.ExecutionPayload[\"baseFeePerGas\"])\n at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314) ~[?:?]\n at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319) ~[?:?]\n at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:645) ~[?:?]\n at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\n at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073) ~[?:?]\n at tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$3(SafeFuture.java:147) ~[teku-infrastructure-async-develop.jar:21.9.2+81-g216934b]\n at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859) ~[?:?]\n at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837) ~[?:?]\n at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\n at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\n at org.web3j.utils.Async.lambda$run$1(Async.java:40) ~[core-4.8.7.jar:?]\n at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736) ~[?:?]\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor. \u003cclipped message\u003e",
        "created_at": "2021-10-06T05:00:56.396000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Yeah that‚Äôs what I just got.  I‚Äôll fix it up - pretty sure it‚Äôs just trying to map to the old Bytes32 type instead of the new UInt256",
        "created_at": "2021-10-06T05:01:21.392000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctbenr\u003e Yes i left out somewhere one step in the refactoring..",
        "created_at": "2021-10-06T05:08:14.688000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Woo! Got it syncing.",
        "created_at": "2021-10-06T05:25:46.879000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctbenr\u003e ü•≥",
        "created_at": "2021-10-06T05:26:05.408000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Fully in sync:\nSlot Event  *** Slot: 12722, Block: 4fb53d..a088, Epoch: 1590, Finalized checkpoint: 1588, Finalized root: 95ba33..c394, Peers: 1",
        "created_at": "2021-10-06T05:35:44.492000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e https://github.com/ConsenSys/teku/pull/4450 is the fix required in teku btw.",
        "created_at": "2021-10-06T05:36:19.771000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Just to be sure I understand this correctly, is it correct that we're not actually supposed to be sending you any messages since the TTD block hasn't been met yet? (re @vdWijden: We temporarily disabled forward sync. We're waiting for you to give us a correct head to which we can sync to. We've had a long discussion about that yesterday)",
        "created_at": "2021-10-06T05:36:22.388000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e My understanding is that the EL should sync to the TTD block by itself, and shouldn't be expecting any messages from the CL until it does so.",
        "created_at": "2021-10-06T05:37:09.156000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e Correct. We are considering some sort of status poll in that interim but for now nothing is defined\nAs per convo with peter yesterday, if no messages from CL (and no hardcoded PoS mode/base finality in EL which would likely happen in post pos releases), EL should just attempt to sync to TTD",
        "created_at": "2021-10-06T05:47:54.441000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Got it, thanks. So for the time being should I just send Geth an artificial engine_forkchoiceUpdated message when we boot?",
        "created_at": "2021-10-06T05:49:14.583000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e If the transition has happened?",
        "created_at": "2021-10-06T05:49:30.079000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e If you sync past the transition, you can start sending execpayload and forkupdated",
        "created_at": "2021-10-06T05:50:10.177000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Well, I'm a new node so I don't really know if it has happened. Someone has made a beacon block that claims it has happened. But I can't verify it because Geth hasn't sycned the TTD block.",
        "created_at": "2021-10-06T05:50:16.117000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e That would trigger them to see its pos mode and sync",
        "created_at": "2021-10-06T05:50:22.181000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Am I supposed to be doing the \"optimistic\" sync that I've been hearing rumours about?",
        "created_at": "2021-10-06T05:50:44.277000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e Right, you can optimistically send those to EL to see if its valid (re @sigpaul: Well, I'm a new node so I don't really know if it has happened. Someone has made a beacon block that claims it has happened. But I can't verify it because Geth hasn't sycned the TTD block.)",
        "created_at": "2021-10-06T05:50:52.482000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e That will trigger EL to try",
        "created_at": "2021-10-06T05:50:59.388000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e EL should try to sync to TTD without you giving post TTD pos blocks but maybe that is turned off in geth rn",
        "created_at": "2021-10-06T05:52:03.681000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e So I should ignore the fact that is_valid_terminal_pow_block will fail because the eth_getBlockByHash call will return null?",
        "created_at": "2021-10-06T05:52:11.635000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e Good question\nIn practice, currently you cant know until EL is synced\nIf you are both synced, moving into transition, all good\nIf you arent, then some edge cases emerge. In practice, you'd get a SYNCING response\nYou can either optimistically go forward if attestations say so. Or you can block\nIn most cases, we suggest going forward and waiting for EL to eventually sync and tell you things\nIn this case, we might want to block but by default rn, go forward\nI'll take some notes on the tradeoffs at this precise case shortly",
        "created_at": "2021-10-06T05:54:52.222000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e (Note, we are adding an error response to INVALID which gives earliest valid ancestor in EL chain to remove some ambiguities that arrise. That doesnt fully make clean this but does help resolve some abiguities",
        "created_at": "2021-10-06T05:56:31.247000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cn0ble\u003e If you see a transition block is finalized eventually (by keep downloading and processing BEACON blocks) I‚Äôd say that verifying the terminal block conditions and executing it is not needed from security standpoint. If it‚Äôs yet not finalized then it MUST undergo full verification, i.e. the conditions and execution (re @sigpaul: So I should ignore the fact that is_valid_terminal_pow_block will fail because the eth_getBlockByHash call will return null?)",
        "created_at": "2021-10-06T06:14:41.950000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e We've discussed with a few people a way to avoid duplication of payloads between EL and CL, by adding a request for the EL to serve the payloads using an efficient payload request corresponding to BeaconBlocksByRange in the CL protocol - https://notes.ethereum.org/3_8ELmGXTIyghe9bzmBWUA?both for more info - happy to schedule a quick session to work on the details",
        "created_at": "2021-10-06T07:13:51.957000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cn0ble\u003e A thought on that. What if we allow for BeaconBlocksByRange to serve payload roots instead of full payload objects? (re @arnetheduck: We've discussed with a few people a way to avoid duplication of payloads between EL and CL, by adding a request for the EL to serve the payloads using an efficient payload request corresponding to BeaconBlocksByRange in the CL protocol - https://notes.ethereum.org/3_8ELmGXTIyghe9bzmBWUA?both for more info - happy to schedule a quick session to work on the details)",
        "created_at": "2021-10-06T07:23:43.891000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e ^ past finality and/or a certain depth\nI think that‚Äôs a valid way to construct this, but I worry that it puts a slight too much reliance on the current architecture we have constructed today (e.g. separation of EL and CL and even two independent networking stacks)",
        "created_at": "2021-10-06T07:26:30.053000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e EL Error Code discussion is not happening as planned\nIf you have notes on error codes, please add to this doc\nhttps://notes.ethereum.org/7KDlyRcDQ1KoXfUZpuWVow",
        "created_at": "2021-10-06T07:31:42.021000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e The Hive, CI, and Testing convo *will* be happening in 30 minutes (10am) in the conference room at the double tables",
        "created_at": "2021-10-06T07:32:11.006000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e If you remain in the conference room, please respect the discussion and take other convos outside",
        "created_at": "2021-10-06T07:32:32.313000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003czilm13\u003e 11am you mean",
        "created_at": "2021-10-06T07:48:28.202000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cralexstokes\u003e believe so",
        "created_at": "2021-10-06T07:48:34.164000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctimbeiko\u003e Hive discussion happening outside the conference room, see Proto with the easel",
        "created_at": "2021-10-06T08:04:31.134000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctimbeiko\u003e",
        "created_at": "2021-10-06T08:04:33.055000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_2.jpg",
                "content": "d50a795345cbc5ac01f8b04f84e9f80c0a8b67940ac930859bed8918529eac26"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e Teku-Geth\nLighthouse-Geth\nLodestar-Geth \nall syncing the testnet",
        "created_at": "2021-10-06T08:19:06.852000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_3.jpg",
                "content": "58cd690655528567f94bac03add55bd0f731aa46c40a268eea96f6a47581046c"
            }
        ]
    },
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "Taking haknet v1 offline, will publish the details soon for v2",
        "created_at": "2021-10-06T08:40:37.928000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "v2 online https://github.com/karalabe/hacknet/tree/main/v2",
        "created_at": "2021-10-06T08:59:55.635000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003clightclient\u003e will miners need to be updated to support mining an exact total difficulty to hit the terminal total difficulty?",
        "created_at": "2021-10-06T11:09:35.148000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003clightclient\u003e nvm it's \u003e= i see",
        "created_at": "2021-10-06T11:10:13.391000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e some notes on the practicalities of using the Engine API when EL is SYNCING\nhttps://notes.ethereum.org/@djrtwo/BJxKBaqNF\nthis is based on recent convos around EL sync and handling many corner cases that might otherwise result in deadlocks",
        "created_at": "2021-10-06T12:17:38.326000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e in theory, it should be possible to pull off a lock-step sync where el and cl sync from genesis block by block and fully verify the chain (re @dannyryan: some notes on the practicalities of using the Engine API when EL is SYNCING\nhttps://notes.ethereum.org/@djrtwo/BJxKBaqNF\nthis is based on recent convos around EL sync and handling many corner cases that might otherwise result in deadlocks)",
        "created_at": "2021-10-06T12:27:19.714000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e there's obvious performance problems with that, but I wonder if that should be part of the standard feature set for .. concerned users",
        "created_at": "2021-10-06T12:27:53.426000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e This method supports lockstep sync but also supports all other types. I suppose you could flag both to enforce",
        "created_at": "2021-10-06T12:30:16.238000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e \u003e while EL is still syncing, it should move forward with continued executePayload and forkChoiceUpdated calls even if is_valid_terminal_pow_block cannot be ascertained.\nthis flag would resolve the above caveat",
        "created_at": "2021-10-06T12:37:04.075000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e at least.. maybe ;)",
        "created_at": "2021-10-06T12:37:14.549000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e Wellll it could still create  a deadlock if EL had a failure in lockstep sync",
        "created_at": "2021-10-06T12:51:48.729000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e is there a .. directory of these fancy tools? (re @ajsutton: I just use https://enr-viewer.com üôÇ)",
        "created_at": "2021-10-06T12:56:52.143000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e the ENR in the readme doesn't seem to contain an IP address - any ideas? (re @amphora_interop_bot: \u003cP√©ter Szil√°gyi (karalabe)\u003ev2 online https://github.com/karalabe/hacknet/tree/main/v2)",
        "created_at": "2021-10-06T12:58:32.207000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e so.. as @tersec put it, the internet is built upon the principle of \"be liberal in what you accept\" ;) (re @dannyryan: Wellll it could still create  a deadlock if EL had a failure in lockstep sync)",
        "created_at": "2021-10-06T13:08:49.433000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e you mean if a block download fails or something? because if we give a block at some point, the EL will be syncing up to that point - presumably, if there exists a resolution to reach the block, the EL will reach it and we proceed with the next block - the lockstep sync should thus only fail in the exact same conditions as an optimistic lax sync (re @dannyryan: Wellll it could still create  a deadlock if EL had a failure in lockstep sync)",
        "created_at": "2021-10-06T13:57:18.803000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e what's EL short for btw?",
        "created_at": "2021-10-06T13:58:09.813000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "Execution Layer",
        "created_at": "2021-10-06T13:58:17.162000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cethzed\u003e Forwarded from ethzed: M4 achieved with Lodestar/Geth and Lighthouse/Geth! Well done @caymannan @ethDreamer üéâ",
        "created_at": "2021-10-06T15:07:53.741000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctimbeiko\u003e Awesome work üëè (re @ethzed: M4 achieved with Lodestar/Geth and Lighthouse/Geth! Well done @caymannan @ethDreamer üéâ)",
        "created_at": "2021-10-06T15:20:00.074000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cparithoshj\u003e If any client isn't already pushing their own docker images from their merge branches, please reach out to me and i'll set it up for you as well. This should make deployments for the testnets easier.\nI'm currently building and pushing geth, nimbus and teku docker images. Images are built by default every hour, you can also ping me to manually trigger a build. \nci workflows: https://github.com/parithosh/merge-client-builds/tree/master/.github/workflows\ndockerhub images: https://hub.docker.com/u/parithoshj",
        "created_at": "2021-10-06T15:42:04.072000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e https://github.com/karalabe/hacknet/blob/main/v2/README-Consensus-Nimbus.md - nimbus connected to hacknetv2 and synced!",
        "created_at": "2021-10-06T17:25:28.102000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e (running a local geth)",
        "created_at": "2021-10-06T17:31:48.651000+00:00",
        "attachments": null
    },
    {
        "author": "schone_wizard",
        "category": "Testing",
        "parent": "",
        "content": "Does that make it all clients now? Or is prysm still missing?",
        "created_at": "2021-10-06T18:25:12.907000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "We are getting close. Just have a ssz union type bug to fix. With that said, M2 is happening for us in parallel",
        "created_at": "2021-10-06T18:35:35.389000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Managed to get Teku syncing hacknet2 with a couple of config fixes required: https://github.com/karalabe/hacknet/pull/5 I also had to put Geth in ‚Äîsyncmode full. Without that geth never sync‚Äôd any blocks, even if Teku assumed a SYNCING response meant the block was valid. (re @amphora_interop_bot: \u003cP√©ter Szil√°gyi (karalabe)\u003ev2 online https://github.com/karalabe/hacknet/tree/main/v2)",
        "created_at": "2021-10-06T23:01:49.579000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e FWIW, I had some mixed results with Geth syncing (without --syncmode full). It worked most of the time, but occasionally wouldn't work.",
        "created_at": "2021-10-06T23:03:16.646000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e I also had to use a static-peer because I‚Äôm not getting any UDP responses from the Lighthouse bootnode (I do get them from the static bootnode, which lets me find the Lighthouse bootnode as the only peer on the network but it fails the discovery liveness check because it doesn‚Äôt respond to UDP‚Ä¶\nWe‚Äôve seen that before because Ligthhouse refuses to respond if the ENR record doesn‚Äôt match the actual source of the packet, but a) I‚Äôm not behind CGNAT anymore which was messing with ports and b) we changed teku to not advertise an external ip or port in it‚Äôs ENR until it was confirmed. Not quite sure what‚Äôs going on there‚Ä¶",
        "created_at": "2021-10-06T23:04:56.210000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e We've \"improved\" our rate limits in discovery. It could be that you hit the rate-limits and got banned. I'd have to have a look at the node to check, but if you changed your node-id and set your ENR to not set an IP and port, then it definitely should respond (although it may have banned your IP also). We have the option to turn these defensive measures off and prob should do that for out bootnode for these testnets",
        "created_at": "2021-10-06T23:28:44.352000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e Possibly got my IP banned‚Ä¶ The node ID has been reset a few times.  Tried with both no IP and port and setting the correct IP \u0026 port (hooray for my port forwarding actually working now!). (re @agemanning: We've \"improved\" our rate limits in discovery. It could be that you hit the rate-limits and got banned. I'd have to have a look at the node to check, but if you changed your node-id and set your ENR to not set an IP and port, then it definitely should respond (although it may have banned your IP also). We have the option to turn these defensive measures off and prob should do that for out bootnode for these testnets)",
        "created_at": "2021-10-06T23:29:59.988000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e Yeah. The bans a quite lengthy (because discovery is very chatty and we can usually always find more peers). Solution is to reboot the boot-node or shift ips unfortunately.",
        "created_at": "2021-10-06T23:31:17.666000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e For what its worth, anyone setting up a bootnode for testnets using the lighthouse boot_node command, should add the --disable-packet-filter cli flag to prevent banning",
        "created_at": "2021-10-06T23:33:31.418000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e But it could also be a networking issue (if others also can't reach the node)",
        "created_at": "2021-10-06T23:34:23.328000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e I believe the \"boot node\" is actually a beacon node being run by Peter S running under this config:\nhttps://github.com/karalabe/hacknet/blob/main/v2/README-Consensus-Lighthouse.md\nIf there are some flags to make life easier for him then he might appreciate a PR to that repo. (re @agemanning: For what its worth, anyone setting up a bootnode for testnets using the lighthouse boot_node command, should add the --disable-packet-filter cli flag to prevent banning)",
        "created_at": "2021-10-06T23:35:30.932000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Ooh no, it would be this one:\nhttps://github.com/karalabe/hacknet/tree/main/v2/masternode\nThe *master node*",
        "created_at": "2021-10-06T23:36:20.051000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e Oh yeah ok. I'll make a PR to remove a chunk of our standard defensive mechanisms",
        "created_at": "2021-10-06T23:36:28.744000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e The last link looks like its just running a normal lighthouse node with a bootnode already set up",
        "created_at": "2021-10-06T23:37:57.124000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Perhaps @ajsutton can apply to have his IP un-banned from the master node. I suspect the lord of his local fiefdom would accept an offering of livestock.",
        "created_at": "2021-10-06T23:38:30.356000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e Unless it connects to 10 peers its not going to have its ENR IP field set",
        "created_at": "2021-10-06T23:38:53.959000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e I don‚Äôt have the records now but it did seem to get far enough to provide an ENR and Teku was trying to confirm liveness on the same IP and port that I can connect to as a static peer.  Could be defensive mechanisms got triggered somehow, could be a weird interop bug between Teku \u0026 Lighthouse (though we do find lighthouse peers on mainnet fine) or could be that UDP isn‚Äôt actually open.\nThe Lighthouse instructions I think are giving a static peer, but the nimbus ones don‚Äôt seem to be so guessing it‚Äôs not that ports are closed‚Ä¶",
        "created_at": "2021-10-06T23:41:37.583000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e Yeah cool. I'll make a PR to the repo which may help, remove this unnecessary banning logic etc, (we're all good actors here... right?)",
        "created_at": "2021-10-06T23:42:45.019000+00:00",
        "attachments": null
    }
]