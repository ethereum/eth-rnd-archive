[
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "was a naming issue in our getPayload response. Testing out a fix",
        "created_at": "2024-10-17T00:14:55.004000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Let me know when the fix is available",
        "created_at": "2024-10-17T00:52:58.867000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "should work now",
        "created_at": "2024-10-17T01:19:00.256000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "FYI \u003c@363800010518822915\u003e Prysm is passing all tests! ðŸš€",
        "created_at": "2024-10-17T01:51:11.974000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Geth \u003c\u003e Teku has just passed all tests! ðŸš€",
        "created_at": "2024-10-17T02:15:15.677000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Found an issue when using 2 different ELs. Trying to isolate the scenario that causes the fork.",
        "created_at": "2024-10-17T04:00:34.609000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "So whenever I run Teku with only EthereumJS or only Geth. Everything works fine. When I run a network with them both, right after any execution request is created (either deposits, withdrawals or consolidations), there is a fork in the network. ~~My guess is that the commitment hash calculation is wrong in one of the two.~~ Or Teku is doing something funny? ðŸ¤” \n\nHere is a Kurtosis config to replicate:\n```\nparticipants_matrix:\n  el:\n    - el_type: geth\n      el_image: ethpandaops/geth:lightclient-prague-devnet-4-e100dcf\n    - el_type: ethereumjs\n      el_image: ethpandaops/ethereumjs:7702-devnet-4-plus-t8ntool-3f3a3cc\n  cl:\n    - cl_type: teku\n      cl_image: ethpandaops/teku:master-b50adc4\nnetwork_params:\n  electra_fork_epoch: 1\n  min_validator_withdrawability_delay: 1\n  shard_committee_period: 1\n  churn_limit_quotient: 16\n  num_validator_keys_per_node: 64\nadditional_services:\n  - dora\n  - apache\n  - assertoor\ndora_params:\n  image: \"ethpandaops/dora:pk910-electra-devnet4\"\nsnooper_enabled: true\nassertoor_params:\n  run_stability_check: false\n  run_block_proposal_check: false\n  tests:\n    - { file: \"https://raw.githubusercontent.com/ethpandaops/assertoor/refs/heads/electra-support/playbooks/pectra-dev/all.yaml\"}\n```",
        "created_at": "2024-10-17T04:52:28.910000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "I tried isolating the tests, running only EIP6110 or EIP7002 and EIP7251 and the same problem happens. So it isn't related to one particular type of request.",
        "created_at": "2024-10-17T04:53:10.742000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "I am gonna try running it with other CL to make sure it isn't cause by Teku somehow.",
        "created_at": "2024-10-17T04:53:34.582000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Ok good news (for others not for us). I isolated the issue to Teku ðŸ˜… (or at least this is what seems more likely atm)",
        "created_at": "2024-10-17T06:02:43.523000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Great job Lucas!",
        "created_at": "2024-10-17T06:20:30.619000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@1035747431461167125\u003e Interesting scenario for Lodestar. Everything breaks upon Electra activation. Lodestar logs are saying there is no `executionRequests` field in the getPayload response. But the engine API snooper shows the EL sending it as part of the response.\nGist with logs: https://gist.github.com/lucassaldanha/dbc56c8f25e9f7ac1cf0778e23a437eb",
        "created_at": "2024-10-17T06:43:07.604000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Gonna be doing some checkpoint sync tests on pectra-devnet-3 - if you see that your client is out of sync its most likely because I yeet-ed its directory.",
        "created_at": "2024-10-17T08:26:17.638000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Testing",
        "parent": "",
        "content": "yes, it's expensive. but why support uint64 or uint256 to store a boolean?",
        "created_at": "2024-10-17T08:35:38.630000+00:00",
        "attachments": null
    },
    {
        "author": "etan_status",
        "category": "Testing",
        "parent": "",
        "content": "exactly. but it seems some implementation may incorporate the full `v` value including the chain ID into the signature verification process. if one first converts from v/r/s to r/s/y_parity then they behave the same as all others",
        "created_at": "2024-10-17T08:37:19.607000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is there a Geth devnet-4 geth branch to test with, with the new engine API?",
        "created_at": "2024-10-17T09:57:39.590000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e docker img: `ethpandaops/geth:lightclient-prague-devnet-4-e100dcf`",
        "created_at": "2024-10-17T09:58:10.746000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Ok false alarm! Everything is fine ðŸ™‚",
        "created_at": "2024-10-17T10:03:59.762000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "any branches from nethermind/erigon/reth/besu/nimbus?",
        "created_at": "2024-10-17T10:16:04.957000+00:00",
        "attachments": null
    },
    {
        "author": "danceratopz",
        "category": "Testing",
        "parent": "",
        "content": "I just asked around: \n- nethemind - https://github.com/NethermindEth/nethermind/tree/pectra_devnet_4 (but I'm not sure if it's ready)\n- erigon/reth/besu - not yet, but sooon.",
        "created_at": "2024-10-17T10:18:16.354000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "in progress. it will just be `unstable`. But not yet.",
        "created_at": "2024-10-17T10:21:36.351000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Nethermind block production stops working upon Electra activation. They are sending the wrong `executionRequests` object when empty in `execution_getPayloadV4`:\n\nThey are sending:\n```\n\"executionRequests\": []\n```\nInstead of:\n```\n\"executionRequests\": [\n  \"0x\",\n  \"0x\",\n  \"0x\"\n]\n```\n\nSnooper logs: https://gist.github.com/lucassaldanha/fd758b166000622d7878e00c670f987e",
        "created_at": "2024-10-17T10:49:41.922000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "All passing with `ethpandaops/lighthouse:pawan-electra-alpha7-0dd215c` ðŸš€",
        "created_at": "2024-10-17T11:19:40.590000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "testing now with: \n```yaml\nparticipants_matrix:\n  el:\n    - el_type: geth\n      el_image: ethpandaops/geth:lightclient-prague-devnet-4\n    - el_type: ethereumjs\n      el_image: ethpandaops/ethereumjs:7702-devnet-4-plus-t8ntool\n    - el_type: nethermind\n      el_image: ethpandaops/nethermind:pectra_devnet_4\n  cl:\n    - cl_type: lighthouse\n      cl_image: ethpandaops/lighthouse:pawan-electra-alpha7\n    - cl_type: teku\n      cl_image: ethpandaops/teku:master\n    - cl_type: lodestar\n      cl_image: ethpandaops/lodestar:devnet-4\n    - cl_type: nimbus\n      cl_image: ethpandaops/nimbus-eth2:rRH\n    - cl_type: prysm\n      cl_image: ethpandaops/prysm-beacon-chain:develop\nnetwork_params:\n  electra_fork_epoch: 1\n  min_validator_withdrawability_delay: 1\n  shard_committee_period: 1\n  churn_limit_quotient: 16\nadditional_services:\n  - dora\n  - assertoor\nsnooper_enabled: true\nassertoor_params:\n  run_stability_check: false\n  run_block_proposal_check: false\n  tests:\n    - { file: \"https://raw.githubusercontent.com/ethpandaops/assertoor/refs/heads/electra-support/playbooks/pectra-dev/all.yaml\"}\n```",
        "created_at": "2024-10-17T11:20:08.158000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I don't think grandine is quite ready yet.",
        "created_at": "2024-10-17T11:29:59.908000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "I am not running Grandine or Lodestar on my \"stable\" devnet4",
        "created_at": "2024-10-17T11:30:21.047000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "locally so far so good, PR in a moment:\n```\nMIN_GENESIS_ACTIVE_VALIDATOR_COUNT: 1024\nMIN_GENESIS_TIME: 0\nGENESIS_DELAY: 10\nDEPOSIT_CONTRACT_ADDRESS: 0x4242424242424242424242424242424242424242\nETH1_FOLLOW_DISTANCE: 1\nALTAIR_FORK_EPOCH: 0\nBELLATRIX_FORK_EPOCH: 0\nCAPELLA_FORK_EPOCH: 0\nDENEB_FORK_EPOCH: 0\nELECTRA_FORK_EPOCH: 1\nTERMINAL_TOTAL_DIFFICULTY: 0\nWaiting for Altair finalization\nAltair finalized, launching 1 light client(s)\nAbout to wait for the following sub-processes:  ,4098796,4098797,4098865,4098866,4098882\n4098796 has completed\n4098797 has completed\n4098865 has completed\n4098866 has completed\n4098882 has completed\nThe simulation completed successfully\n```",
        "created_at": "2024-10-17T11:30:30.057000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but I don't have a good way of testing the interesting new part, the requests",
        "created_at": "2024-10-17T11:30:42.030000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e easy to test with Kurtosis, just use a config like this:\n```\nparticipants_matrix:\n  el:\n    - el_type: ethereumjs\n      el_image: ethpandaops/ethereumjs:7702-devnet-4-plus-t8ntool-3f3a3cc\n  cl:\n    - cl_type: teku\n      cl_image: ethpandaops/teku:master-b50adc4\nnetwork_params:\n  electra_fork_epoch: 1\n  min_validator_withdrawability_delay: 1\n  shard_committee_period: 1\n  churn_limit_quotient: 16\n  num_validator_keys_per_node: 128\nadditional_services:\n  - dora\n  - assertoor\ndora_params:\n  image: \"ethpandaops/dora:pk910-electra-devnet4\"\nsnooper_enabled: true\nassertoor_params:\n  run_stability_check: false\n  run_block_proposal_check: false\n  tests:\n    # ALL ELECTRA\n    - { file: \"https://raw.githubusercontent.com/ethpandaops/assertoor/refs/heads/electra-support/playbooks/pectra-dev/all.yaml\"}\n```",
        "created_at": "2024-10-17T11:32:07.289000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "(just make sure you replace Teku with Nimbus (and the correct reference to a docker image)",
        "created_at": "2024-10-17T11:32:26.227000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "ok, and it knows how to fetch/build from arbitrary branches I guess",
        "created_at": "2024-10-17T11:33:19.827000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "give me a branch, and I'll build it for you",
        "created_at": "2024-10-17T11:33:43.538000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/status-im/nimbus-eth2/pull/6657",
        "created_at": "2024-10-17T11:33:44.951000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "automerging, but it'll be a couple hours probably. can use that branch now",
        "created_at": "2024-10-17T11:34:04.693000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "~20m img building",
        "created_at": "2024-10-17T11:34:18.025000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "I'm going to bed now. Will take a look at it first thing in the morning ðŸ™‚\nIn the meantime \u003c@412614104222531604\u003e can play with it ðŸ˜„",
        "created_at": "2024-10-17T11:34:43.092000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "hm, oh, I did miss part of the requests infrastructure, oh, will update that PR but can start with it now. I think requests coming from the EL go into a black hole right now",
        "created_at": "2024-10-17T11:39:12.021000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "requests coming from other CLs are fine",
        "created_at": "2024-10-17T11:39:23.196000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it should work without requests at least",
        "created_at": "2024-10-17T11:40:08.644000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and it will correctly validate if requests are just in the network",
        "created_at": "2024-10-17T11:40:38.942000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "lodestar \u003c\u003e EL bug",
        "created_at": "2024-10-17T11:40:40.642000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`ethpandaops/nimbus-eth2:rRH`",
        "created_at": "2024-10-17T12:04:36.845000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "nimbus image seems to be working too ðŸ™‚",
        "created_at": "2024-10-17T12:24:28.571000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e updated branch, maybe it will actually use the EL requests now",
        "created_at": "2024-10-17T12:27:17.966000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but, good it works otherwise so far",
        "created_at": "2024-10-17T12:27:30.770000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Pectra-devnet-4 client readiness matrix: \nEL:\ngeth âœ… \nethereumjs âœ… \nnethermind âœ… \nreth - WIP\nbesu - âœ… \nerigon - WIP\nCL:\nlighthouse âœ… \nteku âœ… \nprysm âœ… \nnimbus âœ… \nlodestar - âœ… \ngrandine - âœ…",
        "created_at": "2024-10-17T12:27:44.465000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I don't think grandine is quite ready",
        "created_at": "2024-10-17T12:40:13.668000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is there a timeline for Geth's main master branch getting this support? it will make Nimbus's CI easier (we can work around it too, but)",
        "created_at": "2024-10-17T12:43:17.597000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e",
        "created_at": "2024-10-17T14:54:13.508000+00:00",
        "attachments": null
    },
    {
        "author": "rohitrjn",
        "category": "Testing",
        "parent": "",
        "content": "It has been fixed",
        "created_at": "2024-10-17T15:20:20.795000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "the last PR that needs to land is 7702, so i think in the next week or so",
        "created_at": "2024-10-17T15:28:54.103000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-10-17T15:29:57.361000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "971nsd.png",
                "content": "18a20ca972a2c249f56c93b86a6958d871109cb746a62a751b83fe302655dce8"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://notes.ethereum.org/@ethpandaops/pectra-devnet-5",
        "created_at": "2024-10-17T15:30:34.729000+00:00",
        "attachments": null
    },
    {
        "author": "rohitrjn",
        "category": "Testing",
        "parent": "",
        "content": "Can we check for nethermind once again ?",
        "created_at": "2024-10-17T19:42:52.289000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "on it",
        "created_at": "2024-10-17T19:45:36.618000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "did you test this locally first?",
        "created_at": "2024-10-17T19:59:45.645000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like we forked just around teh el triggered exits",
        "created_at": "2024-10-17T20:00:12.043000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2024-10-17_at_21.59.48.png",
                "content": "b1a0b7994495008b64339504d7ba5bf66e4d1d42adcd53229b670b0782f44859"
            }
        ]
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "AFAIK \u003c@768164686809006093\u003e tested it with execution tests and they all passed, \u003c@768164686809006093\u003e Please test it with this kurtosis config: https://discordapp.com/channels/595666850260713488/892088344438255616/1296432557071536199\n\u003c@412614104222531604\u003e Just to make sure, do you use this branch: https://github.com/NethermindEth/nethermind/pull/7607 ? I think we have other branches with similar names",
        "created_at": "2024-10-17T20:56:34.201000+00:00",
        "attachments": null
    }
]