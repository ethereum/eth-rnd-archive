[
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Ok we found the issue (Mekong) and we will have a fix for Teku soon! Just running reftests to make sure I didn't break anything else now\ncc \u003c@412614104222531604\u003e",
        "created_at": "2024-11-26T01:42:47.514000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "have any other CLs tested getBlobs with \u003c@\u0026652918665943056397\u003e  and noticed this issue? \u003chttps://github.com/NethermindEth/nethermind/issues/7803\u003e",
        "created_at": "2024-11-26T06:13:34.424000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouse latest commit on my branch works on mekong https://github.com/sigp/lighthouse/pull/6496/commits/def2498bc4114b4bd7933cf3bb9a45a555d24ede\nedit: I think it works, synced past the previous block with the deposits. but still something wrong, but updating should definitely help",
        "created_at": "2024-11-26T06:57:37.457000+00:00",
        "attachments": null
    },
    {
        "author": "mehdi.aouadi",
        "category": "Testing",
        "parent": "",
        "content": "We had something similar in Teku. Looks like it has been fixed but not released yet: https://github.com/NethermindEth/nethermind/pull/7650",
        "created_at": "2024-11-26T07:53:48.087000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "building",
        "created_at": "2024-11-26T08:02:26.279000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "any update on this ?",
        "created_at": "2024-11-26T08:04:07.415000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "got a working branch?",
        "created_at": "2024-11-26T08:04:10.901000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Not yet. Found another issue that is related to it. Hopefully will have it in a couple of hours",
        "created_at": "2024-11-26T08:36:01.491000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Scratch that! Maybe in 15 minutes",
        "created_at": "2024-11-26T08:37:53.898000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Is a non-merged branch enough for you?",
        "created_at": "2024-11-26T08:38:59.052000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "of course",
        "created_at": "2024-11-26T08:39:04.829000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "It can't get worse than it is, right?",
        "created_at": "2024-11-26T08:39:06.657000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "hahaha",
        "created_at": "2024-11-26T08:39:07.308000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "lul",
        "created_at": "2024-11-26T08:47:16.318000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@491624610215886849\u003e does lh db needs to be wiped?",
        "created_at": "2024-11-26T09:02:27.221000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like it can't sync still",
        "created_at": "2024-11-26T09:02:32.635000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Testing",
        "parent": "",
        "content": "Famous last words",
        "created_at": "2024-11-26T11:11:44.194000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "i am curious if those pairs of deposits which first create a validator and then tops up it were done intentionally or by an accident? ðŸ˜…",
        "created_at": "2024-11-26T11:15:10.409000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "accident ðŸ™‚\nwe gave eth to someone testing and they made the deposits, they didn't intend to cause this scenario.",
        "created_at": "2024-11-26T11:16:09.966000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "metamask UX led to this ðŸ˜‰\n```\nWe attempted to retry these transactions through the MetaMask UI, but it became unresponsive. Subsequently, we provisioned an additional 10 validators and successfully deposited one (tried for only 1). Interestingly, during this time, all previously submitted transactions in MetaMask began showing as confirmed.\n```",
        "created_at": "2024-11-26T11:16:28.277000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "this is incredible, a bug in the MetaMask UX causes a bug reveal in a testnet and saves Pectra rollout",
        "created_at": "2024-11-26T11:18:01.238000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "we had tested 2x deposits for a validator, just not within the same epoch :/",
        "created_at": "2024-11-26T11:19:50.441000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "i am working on a spec test now, should be easy. I have also gone through other places where epoch processing routines that are added and modified by Electra can affect the others, and it looks like pending deposits is the only one that can break things. Others simply change validator balances which was already a thing before Electra",
        "created_at": "2024-11-26T11:22:21.221000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "this was an incredible catch! ðŸ”¥",
        "created_at": "2024-11-26T11:22:40.543000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "it should rather be handled by the spec tests but the spec tests are more focused on testing separate functions (unit) than the system level testing",
        "created_at": "2024-11-26T11:27:50.021000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "in theory they're good for anything which is algorithmic and representable in terms of the state transition function",
        "created_at": "2024-11-26T11:31:31.269000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "most of the times we're far from theory, unfortunately",
        "created_at": "2024-11-26T11:32:25.396000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "is there some way to find a coverage report for the specs though? i.e, would we have been able to catch that the spec misses this case in any other way besides spending more time writing spec tests?",
        "created_at": "2024-11-26T12:35:05.122000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "there is a code coverage report in the spec. but the code coverage metric won't reveal a gap in this case because the gap is beyond the code, it's rather in the specific state of the system to which a certain operation is applied. This is where system testing that you guys do is incredibly helpful, alternatively we could do a more thorough analysis and add that test scenario into spec tests",
        "created_at": "2024-11-26T13:25:27.506000+00:00",
        "attachments": null
    },
    {
        "author": "hsiaowei",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@199561711278227457\u003e \u003c@412614104222531604\u003e  CL spec draft for EIP-7691: https://github.com/ethereum/consensus-specs/pull/4023",
        "created_at": "2024-11-26T17:00:25.263000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We're at ~65% participation on mekong now, once we have a teku fix we should be able to finalize. Has someone from lodestar and nimbus already looked into fixes?",
        "created_at": "2024-11-26T18:31:15.634000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Currently fixing. \u003c@1035747431461167125\u003e will update as soon as something is ready",
        "created_at": "2024-11-26T18:31:49.381000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "one thing worth noting on the spec tests is this `random` test format (https://github.com/ethereum/consensus-specs/tree/dev/tests/formats/random)\n\nthe idea is some what like an opinionated fuzzer that tries to generate random inputs across a variety of scenarios and provide them as test vectors\n\ni wouldn't be surprised if this format hasn't been fully updated for electra, but if anyone has time to look at spec tests this would be a good place to focus",
        "created_at": "2024-11-26T18:35:31.423000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@199561711278227457\u003e lighthouse update seems to be working from what i see",
        "created_at": "2024-11-26T19:42:51.094000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Testing",
        "parent": "",
        "content": "Lodestar is stuck because we encounter error during epoch transition right after 143679, so we weren't able to propose 143680. Because we failed epoch transition (and retried and failed), all blocks after 143680 were not imported. If I understand correctly, double deposit happened in 143681 block, so our issue is not related to double deposit.",
        "created_at": "2024-11-26T20:14:40.054000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "mekong is finalizing again ðŸ˜„",
        "created_at": "2024-11-26T22:28:36.684000+00:00",
        "attachments": null
    }
]