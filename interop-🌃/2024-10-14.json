[
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "FYI we should have it ready this week. Keep an eye on https://github.com/Consensys/teku/issues/8624 üôÇ",
        "created_at": "2024-10-14T03:16:12.507000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Question: any ELs have a docker image ready for devnet-4 I can start using for some early devnet-4 testing?",
        "created_at": "2024-10-14T04:18:06.876000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "EthereumJS \u003c-\u003e Teku testing thread",
        "created_at": "2024-10-14T07:21:29.510000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "üì£  I have started testing devnet-4 interop before the launch of devnet-4. If your EL or CL is ready for devnet-4, ping me and I can add to my setup! üì£ \ncc \u003c@412614104222531604\u003e",
        "created_at": "2024-10-14T07:26:35.707000+00:00",
        "attachments": null
    },
    {
        "author": "danceratopz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@892053833121923094\u003e has created a devnet-4 pre-release now btw\nhttps://discord.com/channels/595666850260713488/753271902520213625/1295235447039197184",
        "created_at": "2024-10-14T07:30:55.143000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "hi guys, are the eip commits linked at the top of devnet-4 specs out of date? does not seem to include e.g. pr #8929 that changes eip-7702 and adds delegation designator clearing",
        "created_at": "2024-10-14T10:31:44.881000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "8929 is in there?",
        "created_at": "2024-10-14T10:35:48.582000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "https://notes.ethereum.org/@ethpandaops/pectra-devnet-4",
        "created_at": "2024-10-14T10:36:06.342000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "yep:",
        "created_at": "2024-10-14T10:36:27.761000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "71b5fbbb8523d412ea61fe26d91ceef5b3f8e9219a8e3b98539bd3bc25258a97"
            }
        ]
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "`Update EIP-7702: updates for devnet 4`",
        "created_at": "2024-10-14T10:36:27.935000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "but the spec at the top links to eip-7702 at some commit from 3 weeks ago, 8929 was merged a few days ago",
        "created_at": "2024-10-14T10:36:55.820000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Ohh!",
        "created_at": "2024-10-14T10:37:11.303000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I see now, I was not aware that the EIPs pointed to a specific commit at the top (but should logically do so I just realized)",
        "created_at": "2024-10-14T10:37:33.368000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "yea its super handy, i usually use those links at the top for an easier overview, because some of the prs in the list overwrite changes from other prs in the list, can be hard to keep track of üòÑ",
        "created_at": "2024-10-14T10:38:00.844000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "7702 is at https://github.com/ethereum/EIPs/blob/3e0aee39d2184e194a978b9d7304f866eb28f028/EIPS/eip-7702.md (latest version), at least that is the version EEST fixtures got filled with üôÇ",
        "created_at": "2024-10-14T10:38:43.409000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "sorry just checking to be sure, does this mean we need ssz on el now? https://github.com/ethereum/EIPs/pull/8949/files",
        "created_at": "2024-10-14T13:19:44.309000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "the contracts spit out the SSZ so ELs can just treat it as opaque data",
        "created_at": "2024-10-14T13:22:36.481000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "The mention of  `ssz.serialize` on EIP 7002 and 7251 makes it confusing. I suggest removing it, because in this context the `ssz.serialize` is just the identity function which is not clear from the context. I also thought we had to re-serialize it",
        "created_at": "2024-10-14T13:27:41.406000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "it isn't the identity function here though, the result of `read_withdrawal_requests()` isn't defined at the byte level. it returns python objects. so either we'd need to specify down to the byte how to serialize or just lean on `ssz.serialize`. i could also move the `ssz.serialize` into `read_withdrawal_requests()`",
        "created_at": "2024-10-14T13:35:46.214000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "ah, it looks a bit confusing in the eip, it looks like i need to take the output from the call and then ssz encode it afterwards. maybe this was changed in another pr",
        "created_at": "2024-10-14T13:36:14.039000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "i can move the serialize into the function `read_withdrawal_requests()`",
        "created_at": "2024-10-14T13:36:55.426000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "that'd be helpful",
        "created_at": "2024-10-14T13:37:07.948000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "The idea here is that we do a system call to the withdrawals contract - right? To read the data? (Instead of manually doing the necessary SLOADs?). And then the output of this call is what we `ssz.serialize`? I had this discussion in the past days but I think the discussion always ended with that in this case the `ssz.serialize` doesn't do anything.\n\nIf it does change the output of the system call, then the fixture releases for ssz-serialized requests are definitely wrong",
        "created_at": "2024-10-14T13:39:06.235000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "the pseudocode in the EIP is trying to define what the return data of the system call is supposed to be. as it was, the result of the system call was a python object. so it is neccessary to define the serialization. i put it in `request_data` definition as we had previously defined the serialization there in past versions, but i can see how that might be confusing to clients as it might seem they need to do more serialization. i'm moving the call into actual system call pseudocode so hopefully it's clearer that the system contract does the serialization https://github.com/ethereum/EIPs/pull/8964",
        "created_at": "2024-10-14T13:41:54.539000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Okay yes this is great üòÑ I think we looked at this from different perspectives indeed, now it is much more clear. So if we call into the contract, the contract already has the ssz serialize logic, thus the returndata which we get from the call is the request data (?) üôÇ",
        "created_at": "2024-10-14T13:44:42.454000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "yes exactly",
        "created_at": "2024-10-14T13:44:53.074000+00:00",
        "attachments": null
    },
    {
        "author": "nordbjerg",
        "category": "Testing",
        "parent": "",
        "content": "that's great, OK I was definitely confused but glad we cleared it up",
        "created_at": "2024-10-14T13:45:28.225000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Thanks for the clarification PR üòÑ",
        "created_at": "2024-10-14T13:45:51.761000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e could we add a table to https://notes.ethereum.org/@ethpandaops/pectra-devnet-4 with each EL/CL devnet-4 ready repo/branch?",
        "created_at": "2024-10-14T18:22:59.761000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e it looks like we have a problem with Dora and the new structure of blocks in Electra",
        "created_at": "2024-10-14T18:35:59.495000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2024-10-15_at_07.35.24.png",
                "content": "add8c11f8fb90a88a7ba4cc298d102c95e6974c79a47562826216e67d42997b1"
            }
        ]
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "‚òùüèº that error happens when I try to open http://127.0.0.1:60575/slot/32",
        "created_at": "2024-10-14T18:36:22.151000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Up to slot 31 (pre-Electra) it was fine",
        "created_at": "2024-10-14T18:36:29.630000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@808969530608451584\u003e",
        "created_at": "2024-10-14T18:38:31.453000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I think we didn‚Äôt have an opportunity to test with devnet 4 changes yet",
        "created_at": "2024-10-14T18:38:53.779000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Now with Teku\u003c\u003eEthereumJS you can üòÑ",
        "created_at": "2024-10-14T18:39:07.864000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "that's on devnet 4 spec? üôÇ\ndora needs this to run with devnet 4: https://github.com/ethpandaops/dora/pull/135 \nthere is a custom image for that PR, you can try it out like this in your kurtosis config:\n```\nadditional_services:\n  - dora\ndora_params:\n  image: \"ethpandaops/dora:pk910-electra-devnet4\"\n```\n\nbut please also share your config if you have a client pair to test with üôÇ \n(even that branch might not work as I haven't been able to test it yet)",
        "created_at": "2024-10-14T19:06:06.674000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "This version of Dora is working fine!",
        "created_at": "2024-10-14T19:22:48.629000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@808969530608451584\u003e I can share my config, but I am running a locally version of EthereumJS. Not sure if there is an image available anywhere (cc \u003c@508125616940515329\u003e \u003c@792822129019584562\u003e )",
        "created_at": "2024-10-14T19:23:53.829000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@808969530608451584\u003e this is what I have used:\n```\n# Run command: kurtosis run --enclave devnet4 github.com/ethpandaops/ethereum-package@bbusa/fulu --args-file devnet4.yml\n\nparticipants_matrix:\n  el:\n    - el_type: ethereumjs\n      el_image: ethereumjs-lucas:latest # local docker image of EthereumJS built from https://github.com/ethereumjs/ethereumjs-monorepo/tree/7702-devnet-4-plus-t8ntool\n  cl:\n    - cl_type: teku\n      cl_image: consensys/teku:develop\nnetwork_params:\n  electra_fork_epoch: 1\n  min_validator_withdrawability_delay: 1\n  shard_committee_period: 1\nadditional_services:\n  - dora\n  - apache\n  - assertoor\ndora_params:\n  image: \"ethpandaops/dora:pk910-electra-devnet4\"\nsnooper_enabled: true\nassertoor_params:\n  run_stability_check: false\n  run_block_proposal_check: false\n```",
        "created_at": "2024-10-14T19:26:50.319000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "I haven't started testing creating requests yet, just testing we can successfully create Electra blocks.",
        "created_at": "2024-10-14T19:31:21.520000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "devnet4-contracts branch does not have the updated 7702 support üôÇ for that use `7702-devnet-4-plus-t8ntool`",
        "created_at": "2024-10-14T19:35:26.293000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "I'll switch to using that soon üôÇ",
        "created_at": "2024-10-14T19:35:45.447000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "let‚Äôs merge the dora pr and kt pr. That way we can use latest master branches. Devnet 3 is pretty much dead now anyways.",
        "created_at": "2024-10-14T19:38:15.694000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Geth \u003c\u003e Teku Testing Thread",
        "created_at": "2024-10-14T20:20:40.189000+00:00",
        "attachments": null
    }
]