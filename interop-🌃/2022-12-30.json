[
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "For besu, I believe so yes, according to https://github.com/hyperledger/besu/issues/4840. Might still need to do a bit of wiring to get them onto a testnet behind shanghaiTime. cc \u003c@403707149043105803\u003e and \u003c@636584434010816532\u003e incase they have further comment.",
        "created_at": "2022-12-30T04:01:23.160000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "The PR I mentioned before now has the EIPs. They are most likely wrong, but we cannot test, since we do not have consensus tests yet ðŸ™‚",
        "created_at": "2022-12-30T08:04:45.876000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "I updated my eofparse now that the implementation of eof is more mature. See https://github.com/ethereum/go-ethereum/pull/26133#issuecomment-1367756129 . Of other clients are also becoming more mature, perhaps it would be a good time to do some cross-client fuzzing of eof parsing?",
        "created_at": "2022-12-30T10:05:44.608000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "RE: this specific comment\nThe type section should always be a multiple of 4, right? (with minimum of 4, since we need  at least 1 code section)",
        "created_at": "2022-12-30T10:11:50.991000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "So there should be a check of (`typesize % 4 === 0`)",
        "created_at": "2022-12-30T10:12:06.584000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Well, I just wanted to highlight that eofparse is pretty useful and it might be time now to try cross-client again (it was too early when I first brought it up)",
        "created_at": "2022-12-30T10:13:47.331000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I absolutely agree",
        "created_at": "2022-12-30T10:14:08.986000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I will try to get an EthJS verifier up today",
        "created_at": "2022-12-30T10:14:20.050000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "The last time we had a tx fuzzer right?",
        "created_at": "2022-12-30T10:14:26.011000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "To check: eof parser only checks if the code is valid eof container?",
        "created_at": "2022-12-30T10:15:12.276000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "And we are talking about \"big EOF\" here",
        "created_at": "2022-12-30T10:15:29.682000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Yes. And spits out the code of the first segment, XOR an error",
        "created_at": "2022-12-30T10:15:49.110000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Dunno... Whatever \u003c@543900561460822016\u003e has implemented:)",
        "created_at": "2022-12-30T10:17:36.164000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Yeah this is a bit nasty because you want clients to agree on whatever versions of EIPs is integrated. Since \"big EOF\" is changing rather fast it is also likely that client A is on version23, but client B is on version 24 so they disagree :/",
        "created_at": "2022-12-30T10:18:45.214000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "(version = EIP modification)",
        "created_at": "2022-12-30T10:18:55.381000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Oh. Was hoping that the version was agreed by now. Otherwise it's still too soon",
        "created_at": "2022-12-30T10:19:45.905000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Oh btw, can we disable more opcodes in eof? Would be good to get rid of some weird legacy stuff early on (Callcode, etc)",
        "created_at": "2022-12-30T10:19:54.123000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "This is disabled",
        "created_at": "2022-12-30T10:20:04.543000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Create1",
        "created_at": "2022-12-30T10:20:16.489000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Imo we need to not make any more changes since weeks ago",
        "created_at": "2022-12-30T10:20:29.932000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I think that at this point we are super close to here, this is not a blocker to disable fuzzers. My main point was that it is not clear what version clients are working on (let me give an example, give me a min.)",
        "created_at": "2022-12-30T10:20:55.549000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Why? I'm kinda against shipping eof if we can score a few wins with very little extra time needed",
        "created_at": "2022-12-30T10:21:44.187000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "What's wrong with create1? Just curious",
        "created_at": "2022-12-30T10:21:50.725000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "https://eips.ethereum.org/EIPS/eip-5450 current eip 5450\npending change https://github.com/ethereum/EIPs/pull/5993/files",
        "created_at": "2022-12-30T10:22:18.706000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Imo you should have raised that three months ago, not now",
        "created_at": "2022-12-30T10:22:30.406000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Nothing, just that this is the best point we have to get rid of a lot of legacy stuff with nothing breaking.\nAnd it would make all these zk-evm etc way easier I think",
        "created_at": "2022-12-30T10:23:21.920000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/EIPs/blob/master/EIPS/eip-3670.md#specification callcode / selfdestruct currently disabled in EOF contracts",
        "created_at": "2022-12-30T10:23:39.413000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I didn't really think about it until now, also the second best time is now",
        "created_at": "2022-12-30T10:24:14.404000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "To be clear I'm not really pushing for it, I'm was just wondering",
        "created_at": "2022-12-30T10:24:41.391000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Sure, sorry for sounding harsh, you're welcome to bubble ideas ðŸ™‚",
        "created_at": "2022-12-30T10:25:07.734000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I'd say that if you have any reservations that this is the time to go. I am super excited about EOF, it feels the same as that \"Fee market transactions\" are replacing \"legacy transactions\" (so it is kind of a \"soft hard fork\"), this is the time to go ðŸ™‚",
        "created_at": "2022-12-30T10:26:05.982000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Wait are jump/jumpi and jumpdest not disabled?",
        "created_at": "2022-12-30T10:26:35.370000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "They are, but this EIP is rather big. It is not like other EIPs",
        "created_at": "2022-12-30T10:26:51.541000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "There is a circular dependency",
        "created_at": "2022-12-30T10:26:56.919000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "So this EIP (3540) is actually super big",
        "created_at": "2022-12-30T10:27:08.719000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Ahh great, I feared we still had to do the jumpdest analysis",
        "created_at": "2022-12-30T10:27:14.104000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Should we jump on a quick call maybe?",
        "created_at": "2022-12-30T10:27:19.732000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Sure",
        "created_at": "2022-12-30T10:27:26.795000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Just a sec though",
        "created_at": "2022-12-30T10:27:32.347000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I'm in the party-lounge",
        "created_at": "2022-12-30T10:28:04.404000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "https://eips.ethereum.org/EIPS/eip-5450",
        "created_at": "2022-12-30T10:37:04.261000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "https://ethereum-magicians.org/t/eip-3860-limit-and-meter-initcode/7018/15?u=jochem-brouwer",
        "created_at": "2022-12-30T10:41:22.710000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/execution-spec-tests",
        "created_at": "2022-12-30T10:43:06.117000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereumjs/ethereumjs-monorepo/pull/2453",
        "created_at": "2022-12-30T10:46:32.780000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "yes, we have many internal tests: https://github.com/NethermindEth/nethermind/issues/4583 You can find them in EOF PRs. However, they cannot probably be easily adopted by other clients.",
        "created_at": "2022-12-30T11:56:44.614000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I know this is kind of a big ask, but could you write down what the tests do? \nJust having a list of all edge cases you thought about would be a great starting point for us to implement a EOF test suite in execution-tests",
        "created_at": "2022-12-30T12:48:48.101000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "By the way. \u003c@425274498732916736\u003e left a comment here, which I agree with: https://ethereum-magicians.org/t/eip-3860-limit-and-meter-initcode/7018/15 . What do others think?",
        "created_at": "2022-12-30T12:55:02.299000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "well, most of them are just basic checks mentioned in EIPs, example: https://eips.ethereum.org/EIPS/eip-4200#test-cases I know from \u003c@393119312350543872\u003e that we have already some Ethereum tests prepared, so I think we will review the full list of current tests (once they are generated) and we will propose new ones if there is something missing",
        "created_at": "2022-12-30T12:58:13.925000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "If we have some kind of agreement, I can update the spec next week _before_ ACD. The ethereum/tests are wrong either way.",
        "created_at": "2022-12-30T13:08:52.362000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "or even better we should prepare a shared document and describe together all the cases, so all client teams/testing people can contribute and we can mark what is already covered in Ethereum Tests.  \u003c@393119312350543872\u003e \u003c@425274498732916736\u003e \u003c@275684146658148352\u003e I'm wondering... Do you have something like that?",
        "created_at": "2022-12-30T13:28:02.859000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "I think we have tests covered. The official `ethereum/tests` have tests generated from a buggy implementation (incorrect checks order). The corrected version is in https://github.com/ethereum/tests/pull/1125. But instead, we can change the spec and update tests once again.",
        "created_at": "2022-12-30T13:32:25.028000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "If you have any test cases ideas, an issue on ethereum/tests usually works best.",
        "created_at": "2022-12-30T13:33:03.171000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@425274498732916736\u003e Have you checked out the execution-tests yet?",
        "created_at": "2022-12-30T13:33:26.006000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I'm porting some tests over atm and its really cool",
        "created_at": "2022-12-30T13:33:44.794000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2022-12-30T13:34:07.316000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2022-12-30_14-33-56.png",
                "content": "061ab30079ec7ac8574524a7fb3af0bde0c1ee1bdfe894f48d3a1c8487ca262a"
            }
        ]
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "Not in practice. But I like the idea. I didn't want to change tooling during the intensive testing phase.",
        "created_at": "2022-12-30T13:34:37.955000+00:00",
        "attachments": null
    },
    {
        "author": "chfast",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@360491619402776577\u003e is there a way to publish the tests in ethereum/tests?",
        "created_at": "2022-12-30T13:45:12.326000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We have not decided on how to publish the generated tests yet, but I guess we will push them to a separate repo, but include them into hive at some point",
        "created_at": "2022-12-30T13:46:59.424000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Testing",
        "parent": "",
        "content": "btw, is there any reasonably accessible _non-docker_ binary version of a withdrawals execution client I can download somewhere?",
        "created_at": "2022-12-30T14:12:45.372000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "lightclient's withdrawals-timestamp repo should be still fine",
        "created_at": "2022-12-30T14:14:27.935000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you just gotta compile it yourself.",
        "created_at": "2022-12-30T14:14:32.076000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but that should work with `make geth` and then the executable is in \"go-ethereum/build/bin/geth\"",
        "created_at": "2022-12-30T14:14:40.861000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I think this should be in the EIP. We have had some similar problems with JS where we order error checking in the \"wrong\" order, which lead to consensus bugs, so this should either be in the EIP (what is the order of error checking) or \"just\" do OOG",
        "created_at": "2022-12-30T14:17:04.666000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Do we have a \"central\" place for all tests for EOF? I would love to review those and to figure out if there are any edge cases missing ðŸ™‚",
        "created_at": "2022-12-30T14:17:57.172000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "The test suite for EOF should be huge: since we now have to test both EOF and non-EOF (i.e. legacy) contracts, where we also have a ton of opcode combinations which work differently (RJUMP not in legacy, etc.)",
        "created_at": "2022-12-30T14:18:49.636000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "For Besu Big EOF (all of it) is currently wired into the Shandong definition, to accommodate the withdrawals testnet.  I'll get a PR that will move it into ShanghaiTime.",
        "created_at": "2022-12-30T15:16:43.694000+00:00",
        "attachments": null
    },
    {
        "author": "_shemnon",
        "category": "Testing",
        "parent": "",
        "content": "We also added support for the EOF Layout fuzzing to our EVM tool as a sub-command.",
        "created_at": "2022-12-30T15:17:04.320000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Does some client have EIP 5450 reference tests?",
        "created_at": "2022-12-30T17:13:22.736000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Do you also have test cases for eofparse?",
        "created_at": "2022-12-30T17:15:32.594000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "(maybe a very stupid question, sorry ðŸ™‚ )",
        "created_at": "2022-12-30T17:15:43.372000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Only the samples. But once it doesn crash, I will fuzz it a bit (using go-lang fuzzer with coverage guidance) which will generate a lot of good cases.",
        "created_at": "2022-12-30T17:59:13.165000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "Sample.input has two success-cases iirc. If you just want a quick check if it seems ok:ish",
        "created_at": "2022-12-30T17:59:55.769000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "But I can't provide the geth output until a crasher is fixed",
        "created_at": "2022-12-30T18:00:27.245000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I just updated, you can now run against EthereumJS (100% bugged - you need to checkout latest version yourself since we do not yet have EOF in releases) - https://github.com/jochem-brouwer/txparse",
        "created_at": "2022-12-30T18:00:42.653000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "I will test against these standard cases, thanks ðŸ˜„",
        "created_at": "2022-12-30T18:01:59.487000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Regarding this test (i.e. EF00010100020F0004006000AABBCCDD)\n\nThe type section size hereis 0x0002. This is invalid, right?",
        "created_at": "2022-12-30T18:03:22.067000+00:00",
        "attachments": null
    },
    {
        "author": "jochembrouwer",
        "category": "Testing",
        "parent": "",
        "content": "Hmm allright this is a very weird EOF anyways, I guess it is indeed internally crashing due to handling it (probably just dismiss my message ðŸ™‚ )",
        "created_at": "2022-12-30T18:04:19.671000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "I think all are failing except two towards the end",
        "created_at": "2022-12-30T18:22:24.097000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "There is a pr on ethereum/tests and ethereum/execution-spec-tests",
        "created_at": "2022-12-30T19:22:08.667000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "Are they ready to run? I mean generated with the latest spec and with all other EIPs?",
        "created_at": "2022-12-30T19:51:45.057000+00:00",
        "attachments": null
    }
]