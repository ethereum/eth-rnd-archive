[
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "relaunch genesis time: `Friday, 16 June 2023 08:34:53 UTC`",
        "created_at": "2023-06-16T08:05:14.820000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@761154847432769577\u003e \u003c@827653956955406406\u003e should I be using `92afd51` or `f21227a2` ?",
        "created_at": "2023-06-16T08:07:54.064000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Prysm seems to have some wrong var set `time=\"2023-06-16 08:51:12\" level=debug msg=\"Could not send recent block request\" error=\"length=8: requested more than MAX_REQUEST_BLOB_SIDECARS\" prefix=sync`",
        "created_at": "2023-06-16T08:51:41.987000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Sending loads of blobs",
        "created_at": "2023-06-16T09:10:59.152000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e \u003c@553610810652622860\u003e looks like nimbus disliked some blobs",
        "created_at": "2023-06-16T09:28:21.954000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "seems like it has recovered.",
        "created_at": "2023-06-16T09:32:27.831000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "interesting, alright",
        "created_at": "2023-06-16T09:34:06.403000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://blobscan.4844-devnet-6.ethpandaops.io",
        "created_at": "2023-06-16T09:35:16.010000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@277500722655002624\u003e can you send some more pls?",
        "created_at": "2023-06-16T09:35:26.715000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Sending 1blob txts with 500ms delay",
        "created_at": "2023-06-16T09:43:43.558000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "how you send blÃ¶bs ser?",
        "created_at": "2023-06-16T09:43:54.668000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Made a tool https://github.com/NethermindEth/nethermind/tree/feature/send-blobs-tool/src/Nethermind/Nethermind.SendBlobs",
        "created_at": "2023-06-16T09:44:35.927000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Happy to adjust if needed",
        "created_at": "2023-06-16T09:44:51.809000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "should I be able to submit blobs from a running container?",
        "created_at": "2023-06-16T09:45:47.288000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "wouldn't wanna build framework for this",
        "created_at": "2023-06-16T09:45:56.477000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "I actually do this, with a hackðŸ˜…",
        "created_at": "2023-06-16T09:46:35.188000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "`ssh -L 8545:localhost:8545 devops@lodestar-nethermind-1.srv.4844-devnet-6.ethpandaops.io`",
        "created_at": "2023-06-16T09:46:40.695000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Probably not exactly what you mean",
        "created_at": "2023-06-16T09:47:23.725000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "I think Barnabas doesn't want to install dotnet and wants a container with the tool instead ðŸ˜„",
        "created_at": "2023-06-16T09:47:37.878000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I mean submitting the tx from within the container, not needing to compile nethermind locally",
        "created_at": "2023-06-16T09:47:39.857000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Yes sir",
        "created_at": "2023-06-16T09:47:43.728000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Oh no problem! Let me build",
        "created_at": "2023-06-16T09:48:04.830000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "I like ethdo because of that",
        "created_at": "2023-06-16T09:48:14.930000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ethdo can submit blobtx, as its only communicates with CLs don't think it would be able to do that?",
        "created_at": "2023-06-16T09:51:35.077000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "No, but it can run as a docker container which is very convenient!",
        "created_at": "2023-06-16T09:53:09.518000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@360491619402776577\u003e looks like geth decided to fork away",
        "created_at": "2023-06-16T10:28:05.954000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e can you refresh teku image with latest develop? I added a trace log I'm interested to see",
        "created_at": "2023-06-16T10:35:02.296000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "done",
        "created_at": "2023-06-16T10:41:31.443000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "thanks..something bad happend with peering",
        "created_at": "2023-06-16T10:45:24.089000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I think I found the braking change.. making a PR",
        "created_at": "2023-06-16T10:50:28.835000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "should I revert to older img?",
        "created_at": "2023-06-16T10:50:42.201000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah looks like you reused the tag",
        "created_at": "2023-06-16T10:51:18.557000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and the old img is gone",
        "created_at": "2023-06-16T10:51:21.444000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "exactly",
        "created_at": "2023-06-16T10:51:26.787000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Let me reuse the img from the machine tho",
        "created_at": "2023-06-16T10:51:36.385000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "got it",
        "created_at": "2023-06-16T10:52:32.380000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "oky.. but i'm reverting the change.. we should have a working one soon TM",
        "created_at": "2023-06-16T10:52:34.569000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like still failing with old img",
        "created_at": "2023-06-16T10:58:42.359000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "but peers are back on",
        "created_at": "2023-06-16T11:01:08.456000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "lets see if we can sync back",
        "created_at": "2023-06-16T11:01:56.612000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "seems like we are",
        "created_at": "2023-06-16T11:02:55.291000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "ethereumjs in teku-ethereumjs-1 stuck in syncing mode?",
        "created_at": "2023-06-16T11:05:52.526000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i will check",
        "created_at": "2023-06-16T11:06:12.588000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "geth seems to have issues syncing now too",
        "created_at": "2023-06-16T11:08:01.576000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I See\n```\nPayloadStatus{status=Optional[SYNCING], latestValidHash=Optional.empty, validationError=Optional.empty, failureCause=Optional.empty}\n```\non every new payload",
        "created_at": "2023-06-16T11:08:03.394000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "thats correct, ethereumjs beacon sync isn't complete so it doesn't has the entire chain",
        "created_at": "2023-06-16T11:08:39.956000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "seems like it doesn't has the peers to backfill",
        "created_at": "2023-06-16T11:08:57.884000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "oky.. teku there is synced, so it should be feeding the current head",
        "created_at": "2023-06-16T11:10:44.940000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e . the real problem for our peering issue is actually a config problem.\nwith spec latest config changes `GOSSIP_MAX_SIZE` and `MAX_CHUNK_SIZE` are part of main config so you need to put them in the devnet6 config. Out problem was that we were not failing while loading the config and we defaulted to 0. Which prevented us to connect to any peer",
        "created_at": "2023-06-16T12:08:16.390000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "so to support the latest changes you should add\n\n```GOSSIP_MAX_SIZE: 10485760\nMAX_CHUNK_SIZE: 10485760```\n\nto https://github.com/jimmygchen/eip4844-devnet/blob/main/cl_config/config.yaml\n\nbut  other clients may break doing so, if they don't support the change yet",
        "created_at": "2023-06-16T12:19:29.237000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah, would need to relaunch the chain for these to take effect.",
        "created_at": "2023-06-16T12:23:34.828000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you probably meant this file: https://github.com/ethpandaops/4844-testnet/blob/master/network-configs/devnet-6/config.yaml",
        "created_at": "2023-06-16T12:24:17.355000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "yes yes. the devnet6",
        "created_at": "2023-06-16T12:25:26.993000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "one",
        "created_at": "2023-06-16T12:25:33.771000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "since we are working directly on master it is a bit of a pain. The fix would be to manually add those values in the teku boxes and restart tekus",
        "created_at": "2023-06-16T12:26:42.851000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "don't know if your ansibles will overwrite those files every time you launch something against those boxes",
        "created_at": "2023-06-16T12:27:46.540000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Are other clients support these sizes?",
        "created_at": "2023-06-16T12:30:39.021000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "will need to check",
        "created_at": "2023-06-16T12:30:53.116000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I can totally override those values only for teku, but wouldn't the conflicting gossip sizes and chunk sizes would cause a havoc elsewhere?",
        "created_at": "2023-06-16T12:32:16.210000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Sounds like we need a new genesis with the sizes changed.",
        "created_at": "2023-06-16T12:32:27.808000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "you can override them with the old values so teku and everyone else is on same page",
        "created_at": "2023-06-16T12:32:46.593000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "no it has no impact on genesis",
        "created_at": "2023-06-16T12:32:50.448000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "these are just networking configs",
        "created_at": "2023-06-16T12:33:21.382000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "shouldn't these default values be part of the client config tho?",
        "created_at": "2023-06-16T12:33:34.339000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok so lodestar is already configured with 10MB (the bellatrix limit) and we don't care about chunk size as of now",
        "created_at": "2023-06-16T12:34:41.012000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sounds like the defaulting to 0 is a teku issue, not a config issue.",
        "created_at": "2023-06-16T12:34:56.771000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so we should be compatible (hopefully)",
        "created_at": "2023-06-16T12:35:00.863000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "as far as i understand the param are now part of the main config file so they must be there. I can doublecheck though",
        "created_at": "2023-06-16T12:36:53.828000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I confirm: https://github.com/ethereum/consensus-specs/tree/dev/configs\nmain configs in spec have been updated accordingly.",
        "created_at": "2023-06-16T12:47:23.673000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "so we should fail to start ðŸ™‚ which is something we are working on",
        "created_at": "2023-06-16T12:48:00.578000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Send-blobs tool image `ghcr.io/flcl42/send-blobs:latest`\nHow to use: https://github.com/NethermindEth/nethermind/tree/feature/send-blobs-tool/src/Nethermind/Nethermind.SendBlobs",
        "created_at": "2023-06-16T13:37:38.714000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "I assume we haven't sent any txs for 5+ blobs yet?",
        "created_at": "2023-06-16T15:38:29.822000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Can it break something? Can send a couple if it's OK",
        "created_at": "2023-06-16T15:56:31.246000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "i'm assuming its not ok",
        "created_at": "2023-06-16T15:58:08.196000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "teku-besu is forked at the moment and seems to be building on its own chain",
        "created_at": "2023-06-16T15:58:22.566000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "i just updated the config to include the networking params on all teku nodes and started them again, they might take a bit to get to head? or do you mean its at head but forked off?",
        "created_at": "2023-06-16T15:59:10.312000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e  an interesting from ethereumjs\n```2023-06-16 15:58:28.050 ERROR - Failed to update fork choice\njava.util.concurrent.CompletionException: tech.pegasys.teku.ethereum.executionclient.response.InvalidRemoteResponseException: Invalid remote response from the execution client: -32602: Block number 949 not found in DB\n```",
        "created_at": "2023-06-16T16:00:02.165000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "i'm not sure yet actually, am surprised to see it trying to propose before resyncing with the rest of the network",
        "created_at": "2023-06-16T16:00:02.298000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "that's teku besu?",
        "created_at": "2023-06-16T16:00:40.751000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "yeah, i'm looking at it but i think these proposals are just getting re-org'd around. curious but not fatal at the moment.",
        "created_at": "2023-06-16T16:01:54.832000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "not sure why it is forked now, since it was canonical before that restart",
        "created_at": "2023-06-16T16:02:45.537000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "teku-besu and teku-nethermind are atleast on the same fork",
        "created_at": "2023-06-16T16:03:46.724000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "are you sure they're forked?",
        "created_at": "2023-06-16T16:03:50.823000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "my source of data is the snooper-engine, im just looking at the FCU's being sent",
        "created_at": "2023-06-16T16:04:20.686000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I think the problem is that syncing is difficult (few peers and got rate limited?)  so at some point the node start  its own fork but it always look up for better forks to sync to",
        "created_at": "2023-06-16T16:05:03.312000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yea, teku-besu \u0026 teku-nethermind return the same response for `/eth/v1/beacon/states/head/root` , but that's different from `lodestar-ethereumjs`",
        "created_at": "2023-06-16T16:07:45.395000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "yeah, you're right they aren't forked, just lagged",
        "created_at": "2023-06-16T16:09:04.216000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "nah i think you were right, there's definitely a fork:\n\nTeku (besu-1 and nethermind-1) agree on this:\n```\n2023-06-16 16:10:51.003 INFO  - Slot Event  *** Slot: 2277, Block: 51b790e2447b454163e69aa35847fd6cdab41344fd43e0b731dcbc4213a060ba, Justified: 13, Finalized: 12, Peers: 8\n```\n\nlodestar-ethereumjs says something else:\n```\nJun-16 16:10:53.001[]                 info: Synced - slot: 2277 - head: 0x1d5fâ€¦6be5 - exec-block: valid(966 0x8c6dâ€¦) - finalized: 0xb510â€¦0178:12 - peers: 8\n```",
        "created_at": "2023-06-16T16:11:59.748000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "so there must be a fork",
        "created_at": "2023-06-16T16:12:00.096000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "and finality was ~60 epochs ago, so i guess its far back enough that two proper forks have formed by now with totally new proposers",
        "created_at": "2023-06-16T16:12:29.868000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I'd reckon choosing a canonical fork and then checkpoint syncing everyone else onto that is the way to go",
        "created_at": "2023-06-16T16:13:25.349000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "do we know who are these peers?\n```2023-06-16 16:13:59.368 DEBUG - Failed to send status to 16Uiu2HAm2WwNAQtrd49zxJ9mtb6wyWSLFabQ64kcBPABvvaHdV7P: tech.pegasys.teku.networking.p2p.peer.PeerDisconnectedException\n2023-06-16 16:13:59.369 DEBUG - Failed to send status to 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW: tech.pegasys.teku.networking.p2p.peer.PeerDisconnectedException\n2023-06-16 16:13:59.370 DEBUG - Failed to send status to 16Uiu2HAkva67fXA47wR11QAuQSVZyCjjDEQFEzhcLQogXcmmE7B6: tech.pegasys.teku.networking.p2p.peer.PeerDisconnectedException\n```",
        "created_at": "2023-06-16T16:14:57.851000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "`16Uiu2HAm2WwNAQtrd49zxJ9mtb6wyWSLFabQ64kcBPABvvaHdV7P`: `lighthouse-besu-1`\n\n`16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW:`: `lighthouse-nethermind-1`\n\n`16Uiu2HAkva67fXA47wR11QAuQSVZyCjjDEQFEzhcLQogXcmmE7B6`: `lighthouse-ethereumjs-1`",
        "created_at": "2023-06-16T16:20:03.231000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "so `lighthouse` ðŸ˜„",
        "created_at": "2023-06-16T16:20:06.783000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "for future reference: \n```\nansible -m ansible.builtin.shell -a \"curl --silent localhost:5052/eth/v1/node/identity | grep \"\u003cpeerID\u003e\"\" all\n```",
        "created_at": "2023-06-16T16:20:27.567000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "interesting ðŸ™‚",
        "created_at": "2023-06-16T16:20:29.624000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "and we are constantly rate limiting this:\n```Peer 16Uiu2HAm9WYaq2zFBDNahKUAm2VT7h3cctY1wxpaefk2TbnHLzni disconnected due to blob sidecars rate limits```",
        "created_at": "2023-06-16T16:20:49.197000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "that's `teku-geth-1`",
        "created_at": "2023-06-16T16:21:14.142000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@199561711278227457\u003e can you drop me the entire peer list? don't let me run that ansible .. I think i may even not be able to",
        "created_at": "2023-06-16T16:29:59.953000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://config.4844-devnet-6.ethpandaops.io/api/v1/nodes/inventory peer list",
        "created_at": "2023-06-16T16:33:34.524000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "ah great thanks",
        "created_at": "2023-06-16T16:34:14.334000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`curl https://config.4844-devnet-6.ethpandaops.io/api/v1/nodes/inventory | jq -r '.ethereum_pairs[] | .consensus.peer_id'`",
        "created_at": "2023-06-16T16:34:24.119000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "if you need them peer ids",
        "created_at": "2023-06-16T16:34:30.121000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "Digging into it!",
        "created_at": "2023-06-16T16:47:16.028000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "teku is getting rate limited from lodestar for sure",
        "created_at": "2023-06-16T16:48:53.552000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "```\n2023-06-16 16:42:11.528 DEBUG - Requesting blob sidecars for 50 slots starting at 1135 from peer DefaultEth2Peer{id=16Uiu2HAm7QizFfLavSh9x9fcQs6cwnputDYtBdGsM3pmzybKFjey, remoteStatus=Optional[PeerStatus{forkDigest=0xe4c0502f, finalizedRoot=0xb510e8a9c2f1235fe17e539db1d33b067f9e8ef0968d2626507e5ee91b930178, finalizedEpoch=12, headRoot=0x3edf666b61707312714dd93ff675ab5ec8f901544bcf34beffc6220efb149e26, headSlot=2433}]}\n2023-06-16 16:42:11.528 DEBUG - Sending request for 50 blob sidecars\n2023-06-16 16:42:11.529 DEBUG - Requesting blocks for 50 slots starting at 1135 from peer DefaultEth2Peer{id=16Uiu2HAm7QizFfLavSh9x9fcQs6cwnputDYtBdGsM3pmzybKFjey, remoteStatus=Optional[PeerStatus{forkDigest=0xe4c0502f, finalizedRoot=0xb510e8a9c2f1235fe17e539db1d33b067f9e8ef0968d2626507e5ee91b930178, finalizedEpoch=12, headRoot=0x3edf666b61707312714dd93ff675ab5ec8f901544bcf34beffc6220efb149e26, headSlot=2433}]}\n2023-06-16 16:42:11.530 DEBUG - Error while requesting blocks\njava.util.concurrent.CompletionException: tech.pegasys.teku.networking.eth2.rpc.core.RpcException: [Code 2] REQUEST_ERROR_RATE_LIMITED\n```",
        "created_at": "2023-06-16T16:49:44.886000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "there is this funny error\n```\n2023-06-16 16:42:39.398 DEBUG - Sending request for 50 blob sidecars\n2023-06-16 16:42:39.398 DEBUG - Requesting blocks for 50 slots starting at 1185 from peer DefaultEth2Peer{id=16Uiu2HAmKzeikmQfofRyuMJswBsTP3b7iE2MFcAPrpr5VjT2xs8u, remoteStatus=Optional[PeerStatus{forkDigest=0xe4c0502f, finalizedRoot=0xb510e8a9c2f1235fe17e539db1d33b067f9e8ef0968d2626507e5ee91b930178, finalizedEpoch=12, headRoot=0x3edf666b61707312714dd93ff675ab5ec8f901544bcf34beffc6220efb149e26, headSlot=2433}]}\n2023-06-16 16:42:39.398 DEBUG - Sending request for 50 blocks\n2023-06-16 16:42:39.488 DEBUG - Error while requesting blocks\njava.util.concurrent.CompletionException: tech.pegasys.teku.networking.eth2.rpc.core.RpcException$DecompressFailedException: [Code 1] Failed to uncompress message```\nbut this peer seems like an external node",
        "created_at": "2023-06-16T16:52:22.110000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "so essentially we are rate limited like hell in these two ways:\n```\ntech.pegasys.teku.networking.eth2.rpc.core.RpcException: [Code 2] REQUEST_ERROR_RATE_LIMITED\ntech.pegasys.teku.networking.eth2.rpc.core.RpcException: [Code 1] Peer has been rate limited\n```\n\nOne is lodestart, the other i don't know who is.\nWe might be too aggressive by requesting batches of 50 blocks and 50 blobs",
        "created_at": "2023-06-16T17:22:23.438000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e sure we updated the landing page peer list?",
        "created_at": "2023-06-16T17:22:30.592000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I can sanity check the node you think is external, what's the peerid again?",
        "created_at": "2023-06-16T17:22:57.360000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "16Uiu2HAmKzeikmQfofRyuMJswBsTP3b7iE2MFcAPrpr5VjT2xs8u",
        "created_at": "2023-06-16T17:23:45.077000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "on the other hand we are rate limiting this: 16Uiu2HAm9WYaq2zFBDNahKUAm2VT7h3cctY1wxpaefk2TbnHLzni",
        "created_at": "2023-06-16T17:27:21.816000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "which seems external to me",
        "created_at": "2023-06-16T17:27:29.561000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@504202741933932544\u003e We are seeing this, it is saying teku is sending us too large a status message which is strange cause it's fixed size and hasn't changed in deneb\n\n```\nJun 16 10:41:06.871 DEBG RPC Error                               direction: Outgoing, score: 0.01781683378651288, peer_id: 16Uiu2HAmQLTcs6zNCfh8geyvjHLFUFqZGpsURWqeGU5BHnCLHPyE, client: Teku: version: v23.5.0+86-g79dc26c329, os_version: linux-x86_64, err: RPC response was an error: The request was invalid with reason: Chunk exceeds maximum allowed length, protocol: status, service: libp2p\n```",
        "created_at": "2023-06-16T17:31:41.336000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "have you guys changed anything in that area? if not we will keep looking to see if there's been a change in lh",
        "created_at": "2023-06-16T17:32:42.088000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "After nuking you gotta re run the eth_inventory role",
        "created_at": "2023-06-16T17:42:35.353000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "i think it's the reverse. Teku is saying our status message is too large",
        "created_at": "2023-06-16T17:43:55.907000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "could you confirm that's what `Chunk exceeds maximum allowed length` means \u003c@504202741933932544\u003e ?",
        "created_at": "2023-06-16T17:44:23.177000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I don't think we did! As you said, nothing changed there for deneb..",
        "created_at": "2023-06-16T17:44:48.310000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Yes, need",
        "created_at": "2023-06-16T17:45:30.391000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Let me check if i can get more debug data",
        "created_at": "2023-06-16T17:46:10.569000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "`16Uiu2HAmKzeikmQfofRyuMJswBsTP3b7iE2MFcAPrpr5VjT2xs8u`: `lodestar-besu-1`\n\nand `16Uiu2HAm9WYaq2zFBDNahKUAm2VT7h3cctY1wxpaefk2TbnHLzni`: `teku-geth-1`",
        "created_at": "2023-06-16T17:47:03.308000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "so neither are external",
        "created_at": "2023-06-16T17:47:07.100000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yeah i wanted to know if you did that after the relaunch today morning ðŸ˜„",
        "created_at": "2023-06-16T17:47:19.916000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Yes but you nuked teku.",
        "created_at": "2023-06-16T17:48:40.222000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "ohhhh, good point!",
        "created_at": "2023-06-16T17:48:49.785000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Did you run it after that?",
        "created_at": "2023-06-16T17:48:49.968000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "i didn't, will do that now",
        "created_at": "2023-06-16T17:48:54.894000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "We should run it every time imo. No reason not to have it",
        "created_at": "2023-06-16T17:49:24.871000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yeah agreed ðŸ˜„",
        "created_at": "2023-06-16T17:49:33.969000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "just ran it, `curl https://config.4844-devnet-6.ethpandaops.io/api/v1/nodes/inventory | jq -r '.ethereum_pairs[] | .consensus.peer_id'` will give you the updated values",
        "created_at": "2023-06-16T17:50:16.545000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I see memory issues now, too long non-finality period",
        "created_at": "2023-06-16T17:56:41.160000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "```\n2023-06-16 18:03:27.217 TRACE - Sending status message StatusMessage{fork_digest=0xe4c0502f, finalized_root=0xb510e8a9c2f1235fe17e539db1d33b067f9e8ef0968d2626507e5ee91b930178, finalized_epoch=12, head_root=0x6b002c16b81ff2a98c10210ee9615feab24fca3816976da54e3def04750119cb, head_slot=2839} to 16Uiu2HAkva67fXA47wR11QAuQSVZyCjjDEQFEzhcLQogXcmmE7B6\n\n2023-06-16 18:03:27.218 DEBUG - Failed to send status to 16Uiu2HAkva67fXA47wR11QAuQSVZyCjjDEQFEzhcLQogXcmmE7B6: tech.pegasys.teku.networking.p2p.peer.PeerDisconnectedException\n```",
        "created_at": "2023-06-16T18:06:24.712000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "hmm this looks like a peer disconnection..The error we got above has teku send us back an rpc error response",
        "created_at": "2023-06-16T18:10:22.298000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "i'm trying to get more low level info",
        "created_at": "2023-06-16T18:12:00.614000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "i got immediately disconnected.. cant find a reason ATM\n```\n2023-06-16 18:45:57.250 TRACE - Attempting to connect to 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW\n2023-06-16 18:45:57.250 DEBUG - Connecting to 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW\n2023-06-16 18:45:57.257 DEBUG - onConnectedPeer() 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW\n2023-06-16 18:45:57.257 TRACE - Sending status message StatusMessage{fork_digest=0xe4c0502f, finalized_root=0xb510e8a9c2f1235fe17e539db1d33b067f9e8ef0968d2626507e5ee91b930178, finalized_epoch=12, head_root=0xb29a7d058e60405c438c6dba81cc0acbb171b98fcefa1ab5241366fe300c4597, head_slot=3047} to 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW\n2023-06-16 18:45:57.257 TRACE - Successfully connected to peer 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW\n2023-06-16 18:45:57.257 DEBUG - Disconnected from peer 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW\n2023-06-16 18:45:57.257 DEBUG - Peer disconnected: 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW\n2023-06-16 18:45:57.258 DEBUG - Failed to send status to 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW: tech.pegasys.teku.networking.p2p.peer.PeerDisconnectedException\n2023-06-16 18:45:57.258 TRACE - Disconnected from 16Uiu2HAmCwuWR6rNnhSsH4iSkbazo91XkMFB51dtLA8XupfU7bEW because Optional.empty\n```",
        "created_at": "2023-06-16T18:54:20.475000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Do you see anything on your side?\nI have to drop off now",
        "created_at": "2023-06-16T18:55:00.278000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "no worries, will see if i find something",
        "created_at": "2023-06-16T18:55:28.540000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "It looks like we're rate limiting this node",
        "created_at": "2023-06-16T19:03:13.716000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "and banned it",
        "created_at": "2023-06-16T19:03:21.692000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Make sense!",
        "created_at": "2023-06-16T19:03:53.446000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "Seeing this in nethermind on `lighthouse-nethermind-1`Â \n\n```\n2023-06-16 19:22:03.1774|Sending error response, method: engine_newPayloadV3, id: 1, errorType: -32603, message: Internal error, errorData: Nethermind.Serialization.Rlp.RlpException: Unexpected length of long value: 120\n```",
        "created_at": "2023-06-16T19:36:32.871000+00:00",
        "attachments": null
    }
]