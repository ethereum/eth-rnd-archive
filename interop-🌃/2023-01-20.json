[
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e BLS to execution pool PR merged",
        "created_at": "2023-01-20T01:45:32.414000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Is it bounded? I'm just curious what other clients are doing cause I worry if we're outliers we may be doing something wrong",
        "created_at": "2023-01-20T02:10:05.988000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, though I made it bigger, I think 16384 or 32768 (Nim's deque likes powers of 2)",
        "created_at": "2023-01-20T02:10:35.488000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouseâ€™s is unbounded",
        "created_at": "2023-01-20T02:10:54.283000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I foud the Teku commit referencing the boundedness decisions there",
        "created_at": "2023-01-20T02:11:10.050000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "we had a small queue, it's not small now",
        "created_at": "2023-01-20T02:11:22.822000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yes, it was one of your commits",
        "created_at": "2023-01-20T02:11:34.734000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "decided 300k would be sufficient",
        "created_at": "2023-01-20T02:11:38.218000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "whcih is almost enoguh for every validator to rush it",
        "created_at": "2023-01-20T02:11:56.287000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I was wondering about the flood publishing. It seems like it might be better to publish gradually at the fork, rather than every node pumping out ~200K messages. Thoughts?",
        "created_at": "2023-01-20T02:12:00.893000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I fundamentally disagree with incentivizing flood-publish-at-capella-boundary",
        "created_at": "2023-01-20T02:12:19.414000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "im not clearing submitting early as i think it will make the process problematic",
        "created_at": "2023-01-20T02:12:28.225000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so I'm not that bothered if it doesn't work well",
        "created_at": "2023-01-20T02:12:32.491000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so if you're early i'll reject",
        "created_at": "2023-01-20T02:12:37.719000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and other than that, flooding will mostly be from prysm as far as i understand",
        "created_at": "2023-01-20T02:12:53.231000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so we'll just honour gossip s it arrives",
        "created_at": "2023-01-20T02:13:09.943000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yes, this seems probably better",
        "created_at": "2023-01-20T02:13:20.237000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "And Nimbus's approach will incentivize this",
        "created_at": "2023-01-20T02:13:52.896000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i think its realistic to expect that capella wall time will be a mess if everyone tries to flood",
        "created_at": "2023-01-20T02:14:13.018000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "just from a network message propagation perspective it's awful",
        "created_at": "2023-01-20T02:14:23.911000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it's a global topic",
        "created_at": "2023-01-20T02:14:32.516000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I'd prefer more clients basically signaled that, no, you're not getting \"in line\" by sniping 2 milliseconds before the next node manages to get theirs in after `CAPELLA_FORK_EPOCH`",
        "created_at": "2023-01-20T02:15:38.989000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "That's a relief ðŸ˜‚",
        "created_at": "2023-01-20T02:19:01.049000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "300k should be functionally unbounded",
        "created_at": "2023-01-20T02:19:24.470000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I thought the same too and I don't have any strong opinions against it. Only big pools participating in the program to whitelist will be affected by this I suppose",
        "created_at": "2023-01-20T02:21:11.716000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "What's Nimbus approach?",
        "created_at": "2023-01-20T02:22:20.314000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "prefer more recent. while it's not quite a stack, it's closer to a stack than a queue, as a whole",
        "created_at": "2023-01-20T02:22:53.481000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so it kind of rewards whoever happened to send within a window of time recent to a Nimbus node proposing",
        "created_at": "2023-01-20T02:23:16.299000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Ah, interesting, but this is obviously against the spec",
        "created_at": "2023-01-20T02:23:25.390000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "oh im not sure about that, we don't enqueue duplicates",
        "created_at": "2023-01-20T02:23:26.473000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Oh you mean single messages",
        "created_at": "2023-01-20T02:23:53.254000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "You don't take duplicates",
        "created_at": "2023-01-20T02:23:59.991000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Just use a stack",
        "created_at": "2023-01-20T02:24:04.658000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is it? honest question, not intentionally violating spec, but there's nothing I saw in this regard int he spec",
        "created_at": "2023-01-20T02:24:06.706000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "are you saying that you'll replace an older message with a newer one if its for hte same key?",
        "created_at": "2023-01-20T02:24:34.959000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I mean, it's literally a `deque`. but, because of how it's used, it's a recency-preferring structure",
        "created_at": "2023-01-20T02:24:35.196000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it recognizes duplicates, and does the gossip validation",
        "created_at": "2023-01-20T02:24:48.661000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but yes, in general, it replaces older messages with newer ones",
        "created_at": "2023-01-20T02:25:00.914000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "probably if I were to refine this I'd have it replace-random",
        "created_at": "2023-01-20T02:25:18.670000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so if im a bad actor i just make sure i send messages if it changes",
        "created_at": "2023-01-20T02:25:25.910000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I like this, it's a probably trivial change on Prysm to implement.",
        "created_at": "2023-01-20T02:25:26.664000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so there's a diversity among Nimbus nodes",
        "created_at": "2023-01-20T02:25:27.415000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "check queue, if the nice address is in there, replace it with my dodgy one",
        "created_at": "2023-01-20T02:25:43.518000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "which is easy because i just have to send a new message",
        "created_at": "2023-01-20T02:26:05.092000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "well, the messages need to be BLS-verified",
        "created_at": "2023-01-20T02:26:06.557000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I truly like nimbus idea, it's still a race but only for hackers to get the message. Users that are not worried are encouraged to wait",
        "created_at": "2023-01-20T02:26:06.673000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh so a bad actor that has the key can just keep monitoring their compromised key and easily update",
        "created_at": "2023-01-20T02:26:35.730000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "sure. I just regard that as basically orthogonal and that expecting users to race the bad guys is ... not likely a winning tactic",
        "created_at": "2023-01-20T02:27:09.723000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "guess it depends who builds the block ultimately as to what happens, so from that perspective i like the difference to be honest",
        "created_at": "2023-01-20T02:27:54.025000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Well, honest users will still race bad guys if they got their keys stolen",
        "created_at": "2023-01-20T02:27:58.405000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Cause you can't take a message from a validator that you saw before",
        "created_at": "2023-01-20T02:28:22.153000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I don't see a principled reason to think the honest users by default will win any form of these races",
        "created_at": "2023-01-20T02:28:38.441000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "(or, necessarily, lose)",
        "created_at": "2023-01-20T02:28:43.864000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "honest actors with safe keys should just hold off 3 days",
        "created_at": "2023-01-20T02:29:00.138000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "imo",
        "created_at": "2023-01-20T02:29:06.372000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "once the dust settles it'll be an empty queue and no chaos",
        "created_at": "2023-01-20T02:29:23.090000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Well, if you lost hundreds of validators and are in contact with kraken as some banned people in this server are , you may win a race. But I like the idea of a stack cause then users that are not racing are encouraged to wait",
        "created_at": "2023-01-20T02:30:14.441000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Instead of asking Tim to post in a blog",
        "created_at": "2023-01-20T02:30:31.943000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "what does posting in a blog accomplish?",
        "created_at": "2023-01-20T02:30:57.150000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "That pools don't flood at the boundary",
        "created_at": "2023-01-20T02:31:25.699000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "This attempts to accomplish something like that without expecting people to behave altruistically",
        "created_at": "2023-01-20T02:31:46.948000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "well i think a blog for 'hey, dont stress, you dont win if you're early' is still the right message",
        "created_at": "2023-01-20T02:31:51.285000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah but with Nimbus strategy you literally win if you're late",
        "created_at": "2023-01-20T02:32:29.157000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "this is practically a topic that requires a quiet ale a the end of a day",
        "created_at": "2023-01-20T02:32:38.976000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Which is a good thing",
        "created_at": "2023-01-20T02:32:39.757000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Cc \u003c@308223150725005322\u003e WDYT about changing this in our list, it's probably a two liner since it's doubly linked",
        "created_at": "2023-01-20T02:33:45.851000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "if its clearly defined across everywhere, thats where dishonest actors can win, just saying heh",
        "created_at": "2023-01-20T02:35:03.504000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "it it's roll the dice and you may just get lucky, that's a lot more complicated",
        "created_at": "2023-01-20T02:35:52.186000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, that's why I still think the idea of moderate (hundreds-to-low-thousands) sized set, with replace-random strategy has value",
        "created_at": "2023-01-20T02:35:58.386000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "enough so that even with 5k validators, say, it's not likely to run out",
        "created_at": "2023-01-20T02:36:25.201000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "all i'd say is remember the KISS principle",
        "created_at": "2023-01-20T02:36:27.537000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "(keep-it-simple-stupid)",
        "created_at": "2023-01-20T02:36:40.862000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Wait \u003c@654267572107083777\u003e by replaces older messages with newer ones you mean you will take a conflicting message for a validator index that you already had in the pool? That's definitely against the spec (or the spec is not rightly worded)",
        "created_at": "2023-01-20T02:36:55.570000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yes, that's why I did the stack-like approach. simpler.",
        "created_at": "2023-01-20T02:36:57.413000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "no, if it's already in queue, it won't be gossip-accepted",
        "created_at": "2023-01-20T02:37:20.338000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "per usual gossip conditions",
        "created_at": "2023-01-20T02:37:30.183000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ah ok, so i mis-understood, its a race still",
        "created_at": "2023-01-20T02:37:38.640000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Ah ok we're in the right page then, just use a Lifo structure to propose blocks",
        "created_at": "2023-01-20T02:38:07.847000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I like this idea",
        "created_at": "2023-01-20T02:38:14.376000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "the honest validator spec, I'd note, says nothing about even putting nonzero number of these changes in a proposed block",
        "created_at": "2023-01-20T02:38:26.576000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Ooo I also like the LIFO",
        "created_at": "2023-01-20T02:38:49.695000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "a really selfish client, consistent with honest validator + other specs, might have some pool, might not, but would just ignore it",
        "created_at": "2023-01-20T02:39:17.407000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah this is an omission IMO",
        "created_at": "2023-01-20T02:39:17.456000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "except for its own validators",
        "created_at": "2023-01-20T02:39:25.306000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "had considered a private queue and a gossip queue and read gossip second",
        "created_at": "2023-01-20T02:39:40.870000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "btu its more complicated than required given it's a 3 day window to be clean",
        "created_at": "2023-01-20T02:39:54.024000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "there's no rewards, no slashing condition, no check like for deposits of, there are outstanding changes to include, you must include them, etc",
        "created_at": "2023-01-20T02:40:17.059000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah I mentioned this to Misha before, if you want to have a smooth fork probably we shouldn't even gossip ðŸ™‚",
        "created_at": "2023-01-20T02:40:17.264000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i wouldnt be gossiping the private pre-fork changes until like an epoch in, maybe longer",
        "created_at": "2023-01-20T02:40:46.238000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "especially if you want them actually accepted amongst the chaos",
        "created_at": "2023-01-20T02:41:00.182000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "but time will tell",
        "created_at": "2023-01-20T02:41:05.598000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "well, there's some real issue here, and there's DOS potential. because of the BLS verification",
        "created_at": "2023-01-20T02:42:07.353000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ddos, flooding global topic, yeh",
        "created_at": "2023-01-20T02:42:29.262000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah I'll be advocating for the Lifo structure at prysm. Definitely no con that I can see and there are obvious pros",
        "created_at": "2023-01-20T02:42:33.014000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "con is you disadvantage your own stuff thats at the back of the stack because it went in pre-capella i guess",
        "created_at": "2023-01-20T02:43:05.809000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "worth disincentivizing IMO",
        "created_at": "2023-01-20T02:43:41.195000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "just dont allow it ðŸ˜‰",
        "created_at": "2023-01-20T02:43:49.158000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "simples",
        "created_at": "2023-01-20T02:43:51.179000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "the queue-up-before-capella idea",
        "created_at": "2023-01-20T02:43:55.289000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "our bls api will pass it to gossip, gossip will say 'bugger off you're early'",
        "created_at": "2023-01-20T02:44:19.026000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is that spec-legal? I after the previous discussion about that here, I read the spec closely while implementing it and it's not obvious to me",
        "created_at": "2023-01-20T02:44:45.901000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i mean it wont get pushed, it'll result in failure messages to users and not gossiped",
        "created_at": "2023-01-20T02:44:46.863000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "wall clock is start time",
        "created_at": "2023-01-20T02:44:55.913000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "either way -- it's written as if the acceptance and broadcast conditions are more or less the same",
        "created_at": "2023-01-20T02:45:05.762000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so if its not valid, i dont accept on teh bls api",
        "created_at": "2023-01-20T02:45:07.481000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "for the 200 response",
        "created_at": "2023-01-20T02:45:11.176000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh so i can only respond 200 once i can gossip",
        "created_at": "2023-01-20T02:45:21.679000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "which isn't consistent with pre-capella",
        "created_at": "2023-01-20T02:45:29.279000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "before that, failing validation is perfectly reasonable",
        "created_at": "2023-01-20T02:45:33.179000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "mmmm..... its close",
        "created_at": "2023-01-20T02:45:43.312000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "That disadvantage is minimal: users want to be safe, not early, 3 days difference doesn't matter to anyone",
        "created_at": "2023-01-20T02:45:54.233000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "okay, but it does pass the `process_bls_to_execution_change` conditions?",
        "created_at": "2023-01-20T02:45:55.667000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "they can be safe - once the channel is open",
        "created_at": "2023-01-20T02:46:06.963000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "because it's only the gossip conditions which require capella",
        "created_at": "2023-01-20T02:46:09.079000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "definteily open to discuss this next wek",
        "created_at": "2023-01-20T02:46:15.154000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and it's not clear that the REST API specifies one or the other to me",
        "created_at": "2023-01-20T02:46:24.622000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "mm i thought the rest api was relatively clear",
        "created_at": "2023-01-20T02:46:36.885000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "200 if you can gossip",
        "created_at": "2023-01-20T02:46:49.071000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "... and pre wall-clock you cant",
        "created_at": "2023-01-20T02:47:00.402000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "absoutely, likewise",
        "created_at": "2023-01-20T02:47:02.988000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "okay, but should that go in the queue (or stack)?",
        "created_at": "2023-01-20T02:47:20.167000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i cant gossip it... i dont want to cache it, try again later",
        "created_at": "2023-01-20T02:47:36.899000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "the REST HTTP code refers only to the validation + broadcast aggregate failure",
        "created_at": "2023-01-20T02:47:39.834000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but what if it can be validated?",
        "created_at": "2023-01-20T02:47:46.354000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "one of the validation rules is on wlal clock which will fail",
        "created_at": "2023-01-20T02:48:00.957000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "gossip only",
        "created_at": "2023-01-20T02:48:06.631000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "not `process_foo`",
        "created_at": "2023-01-20T02:48:10.542000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "we use the gossip rules to determine validity regardless of source so it fails",
        "created_at": "2023-01-20T02:48:26.450000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "gossip is clock + `process_foo`",
        "created_at": "2023-01-20T02:48:31.164000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I think with LIFO the compromised key users are slightly more likely to get screwed. If they distribute their address changes to some stakers before Capella they'll be at the back of the queue to be included as \u003c@680234424037670912\u003e points out. This gives an attacker a better chance of getting a conflicting message included by just gossiping it to validators that haven't pre-loaded the approved address changes for compromised keys",
        "created_at": "2023-01-20T02:49:10.157000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "although, i dont think we allowed the skew in the wall clock calc",
        "created_at": "2023-01-20T02:49:17.606000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i think gossip calc for when to accept should allow for clock skew potentially",
        "created_at": "2023-01-20T02:49:50.731000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "will have to ponder that",
        "created_at": "2023-01-20T02:50:02.518000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "skew would mean things get rejected for being early and may not be",
        "created_at": "2023-01-20T02:50:15.941000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "but then allowing it will allow ppl to jump early",
        "created_at": "2023-01-20T02:50:41.902000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I don't see the issue here, this is a race for inclusion in pools not inclusion in blocks",
        "created_at": "2023-01-20T02:50:43.323000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Or rather the former is more important than the latter",
        "created_at": "2023-01-20T02:51:06.356000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ok i should go find a small bag for some clothes or something and revisit this after some pondering",
        "created_at": "2023-01-20T02:51:11.904000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "im keen on this to minimise chaos so if we need to figure out a way, its a good topic to continue later",
        "created_at": "2023-01-20T02:51:47.400000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "The explicit phrasing: \"Submits a list of SignedBLSToExecutionChange objects to the node's pool. ANy that pass validation MUST be broadcast to the network.\"",
        "created_at": "2023-01-20T02:53:09.096000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I agree with this statement, we are dissincentivizing safe users to post early, and still the winning strategy for hackers and hacked users is to flood",
        "created_at": "2023-01-20T02:53:10.304000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it's reasonable to read this as saying broadcast now, not broadcast a decade from now",
        "created_at": "2023-01-20T02:53:25.011000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but it describes two actions: submitting to a node's pool and broadcasting. They're logically separate",
        "created_at": "2023-01-20T02:53:55.443000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and it does not explicitly describe the kind of validation required",
        "created_at": "2023-01-20T02:54:17.378000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "this is useless cause whatever limit we imposse, obviously at that boundary you'll start seeing the flooding",
        "created_at": "2023-01-20T02:54:22.030000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Inclusion in blocks is _far more important_! Once that happens it doesn't matter if 50-60% of the network already had the better address change in their pool",
        "created_at": "2023-01-20T02:54:49.877000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ok so maybe not apply skew and let queue jumpers get rejections earlier",
        "created_at": "2023-01-20T02:54:54.602000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "My point is the LIFO partly undoes the protection provided by the flood-published pre-loaded list",
        "created_at": "2023-01-20T02:55:23.921000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "you do not get included in blocks if you are not included in the pool before, and if all clients do not replace messages, you want to flood as early as possible",
        "created_at": "2023-01-20T02:55:26.421000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "pools will be filled in seconds, blocks in days",
        "created_at": "2023-01-20T02:55:39.938000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "if mean we can just randomly select from the queue and noone wins",
        "created_at": "2023-01-20T02:55:44.810000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "so the race for the pool is the **only** one that matters",
        "created_at": "2023-01-20T02:55:50.493000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "but does become expensive to remove entries",
        "created_at": "2023-01-20T02:56:21.133000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "yeah I guess maybe I'm overestimating the time it might take to flood publish all the queued changes",
        "created_at": "2023-01-20T02:56:40.102000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "blocks will be inside 3 days",
        "created_at": "2023-01-20T02:56:51.528000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "310k is less than 3 days of blocks",
        "created_at": "2023-01-20T02:56:58.235000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "but processing 310K messages is milliseconds",
        "created_at": "2023-01-20T02:57:13.605000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "so the only race here is to get your messages to pools",
        "created_at": "2023-01-20T02:57:24.615000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh sure, but all of those will be done inside 3 days",
        "created_at": "2023-01-20T02:57:28.746000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "not to blocks",
        "created_at": "2023-01-20T02:57:28.863000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "into blocks",
        "created_at": "2023-01-20T02:57:34.059000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "one metric I'm keeping in mind regarding the flooding. say it takes a client 1ms to process one of these requests, mostly the BLS verification probably. if even 10k requests flood that first slot, that risks DOSing clients",
        "created_at": "2023-01-20T02:57:44.048000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so if every validator asks on start of capella, assuming we dont crash horribly, the queue size is 0 inside 3 days",
        "created_at": "2023-01-20T02:58:00.008000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yeah I am keen to see devnet-4 tests because of this. Our approach is brutally naive, and we can be DOSed",
        "created_at": "2023-01-20T02:58:25.834000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "we have a queue metric if they're being logged on devnet",
        "created_at": "2023-01-20T02:58:37.896000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "will show the length of the queue over time",
        "created_at": "2023-01-20T02:58:50.559000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and at some point I'm wondering if Nimbus will have to just sort of blindly say, it's seen X BLS changes in Y seconds, no more",
        "created_at": "2023-01-20T02:59:01.893000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I guess for the compromised key users it depends on A) how well they can spam B) what fraction of validators opt-in to the legit list. If they lose the spam war against the attackers the pools of nodes will be split",
        "created_at": "2023-01-20T02:59:05.091000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "to keep responsive",
        "created_at": "2023-01-20T02:59:12.681000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "you've got a requirement to gossip if its not been seen i think, but you dont have to add it to your pool",
        "created_at": "2023-01-20T02:59:47.148000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "oh, looking forwards to such tests then",
        "created_at": "2023-01-20T02:59:57.403000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "could be some interesting options",
        "created_at": "2023-01-20T03:00:00.258000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "to determine that requires BLS verification",
        "created_at": "2023-01-20T03:00:05.975000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "one of the gossip conditions",
        "created_at": "2023-01-20T03:00:13.267000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yep thats a bottleneck for sure",
        "created_at": "2023-01-20T03:00:24.033000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "randomising selection from the queue may add a nice level of chaos",
        "created_at": "2023-01-20T03:00:45.739000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "agreed, but if whitelisting pools do broadcast early, it's very hard for a hacker to beat that.",
        "created_at": "2023-01-20T03:00:48.054000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "noone's expected to have the same queues so thats an interesting spin",
        "created_at": "2023-01-20T03:01:54.834000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "^Lighthouse randomises currently",
        "created_at": "2023-01-20T03:02:00.449000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "this is just as expensive in our design as LIFO or FIFO, I like LIFO better in that explicitly encourages users to submit late",
        "created_at": "2023-01-20T03:02:02.203000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "mm i like the idea",
        "created_at": "2023-01-20T03:02:15.973000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "natural consequence of using a `HashMap` ðŸ˜›",
        "created_at": "2023-01-20T03:02:26.941000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "that's a reasonable point specifically in favor of LIFO rather than random, yeah",
        "created_at": "2023-01-20T03:02:28.124000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "we have a hashmap and a doubly linked list, so removal is just as expensive on any system",
        "created_at": "2023-01-20T03:02:56.188000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "mm might be a simple change though. i think currnetly ordering helps because we're using set logic",
        "created_at": "2023-01-20T03:03:03.496000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "the LIFO feels like a Dutch auction, I'm tempted to switch LH over",
        "created_at": "2023-01-20T03:03:04.867000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I was sold on Lifo today",
        "created_at": "2023-01-20T03:03:08.990000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "RANDOM ðŸ˜„",
        "created_at": "2023-01-20T03:03:41.981000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "dooo eeet!",
        "created_at": "2023-01-20T03:03:47.758000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e I wonder though â€” the attacker is much more likely to understand the rules",
        "created_at": "2023-01-20T03:03:50.138000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e whereas an honest (and unsuspecting party) will just prime the system before the fork",
        "created_at": "2023-01-20T03:04:04.214000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "doesn't help: both attackers and hacked users are still encouraged to race",
        "created_at": "2023-01-20T03:04:18.035000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "it' s the rest of the world (which we care most) that are not",
        "created_at": "2023-01-20T03:04:28.724000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "short of adjusting their client ordering and actually proposing the block, it could be very hard to predict",
        "created_at": "2023-01-20T03:04:35.492000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "which would be a net win for the network",
        "created_at": "2023-01-20T03:05:04.263000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "that' s still the winning strategy so no harm done.",
        "created_at": "2023-01-20T03:05:11.728000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e right, so an attacker and a scared user that are trying to game, will be a little bit late which will offset their load wrt honest people's strategy",
        "created_at": "2023-01-20T03:05:44.010000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e I see",
        "created_at": "2023-01-20T03:06:07.436000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yeah I don' t see anything wrong with LIFO and I see a potential gain in that \u003c@552133098075193354\u003e' s blog post will actually have substance: he' ll be telling the truth when he says: wait a few hours, the later you are in, the earlier you' ll be included",
        "created_at": "2023-01-20T03:07:00.797000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e \u003e \u003cdannyryan\u003e  hmm tough actually advertise a time-frame as many will be included each slot (re @amphora_interop_bot: \u003cpotuz\u003e yeah I don' t see anything wrong with LIFO and I see a potential gain in that @timbeiko' s blog post will actually have substance: he' ll be telling the truth when he says: wait a few hours, the later you are in, the earlier you' ll be included)",
        "created_at": "2023-01-20T03:09:37.457000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "it's cat and mouse though, if hte queue is empty you're in straight away",
        "created_at": "2023-01-20T03:09:44.872000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it means a client trying to optimize in this system has aligned incentives where they try to detect the conditions under which the queue is empty, as soon as it is empty",
        "created_at": "2023-01-20T03:10:31.172000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so the network-good becomes the same as the client-good",
        "created_at": "2023-01-20T03:10:41.845000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "I'm ok with that theory",
        "created_at": "2023-01-20T03:10:58.232000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "it seems like we still need to implement flood publishing though?",
        "created_at": "2023-01-20T03:12:04.794000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "and to maximise benefit to the hacked users, it should be as fast as possible",
        "created_at": "2023-01-20T03:12:18.608000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "The main advantage is that the time at which pools are incentivized to post is later than the fork, and is a game theory game for them (if they care at all). As long as they don' t flood at the exact same time, it' s fine for the network. It's great WRT a system like FIFO that actually encourages them all to flood at the same time. With LIFO we will only get the race of hacked accounts and the lone stakers that want to be the first block withdrawn",
        "created_at": "2023-01-20T03:13:20.995000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yes I think there' s no change in our P2P strategy, just the packing one",
        "created_at": "2023-01-20T03:13:49.042000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "and in our end it looks like a very trivial change",
        "created_at": "2023-01-20T03:13:58.885000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "As suspected, it was literally a two liner and then a bunch of test fixing \nhttps://github.com/prysmaticlabs/prysm/pull/11896",
        "created_at": "2023-01-20T03:38:17.528000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Nice, I'm adding the LIFO queue now to Lighthouse (bit more than 2 lines because we only had a map previously)",
        "created_at": "2023-01-20T03:38:54.237000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "So should we script up something to mimic the behavior you guys want to test on devnet 4 or are we just flooding 300k changes at the first chance? What'd have more value in testing?",
        "created_at": "2023-01-20T04:54:28.431000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I reckon try the flood and see what breaks",
        "created_at": "2023-01-20T05:20:22.033000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "flood at earliest opportunity would be fun",
        "created_at": "2023-01-20T05:57:13.294000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and if we know teh order of the list we can compare if we're so inclined",
        "created_at": "2023-01-20T05:57:27.626000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "oh it does look like our queue won't be ordered either , also stored in a hash deep down",
        "created_at": "2023-01-20T06:05:22.923000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "qq, are there any plans to disable bls deposits altogether eventually, and only allow the deposit to be processed if it has a withdrawal cred?",
        "created_at": "2023-01-20T07:39:10.440000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Not sure we can do that, as it would require changes to the deposit contact.",
        "created_at": "2023-01-20T07:50:42.547000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "could someone please assist me next week to publish invalid BLS changes?",
        "created_at": "2023-01-20T08:02:48.038000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I don't know enough about gossip and the protocol to be able to pull this off.",
        "created_at": "2023-01-20T08:03:00.210000+00:00",
        "attachments": null
    },
    {
        "author": "emhane",
        "category": "Testing",
        "parent": "",
        "content": "Yeah \u003c@498009160982724610\u003e \u003c@491624610215886849\u003e",
        "created_at": "2023-01-20T08:03:21.641000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "Yep, let's chat next week ðŸ™‚",
        "created_at": "2023-01-20T08:04:17.602000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I think you'll need a client fork to do that. We can easily give you an evil one",
        "created_at": "2023-01-20T09:52:41.847000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "to add to jgmâ€™s message, the 0x00 type _can_ be used to delay withdrawals back to the EL so itâ€™s not â€œjustâ€ a legacy feature or anything",
        "created_at": "2023-01-20T19:53:11.491000+00:00",
        "attachments": null
    }
]