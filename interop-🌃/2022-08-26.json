[
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Geth logs from a recent bad block (\"invalid gas used\") on Prater",
        "created_at": "2022-08-26T06:35:27.818000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "Explore-logs-2022-08-26_16_33_46.txt",
                "content": "63809eda2ab9634aa0d71be78a97e96675518b05d51f1320d5b7fd8b2dd6b218"
            }
        ]
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I believe that was Geth on `v1.10.21`",
        "created_at": "2022-08-26T06:55:03.324000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Geth produced the block? Or found it?",
        "created_at": "2022-08-26T06:56:41.831000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Do you know who produced it?",
        "created_at": "2022-08-26T06:57:02.545000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I think it found it, I'm still trying to figure out what's going on.",
        "created_at": "2022-08-26T07:04:08.639000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "~~One if the invalid blocks is `Hash: 0x102c7675f440cb9f31da7e61990cf8cd13b3d5e401b3b3df33a1f5862222e0af`~~\n\n~~However that seems to exist in the canonical chain: https://prater.beaconcha.in/block/40631f4bae87ceb6336d8889a65a93adff7d709335370362ffba5cb69afd7bc0~~",
        "created_at": "2022-08-26T07:05:33.984000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Oh wait, sorry I'm wrong about that!",
        "created_at": "2022-08-26T07:06:42.415000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I think this is the slot where the block was produced: https://prater.beaconcha.in/block/3748866 I can't see anything that identifies the proposer.",
        "created_at": "2022-08-26T07:09:38.186000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "So all I know is that *someone* produced a block that Geth thinks is bad.",
        "created_at": "2022-08-26T07:16:11.303000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@199561711278227457\u003e Do you know which if validator 378877 on prater belongs to a client team?",
        "created_at": "2022-08-26T07:50:56.680000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "This is the grafitti",
        "created_at": "2022-08-26T08:34:41.387000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "\u003e graffiti=graffitiwall:853:326:#000000",
        "created_at": "2022-08-26T08:34:43.532000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Fyi, I have seen a lot of validators producing invalid blocks with a similar graffiti",
        "created_at": "2022-08-26T08:35:09.904000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Then it's probably the erigon nodes",
        "created_at": "2022-08-26T08:35:36.384000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "They seem to be someone who just joined recently ( 2 weeks ago)",
        "created_at": "2022-08-26T08:35:36.773000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, its possible",
        "created_at": "2022-08-26T08:36:01.332000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Another invalid block, most likely the same entity\n\u003e [2022-08-26 08:10:24] DEBUG sync: Received block blockSlot=3749452 graffiti=graffitiwall:744:367:#cc9977 proposerIndex=376920 sinceSlotStartTime=837.516127ms",
        "created_at": "2022-08-26T08:38:50.102000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Is it an accepted fact that Erigon is producing invalid blocks and it‚Äôs not something we should be concerned about?",
        "created_at": "2022-08-26T08:41:39.202000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "They are working on it",
        "created_at": "2022-08-26T08:41:55.418000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The issue is that somehow bad transactions can slip into their txpool",
        "created_at": "2022-08-26T08:42:26.723000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Might be because the tx verification is done by the txpool (which is a separate module in their modular design)",
        "created_at": "2022-08-26T08:43:26.667000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Got it. I‚Äôll keep reporting invalid blocks when I see them. I have high visibility on them now. LMK if there‚Äôs any particular info that would help.",
        "created_at": "2022-08-26T08:44:46.841000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Nope, I dont think so - atleast it wasn't funded from the EF goerli wallet. \n\nThis suggests its an old address, likely one of the signers: https://goerli.etherscan.io/txs?a=0xbabad228c66ea0066758ec6e0e76fa8205c56740\u0026f=3",
        "created_at": "2022-08-26T08:45:49.346000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "could just be someone running erigon, not necessarily the team",
        "created_at": "2022-08-26T08:46:26.371000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Proposer index and graffiti are probably the most important things to debug. Also if other non-geth nodes accept the blocks, that would be bad",
        "created_at": "2022-08-26T08:46:41.348000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Afaik Erigon will reject their bad blocks as well",
        "created_at": "2022-08-26T08:46:58.567000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yea, we're seeing a ton of bad blocks from erigon on the shadow fork as well. But the erigon nodes themselves are rejecting it and continuing along. Some of their proposals are valid, some are invalid - making it harder to debug.",
        "created_at": "2022-08-26T08:49:02.312000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Does erigon re-execute these transactions before returning it to the CL ? or does it just pack it into the payload and send it back",
        "created_at": "2022-08-26T08:49:50.348000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "They need to execute them to produce the state root (I think) so yeah, but that doesn't mean that they would find the issue there. The assumption is (I guess) that the transactions that are packed, are all valid, so they won't check their validity again, just execute them and pack them into a block",
        "created_at": "2022-08-26T08:52:01.166000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "We currently don't, but we might do something like that as a hack to mitigate the bug. Right now we're still looking for the root cause and would prefer to fix that.",
        "created_at": "2022-08-26T09:08:12.216000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Testing",
        "parent": "",
        "content": "Most common user interaction with Prysm:\n\"help, getting exchange transition configuration RPC not found\"\n\"ah you need to connect to your execution client on port 8551 and authenticate with jwt\"\n\"whats an execution client\"",
        "created_at": "2022-08-26T14:02:05.833000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Testing",
        "parent": "",
        "content": "we're having a tough time with user support regarding this. So many folks aren't prepared",
        "created_at": "2022-08-26T14:02:26.051000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "It's been tweeted, linked extensively on Discord, blogged, posted across dozens of guides, linked etc. There have now been relatively mainstream news articles on it by largely nontechnical publications, even.",
        "created_at": "2022-08-26T14:11:22.971000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "Unpopular opinion: Execution layers will have to integrate natively consensus logic at some point, with consensus layers used only for validators",
        "created_at": "2022-08-26T14:15:56.694000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "I think we should do one thing at a time, but it is clear to me that it will eventually happen",
        "created_at": "2022-08-26T14:16:40.100000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "maybe useful to have a more descriptive error message? \"looks like you're not running an execution client! you will need to run this software going forward to continue validating the chain go here to learn more: https://learn-more.com/asdf\"",
        "created_at": "2022-08-26T14:16:51.911000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "Too much infrastructure and cluster-fuckness in current post-merge UX",
        "created_at": "2022-08-26T14:17:04.526000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Testing",
        "parent": "",
        "content": "Good idea \u003c@543900561460822016\u003e . I still feel like folks will be very confused by that. They no longer have the snappy UX of just installing one piece of software and running with a simple script. The separation of concerns is useful to us as developers but it just shows that despite how much consensus/execution has been mentioned on a myriad guides and articles, it is still confusing to the average person",
        "created_at": "2022-08-26T14:18:11.382000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Testing",
        "parent": "",
        "content": "Fwiw I completely agree. But there isn't much we can do at this point besides trying to be more empathetic in error messages, devote some effort to more all-in-one solutions like https://github.com/NethermindEth/sedge, and better automatic detection of running EL/CLs",
        "created_at": "2022-08-26T14:19:52.617000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Testing",
        "parent": "",
        "content": "are there any teams working on a unified EL/CL binary?  Obviously nothing will be ready in time for the merge, just curious if that's a goal of any team atm.",
        "created_at": "2022-08-26T15:48:25.063000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "Does Consensus Layer need old receipts when using checkpoint sync?",
        "created_at": "2022-08-26T16:36:04.391000+00:00",
        "attachments": null
    },
    {
        "author": "benjaminion",
        "category": "Testing",
        "parent": "",
        "content": "Low-key looking at converging Besu and Teku over time, possibly with the option of running a single executable as an end goal. But this would be a pretty long-term project (unless you can persuade us it's more urgent).",
        "created_at": "2022-08-26T16:58:23.032000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Testing",
        "parent": "",
        "content": "Not urgent for those of us already familiar w/ running split EL/CL pairs, but seems like it would make \"running a node\" simpler again for people just entering the ecosystem.",
        "created_at": "2022-08-26T17:07:47.535000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I truly hope that this is just the very very minority in terms of staking power",
        "created_at": "2022-08-26T20:54:10.921000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I initially thought the same, with the exception that satisfying the client diversity crowd would be impossible. But now I believe this to be a bad idea. The little I know about execution tells me that your complications are mostly technical: disk and memory/cpu management. Our biggest dangers are protocol related. I think this entails very different skills on team members to the point that trying to merge geth or Erigon with Prysm, even though they are in the same language, probably ends up in a Frankenstein that's just two separate modules. I believe that the solution to UX lies downstream, we need to start seeing wrappers for our services and os package managers",
        "created_at": "2022-08-26T21:05:38.959000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "Well, no i meant just implementing the core logic of PoS blocks validation",
        "created_at": "2022-08-26T21:15:23.431000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "in the most simple and stupid way",
        "created_at": "2022-08-26T21:15:38.134000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "not running them together under the same executable",
        "created_at": "2022-08-26T21:15:56.550000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "that would be disgusting",
        "created_at": "2022-08-26T21:16:06.691000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "How would just implementing core PoS block validation logic and ... I guess doing not much else help with JWT/engine API/etc social issues?",
        "created_at": "2022-08-26T21:17:41.347000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Someone, somewhere, presumably is doing the fork choice, running the rest of the state transition function, etc. All the things current consensus layer clients do.",
        "created_at": "2022-08-26T21:19:35.626000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "you dont run a consensus layer if you just need the node for traces and what not?",
        "created_at": "2022-08-26T21:39:57.550000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "not everyone wants to validate",
        "created_at": "2022-08-26T21:40:03.746000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "why at least not making it easier for people who want just a synced node and thats it?",
        "created_at": "2022-08-26T21:40:27.251000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "if you want to validate, you are putting money at stake so you need to do your research and should not be necessairly UX friendly as such(at least not a priority)",
        "created_at": "2022-08-26T21:41:09.923000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Ah, right. There's work on being able to use a light client only on the CL side, just enough to drive an EL, and Geth, I think it was, mentioned considering incorporating this as well.",
        "created_at": "2022-08-26T21:42:22.598000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "yeah, i think EL could do it too",
        "created_at": "2022-08-26T21:43:05.703000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "at least i would like it on Erigon, i do not speak for other clients",
        "created_at": "2022-08-26T21:43:11.357000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "It should definitely be feasible. One doesn't have to interact with the whole CL protocol, just enough to follow the sync committees.",
        "created_at": "2022-08-26T21:43:37.932000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "yeah just implement the most basic consensus layer setup out there and maybe some under the hood checkpoint sync",
        "created_at": "2022-08-26T21:44:02.940000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "I have some ideas on how to do it in Erigon at least",
        "created_at": "2022-08-26T21:44:13.691000+00:00",
        "attachments": null
    },
    {
        "author": "ryanleeschneider",
        "category": "Testing",
        "parent": "",
        "content": "https://nimbus.guide/el-light-client.html was just mentioned here:\n\nhttps://discord.com/channels/595666850260713488/598292067260825641/1012375317488341034",
        "created_at": "2022-08-26T21:54:12.173000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "There's been about 7 more invalid payloads overnight. I checked a bunch of them and they seem to follow the same pattern as the previous one I raised, which was assumed to be Erigon. Nothing to indicate *who* the validator is; graffiti is a graffiti wall pixel. Geth rejection reasons are a range of:\n\n- `invalid bloom`\n- `invalid merkle root`\n- `invalid gas used`\n- `could not apply tx`",
        "created_at": "2022-08-26T22:49:47.636000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "It's a very large entity to be getting so many blocks in Goerli",
        "created_at": "2022-08-26T23:03:24.194000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "One of the graffiti is `graffiti: graffitiwall:863:342:#cc9977`. From my super rough estimates, it seems they're drawing something of a decent size about 80% from the left and 30% from the top: https://prater.beaconcha.in/graffitiwall",
        "created_at": "2022-08-26T23:19:24.828000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Maybe we'll figure out who they are once the picture is finished. Alternatively, the picture will end up being something crude and we'll be none the wiser üòÖ",
        "created_at": "2022-08-26T23:21:27.946000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "I think I know who that is. Will report back üïµÔ∏èüèª‚Äç‚ôÇÔ∏è",
        "created_at": "2022-08-26T23:22:22.914000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Might be banteg who was keen to draw hentai on the wall. Just pinged Bantag to confirm",
        "created_at": "2022-08-26T23:26:10.070000+00:00",
        "attachments": null
    }
]