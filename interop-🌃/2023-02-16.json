[
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e looks like the zhejiang-testnet-lighthouse-besu-2 issue was different to geth's and unrelated to the EthereumJS bad block.\n\nI am pretty sure it was another bonsai issue that we've seen appear elsewhere too: https://github.com/hyperledger/besu/issues/5097\n\nI will see if I can fix up the database with a tool we have, otherwise will resync.",
        "created_at": "2023-02-16T05:20:38.388000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "the relay gets the full execution payload, which it should indeed apply locally to make sure the block is valid\n\ndo you know of a place where we spec out which validations a CL will perform? just validate all possible fields?\n\ni'm not sure where this should live but i do see value in having a unified spec bc then we can test conformance, etc",
        "created_at": "2023-02-16T05:26:48.777000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e \u003c@360491619402776577\u003e i'm seeing what i believe to be the same issue at an earlier block:\n\n```\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: ########## BAD BLOCK #########\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: Block: 42314 (0x1c5f2c9cbaa2e7c7abdb6fa73e7562beea21ce6af8a0e52a5634f6283db07418)\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: Error: missing withdrawals in block body\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: Platform: geth (devel) go1.19.5 amd64 linux\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: Chain config: \u0026params.ChainConfig{ChainID:1337803, HomesteadBlock:0, DAOForkBlock:\u003cnil\u003e, DAOForkSupport:false, EIP150Block:0, EIP150Hash:0x0000000000000000000000000000000000000000000000000000000000000000, EIP155Block:0, EIP158Block:0, ByzantiumBlock:0, ConstantinopleBlock:0, PetersburgBlock:0, IstanbulBlock:0, MuirGlacierBlock:\u003cnil\u003e, BerlinBlock:0, LondonBlock:0, ArrowGlacierBlock:\u003cnil\u003e, GrayGlacierBlock:\u003cnil\u003e, MergeNetsplitBlock:\u003cnil\u003e, ShanghaiTime:(*uint64)(0xc00025bb38), CancunTime:(*uint64)(nil), PragueTime:(*uint64)(nil), TerminalTotalDifficulty:0, TerminalTotalDifficultyPassed:false, Ethash:(*params.EthashConfig)(nil), Clique:(*params.CliqueConfig)(nil)}\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: Receipts:\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: ##############################\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]:\nFeb 16 06:09:26 mempool-builder-zhejiang execution-client[4442]: ERROR[02-16|06:09:26.719] Beacon backfilling failed                err=\"retrieved hash chain is invalid: missing withdrawals in block body\"\n```",
        "created_at": "2023-02-16T06:16:02.808000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "trying to sync LH+Geth from scratch on this testnet",
        "created_at": "2023-02-16T06:16:17.906000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "ive tried various combos of restarting LH or Geth and it gets stuck on this block every time",
        "created_at": "2023-02-16T06:16:43.465000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "that's the Capella transition block, you can sync past it if you sync in lockstep with `--disable-optimistic-finalized-sync` on Lighthouse",
        "created_at": "2023-02-16T06:17:34.966000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "but yeah, root cause is the same Geth bug in backfill",
        "created_at": "2023-02-16T06:17:46.215000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "ah good to know",
        "created_at": "2023-02-16T06:18:40.290000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "well i was going to announce i have a \"mempool builder\" live at https://zhejiang.relay.pbs.dev/ and it should allow remote builder testing on this testnet\n\nbut... the builder won't make blocks until the backing CL+EL are synced... so i think ill have to wait on this fix",
        "created_at": "2023-02-16T06:20:26.206000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "You are using ~~snap~~ full sync, right?",
        "created_at": "2023-02-16T07:52:18.045000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "for most devnets and testnets we don't support snap sync https://github.com/ethpandaops/withdrawals-testnet/blob/master/withdrawal-devnet-7/inventory/group_vars/geth.yml#L46",
        "created_at": "2023-02-16T08:06:28.002000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "zhejiang-testnet-lighthouse-besu-2 back in sync now",
        "created_at": "2023-02-16T08:06:45.982000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Testing",
        "parent": "",
        "content": "how does full sync work these days btw? geth waits for a block from the CL before it starts, or does it try sync the non-merge portion?",
        "created_at": "2023-02-16T08:22:00.580000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We wait for a block from cl, sync the headers backwards and then execute the blocks forward from genesis",
        "created_at": "2023-02-16T08:26:16.210000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "awesome!",
        "created_at": "2023-02-16T09:09:05.245000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we just hit shapella 10 mins ago on devnet 7",
        "created_at": "2023-02-16T09:10:25.802000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have 600k validators, 15k pending to enter, 24k pending to exit, 360k bls changes, preloaded before shapella, random exits with some bls changes some without",
        "created_at": "2023-02-16T09:11:18.487000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and our attestation rate plummeted",
        "created_at": "2023-02-16T09:12:05.253000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "peers are being dropped left and right, we are at 55% attestation, cpu utilization is about 100%",
        "created_at": "2023-02-16T09:12:53.473000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://grafana.observability.ethpandaops.io/d/MRfYwus7k/nodes?orgId=1\u0026refresh=30s\u0026var-consensus_client=All\u0026var-execution_client=All\u0026var-network=withdrawal-devnet-7\u0026var-filter=ingress_user%7C%21~%7Csynctest.%2A",
        "created_at": "2023-02-16T09:12:54.488000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "looking now",
        "created_at": "2023-02-16T09:16:54.005000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like epoch 450 was really messy",
        "created_at": "2023-02-16T09:17:08.378000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but 451 seem to have recovered",
        "created_at": "2023-02-16T09:17:20.199000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "yeah we are finalizing now",
        "created_at": "2023-02-16T09:18:59.705000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "~~sorry no, we are not~~ we just finalized",
        "created_at": "2023-02-16T09:19:15.470000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```Epoch 452:\n  Proposals: 31/32 (96.88%)\n  Attestations: 566992/601278 (94.30%)\n    Source timely: 562494/601278 (93.55%)\n    Target correct: 566913/601278 (94.28%)\n    Target timely: 566913/601278 (94.28%)\n    Head correct: 566216/601278 (94.17%)\n    Head timely: 520659/601278 (86.59%)\n  Sync committees: 14556/15872 (91.71%)```",
        "created_at": "2023-02-16T09:21:43.654000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "this epoch looks very healthy already",
        "created_at": "2023-02-16T09:21:54.982000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I think the initial shock of that many bls changes really overwhelms some nodes, thus leading to missing blocks and attestations",
        "created_at": "2023-02-16T09:22:21.108000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "do you know which nodes these are ?",
        "created_at": "2023-02-16T09:22:53.472000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://beaconchain.withdrawal-devnet-7.ethpandaops.io/slots",
        "created_at": "2023-02-16T09:23:09.909000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "this will show missed slots by node",
        "created_at": "2023-02-16T09:23:17.135000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we don't have a good way to check attestations tho for this many validators",
        "created_at": "2023-02-16T09:23:39.626000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "For use all skipped slots come from prysm-besu pairs",
        "created_at": "2023-02-16T09:25:13.141000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "definitely seems like not a coincidence",
        "created_at": "2023-02-16T09:25:41.835000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah prysm-besu pair seem to be missing more than avg",
        "created_at": "2023-02-16T09:26:42.980000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "even before shapella tbh",
        "created_at": "2023-02-16T09:26:46.807000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'm still on gcr.io/prysmaticlabs/prysm/beacon-chain:HEAD-63186c for prysm",
        "created_at": "2023-02-16T09:27:22.782000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looking at number of peers, it looks like lodestar lost the most, and went from avg of 35 peers to sub 10",
        "created_at": "2023-02-16T09:28:48.042000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2023-02-16T09:29:11.582000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2023-02-16_at_10.29.04.png",
                "content": "11c66bee03c5ad5ec7c53c1fed67a28032d6a0a7b8f07f0914ce2be3959f791f"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "probably a rate limit issue on lodestar's side.",
        "created_at": "2023-02-16T09:30:05.632000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "getting too many gossip messages from all the peers, they start dropping some to not get overloaded",
        "created_at": "2023-02-16T09:30:26.940000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "withdrawal-devnet-7-teku-besu-2 seem to have been left behind",
        "created_at": "2023-02-16T09:31:35.342000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "most teku issues I see is `2023-02-16 09:00:19.172 WARN  - Discarding gossip message for topic /eth2/f39ef3ae/bls_to_execution_change/ssz_snappy because the signature verification queue is full`",
        "created_at": "2023-02-16T09:35:28.784000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and then kill itself ```2023-02-16 09:19:43.198 WARN  - Task produce failed\njava.lang.OutOfMemoryError: Java heap space\n2023-02-16 09:19:43.207 ERROR - Unexpected error in Noise channel\njava.lang.OutOfMemoryError: Java heap space\n2023-02-16 09:19:43.213 INFO  - Stopping Javalin ...\n2023-02-16 09:19:43.213 INFO  - Stopped Server@2457dc05{STOPPING}[11.0.13,sto=0]```",
        "created_at": "2023-02-16T09:36:19.917000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I think we need to retire zhejiang, we might have completely destroyed it :D",
        "created_at": "2023-02-16T09:40:13.223000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I'm writing up a post-mortem",
        "created_at": "2023-02-16T09:40:23.817000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "this is devnet 7 ^^^",
        "created_at": "2023-02-16T09:40:40.653000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes this is unrelated to devnet 7",
        "created_at": "2023-02-16T09:40:59.345000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "zhejiang looks healthy tho",
        "created_at": "2023-02-16T09:41:02.672000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes, but the geth databases might be fried",
        "created_at": "2023-02-16T09:41:30.147000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we should have enough nodes online to recover tho",
        "created_at": "2023-02-16T09:41:45.693000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "geth is a major client, but don't think we can't recover from it",
        "created_at": "2023-02-16T09:41:58.935000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yeah I am still checking some stuff, we might be able to recover",
        "created_at": "2023-02-16T09:42:35.408000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "would be good if we could.",
        "created_at": "2023-02-16T09:43:00.840000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "restart of the container resolved this issue",
        "created_at": "2023-02-16T09:45:28.114000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "we can always sync from one of the other 3 ELs and just redeploy geth üòÑ\nit'll need some ansible foo to make sure the network is live, but should be possible üòÑ",
        "created_at": "2023-02-16T09:47:02.305000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "All prysm besu nodes are having this issue:\n```\ntime=\"2023-02-16 08:33:57\" level=error msg=\"Unable to process past deposit contract logs, perhaps your execution client is not fully synced\" error=\"processPastLogs: abi: attempting to unmarshall an empty string while arguments are expected\" prefix=powchain\n```\nseems like besu can't provide the deposit logs for some reason",
        "created_at": "2023-02-16T09:50:30.396000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "we're responding with  (from snooper logs)\n```\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": null,\n  \"error\": {\n    \"code\": -32005,\n    \"message\": \"Number of requests exceeds max batch size\"\n  }\n}\n```",
        "created_at": "2023-02-16T10:04:11.521000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "what is your max batch size for json-rpc requests ?",
        "created_at": "2023-02-16T10:04:39.922000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Looks like it was changed to default to 1 about 3 weeks ago...not sure why this issue hasn't come up before, but you can set it with `--rpc-http-max-batch-size` - what size do you need it to be? (our previous default was 50)",
        "created_at": "2023-02-16T10:11:49.438000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "our current default is 1000 headers per batch",
        "created_at": "2023-02-16T10:13:21.817000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e could you set the flag for all prysm-besu pairs ?\n```\n--rpc-http-max-batch-size=1000\n```",
        "created_at": "2023-02-16T10:14:10.726000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e any idea why this hasn't been an issue since about 3 weeks ago? Is this the first time you're having to set it?",
        "created_at": "2023-02-16T10:18:02.460000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "maybe the insane amount of bls changes on devnet 7 ?",
        "created_at": "2023-02-16T10:18:29.240000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "that triggered it",
        "created_at": "2023-02-16T10:18:36.086000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "done",
        "created_at": "2023-02-16T10:18:39.842000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "This seems to have happened before the fork",
        "created_at": "2023-02-16T10:18:42.550000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "so all prysm-besu blocks being proposed with deposits failed",
        "created_at": "2023-02-16T10:19:06.437000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "The default of 1 should have caused issues for any batch request though ü§î",
        "created_at": "2023-02-16T10:19:09.827000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we haven't been testing deposits",
        "created_at": "2023-02-16T10:19:37.303000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "only on zhejiang",
        "created_at": "2023-02-16T10:19:40.727000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "well devnet-7 has a lot of deposits being sent/included now",
        "created_at": "2023-02-16T10:19:55.929000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and there we didn't pay too much attention to which client votes correctly, just wanted to get the 66%",
        "created_at": "2023-02-16T10:19:58.697000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah",
        "created_at": "2023-02-16T10:20:03.041000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "devnet 7 is really the heavy load for deposits and exits",
        "created_at": "2023-02-16T10:20:12.822000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so all kind of kinks would come out now",
        "created_at": "2023-02-16T10:20:18.076000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e you applied the flag to prysm",
        "created_at": "2023-02-16T10:21:08.738000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "it needs to be applied to besu",
        "created_at": "2023-02-16T10:21:14.365000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "oh lol",
        "created_at": "2023-02-16T10:21:23.654000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "\u003e time=\"2023-02-16T10:20:08Z\" level=error msg=\"flag provided but not defined: -rpc-http-max-batch-size\" prefix=main",
        "created_at": "2023-02-16T10:21:25.355000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sorry",
        "created_at": "2023-02-16T10:21:27.473000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "np",
        "created_at": "2023-02-16T10:21:30.331000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "restarting now",
        "created_at": "2023-02-16T10:21:59.732000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "surprised we are the only client complaining about this, thought a batch size of 1 would cause issues with all clients",
        "created_at": "2023-02-16T10:22:14.718000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Should anyone running a prysm-besu pair on any network set this flag as part of configuring their node for Shanghai now then...or is it a devnet specific issue?",
        "created_at": "2023-02-16T10:23:08.040000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "i think a batch size of 1 will cause issues in any network",
        "created_at": "2023-02-16T10:24:21.193000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "it needs to be configured correctly for mainnet too",
        "created_at": "2023-02-16T10:24:36.437000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "maybe the default should be increased then?",
        "created_at": "2023-02-16T10:25:10.079000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so no flag would be needed",
        "created_at": "2023-02-16T10:25:16.009000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "any drawbacks to this?",
        "created_at": "2023-02-16T10:25:21.058000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "it was recently decreased for a reason, I will find out and see what the best plan would be. Sounds like it could have been an issue anyway if the default was previously 50.",
        "created_at": "2023-02-16T10:26:17.234000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Okay we figured out the issue wrt to sync",
        "created_at": "2023-02-16T10:27:46.872000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "is it possible to loosen this if the request is coming via the engine-api ? If the primary concern is users exposing their http port to the world",
        "created_at": "2023-02-16T10:27:47.619000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "It wasn't an issue with our peers, it was with the local node",
        "created_at": "2023-02-16T10:28:15.418000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Basically when we try to sync a block without transactions \u0026 withdrawals, we just don't sync that block, we skip it.\nIn the case of skipping it we don't set the withdrawals correctly though",
        "created_at": "2023-02-16T10:29:28.154000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "This is the fix for anyone curious: https://github.com/ethereum/go-ethereum/pull/26707/files",
        "created_at": "2023-02-16T10:31:44.212000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "nice, so we dont need to nuke zhejiang anymore ?",
        "created_at": "2023-02-16T10:33:56.397000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e is there an easy way to search through all the besu snooper logs for \"Number of requests exceeds max batch size\"?",
        "created_at": "2023-02-16T10:35:45.215000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "docker logs snooper \u003e\u0026 logs.log",
        "created_at": "2023-02-16T10:36:26.061000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "then jq search for it",
        "created_at": "2023-02-16T10:36:34.917000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "I mean across all nodes üôÇ",
        "created_at": "2023-02-16T10:36:36.451000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "oh yes",
        "created_at": "2023-02-16T10:36:48.355000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "devnet 7 right?",
        "created_at": "2023-02-16T10:36:57.971000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "yes, no need for that :)",
        "created_at": "2023-02-16T10:37:15.736000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "and zhejiang I guess, any devnet that has a besu version later than 3 weeks ago",
        "created_at": "2023-02-16T10:37:24.665000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "I've noticed ~~lighthouse~~ lodestar sending batches, but didn't notice that we responded with that message, should double check though",
        "created_at": "2023-02-16T10:38:33.839000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "I've confirmed we've got the \"Number of requests exceeds max batch size\" error on both zhejiang and devnet-7 for both prysm and lodestar. \nNot lighthouse...haven't checked the others but probably can't hurt to set `--rpc-http-max-batch-size=1000` for all besu nodes.\n\n\u003e so all prysm-besu blocks being proposed with deposits failed\nI'm still confused about the impact of this...if besu can't provide deposit logs for prysm or lodestar, do they get them elsewhere instead? or are other nodes picking up the deposit processing slack instead? I don't really understand the deposit log stuff. \nAlso don't get how this relates to bls changes.",
        "created_at": "2023-02-16T11:04:16.945000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "it might be voting on the incorrect deposit head",
        "created_at": "2023-02-16T11:05:05.820000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have had some issues on zhejiang as well as on devnet 7 to reach majority for the votes",
        "created_at": "2023-02-16T11:05:24.137000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "as some nodes seemed to have voted incorrectly",
        "created_at": "2023-02-16T11:05:32.040000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "now its most likely confirmed that it would have been besu thats votes incorrectly",
        "created_at": "2023-02-16T11:05:46.738000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "\u003e I'm still confused about the impact of this...if besu can't provide deposit logs for prysm or lodestar, do they get them elsewhere instead? or are other nodes picking up the deposit processing slack instead? I don't really understand the deposit log stuff. \nIn prysm's case, we miss proposing the block. As besu is the only source of the deposit logs, without the respective deposit logs, we can't convert them into deposits and pack them into blocks",
        "created_at": "2023-02-16T11:07:07.503000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Which is the reason why there were a lot of missed block proposals by prysm-besu pairs during the fork, as there were also a lot of deposits being packed in",
        "created_at": "2023-02-16T11:07:55.936000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "did this happen on previous devnets as well then? Think you mentioned there were less deposits in zhejiang so probably less noticable",
        "created_at": "2023-02-16T11:09:30.601000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah we only have a couple thousand deposits on zhejiang",
        "created_at": "2023-02-16T11:09:51.989000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but on devnet 7 we are going full blast, packing deposits/exits in every epoch",
        "created_at": "2023-02-16T11:10:06.187000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "yeah, thats what it appears as. Zheijiang didn't have too many deposits",
        "created_at": "2023-02-16T11:10:25.961000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "While devnet 7 seems to be spammed with them",
        "created_at": "2023-02-16T11:10:37.351000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "what have deposits got to do with the fork? I thought deposits were for setting up validators and the fork had bls changes...are bls changes sent through as deposits?",
        "created_at": "2023-02-16T11:11:29.381000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we had quite some misses before shapella",
        "created_at": "2023-02-16T11:11:54.740000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "no, there were deposits being included during the fork epoch. Barnabas had mentioned earlier that there were quite a few missing slots during the fork. From what I could see all prysm-besu nodes had missed their block proposals in the fork epoch due to this",
        "created_at": "2023-02-16T11:12:49.301000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Its not related to the fork happening, it just happened to coincide with it",
        "created_at": "2023-02-16T11:13:21.123000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "ok makes sense thanks for clearing it up for me both üôÇ",
        "created_at": "2023-02-16T11:13:39.102000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "This appeared to be an issue before the fork from the logs that I saw",
        "created_at": "2023-02-16T11:13:41.494000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "at least we found this now and not on Sepolia üòÖ",
        "created_at": "2023-02-16T11:14:35.503000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we wouldn't have found this on sepolia",
        "created_at": "2023-02-16T11:14:54.531000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "as there are no deposits happening on sepolia",
        "created_at": "2023-02-16T11:15:03.858000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Possibly would only have come to attention in mainnet as that is where users complain",
        "created_at": "2023-02-16T11:15:25.775000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "at least we found this now and not on mainnet :p",
        "created_at": "2023-02-16T11:15:28.274000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "can't seem to get all logs remotly btw \u003c@341574016160497665\u003e",
        "created_at": "2023-02-16T11:16:43.886000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "been trying for like 30 mins lol",
        "created_at": "2023-02-16T11:16:48.017000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ansible just times out",
        "created_at": "2023-02-16T11:17:06.752000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "nw, I think it makes sense to just add that config to all besu nodes, for now at least",
        "created_at": "2023-02-16T11:17:10.362000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok",
        "created_at": "2023-02-16T11:17:17.440000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "adjusted now on all zhejiang besu nodes",
        "created_at": "2023-02-16T11:17:22.909000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "adjusting all devnet 7 besu nodes now, done",
        "created_at": "2023-02-16T11:20:23.892000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "We actually found this issue with Nethermind on mainnet and got them to deploy a fix on v1.16.1 (https://github.com/NethermindEth/nethermind/releases/tag/1.16.1 - look at their notes for https://github.com/NethermindEth/nethermind/pull/5134). We have some users running Lodestar-Nethermind in our discord üòÖ",
        "created_at": "2023-02-16T11:24:57.233000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "I can confirm. Thx \u003c@578356786889752586\u003e once again üôè",
        "created_at": "2023-02-16T11:32:24.906000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "this would only be triggered at shapella right?",
        "created_at": "2023-02-16T11:33:42.778000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes",
        "created_at": "2023-02-16T11:37:31.964000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Only on post shanghai blocks without withdrawals and transactions",
        "created_at": "2023-02-16T11:37:53.295000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah thats hard to mimic",
        "created_at": "2023-02-16T11:38:22.232000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "maybe hive could test for this particular case?",
        "created_at": "2023-02-16T11:38:32.554000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Any node that has this issue should resync with the latest master correct?",
        "created_at": "2023-02-16T11:54:18.878000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes",
        "created_at": "2023-02-16T12:06:38.584000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "restarted zhejiang-testnet-lighthouse-geth-2 with new dir for geth",
        "created_at": "2023-02-16T12:11:28.576000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "synced",
        "created_at": "2023-02-16T12:17:34.275000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Nice",
        "created_at": "2023-02-16T12:19:12.837000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "how many voluntary exit messages can be included per slot?",
        "created_at": "2023-02-16T12:39:34.910000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "16",
        "created_at": "2023-02-16T12:44:02.630000+00:00",
        "attachments": null
    },
    {
        "author": "wemeetagain",
        "category": "Testing",
        "parent": "",
        "content": "Lodestar also will cut the batch size in half until the request succeeds, if it gets a 'batch size exceeded' error.. may be why we didn't see the error sooner",
        "created_at": "2023-02-16T13:39:48.843000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "nimbus-geth nodes seem to be missing quite some slots now https://beaconchain.withdrawal-devnet-7.ethpandaops.io/slots",
        "created_at": "2023-02-16T13:53:05.441000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "will look",
        "created_at": "2023-02-16T14:04:18.868000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "```\ncompdump:115: write error: no space left on device\ncompdump:print:115: write error: no space left on device\n```",
        "created_at": "2023-02-16T14:07:01.620000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "that's withdrawal-devnet-7-geth-4",
        "created_at": "2023-02-16T14:07:14.372000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "same with `nimbus-erigon-1`",
        "created_at": "2023-02-16T14:09:11.495000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "oh shit really?",
        "created_at": "2023-02-16T14:09:33.023000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "will check in a bit",
        "created_at": "2023-02-16T14:09:37.092000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "its not supposed to happen",
        "created_at": "2023-02-16T14:09:51.834000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have 300gb + on each machine",
        "created_at": "2023-02-16T14:09:58.310000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "there might be some excess logging happening?",
        "created_at": "2023-02-16T14:10:05.049000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "`df -h`: `/dev/vda1       315G  304G     0 100% /`",
        "created_at": "2023-02-16T14:10:09.489000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yes, excess logging is likely",
        "created_at": "2023-02-16T14:11:15.991000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "```\ndevops@withdrawal-devnet-7-nimbus-erigon-1 ‚ûú  ~ docker logs beacon --tail=100000 | head -n1\nDBG 2023-02-16 13:21:04.589+00:00 Attestation received                       topics=\"gossip_eth2\" delay=4s589ms812us366ns wallSlot=15705 subnet_id=28 attestation=\"(aggregation_bits: 0b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, data: (slot: 15705, index: 28, beacon_block_root: \\\"2369ed0c\\\", source: \\\"489:c1816f60\\\", target: \\\"490:08e40d66\\\"), signature: \\\"9224e6f6\\\")\"\ndevops@withdrawal-devnet-7-nimbus-erigon-1 ‚ûú  ~ docker logs beacon --tail=1000000 | head -n1\nDBG 2023-02-16 13:16:17.357+00:00 Dropping attestation                       topics=\"gossip_eth2\" validationError=\"(Ignore, \\\"Attestation block unknown\\\")\" wallSlot=15681 subnet_id=12 attestation=\"(aggregation_bits: 0b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000, data: (slot: 15681, index: 12, beacon_block_root: \\\"db390c57\\\", source: \\\"489:c1816f60\\\", target: \\\"490:08e40d66\\\"), signature: \\\"a4d597a7\\\")\"\n```\n900k messages logged in 5 minutes",
        "created_at": "2023-02-16T14:13:45.084000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "2M in 10 minutes:\n```\nDBG 2023-02-16 13:10:55.470+00:00 Dropping message after validation, reason: ignore topics=\"libp2p gossipsub\" msgId=39649bfa8ca2...179cd4babb31 peer=16U*nHBzn4\n```",
        "created_at": "2023-02-16T14:14:32.760000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "can i disable debug logging for nimbus?",
        "created_at": "2023-02-16T14:19:37.584000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Checking the contents of these log messages --`docker logs beacon --tail=4000000 | head -n1000000 | shuf -n20` and up to the point where it exhausts disk, they're jut normal-looking attestation received/resolved (both `DBG`)",
        "created_at": "2023-02-16T14:20:22.997000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "sure",
        "created_at": "2023-02-16T14:20:24.290000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so I don't see any evidence of anything going, per se, wrong, just ... a lot of logging",
        "created_at": "2023-02-16T14:21:24.174000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok, deleted the old container with big logs should be less logging from now on",
        "created_at": "2023-02-16T14:31:12.113000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "yup",
        "created_at": "2023-02-16T14:43:31.610000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "am kind of curious though, other devnets have run Nimbus in debug logging, without this happening quite so quickly (maybe after a couple weeks)",
        "created_at": "2023-02-16T14:45:06.740000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "right, but in other devnets we didn't do tens of thousands of deposits/exits and this many bls changes",
        "created_at": "2023-02-16T14:50:18.494000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I have also changed to info on zhejiang",
        "created_at": "2023-02-16T14:50:26.661000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "as most nodes were 50% filled already",
        "created_at": "2023-02-16T14:50:32.902000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, Nimbus has this issue where its INFO logging isn't very useful for debugging, and DEBUG logging is very verbose",
        "created_at": "2023-02-16T14:50:56.076000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "maybe there needs to be something in between?",
        "created_at": "2023-02-16T14:51:11.295000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, I agree",
        "created_at": "2023-02-16T14:51:47.961000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "restarting the node in different debug mode should be rather easy, so if we need to switch back certain hosts for it, just let me know",
        "created_at": "2023-02-16T14:51:48.168000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "alright",
        "created_at": "2023-02-16T14:51:59.417000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/status-im/nimbus-eth2/issues/4162",
        "created_at": "2023-02-16T14:53:04.032000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "also noticed that beacon folder is absolute massive for how young zhejiang is",
        "created_at": "2023-02-16T15:03:22.242000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "30gb or so on some nodes",
        "created_at": "2023-02-16T15:03:25.817000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "gonna see if I can clear that up also",
        "created_at": "2023-02-16T15:03:33.204000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "possibly some logs are written to disk",
        "created_at": "2023-02-16T15:03:39.024000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "you can tune this: https://github.com/ethpandaops/withdrawals-testnet/blob/master/zhejiang-testnet/inventory/group_vars/all.yaml#L159\n\nmake it 1 or 2 files of 250mb and you should save quite a bit of space",
        "created_at": "2023-02-16T15:06:34.424000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "that doesn't seem to be working for nimbus",
        "created_at": "2023-02-16T15:07:15.770000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we had like 250gb worth of logs",
        "created_at": "2023-02-16T15:07:27.264000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e all attestation is being saved to disk? `beacon/dump/outgoing/att-37599-8-8d0f32b4.ssz`",
        "created_at": "2023-02-16T15:11:58.794000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "ohhhhhhhhh, its configured to dump invalid things to disk",
        "created_at": "2023-02-16T15:13:22.237000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "we use it for debugging",
        "created_at": "2023-02-16T15:13:32.052000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "its really really verbose tho üòÑ",
        "created_at": "2023-02-16T15:13:41.899000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "You can remove `--dump:on`, but then we loose some debug ability of course",
        "created_at": "2023-02-16T15:14:03.981000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`  --dump:on`",
        "created_at": "2023-02-16T15:14:05.355000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah",
        "created_at": "2023-02-16T15:14:08.073000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e you happy if we stop dumping ?",
        "created_at": "2023-02-16T15:14:19.893000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we can probably do one or the other (debug logging, dump), but not both.",
        "created_at": "2023-02-16T15:14:42.585000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "wfm",
        "created_at": "2023-02-16T15:14:44.005000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "exactly",
        "created_at": "2023-02-16T15:14:47.445000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "which one is more useful for you?",
        "created_at": "2023-02-16T15:15:05.122000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "debug",
        "created_at": "2023-02-16T15:15:15.990000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e Pls gib money 0xb02A2EdA1b317FBd16760128836B0Ac59B560e9D",
        "created_at": "2023-02-16T15:15:21.894000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "u poor?",
        "created_at": "2023-02-16T15:15:29.230000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "what network?",
        "created_at": "2023-02-16T15:15:32.025000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-02-16T15:15:32.188000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "devnet-7 and mainnet",
        "created_at": "2023-02-16T15:15:40.117000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://beaconchain.withdrawal-devnet-7.ethpandaops.io/address/b02a2eda1b317fbd16760128836b0ac59b560e9d",
        "created_at": "2023-02-16T15:16:02.951000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "10k not enough?",
        "created_at": "2023-02-16T15:16:06.413000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "ahh it works now, thanks",
        "created_at": "2023-02-16T15:16:21.053000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "sorry thought that the tx didn't go through",
        "created_at": "2023-02-16T15:16:36.687000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but yeah on mainnet u poor",
        "created_at": "2023-02-16T15:17:00.295000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://beaconcha.in/address/b02A2EdA1b317FBd16760128836B0Ac59B560e9D",
        "created_at": "2023-02-16T15:17:00.984000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "üòÇ",
        "created_at": "2023-02-16T15:17:02.729000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Sending some handcrafted tx, will send spam later",
        "created_at": "2023-02-16T15:17:15.198000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "how much spam do you want?",
        "created_at": "2023-02-16T15:17:21.279000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "all of it?",
        "created_at": "2023-02-16T15:17:26.059000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "fill them blocks",
        "created_at": "2023-02-16T15:17:33.039000+00:00",
        "attachments": null
    }
]