[
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "Qq regarding the engine API spec, actually, 2",
        "created_at": "2022-05-16T07:28:30.067000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "`engine_forkchoiceUpdatedV1` has a timeout of 8s",
        "created_at": "2022-05-16T07:28:41.454000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "But if the beacon client tells us to do a 1000 block reorg, taking more than 8 secs, what's the expected behavior?",
        "created_at": "2022-05-16T07:28:59.518000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "We still need to take that arbitrary amount of time to execute the reorg",
        "created_at": "2022-05-16T07:29:13.039000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "The second question is rather a clarification request: if `engine_forkchoiceUpdatedV1` tell us to do a say 200 block reorg, and after 100 blocks we hit a bad block (say invalid state root), the \"side effect\" of the fork choice update should be `noop`, right? I.e. don't set the new head to the middle of the reorged chain (to the parent of the invalid block)",
        "created_at": "2022-05-16T07:31:12.913000+00:00",
        "attachments": null
    },
    {
        "author": "karalabe",
        "category": "Testing",
        "parent": "",
        "content": "Would be nice to include these 2 clarifications into the spec",
        "created_at": "2022-05-16T07:31:30.937000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "The following statement should answer your question.\n\u003e Consensus Layer client software MUST wait for a specified timeout before aborting the call. In such an event, the Consensus Layer client software MAY retry the call.\nBasically, `timeout` is a minimal amount of time CL MUST wait before aborting the call, EL isn't required to do anything with this parameter. CL may wait for longer or abort and queue this call for later processing -- once EL finishes a re-org/execution it should be able to respond in a reasonable amount of time",
        "created_at": "2022-05-16T08:58:14.833000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "You're exactly right, the spec says:\n\u003e Before updating the forkchoice state, client software MUST ensure the validity of the payload referenced by `forkchoiceState.headBlockHash`\nInvalid ancestor implicitly invalidates the payload and EL must not update its fork choice state",
        "created_at": "2022-05-16T09:00:57.500000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Additionally, EL will return `latestValidHash` to supply CL with information necessary to drop an invalid part of the chain, once it happens CL will send another `fcU` to reset the head. And if a block in the middle of this chain after invalidation will be the head according to CL's observation then subsequent `fcU` will set the head to this block",
        "created_at": "2022-05-16T09:06:00.962000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I'd like to work on releasing the ropsten beaconchain configs later today, proposal for validator set is present here: https://github.com/ethereum/pm/issues/525\n\nIt'd be great if client teams could have a look and leave a sign of approval/disapproval there. (Client teams NOT wanting to run a validator on Ropsten would also be nice to know)",
        "created_at": "2022-05-16T09:49:16.917000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Gave it a thumbs up. Teku is happy to run some validators and we‚Äôre keen to get the config asap so we can get a release out with them.",
        "created_at": "2022-05-16T09:51:59.896000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Testing",
        "parent": "",
        "content": "The engine spec says:\n\u003e Client software MUST ensure that payloadAttributes.timestamp is greater than timestamp of a block referenced by forkchoiceState.headBlockHash. If this condition isn't held client software MUST respond with -38003: Invalid payload attributes and MUST NOT begin a payload build process. In such an event, the forkchoiceState update MUST NOT be rolled back.",
        "created_at": "2022-05-16T11:26:19.467000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Testing",
        "parent": "",
        "content": "Are there any validations for prevRandao or suggestedFeeRecipient?",
        "created_at": "2022-05-16T11:27:04.675000+00:00",
        "attachments": null
    },
    {
        "author": "daniellehrner",
        "category": "Testing",
        "parent": "",
        "content": "For example, is it valid if both are zero?",
        "created_at": "2022-05-16T11:27:36.982000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yep, those are valid (from the view of the EL)",
        "created_at": "2022-05-16T11:40:05.037000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "`prevRandao` can be validated on CL side only, `suggestedFeeRecipient` should be a valid `ExecutionAddress`, not sure this involves any validation tho",
        "created_at": "2022-05-16T11:54:27.633000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Address in this PR https://github.com/ethereum/execution-apis/pull/226",
        "created_at": "2022-05-16T12:22:25.398000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Testing",
        "parent": "",
        "content": "We are happy to run some validators. cc \u003c@816572064995082280\u003e",
        "created_at": "2022-05-16T13:24:03.244000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Nimbus can certainly run some validators as well",
        "created_at": "2022-05-16T14:03:15.816000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I've put up a PR with the tentative genesis configs for the ropsten-beacon-chain (Or call it `bopsten`,`ropsten junior` or `ropelstenskin` on your own timeüòù , cc https://twitter.com/terencechain/status/1526218195165585408 ): \n\nhttps://github.com/eth-clients/merge-testnets/pull/9\n\nIf there are any comments, please do leave them in the PR. If everything looks good, leave a reaction üòÑ \nI'll merge it in later tomorrow failing issues found. Client teams can feel free to start cutting releases with the configs baked in üòÑ",
        "created_at": "2022-05-16T19:29:56.703000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "(Please do make PRs with bootnode ENRs when you know them)",
        "created_at": "2022-05-16T19:30:33.369000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "cc \u003c@654267572107083777\u003e \u003c@363800010518822915\u003e \u003c@425572898787426305\u003e \u003c@340345049063882753\u003e \u003c@758579010027782144\u003e \u003c@687974325072035882\u003e \u003c@361447803194441738\u003e \u003c@827653956955406406\u003e \u003c@144468805697929216\u003e \u003c@688748669268132001\u003e \u003c@360491619402776577\u003e",
        "created_at": "2022-05-16T19:34:22.926000+00:00",
        "attachments": null
    }
]