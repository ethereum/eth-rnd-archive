[
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Added an \"evil-teku\" test suite to the hive interop test runs on this commit: https://github.com/ethereum/hive/pull/838/commits/debaf41aa556a7844c60d4c07ec3761f1868b89e\n\nIt's a very simple test that spawns an evil-teku with 100% of the validator keys, and another CL in parallel, just as \u003c@504202741933932544\u003e described.\nThe test passes if the second client is able to follow the chain successfully, but of all clients I tested none was able to pass so far.\n\nTo locally test use:\n```bash\ncl=\u003cCL Client\u003e; ./hive --client-file ./configs/cancun.yaml --client go-ethereum,teku-bn_evil,teku-vc_evil,${cl}-bn,${cl}-vc --sim eth2/dencun --sim.limit \"eth2-deneb-evil/\"\n```\n!! Requires hive rebuild !!\n```bash\ngo build -v .\n```\nIn the hive root folder.",
        "created_at": "2023-10-04T01:16:48.088000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Expect teku, right?",
        "created_at": "2023-10-04T05:23:22.242000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We're currently just spamming the mempool with blobs, would that also be enough?",
        "created_at": "2023-10-04T05:26:53.834000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Humm.. if blobs are constantly 6, it won't trigger the evil path..",
        "created_at": "2023-10-04T05:32:03.625000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We'll try tuning then üôÇ",
        "created_at": "2023-10-04T05:45:35.378000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Was probably using an outdated version then, I‚Äôll try tomorrow on lates develop üëç",
        "created_at": "2023-10-04T06:23:52.215000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Try changing the spammer to always send blob txs with Max blobs minus one, it should trigger every block",
        "created_at": "2023-10-04T06:25:21.850000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "awesome! philipp is also working on a blob tool with some fine grained controls for us to import in various libs - that should probably also be able to send naive blobs as and when we please",
        "created_at": "2023-10-04T06:26:24.325000+00:00",
        "attachments": null
    },
    {
        "author": "dapplion",
        "category": "Testing",
        "parent": "",
        "content": "Will the 4788 contract address be different on every tesnet/devnet/network?",
        "created_at": "2023-10-04T06:39:13.541000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "no",
        "created_at": "2023-10-04T06:40:17.955000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "It will be the same on all networks",
        "created_at": "2023-10-04T06:40:41.254000+00:00",
        "attachments": null
    },
    {
        "author": "dapplion",
        "category": "Testing",
        "parent": "",
        "content": "not intimately familiar with the execution layer signing scheme, isn't the chainID mixed somewhere into this values?\n```\n{\n  \"type\": \"0x0\",\n  \"nonce\": \"0x0\",\n  \"to\": null,\n  \"gas\": \"0x3d090\",\n  \"gasPrice\": \"0xe8d4a51000\",\n  \"maxPriorityFeePerGas\": null,\n  \"maxFeePerGas\": null,\n  \"value\": \"0x0\",\n  \"input\": \"0x60618060095f395ff33373fffffffffffffffffffffffffffffffffffffffe14604d57602036146024575f5ffd5b5f35801560495762001fff810690815414603c575f5ffd5b62001fff01545f5260205ff35b5f5ffd5b62001fff42064281555f359062001fff015500\",\n  \"v\": \"0x1b\",\n  \"r\": \"0x539\",\n  \"s\": \"0x1b9b6eb1f0\",\n  \"hash\": \"0xdf52c2d3bbe38820fff7b5eaab3db1b91f8e1412b56497d88388fb5d4ea1fde0\"\n}\n```",
        "created_at": "2023-10-04T06:42:50.010000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Not in type 0 transactions",
        "created_at": "2023-10-04T06:43:57.383000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "I dislike that we return an error and",
        "created_at": "2023-10-04T07:36:52.224000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "trying to run it locally but:\n\n```\ncl=teku; ./hive --client-file ./configs/cancun.yaml --client go-ethereum,teku-bn_evil,teku-vc_evil,${cl}-bn,${cl}-vc --sim eth2/dencun --sim.limit \"eth2-deneb-evil/\"\n\n\nINFO[10-04|09:33:14] building image                           image=hive/hiveproxy nocache=false pull=false\nEROR[10-04|09:33:15] image build failed                       image=hive/hiveproxy err=\"The command '/bin/sh -c go build -o /bin/hiveproxy ./tool' returned a non-zero code: 2\"\n```\n\nbuilding image manually i got the same error.\n\nwhat am I doing wrong?",
        "created_at": "2023-10-04T08:01:45.752000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "b9ad38410848198ac63f7c22f9035efc10a514ffa5125b9eb8054e49c0e1cfd9"
            }
        ]
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "you need to update your go version I think",
        "created_at": "2023-10-04T08:02:33.116000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "oh gosh, a 1 year old  `golang:1-alpine` image cached üò¶",
        "created_at": "2023-10-04T08:36:46.185000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I run it locally and latest teku works but you need to disable rate limit on the evil side, because the follower progresses only via RPC and is being limited quite soon.\n\njust add \n```\n    --Xpeer-rate-limit=100000 \\\n    --Xpeer-request-limit=1000\n```\nto `teku_bn.sh`",
        "created_at": "2023-10-04T09:04:16.979000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "maybe other clients downscore and disconnect the evil",
        "created_at": "2023-10-04T09:12:34.348000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "could you make a PR to this branch/repo? https://github.com/marioevz/hive/tree/eth2-dencun",
        "created_at": "2023-10-04T09:13:16.502000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "thats what we're deploying to hiveinterop",
        "created_at": "2023-10-04T09:13:25.221000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "cuz right now we do have something deployed using teku_evil here: https://hiveinterop.ethdevops.io/",
        "created_at": "2023-10-04T09:20:14.364000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "update on besu's bad blocks: most likely a 1 line fix and a million lines of test code to prove that.",
        "created_at": "2023-10-04T12:39:13.756000+00:00",
        "attachments": null
    },
    {
        "author": "robocopsgonemad",
        "category": "Testing",
        "parent": "",
        "content": "update on besu s bad blocks most likely",
        "created_at": "2023-10-04T12:54:38.546000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "We should have this in master because this could affect many tests I think, I'll open a PR to master and then rebase the branch we are using to run the tests üôÇ",
        "created_at": "2023-10-04T15:33:06.937000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Yes, as per my PR I was sure that touching that params would have required a better integration in the entire system.",
        "created_at": "2023-10-04T16:47:01.723000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Oh wait, there's another PR? I opened one to master: https://github.com/ethereum/hive/pull/899",
        "created_at": "2023-10-04T17:06:57.930000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/marioevz/hive/pull/7",
        "created_at": "2023-10-04T19:17:24.243000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Thanks and sorry that I did not notice this PR before, I think I have an idea on how to integrate it better as you say üëç",
        "created_at": "2023-10-04T19:19:23.095000+00:00",
        "attachments": null
    }
]