[
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yes develop-v7 has all 4844 work",
        "created_at": "2023-05-10T03:36:39.001000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i think \u003c@403636673914863626\u003e has been trying to run the fixtures, unfortunately he doesn't seem to have write access, \u003c@412614104222531604\u003e how can we get that fixed for him",
        "created_at": "2023-05-10T03:37:55.238000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@403636673914863626\u003e what‚Äôs your GitHub username? Do you have your ssh key on GitHub? \u003c@131476523050860545\u003e can add your ssh key to the ethereumjs machines.",
        "created_at": "2023-05-10T05:20:06.329000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "he needs write access to this channel. i think his github is set in the ansible so he should have ssh access",
        "created_at": "2023-05-10T05:20:49.873000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "may be he needs to be added to ethereumjs role? cc \u003c@425269142615097345\u003e",
        "created_at": "2023-05-10T05:21:27.621000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ahh then that‚Äôs \u003c@86976728848687104\u003e or \u003c@552133098075193354\u003e that can help with that.",
        "created_at": "2023-05-10T05:21:30.511000+00:00",
        "attachments": null
    },
    {
        "author": "paulj",
        "category": "Testing",
        "parent": "",
        "content": "updated roles",
        "created_at": "2023-05-10T11:56:07.546000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "we finally have a fix! üéâ  https://github.com/ethereumjs/ethereumjs-monorepo/pull/2694\nthanks \u003c@360491619402776577\u003e  for geth trace logs for the block\n\n\u003c@412614104222531604\u003e you may update the ethereumjs nodes (as well as the lodestar\u003c\u003egeth node) at your convenience",
        "created_at": "2023-05-10T14:43:43.789000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I think test https://github.com/ethereum/execution-spec-tests/blob/259bc8dff157ff3cde89350a111304749d057b4b/fillers/eips/eip4844/datahash_opcode.py#L56 should've caught that issue, if not, we need another test in there.\n\nThis is in https://github.com/ethereum/execution-spec-tests/releases/tag/v0.2.5 in fixtures-cancun.tar.gz\n\u003c@403636673914863626\u003e were you able to run fixtures in ethjs? I just wanted to confirm whether we need another test",
        "created_at": "2023-05-10T14:52:28.272000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "you can tag me from now on. Barnabas is out for a while üôÇ I'll update the nodes soonish üëç",
        "created_at": "2023-05-10T14:53:13.192000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Testing",
        "parent": "",
        "content": "I wasn't last night.  The structure of the test data doesn't exactly match what our test runner so will need to to see what we're missing.",
        "created_at": "2023-05-10T14:53:38.928000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Testing",
        "parent": "",
        "content": "I did run the hive tests from  \u003c@755913785620824175\u003e 's branch of hive with the 4844 version of the tests and they were failing though because the transactions in those tests didn't contain the version byte in the version hashes",
        "created_at": "2023-05-10T14:54:22.562000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I see, the interpretation we had when writing the tests was that the check \"All hashes in blob_versioned_hashes must start with the byte BLOB_COMMITMENT_VERSION_KZG\" must only be performed when the blobk transaction is passed through the network, and not when the transaction is received as part of a block, as in hive or in the fixtures",
        "created_at": "2023-05-10T14:58:47.346000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Testing",
        "parent": "",
        "content": "I discussed with \u003c@755913785620824175\u003e and my concern with that interpretation is that without the version byte, there is no context for what commitment scheme is being used in the version hash so if we add some new commitment scheme in the future, this context won't be available",
        "created_at": "2023-05-10T15:01:56.043000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Testing",
        "parent": "",
        "content": "and the text of the EIP seems to me to pretty clearly show that regardless of whether or not the transaction is in the minimal or network representation, the versionedHashes should always have the version byte, otherwise they aren't really \"versioned\" hashes üôÇ",
        "created_at": "2023-05-10T15:02:48.981000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i sort of concur with \u003c@403636673914863626\u003e here, versioned hashes are  versioned by definition",
        "created_at": "2023-05-10T15:04:36.460000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "else its commitment hash",
        "created_at": "2023-05-10T15:04:51.406000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "nodes have been updated",
        "created_at": "2023-05-10T15:46:17.173000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "thank you!",
        "created_at": "2023-05-10T16:00:41.171000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Yea, I understand this, I really think it should be clarified in the spec, mainly because one paragraph below it implies that the only failure when importing a block with a blob transaction is that the tx must contain at least one blob:\n```\nBlob transactions with empty blob_versioned_hashes are also considered invalid during execution block verification, and must not be included in a valid block.\n```",
        "created_at": "2023-05-10T16:37:13.088000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Testing",
        "parent": "",
        "content": "Perhaps though I'm still struggling to connect that to thinking that versionedHashes should not include the version byte.  Have other EL implementations followed a different route and check versionedHashes against both with and without the version byte?",
        "created_at": "2023-05-10T16:51:07.948000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Not really, I'm basing this off solely on the wording of this EIP, the `When a blob transaction is passed through the network` part that specifies this check, and the paragraph below (the one in my previous message) that implies the sole reason of block invalidity for blob transaction included in it",
        "created_at": "2023-05-10T16:56:44.677000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "IMO it should read something like: \"Blob transactions with empty blob_versioned_hashes, or blob_versioned_hashes that don't start with the byte `BLOB_COMMITMENT_VERSION_KZG`, are also considered invalid during execution block verification, and must not be included in a valid block.\"",
        "created_at": "2023-05-10T16:58:34.331000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Testing",
        "parent": "",
        "content": "Better yet, move `When a blob transaction is passed through the network (see the Networking section below), the TransactionNetworkPayload version of the transaction also includes blobs and kzgs (commitments list). ` to a separate line.  I read that whole bulleted list \n```\n- blob_versioned_hashes must not be empty\n- All hashes in blob_versioned_hashes must start with the byte BLOB_COMMITMENT_VERSION_KZG\n- There may be at most MAX_DATA_GAS_PER_BLOCK // DATA_GAS_PER_BLOB total blob commitments in a valid block.\n- There is an equal amount of versioned hashes, kzg commitments and blobs.\n- The KZG commitments hash to the versioned hashes, i.e. kzg_to_versioned_hash(kzg[i]) == versioned_hash[i]\n- The KZG commitments match the blob contents. \n``` as applying to whatever version of the transaction format we have and needing to be validated whether the transaction passes through the network, is received via an RPC call, or as part of an execution payload",
        "created_at": "2023-05-10T17:01:06.125000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I raised an issue for this: https://github.com/ethereum/EIPs/issues/7009",
        "created_at": "2023-05-10T18:13:18.873000+00:00",
        "attachments": null
    },
    {
        "author": "roberto.bayardo",
        "category": "Testing",
        "parent": "",
        "content": "looks like only Lighthouse remains healthy of all the CL clients on devnet 5? https://forkmon.4844-devnet-5.ethpandaops.io/  (except only the prysm+geth rpc node)?",
        "created_at": "2023-05-10T22:18:43.990000+00:00",
        "attachments": null
    }
]