[
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Nethermind has completed their tests on MSF8, So unless anyone else needs it for testing we will be deprecating it in a few hours.",
        "created_at": "2022-07-15T08:08:03.594000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e what is the most forgiving way you guys are handling if the valid is invalidated later? for .e.g. receiving `0x00..00` as LVH some where down the chain where  up the chain `valid` exists? or if `0x..00` and the chain's ancestor is some `finalized` from where the CL was started using weak subjectivity sync?",
        "created_at": "2022-07-15T17:22:14.471000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "again, just discarding the block which resulted into invalid?",
        "created_at": "2022-07-15T17:23:16.177000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I'm sorry didn't understand anything there üòÇ",
        "created_at": "2022-07-15T17:23:39.344000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003e valid invalidated later \nSounds like a VALID became INVALID",
        "created_at": "2022-07-15T17:24:07.666000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "In this case we break",
        "created_at": "2022-07-15T17:24:12.358000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so fail hard?",
        "created_at": "2022-07-15T17:24:23.853000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "or just discard/invalidate only the payload  where caused this buggy response",
        "created_at": "2022-07-15T17:25:35.988000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Fail hard. You can't act on a head validated from such an EE",
        "created_at": "2022-07-15T17:26:27.928000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "hmm ok, sounds good üëç",
        "created_at": "2022-07-15T17:26:42.567000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "To be honest. I know we error out when trying to prune, but it's not clear it panics. Certainly will panic if the INVALID root is finalized",
        "created_at": "2022-07-15T17:36:08.242000+00:00",
        "attachments": null
    },
    {
        "author": "terence0083",
        "category": "Testing",
        "parent": "",
        "content": "I don't think we do that today, it's still a todo on our end. Gracefully shutdown will be nice here",
        "created_at": "2022-07-15T17:37:59.080000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Nimbus currently warns and treats it as a no-op, but maybe fail hard is better, indeed",
        "created_at": "2022-07-15T18:02:23.321000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "the way we are planning to handle (its wip in PR) is to invalidate all fc post merge, and then all findHead calls will error because we have a check in findHead that justified root not be invalid.",
        "created_at": "2022-07-15T18:07:21.611000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "and on invalidations calls, we run an extra findHead call post fc/invalidations, so it errors there as well, but only after fully *poisoning* the fc",
        "created_at": "2022-07-15T18:08:39.311000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so the client will continually error and not follow chain and fall out (and eventually seek user attention) or we can also think about client shutdown if justified root is invalid",
        "created_at": "2022-07-15T18:14:27.071000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok, i have another Q, lets say we optimistically synced past merge point, like (pre-merge), (syncing), (syncing).... for a long time, eventually with new finalized(s), and pruning of pre-merge block out of forkchoice \nso now fcU chain is `syncing`,`syncing`,...`syncing`, now if the `valid` comein , the terminal conditions need to be verified of the `terminal` pow block,\n\n(essentially each time one gets `valid` and tries to percolate and see that all ancestors in forkchoice of that chain are `syncing` which obviously will now be flipped to `valid` )\n\nQuestion is how to get the handle of that `terminal` block to fetch its properties from the execution engine, it is quite possible that its on a sidechain of the `terminal` block which was fetched/cached by the merge block finder tracker\n\nAlthough execution engine would have ran  its own terminal validations before returning `valid` on that chain, so may be we can just happily accept it (which is what happens now as well), so do we need to run double check and how (and if we don't why do we need to run the check in the first place)",
        "created_at": "2022-07-15T18:46:56.811000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "or should it be resolved via an `exchange config` call  when this happens (and do validations there upon)",
        "created_at": "2022-07-15T18:49:14.878000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "You should be able to request the terminal block by hash from the EL to get the details. You will likely need to keep track of what the transition block was when it gets finalised since it won‚Äôt be in protoarray anymore and it gets expensive to scan every finalised block. But there shouldn‚Äôt be any data availability issues here.",
        "created_at": "2022-07-15T21:50:37.672000+00:00",
        "attachments": null
    }
]