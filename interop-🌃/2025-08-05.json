[
    {
        "author": "ethpandaops-devnet-pulse-v2",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2025-08-05T01:00:00.459000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "Does anyone know if genesis sync for perfect peerdas failed for a fullnode with random columns or a supernode? cc \u003c@1351272205555863614\u003e",
        "created_at": "2025-08-05T05:13:49.213000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "and what does failed mean? did it not progress at all or was it very slow?",
        "created_at": "2025-08-05T05:16:26.143000+00:00",
        "attachments": null
    },
    {
        "author": "mininny",
        "category": "Testing",
        "parent": "",
        "content": "On a related note about reconstruction while syncing - say a node (full node or supernode) is syncing and it has peers covering the its column subnet except for a single column. \n\nWithout reconstruction it won't be able to continue syncing due to that column missing and keep trying getting the column to continue syncing. What I've seen in testing is that as that node is repetitively requesting columns from its peers without advancing, it will be kept in a loop until a new peer with desired column is found, resulting in unnecessary req/res. \n\nI think few CLs look at the peerâ€™s column subnet when requesting column from peers and some donâ€™t. It could be beneficial to the network to ignore sending data column requests when thereâ€™s not enough overlapping column subnet to cover the subnet required to continue syncing (or attempt reconstruction), and rather wait for other peers to get connected. what do you guys think?",
        "created_at": "2025-08-05T05:45:44.483000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "\u003e  think few CLs look at the peerâ€™s column subnet when requesting column from peers and some donâ€™t.\n\nIs this the case? I thought all CLs were only requesting columns that are being advertised",
        "created_at": "2025-08-05T08:17:56.531000+00:00",
        "attachments": null
    },
    {
        "author": "mininny",
        "category": "Testing",
        "parent": "",
        "content": "syncing w/ missing column",
        "created_at": "2025-08-05T10:21:05.079000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We're gonna be doing some non-finality tests once lodestar is done syncing on fusaka-devnet-3. \n\nType of non-finality testing:\n1. Take down one of each CL (or more) until we go below 66%. Leave as is for 1h (to start with) and then start them back to observe recovery from client bugs and simple failures.\n1a. Only stop full nodes\n1b. Only stop some supernodes\n2. Rate limit 30% of the nw to 1mbps, basically they chaotically participate in the network\n3. Split network such that we have 2 chains, then heal them(Likely with tyler's chaos tool or \u003c@288990561279541248\u003e do you guys have some other ansible compatible way to do this with iptables or something?)\n\nWe'll start with 1 \u0026 if its healthy 2 today. 3 might be another day. Please check your clients for issues.",
        "created_at": "2025-08-05T11:06:13.779000+00:00",
        "attachments": null
    },
    {
        "author": "mininny",
        "category": "Testing",
        "parent": "",
        "content": "For 3, I think tyler's chaos tool works with k8s so it'd be different with the current devnet's ansible setup (unless it's something else?). We researched options using iptable or chaosd(one of the toolkit from chaos-mesh which is more abstract than iptables) and creating ansible roles for chaosd. This is one of my tasks on this sprint and can share something soon",
        "created_at": "2025-08-05T12:22:23.924000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yeah we cant use tylers tool on the network, we'd still use it - but ideally there's something with ansible support too",
        "created_at": "2025-08-05T12:26:21.314000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "41% of the network is going down now, we're doing 1A. So just full nodes going down.",
        "created_at": "2025-08-05T12:42:37.046000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "https://tenor.com/bxL2J.gif",
        "created_at": "2025-08-05T13:53:59.172000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "^ nodes started again ðŸ˜„",
        "created_at": "2025-08-05T14:14:34.232000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Seems like some clients are already done syncing and we're above finality thresholds",
        "created_at": "2025-08-05T14:19:51.524000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "that was fast",
        "created_at": "2025-08-05T14:19:53.300000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "peerdas is too stable",
        "created_at": "2025-08-05T14:20:56.351000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "where is a bit of excitement?",
        "created_at": "2025-08-05T14:21:09.556000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "time to take off those supernodes lmao",
        "created_at": "2025-08-05T14:21:20.646000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "That's waiting for scenario 1B, 2 and 3 ðŸ˜„",
        "created_at": "2025-08-05T14:21:23.821000+00:00",
        "attachments": null
    },
    {
        "author": "cortze",
        "category": "Testing",
        "parent": "",
        "content": "can I try to do a network scan?",
        "created_at": "2025-08-05T14:24:08.272000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "`earliest_available_slot` for the win ðŸ¦“",
        "created_at": "2025-08-05T14:25:41.440000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "go for it ðŸ˜„",
        "created_at": "2025-08-05T14:26:01.304000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yeah within 2 epochs we're already at 90% again. We were at 94% when we started the test. Granted these are full nodes, so they have less to process - but still its nice that it isn't a big speed degradation in the happy path.",
        "created_at": "2025-08-05T14:27:30.553000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I have just kicked off a sync test with supernodes only, and checkpoint sync disabled: https://github.com/ethpandaops/fusaka-devnets/actions/runs/16753682613/job/47430344578",
        "created_at": "2025-08-05T15:01:51.262000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://syncoor.fusaka-devnet-3.ethpandaops.io/#/?directory=fusaka-devnet-3\u0026network=fusaka-devnet-3\u0026liveTestsCollapsed=false",
        "created_at": "2025-08-05T15:02:10.115000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "We are considering to possibly have a fusaka-devnet-4 (no spec changes) sometime next week, together with a shadowfork. \n\nIdeally we would want clients to have their code in their master/develop/unstable branches for this test. \n\nIs it realistic to assume that by next week we can have all fusaka code change in your unstable branches? \u003c@\u00261367819082019377202\u003e \u003c@\u00261367819082019377202\u003e ?\n\nTarget 13th of Aug.",
        "created_at": "2025-08-05T15:10:33.466000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Clearly not for Prysm.",
        "created_at": "2025-08-05T15:11:02.700000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "Not for Nimbus",
        "created_at": "2025-08-05T15:38:55.787000+00:00",
        "attachments": null
    },
    {
        "author": "matthewkeil",
        "category": "Testing",
        "parent": "",
        "content": "We just talked about this on standup.  We will try but cannot commit to that",
        "created_at": "2025-08-05T15:57:15.497000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "We're doing a big review push on the fusaka branch this week on top of everything else. As Matt mentioned, we will try - it'll make our lives a bit easier if we can.",
        "created_at": "2025-08-05T15:59:25.122000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Is there a scenario where we test taking out all supernodes (that we control) ?",
        "created_at": "2025-08-05T16:23:52.551000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yup, that is 1B ðŸ˜„",
        "created_at": "2025-08-05T16:25:26.666000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Best we can do is to rename our PeerDAS branch to unstable if you prefer that ðŸ˜„",
        "created_at": "2025-08-05T17:12:16.336000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2025-08-05T17:17:14.037000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "bbe137aba0e6f1c988f3cbaee7230da31d213ddb7271cb3e15e81b6244ea385c"
            }
        ]
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@531934490826768418\u003e what's your trigger for starting reconstruction during sync?",
        "created_at": "2025-08-05T17:24:22.081000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Currently it's not yet done, but this is the plan:\nWhen we need a column sidecar:\n1. Check if it is available in the DB, and if it is load and ireturn. (A little bit obvious, but we do it)\n2. If 1. fails, check if we have enough data in the DB to reconstruct. If so, reconstruct and return.\n3. If 2. fails, then we need to fetch from peers. If we have what we want, return.\n4. If 3. fails, check now with all data available in DB and what we retrieved from peer if it is possible to reconstruct. If so, return.\n5. If 4 fails, then query enough random data from random peers to, including all what we already have (in the db + possibly already retrieved from peers) to have at the end 64 columns. Then reconstruct and return.\n6. If 5 fails, give up",
        "created_at": "2025-08-05T17:28:53.590000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "so this is the regular path during  range syncing? what if you had peers who could provide you with the columns instead of you having to reconstruct?",
        "created_at": "2025-08-05T17:37:10.936000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "You mean skipping step 2?",
        "created_at": "2025-08-05T17:39:16.269000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Some or all? Would it not be useful to test DA with very few/no supernodes at all?",
        "created_at": "2025-08-05T18:59:05.696000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I wouldn't remove all as that would be quite unrealistic. Instead id do most supernodes offline.",
        "created_at": "2025-08-05T19:09:52.169000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Oh when I meant remove, I meant offline. That works. Even the perfect peerdas config is not something realistic for mainnet but would be good to see how things play out for resilience",
        "created_at": "2025-08-05T19:11:54.460000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Our sync is probably the most troublesome of the implementation right now and recovery is something I'd like to see with our performance",
        "created_at": "2025-08-05T19:13:08.713000+00:00",
        "attachments": null
    },
    {
        "author": "dmitriishmatko",
        "category": "Testing",
        "parent": "",
        "content": "Teku is already master, you could take it",
        "created_at": "2025-08-05T19:49:10.588000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "should work for lighthouse, most of our fusaka stuff is in unstable",
        "created_at": "2025-08-05T19:59:04.586000+00:00",
        "attachments": null
    },
    {
        "author": "sunnysidedj_42398",
        "category": "Testing",
        "parent": "",
        "content": "I just had some thoughts over probabilities of succeeding genesis sync, number of peers required and column reconstruction. https://www.notion.so/testinprod/Theoretical-Probability-on-Succeeding-Genesis-Sync-2468fc57f54680bd959bdae30a4deb9a?source=copy_link\nMain takeaways are:\n- Genesis sync will theoretically work with static custody peers but not with dynamic custody peers.\n- We should either remove dynamic custody or take approaches discussed during ACDT (re-peering or column reconstruction)\n- We might have to increase max peers as it seems not sufficient with re-calculated values.\n- Column reconstruction seems to be the safest option under dynamic custody.",
        "created_at": "2025-08-05T20:25:09.445000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "What do you mean by dynamic custody?",
        "created_at": "2025-08-05T21:54:58.142000+00:00",
        "attachments": null
    },
    {
        "author": "sunnysidedj_42398",
        "category": "Testing",
        "parent": "",
        "content": "dynamic reassignments of custody sets over time (epoch, slot)",
        "created_at": "2025-08-05T22:31:30.644000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "Ah we don't really have that. Custody persists across node restarts, and the custody set can only increase",
        "created_at": "2025-08-05T22:39:41.468000+00:00",
        "attachments": null
    },
    {
        "author": "sunnysidedj_42398",
        "category": "Testing",
        "parent": "",
        "content": "Great, then my simulations could demonstrate that statistically genesis sync will succeed more than 99.9% of the time with 100 peers regardless of how many custody columns the syncing node has. So, we could be less worried about other reassuring approahces!",
        "created_at": "2025-08-05T22:44:23.029000+00:00",
        "attachments": null
    },
    {
        "author": "sunnysidedj_42398",
        "category": "Testing",
        "parent": "",
        "content": "The above is from rough mainnet-like validator distribution (75% non-validator, 10% 8-custody, 5% 32-custody, 5% 64 custody \u0026 5% supernode).",
        "created_at": "2025-08-05T23:26:54.457000+00:00",
        "attachments": null
    },
    {
        "author": "sunnysidedj_42398",
        "category": "Testing",
        "parent": "",
        "content": "+ if you want to reconstruct columns to backup remaining \u003c0.1%, chance of getting any 64 columns for reconstruction in such setting is 100% and only up to ~32 peers is needed even if all peers are non-validators (4-custody columns).",
        "created_at": "2025-08-05T23:27:13.152000+00:00",
        "attachments": null
    },
    {
        "author": "gtrintinalia",
        "category": "Testing",
        "parent": "",
        "content": "Already on main for Besu",
        "created_at": "2025-08-05T23:38:54.753000+00:00",
        "attachments": null
    }
]