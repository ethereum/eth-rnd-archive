[
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Then that's something that we should investigate ðŸ˜‚",
        "created_at": "2023-09-22T00:09:34.308000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Looking",
        "created_at": "2023-09-22T00:20:35.190000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Hi \u003c@334704997122179072\u003e and \u003c@758579010027782144\u003e , `prysm-nethermind1` went out of sync because `NewPayload` \n\nfailed with the following error `time=\"2023-09-21 18:06:00\" level=error msg=\"received an undefined execution engine error\" error=\"timeout from http.Client\" prefix=blockchain`\n\nI'm digging through the nethermind logs to see if I can find anything useful. No luck so far",
        "created_at": "2023-09-22T01:36:44.069000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Seems like devnet-8 is really unhealthy now. Did anyone already start digging in? If not I can do so in an hour",
        "created_at": "2023-09-22T05:53:45.806000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cMarekM25\u003e Ohh something happened with teku geth node and bootnode",
        "created_at": "2023-09-22T06:38:22.715000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cparithoshj\u003e Yup, both are teku. So will look into it",
        "created_at": "2023-09-22T06:40:25.364000+00:00",
        "attachments": null
    },
    {
        "author": "jimmygchen",
        "category": "Testing",
        "parent": "",
        "content": "any plans on testing EIP-7154 on devnet-9? are we starting with some validator count close to reaching the churn limit cap?",
        "created_at": "2023-09-22T06:44:57.169000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "seems like teku went in outofmemory",
        "created_at": "2023-09-22T06:45:43.521000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "..Ah. Any indication why? Was it due to the EL memory blooming as a result of the blobs or something more CL related?",
        "created_at": "2023-09-22T06:46:33.069000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "unfortunately I can't see logs before 2023-09-21T20:01:13.519843753Z.. i'll have a look to the metrics",
        "created_at": "2023-09-22T06:47:00.536000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I was planning on setting the value lower and testing it with a smaller validator count. We'll also do a big vset size test, but I think devnet-9 is too early for that, too many changes are already in and stability isn't guaranteedðŸ˜…",
        "created_at": "2023-09-22T06:47:53.226000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We might be shipping logs externally as well(kinda for this caseðŸ˜‚), will check and report back.",
        "created_at": "2023-09-22T06:48:29.882000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "BTW from metrics i can see that from 10 UTC we started accumulating blocks and blobs in memory and from around 11 we started dying",
        "created_at": "2023-09-22T06:55:46.410000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "if you could get some logs around that time would be helpful",
        "created_at": "2023-09-22T06:56:37.216000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "can find anything decisive on metrics",
        "created_at": "2023-09-22T07:15:06.479000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Sorry no logs being sent from devnet-8 yet :/",
        "created_at": "2023-09-22T07:33:34.582000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I can add it at genesis to devnet-9, apparently we just added it for stable networks so far",
        "created_at": "2023-09-22T07:33:57.885000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "One quirk of the `INVALID`  block failure mode is that due to the log rotation, it can derail a network before the log horizon time, then disappear as an immediate, ongoing issue, but that the forks it triggers persist and can continue to prevent the network healing",
        "created_at": "2023-09-22T07:52:15.308000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "can i restart teku to try and get it back on track?",
        "created_at": "2023-09-22T08:17:09.279000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "yes, i did a heapdump so it is good to go",
        "created_at": "2023-09-22T08:21:39.016000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Some restarting bumped up the participation rates, trying to get the rates enough to finalize. We got a new epoch to justify atleast, so lets see.",
        "created_at": "2023-09-22T09:05:44.912000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Checked `docker logs snooper-engine 2\u003e\u00261 | grep \"INVALID\"` on lodestar-besu, atleast no INVALIDs found - so I would guess this issue is atleast scoped to just a mem leak on besu and not tied to the invalid stuff",
        "created_at": "2023-09-22T09:06:20.534000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "aaand we have finality again!\n`2023-09-22 09:11:04.002 INFO  - Slot Event  *** Slot: 265955, Block: 2eb10f704296a14af0a8096efcf949ab30a1e6df9abf44917d857419f558501c, Justified: 8309, Finalized: 8308, Peers: 19`",
        "created_at": "2023-09-22T09:11:31.793000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Something i noticed though, Besu seems to log a bunch of imports then it spits out a `reorg` message in regular intervals. Is that the regular import mechanism or are we really seeing so many reorgs?",
        "created_at": "2023-09-22T09:12:47.916000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Seems like Besu is stuck at a block height because its continuously re-building the same thing?\n```\n2023-09-22 09:40:16.030+00:00 | vert.x-worker-thread-0 | INFO  | MergeCoordinator | Start building proposals for block 233192 identified by 0x7323f9081004e3f7\n2023-09-22 09:40:28.011+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | New payloadId 0x7323f9081004e3eb received so cancelling block creation tasks for the following payloadIds: 0x7323f9081004e3f7\n2023-09-22 09:40:28.016+00:00 | vert.x-worker-thread-0 | INFO  | MergeCoordinator | Start building proposals for block 233192 identified by 0x7323f9081004e3eb\n2023-09-22 09:40:40.009+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | New payloadId 0x7323f9081004e3df received so cancelling block creation tasks for the following payloadIds: 0x7323f9081004e3eb\n2023-09-22 09:40:40.013+00:00 | vert.x-worker-thread-0 | INFO  | MergeCoordinator | Start building proposals for block 233192 identified by 0x7323f9081004e3df\n2023-09-22 09:40:52.011+00:00 | vert.x-worker-thread-0 | WARN  | MergeCoordinator | New payloadId 0x7323f9081004e3d3 received so cancelling block creation tasks for the following payloadIds: 0x7323f9081004e3df\n2023-09-22 09:40:52.016+00:00 | vert.x-worker-thread-0 | INFO  | MergeCoordinator | Start building proposals for block 233192 identified by 0x7323f9081004e3d3\n```",
        "created_at": "2023-09-22T09:41:22.765000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@334704997122179072\u003e \u003c@758579010027782144\u003e could you have a look at the nethermind nodes please?\nlooks like lodestar-nethermind/lh-nethermind/nimbus-nethermind/teku-nethermind are all lagging or stuck",
        "created_at": "2023-09-22T09:47:54.912000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Teku logs also show this:\n```\n2023-09-22 09:48:23.753 INFO  - The latest finalized checkpoint at epoch 8309 fell outside of the weak subjectivity period after epoch 8312, which is prior to the current epoch 8316.\n2023-09-22 09:48:23.754 INFO  - The latest finalized checkpoint at epoch 8309 is outside of the weak subjectivity period.  Please supply a recent weak subjectivity checkpoint using --ws-checkpoint=\u003cBLOCK_ROOT\u003e:\u003cEPOCH\u003e.\n```\n\nIsnt the weak subjectivity period longer than a few epochs?",
        "created_at": "2023-09-22T09:49:13.442000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@363800010518822915\u003e blobs spamming triggered new errors in Nethermind and the root cause was on our side for sure. However, I think CLs should try to keep sending payloads - otherwise there won't be a way to recover",
        "created_at": "2023-09-22T10:02:27.666000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "yes it is saying that from its current finalized epoch is older than the safe period and its suggesting to provide a checkpoint or simply do a checkpoint sync.\nWas it the teku-nethermind box?",
        "created_at": "2023-09-22T13:34:05.076000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yup should be",
        "created_at": "2023-09-22T15:23:18.260000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Hey \u003c@758579010027782144\u003e , I checked the log and Prysm does resend New payload request every 4s on the payload with undefined error:\n```\ntime=\"2023-09-22 15:30:56\" level=debug msg=\"Could not process block\" error=\"could not notify the engine of the new payload: got an unexpected error in JSON-RPC response: 500 Internal Server Error: {\n  \"id\": 1,\n  \"jsonrpc\": \"2.0\",\n  \"error\": {\n    \"code\": -32603,\n    \"message\": \"Error processing response: encountered hyper error: hyper::Error(Connect, ConnectError(\\\"tcp connect error\\\", Os { code: 111, kind: ConnectionRefused, message: \\\"Connection refused\\\" }))\"\n  }\n}: received an undefined execution engine error\" prefix=sync slot=267831\n\ntime=\"2023-09-22 15:31:00\" level=debug msg=\"Could not process block\" error=\"could not notify the engine of the new payload: got an unexpected error in JSON-RPC response: 500 Internal Server Error: {\n  \"id\": 1,\n  \"jsonrpc\": \"2.0\",\n  \"error\": {\n    \"code\": -32603,\n    \"message\": \"Error processing response: encountered hyper error: hyper::Error(Connect, ConnectError(\\\"tcp connect error\\\", Os { code: 111, kind: ConnectionRefused, message: \\\"Connection refused\\\" }))\"\n  }\n}: received an undefined execution engine error\" prefix=sync slot=267831\n```",
        "created_at": "2023-09-22T15:58:47.502000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Do you see other behaviors?",
        "created_at": "2023-09-22T15:59:02.013000+00:00",
        "attachments": null
    },
    {
        "author": "marcinds",
        "category": "Testing",
        "parent": "",
        "content": "Teku on teku-nethermind is not starting with error:\n`Missing value for spec constant 'MAX_PER_EPOCH_ACTIVATION_CHURN_LIMIT'`",
        "created_at": "2023-09-22T16:35:52.750000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "ah.. i can fix that",
        "created_at": "2023-09-22T16:39:26.923000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "thanks",
        "created_at": "2023-09-22T16:39:27.928000+00:00",
        "attachments": null
    }
]