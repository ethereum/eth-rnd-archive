[
    {
        "author": "ethpandaops-devnet-pulse-v2",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2025-06-20T01:00:00.265000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "I'd like to bring this up again. Thoughts on removing **peer** sampling from the specs for Fulu? If we want to remove this, we can/should make a PR soon \u0026 make a final decision at the upcoming ACDC call.",
        "created_at": "2025-06-20T07:17:02.046000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "We want to remove **peer** sampling, not sampling right?",
        "created_at": "2025-06-20T07:20:48.855000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "whats the reason of wanting to remove peer sampling?",
        "created_at": "2025-06-20T07:21:31.772000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Because nobody implements it?",
        "created_at": "2025-06-20T07:21:54.950000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "lmao thats not a good enough reason to remove it?",
        "created_at": "2025-06-20T07:22:13.169000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Do we actually not need peer sampling? I thought the whole idea of reliable DA was the fact that we have peer sampling",
        "created_at": "2025-06-20T07:22:32.219000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "yeah",
        "created_at": "2025-06-20T07:22:57.315000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "We replaced peer sampling by custody sampling. All clients implement custody sampling",
        "created_at": "2025-06-20T07:23:08.686000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i can give a pr? now that we have consensus over this",
        "created_at": "2025-06-20T07:23:17.489000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "it's a whole new area of tuning, research, implementation and devnet testing that i don't think anyone would want to get their hands dirty on at the moment.",
        "created_at": "2025-06-20T07:24:40.143000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "the whole idea of reliable DA was the fact that we have ~~peer~~ sampling.\n\n==\u003e Not especially peer sampling. Custody sampling does the job as well.",
        "created_at": "2025-06-20T07:24:45.268000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "custody sampling is implemented by all right?",
        "created_at": "2025-06-20T07:25:32.286000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Yes, updated my message.",
        "created_at": "2025-06-20T07:27:06.841000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "think it would be best to have a pr already",
        "created_at": "2025-06-20T07:27:46.274000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so that we can point ppl at it",
        "created_at": "2025-06-20T07:27:50.665000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@592004585506340885\u003e going ahead with the pr",
        "created_at": "2025-06-20T07:27:58.306000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "Great, thank you üôè",
        "created_at": "2025-06-20T07:28:14.729000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "I always had an impression that research folks intentionally had peer sampling because it added some security guarantees. I think we should be happy to remove peer sampling as long as the protocol  security does not suffer.",
        "created_at": "2025-06-20T07:50:34.419000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "is peer sampling something that you guys have implemented?",
        "created_at": "2025-06-20T07:50:59.609000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "if we have even a single client implementation, then we should keep it as \"MAY\", and we shouldn't remove it imo",
        "created_at": "2025-06-20T07:51:33.660000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "we have it, we have tests for it, but we don't use it",
        "created_at": "2025-06-20T07:51:58.739000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "no, not yet",
        "created_at": "2025-06-20T07:53:18.065000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i don't see the need entirely, also with getBlobsV2 in place and strong guarantees of data column retrieval",
        "created_at": "2025-06-20T07:54:52.135000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "while the slot is advancing, and vals are attesting",
        "created_at": "2025-06-20T07:55:08.165000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "during sync, i'm pretty sure some of the clients, use a _form_ peer sampling in some way or the other. cc \u003c@531934490826768418\u003e ?",
        "created_at": "2025-06-20T07:55:44.878000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "just that the sampling frequencies may not follow any probabilistic nature, as given in spec by `get_extended_sample_count`",
        "created_at": "2025-06-20T07:57:21.966000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/pull/4393 here we go",
        "created_at": "2025-06-20T08:29:07.715000+00:00",
        "attachments": null
    },
    {
        "author": "manunlp",
        "category": "Testing",
        "parent": "",
        "content": "Do you mean about https://github.com/ethereum/consensus-specs/pull/4394?",
        "created_at": "2025-06-20T08:33:57.129000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "It doesn't really add much in terms of security guarantees, it's just in principle more efficient with bandwidth because it's through req/resp rather than gossip. The idea of having that spec was to allow clients to implement it whenever, to replace the \"extra custody sampling\" (the 4 additional custody groups over the minimum of 4) with something cheaper.",
        "created_at": "2025-06-20T09:02:28.486000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "I don't mind either way, as long as we don't treat that spec as something in the critical path of Fusaka (e.g. something that needs to be tested)",
        "created_at": "2025-06-20T09:03:58.841000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "OK, and in terms of number of custody columns - do we increase it if we drop the peer sampling?",
        "created_at": "2025-06-20T09:04:17.807000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "Nothing changes, we need a minimum of 8 samples, obtained in whatever way",
        "created_at": "2025-06-20T09:06:36.519000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "How would people feel about increasing `BALANCE_PER_ADDITIONAL_CUSTODY_GROUP`, say to 128 or 256, pushing up quite a bit the minimum stake to be a backbone node (I'll try for a bit with this \u003c:crazycry:932693133546889216\u003e), and making the impact even lower on nodes without a lot of validators? (e.g. with 128 you'd need at least 1024 ETH to go over the minimum of 8 columns, and you'd need 512 validators to be a backbone node)",
        "created_at": "2025-06-20T09:19:03.048000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e had thoughts on this too",
        "created_at": "2025-06-20T09:19:11.626000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "OK, so it doesnt become less secure.",
        "created_at": "2025-06-20T09:20:22.965000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you mean in FULU?",
        "created_at": "2025-06-20T09:21:13.484000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "or glamsterdam",
        "created_at": "2025-06-20T09:21:18.327000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "its a super late change for fulu imho",
        "created_at": "2025-06-20T09:21:35.949000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "it's not, we don't have a single validator custody devnet run (entirely) yet",
        "created_at": "2025-06-20T10:00:53.123000+00:00",
        "attachments": null
    },
    {
        "author": "agnxsh",
        "category": "Testing",
        "parent": "",
        "content": "i mean it's not super late",
        "created_at": "2025-06-20T10:18:29.772000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "For now I'd just like to hear what people think about it generally üòÑ",
        "created_at": "2025-06-20T12:38:23.809000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "In general I believe this is a good idea, previous to CSM the stake distribution of nodes was bimodal, with either 1-2 or really a lot. I suspect that CSM may have changed this slightly. At any rate my interest on the topic is that this numbers allow us to do statistics on the number of nodes that are expected to hold all columns and use this on our basic assumptions about DA, I know it's not as theoretically robust as saying there are x% chances that \u003e 50% were assigned missing data, but I still think that this is just the same for all practical purposes.",
        "created_at": "2025-06-20T12:50:54.635000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "seems generally reasonable/positive. the discourse around this has been usually assuming a mostly, yeah, bimodal distribution, and this would push things towards that being descriptively true",
        "created_at": "2025-06-20T13:23:31.319000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so if the design assumptions/analysis is oriented around that anyway, better to make the spec reflect that",
        "created_at": "2025-06-20T13:24:00.749000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "How would we feel about merging this PR soon \u0026 including it in the next release?\nhttps://github.com/ethereum/consensus-specs/pull/3510",
        "created_at": "2025-06-20T16:19:07.571000+00:00",
        "attachments": null
    },
    {
        "author": "jtraglia",
        "category": "Testing",
        "parent": "",
        "content": "I would like to follow up with PR that adds `SLOT_TIME_MS` too. Note we would not remove `SECONDS_PER_SLOT` from the config; maybe do that later, after fusaka.",
        "created_at": "2025-06-20T16:21:23.770000+00:00",
        "attachments": null
    }
]