[
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@539495253418180618\u003e one thing I noticed in #354 is that `ammount` is the only `QUANTITY` that has an explicit annotation for the difference in endianess between the CL and EL. We are treating it exactly the same as any other `QUANTITY64` and at least on interop with geth (I can't compile newer versions of Nethermind to check against them) we are getting the right values",
        "created_at": "2023-01-17T03:29:56.065000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I don't understand the question here. The spec is clear that this method accepts a `PayloadAttributesV1` or null, so no withdrawals can be sent to this endpoint",
        "created_at": "2023-01-17T03:34:10.394000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "OK, so is there a general rule that if we don't receive exactly the right data shape(s) for our endpoint then we should throw some sort of error? I couldn't find that in the spec but might have missed it",
        "created_at": "2023-01-17T03:37:56.125000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "yeah, it is called out bc SSZ serialization is little-endian so in the event this accidentally leaks out somehow (e.g. SSZ serialize and then hex encode) there would be a moment to double-check what the client is doing\n\nif you take your lang's native integer type (e.g. Go `uint64` for this one) and just serialize to JSON it will likely just be correct",
        "created_at": "2023-01-17T05:02:51.771000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "This change is merged now as well https://github.com/ethereum/execution-apis/pull/355",
        "created_at": "2023-01-17T05:55:23.346000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@553610810652622860\u003e \u003c@654267572107083777\u003e could you give us an update regarding Wei -\u003e. Gwei status for nimbus?",
        "created_at": "2023-01-17T08:00:46.166000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@341574016160497665\u003e could you please provide a besu image?",
        "created_at": "2023-01-17T08:01:41.735000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e besu is very close",
        "created_at": "2023-01-17T08:01:42.067000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ok",
        "created_at": "2023-01-17T08:01:47.397000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "My initial plan is to launch genesis in about 2h",
        "created_at": "2023-01-17T08:02:27.633000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Pretty similar key assignment as before. Teku/geth and teku/nethermind holding majority keys.",
        "created_at": "2023-01-17T08:02:59.100000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e seems the above PR hasn't merged, \u003c@476250636548308992\u003e is building a custom image for you",
        "created_at": "2023-01-17T08:11:47.822000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ok thanks.",
        "created_at": "2023-01-17T08:13:08.162000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e is ethereumjs ready?",
        "created_at": "2023-01-17T08:13:31.432000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "PRs are merge ready for the bad block fix as well as wei\u003c\u003egwei conversion, so as soon as reviews are done (in couple of hours) i can provide you an image",
        "created_at": "2023-01-17T08:14:37.660000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "awesome",
        "created_at": "2023-01-17T08:15:23.326000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "beacon node\n```\ngcr.io/prysmaticlabs/prysm/beacon-chain:capella\ngcr.io/prysmaticlabs/prysm/beacon-chain@sha256:270c6f99e10a820d66bb1bc6957594f15d3a30cef38a15c2f7dc585bacaa837d\n```\nvalidator\n```\ngcr.io/prysmaticlabs/prysm/validator:capella\ngcr.io/prysmaticlabs/prysm/validator@sha256:7e81b5172d099aa41112b035e3de1016e02230918b213343af42acffe35d6473\n```\n\u003c@412614104222531604\u003e",
        "created_at": "2023-01-17T08:24:38.004000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Could you pls specify branch and commit, also, in case anyone later wanna try with non container state?",
        "created_at": "2023-01-17T08:25:30.773000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "It's the PR mentioned above that hasn't merged",
        "created_at": "2023-01-17T08:25:55.350000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "In one hour aprox that should be merged",
        "created_at": "2023-01-17T08:26:06.495000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "And it will be develop/latest",
        "created_at": "2023-01-17T08:26:20.899000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/prysmaticlabs/prysm/commit/94379741cf585c3be00aff0b1545669dae6f47c2",
        "created_at": "2023-01-17T08:26:26.784000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`consensys/teku:develop` ?",
        "created_at": "2023-01-17T08:28:48.313000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yes please, that's the one to use",
        "created_at": "2023-01-17T08:29:02.608000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "master and `09406b61cd0c0889369a182dd2c09a635fbe37f9` ?",
        "created_at": "2023-01-17T08:29:34.824000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "sure - should be fine",
        "created_at": "2023-01-17T08:29:52.114000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "my stuff merged first thing thismorning",
        "created_at": "2023-01-17T08:30:03.309000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "as luck would have it my merge is the latest anyway",
        "created_at": "2023-01-17T08:32:41.886000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Testing",
        "parent": "",
        "content": "a nuance here would be that this is subject to the gossip clock disparity constant, so that people start _accepting_ things 500ms before they start sending",
        "created_at": "2023-01-17T09:00:42.802000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "quick question, do we want to reduce the default values of ```# 2**8 (= 256) epochs ~27 hours\nMIN_VALIDATOR_WITHDRAWABILITY_DELAY: 256\n# 2**8 (= 256) epochs ~27 hours\nSHARD_COMMITTEE_PERIOD: 256``` to enable quicker withdrawals, and less delay in testing ?",
        "created_at": "2023-01-17T09:00:58.119000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e besu devnet-3 image: `docker pull siladu/besu:shanghaitime-forkid-withdrawals-evm-a7c96ca` (https://github.com/hyperledger/besu/pull/4818)\n\nIt's devnet-2, plus:\n- wei -\u003e gwei\n- engine_forkchoiceUpdatedV2 and engine_newPayloadV2: INVALID instead of INVALID_BLOCK_HASH\n- engine_forkchoiceUpdatedV2: no terminal PoW block validation\n- `-38003: Invalid payload ` -\u003e `-32602: Invalid Params`",
        "created_at": "2023-01-17T09:36:41.423000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Just trying to run it against latest hive now",
        "created_at": "2023-01-17T09:37:07.239000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "awesome",
        "created_at": "2023-01-17T09:38:53.110000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "thanks",
        "created_at": "2023-01-17T09:38:53.951000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "I have also noticed that. BE representation for `QUANTITY` is stated in the `common.md#Encoding`. But reminding it one more time to prevent potential bugs around LE -\u003e BE conversion looks reasonable",
        "created_at": "2023-01-17T09:42:52.183000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@449019668296892420\u003e can I expect a PR within the next hour from nimbus? With devnet-3 specs compliance",
        "created_at": "2023-01-17T09:43:12.795000+00:00",
        "attachments": null
    },
    {
        "author": "arnetheduck",
        "category": "Testing",
        "parent": "",
        "content": "current unstable should be fine cc \u003c@654267572107083777\u003e",
        "created_at": "2023-01-17T09:45:09.512000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/status-im/nimbus-eth2/commit/05a6c6280dda26adf460046514f672412d27e257 this one you mean right?",
        "created_at": "2023-01-17T09:45:39.621000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yeah what confused me is not that there was a notice for `amount` but that there were no notices for any other one, so that made me suspect that perhaps they needed different handling and hence required a double check last night",
        "created_at": "2023-01-17T09:47:27.882000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I'd suggest not, we're better of using mainnet values where possible.",
        "created_at": "2023-01-17T09:53:34.370000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it's in `unstable`",
        "created_at": "2023-01-17T09:58:18.294000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "oh, indeed",
        "created_at": "2023-01-17T09:58:29.122000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "if it still needs https://github.com/status-im/nimbus-eth2/pull/4486 then that also has wei-\u003egwei included",
        "created_at": "2023-01-17T09:59:00.396000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Oh yes we need that for devnet-3",
        "created_at": "2023-01-17T10:01:02.660000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Gonna use 258aa9524f9064821be5dd35ea4beda9d0ac87af then.",
        "created_at": "2023-01-17T10:03:20.653000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/status-im/nimbus-eth2/pull/4486/commits/258aa9524f9064821be5dd35ea4beda9d0ac87af",
        "created_at": "2023-01-17T10:03:25.261000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, that's a fine commit to use",
        "created_at": "2023-01-17T10:04:19.628000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Looks like we have 5/5 client releases ðŸŽ‰ https://notes.ethereum.org/@bbusa/withdrawal-devnet-3",
        "created_at": "2023-01-17T10:13:58.494000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Generating genesis for devnet-3, expected start noon CEST (40 mins from now). | `eth2 genesis at 1673953200 + 120 = 1673953320  (2023-01-17 11:02:00 +0000 UTC)`",
        "created_at": "2023-01-17T10:20:03.895000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethpandaops/withdrawals-testnet/tree/master/withdrawal-devnet-3",
        "created_at": "2023-01-17T10:28:49.201000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "naming convention: ```devops@withdrawal-devnet-3-lighthouse-nethermind-1.ethpandaops.io```",
        "created_at": "2023-01-17T10:29:58.374000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://withdrawal-devnet-3.ethpandaops.io",
        "created_at": "2023-01-17T10:32:49.624000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "prysm seems to be stuck",
        "created_at": "2023-01-17T11:09:01.629000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://forkmon.withdrawal-devnet-3.ethpandaops.io",
        "created_at": "2023-01-17T11:09:05.827000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "also erigon",
        "created_at": "2023-01-17T11:09:20.614000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e \u003c@476250636548308992\u003e",
        "created_at": "2023-01-17T11:09:33.766000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@583892532644151312\u003e",
        "created_at": "2023-01-17T11:09:43.759000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "devnet-3 ready image for ethereumjs: `g11tech/ethereumjs:gwei` and `chainsafe/lodestar:next` for lodestar incase anyone wanna try running either of these",
        "created_at": "2023-01-17T11:09:50.647000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "also bad block issue should be fixed for ethereumjs in this image/build",
        "created_at": "2023-01-17T11:11:09.736000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "can i get access to a prysm node ?",
        "created_at": "2023-01-17T11:14:16.235000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you don't have access?",
        "created_at": "2023-01-17T11:14:24.315000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "oh wait nvm",
        "created_at": "2023-01-17T11:14:39.416000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "I just saw the above link",
        "created_at": "2023-01-17T11:14:48.153000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "forkmon also has the names if looking for",
        "created_at": "2023-01-17T11:15:01.622000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "How can I see the logs?",
        "created_at": "2023-01-17T11:17:02.771000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "docker logs -f execution",
        "created_at": "2023-01-17T11:17:40.730000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "And what's the machine?",
        "created_at": "2023-01-17T11:18:03.329000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "`ssh devops@withdrawal-devnet-3-lighthouse-erigon-1.ethpandaops.io`",
        "created_at": "2023-01-17T11:18:23.391000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "also all the node names are on forkmon",
        "created_at": "2023-01-17T11:18:49.666000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "prysm issue seems to be just a flag `time=\"2023-01-17T11:14:54Z\" level=error msg=\"flag provided but not defined: -disable-staking-contract-check\" prefix=main`",
        "created_at": "2023-01-17T11:19:16.188000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I can remove this flag.",
        "created_at": "2023-01-17T11:19:33.234000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Didn't know it was deprecated",
        "created_at": "2023-01-17T11:19:38.524000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "not exactly, it might cause issues without the flag. Its not in our develop branch",
        "created_at": "2023-01-17T11:20:05.643000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok.",
        "created_at": "2023-01-17T11:20:28.899000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "That damned thing happens on every single testnet",
        "created_at": "2023-01-17T11:21:42.745000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "I see that erigon doesn't like the block hash. How can I see CL logs?",
        "created_at": "2023-01-17T11:22:59.971000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`docker logs -f beacon`",
        "created_at": "2023-01-17T11:23:08.164000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "Or if youâ€™re slow â€˜docker logs beacon \u003e beacon.logâ€™ and the log will have everything",
        "created_at": "2023-01-17T11:24:41.406000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Infinite scrollable terminal ftw",
        "created_at": "2023-01-17T11:25:29.969000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "Hehe yes I should do that",
        "created_at": "2023-01-17T11:25:39.842000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "what should I do? Are you guys gonna build a new image?",
        "created_at": "2023-01-17T11:31:49.823000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "yeah give me a sec",
        "created_at": "2023-01-17T11:32:03.856000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "capella is at epoch 20.",
        "created_at": "2023-01-17T11:42:47.560000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e \n\nbeacon-chain\n```\ngcr.io/prysmaticlabs/prysm/beacon-chain@sha256:21cdade7443414964eb9089bb9318d0db58940bdcc7e7167f6663277c7072186\n```\nvalidator\n```\ngcr.io/prysmaticlabs/prysm/validator@sha256:2081fab4789ab6eeb4e53ff9553bf6db2ec1063bf7c7009b0ce7089be904af0f\n```",
        "created_at": "2023-01-17T11:47:25.063000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "both have the `capella` tag",
        "created_at": "2023-01-17T11:47:31.173000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "The reference commit:\nhttps://github.com/prysmaticlabs/prysm/commit/61e57cac49d153ee798112162be29c534d4a7105",
        "created_at": "2023-01-17T11:47:54.052000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "On it thanks",
        "created_at": "2023-01-17T11:51:35.865000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Gonna do BLS change for ```\n31000-31100 prysm-geth\n36000-36100 prysm-nethermind\n46100-46150 prysm-besu\n46600-46650 prysm-erigon\n32000-32100 lodestar-geth\n38000-38100 lodestar-nethermind\n44000-44100 lodestar-ethereumjs\n46200-46250 lodestar-besu\n46700-46750 lodestar-erigon\n```",
        "created_at": "2023-01-17T11:55:57.653000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e lodestar can also do bls before capella now?",
        "created_at": "2023-01-17T11:57:15.954000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yes should do, but i don't think we will gossip post capella what we got before it",
        "created_at": "2023-01-17T11:57:46.692000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "but it will bundle them while proposing",
        "created_at": "2023-01-17T11:58:15.430000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "that could potentially cause some issues for someone if they don't know that",
        "created_at": "2023-01-17T11:59:59.634000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "nimbus still seems to be missing bls pool stuff.",
        "created_at": "2023-01-17T12:02:37.681000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "This is done. Any other clients would have this feature?",
        "created_at": "2023-01-17T12:09:19.119000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "We can try with a few lodestar too",
        "created_at": "2023-01-17T12:09:38.845000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "teku won't accept early on api... still contemplating that",
        "created_at": "2023-01-17T12:10:30.143000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok",
        "created_at": "2023-01-17T12:11:13.434000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "nimbus wont take any change at all at this point",
        "created_at": "2023-01-17T12:11:21.430000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "leaves us lighthouse / lodestar.",
        "created_at": "2023-01-17T12:11:40.060000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e \u003c@199561711278227457\u003e Can you please redeploy erigon from `thorax/erigon:docker_devnet3` ? It has more logging to debug the issue.",
        "created_at": "2023-01-17T12:13:16.055000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "All erigon?",
        "created_at": "2023-01-17T12:13:48.784000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "or just erigon/lh?",
        "created_at": "2023-01-17T12:13:53.386000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "erigon/lh is being used for our beaconchain explorer.",
        "created_at": "2023-01-17T12:14:03.118000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "Just one will do",
        "created_at": "2023-01-17T12:14:08.379000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e ``` curl -d @final.json -H \"Content-Type: application/json\"  -X POST 127.0.0.1:4000/eth/v1/beacon/pool/bls_to_execution_changes\n{\"statusCode\":500,\"error\":\"Internal Server Error\",\"message\":\"Multiple errors on submitPoolBlsToExecutionChange\\nPublishError.InsufficientPeers\\nPublishError.InsufficientPeers\\nPublishError```",
        "created_at": "2023-01-17T12:14:56.678000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "thats ok, since it couldn't publish",
        "created_at": "2023-01-17T12:15:15.002000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "will do teku/erigon",
        "created_at": "2023-01-17T12:15:17.603000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "you can curl the pool api and check if it has",
        "created_at": "2023-01-17T12:15:34.302000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah yes the pool is filled",
        "created_at": "2023-01-17T12:15:39.594000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "pls check teku/erigon for more logs",
        "created_at": "2023-01-17T12:17:03.363000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sorry check now pls.",
        "created_at": "2023-01-17T12:23:25.696000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "been using the old image by mistake again",
        "created_at": "2023-01-17T12:23:41.033000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```ansible all -i withdrawal-devnet-3/inventory/inventory.ini -m shell -a 'curl -s localhost:4000/eth/v1/beacon/pool/bls_to_execution_changes | jq . | wc -l'                         \nwithdrawal-devnet-3-lighthouse-erigon-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-bootnode-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-lodestar-ethereumjs-1 | CHANGED | rc=0 \u003e\u003e\n812\nwithdrawal-devnet-3-prysm-besu-1 | CHANGED | rc=0 \u003e\u003e\n412\nwithdrawal-devnet-3-prysm-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n812\nwithdrawal-devnet-3-prysm-erigon-1 | CHANGED | rc=0 \u003e\u003e\n412\nwithdrawal-devnet-3-lodestar-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n812\nwithdrawal-devnet-3-lighthouse-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-nethermind-4 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-lodestar-erigon-1 | CHANGED | rc=0 \u003e\u003e\n412\nwithdrawal-devnet-3-explorer-1 | CHANGED | rc=0 \u003e\u003e\n0\nwithdrawal-devnet-3-teku-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-nethermind-7 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-erigon-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-nimbus-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n0\nwithdrawal-devnet-3-teku-nethermind-3 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-nethermind-6 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-nimbus-erigon-1 | CHANGED | rc=0 \u003e\u003e\n0\n...\n\nwithdrawal-devnet-3-prysm-geth-1 | CHANGED | rc=0 \u003e\u003e\n812\nwithdrawal-devnet-3-nimbus-besu-1 | CHANGED | rc=0 \u003e\u003e\n0\nwithdrawal-devnet-3-nimbus-geth-1 | CHANGED | rc=0 \u003e\u003e\n0\nwithdrawal-devnet-3-lodestar-besu-1 | CHANGED | rc=0 \u003e\u003e\n412\nwithdrawal-devnet-3-teku-besu-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-lodestar-geth-1 | CHANGED | rc=0 \u003e\u003e\n812\nwithdrawal-devnet-3-teku-geth-1 | CHANGED | rc=0 \u003e\u003e\n3\n...\nwithdrawal-devnet-3-lighthouse-besu-1 | CHANGED | rc=0 \u003e\u003e\n3```",
        "created_at": "2023-01-17T12:27:53.826000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "BLS changes are done",
        "created_at": "2023-01-17T12:27:57.420000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "all prysm/lodestar pools are filled with their own bls changes.",
        "created_at": "2023-01-17T12:28:13.700000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'll also trigger some validators to exit",
        "created_at": "2023-01-17T12:28:27.872000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Nvm, can't trigger withdrawals till epoch 256```WARN accounts: Could not perform voluntary exit for account 0xb2f117292cee: failed to propose voluntary exit: rpc error: code = InvalidArgument desc = validator has not been active long enough to exit: 13 of 256 epochs. Validator will be eligible for exit at epoch 256```",
        "created_at": "2023-01-17T12:31:15.412000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "would you like to try anything else?",
        "created_at": "2023-01-17T12:33:27.190000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Capella is 5 epochs away",
        "created_at": "2023-01-17T12:33:45.641000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Looks like devnet 3 is a success though. So once capella hits in about 30mins, and we verify everything is working, I'll be shutting down devnet 2 as of 14:00 UTC.",
        "created_at": "2023-01-17T12:37:17.781000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Nope that's my biggest fear, changes are already in one pool right?",
        "created_at": "2023-01-17T12:45:13.624000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "These are the changes I did.",
        "created_at": "2023-01-17T12:45:34.219000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "did among multiple clients",
        "created_at": "2023-01-17T12:45:47.360000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@583892532644151312\u003e erigon/lh reports invalid block hashes`[EROR] [01-17|13:06:20.219] [NewPayload] invalid block hash          stated=0x011ef0b131237062b2bcdac1621ccebc38a6f4a670366073d9de4dfe10065a67 actual=0x4133661d9fcb35ea3df97735858d8e07f0df249871ad72be237841eb71ad9795`",
        "created_at": "2023-01-17T13:06:35.548000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "I think I know the cause. I'm preparing a fix.",
        "created_at": "2023-01-17T13:07:44.535000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "are the usual monitoring websites up for devnet-3?",
        "created_at": "2023-01-17T13:07:54.862000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "forkmon is up",
        "created_at": "2023-01-17T13:08:01.280000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "beaconchain is hooked up with erigon, so its a bit behind, as erigon is reporting bad block hashes",
        "created_at": "2023-01-17T13:08:14.890000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "blockscout's latest release seem to have broke something and I haven't got around to check whats up there",
        "created_at": "2023-01-17T13:08:34.042000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "capella is in a few seconds",
        "created_at": "2023-01-17T13:08:38.109000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Pls keep an eye on your BLS pools and report if you see something that is inproper",
        "created_at": "2023-01-17T13:08:54.297000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://forkmon.withdrawaldevnet3.ethpandaops.io/ ? doesn't resolve for me",
        "created_at": "2023-01-17T13:08:59.610000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://forkmon.withdrawal-devnet-3.ethpandaops.io",
        "created_at": "2023-01-17T13:09:30.110000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have added - to make it easier to read",
        "created_at": "2023-01-17T13:09:38.342000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "oops, right",
        "created_at": "2023-01-17T13:09:38.424000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, works for me",
        "created_at": "2023-01-17T13:09:55.389000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```ARN  - Rejecting gossip message on topic /eth2/b1c00fd5/bls_to_execution_change/ssz_snappy, reason: BlsToExecutionChange for validator 31071 is invalid: Bls to execution changes are not valid before Capella fork, decoded message: 0x5f79000000000000af68cbc72dbf356559db6b6ab075fc198fd4a65725b6a2172365cb06ac22ff421c6da6715a359fd62e9bb4ce15b3ddcfe7c180eada8f60d63e9671867b2e0ca2649207a8876525522a349f431f9b75d5c324bfc173f3366ec0f078996742719a363d6a24930851d6d0cdbf913ff98f5b6c5d9ad211dd8b176c2ff2346d2e8d0aec33778915ffee1cfe9f2a63c0653f191ac433033e9c78c920d7809cf6c8c145fcc0a9fa\n2023-01-17 13:10:00.029 WARN  - Rejecting gossip message on topic /eth2/b1c00fd5/bls_to_execution_change/ssz_snappy, reason: BlsToExecutionChange for validator 31028 is invalid: Bls to execution changes are not valid before Capella fork, decoded message: 0x3479000000000000a4edb6686ad34c854afaa4b6c6c809e98d68faab5848207e9c402e1ebf2d53bead243d1fd56058e1242142e17c410f95e7c180eada8f60d63e9671867b2e0ca2649207a88fc310bb3adae060b4a2807898fc5c2da35a384a92d1985f3bc2a9fd2c3ffa036f83b05de5136183a48316fd043af22e0d4cdfe0db13c973284296e5e9dec98708a87e8df225cc614f687c37c4664a9eabc84182a53a9a93dba839a89533d1f4```",
        "created_at": "2023-01-17T13:10:22.193000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@680234424037670912\u003e",
        "created_at": "2023-01-17T13:10:29.917000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like as soon as capella hit we getting rejected gossip messages",
        "created_at": "2023-01-17T13:10:42.144000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "also it was/is probably forkmon pinging clients with `web3.clientVersion` to fill in that \"Version\" column, but only Nethermind and EthereumJS are responding apparently",
        "created_at": "2023-01-17T13:10:51.784000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar ethereumjs sucesfully published withdrawals",
        "created_at": "2023-01-17T13:11:40.311000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "badf3ca6a9e3b0bf65bca7106bdc4f1caec0c0642411e9e0263023adf254a26b"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like all BLS change requests from prysm and lodestar (that was waiting to be gossiped) from teku was actually rejected.",
        "created_at": "2023-01-17T13:12:25.937000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "FYI Lighthouse folks: prior to Capella lighthouse rejected credentials change request operations send on the REST API.  Lightouse logs are:\n```\nJan 17 11:49:02.384 ERRO Invalid BLS to execution change         source: HTTP API, validator_index: 47000\nJan 17 11:49:02.384 WARN Error processing HTTP API request       method: POST, path: /eth/v1/beacon/pool/bls_to_execution_changes, status: 400 Bad Request, elapsed: 257.739Âµs\n```\nAfter Capella Lighthouse accepts the request and broadcasts it (confirmed the request has been incorporated on-chain).",
        "created_at": "2023-01-17T13:14:03.943000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "is there a deep reorg?",
        "created_at": "2023-01-17T13:14:17.697000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "seems consistent with https://github.com/ethereum/beacon-APIs/blob/master/apis/beacon/pool/bls_to_execution_changes.yaml ?",
        "created_at": "2023-01-17T13:14:50.472000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "\"Any that pass validation MUST be broadcast to the network.\" isn't possible before that gossip topic opens",
        "created_at": "2023-01-17T13:15:10.207000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and part of the validation is `\u003e= CAPELLA_FORK_EPOCH`",
        "created_at": "2023-01-17T13:15:27.856000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "they can't be queued in advance of capella AFAICT",
        "created_at": "2023-01-17T13:15:40.720000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "``` all -i withdrawal-devnet-3/inventory/inventory.ini -m shell -a 'curl -s localhost:4000/eth/v1/beacon/pool/bls_to_execution_changes | jq . | wc -l'\nwithdrawal-devnet-3-bootnode-1 | CHANGED | rc=0 \u003e\u003e\n20\nwithdrawal-devnet-3-teku-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n20\nwithdrawal-devnet-3-teku-besu-1 | CHANGED | rc=0 \u003e\u003e\n20\nwithdrawal-devnet-3-teku-geth-1 | CHANGED | rc=0 \u003e\u003e\n20\nwithdrawal-devnet-3-teku-erigon-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-nethermind-7 | CHANGED | rc=0 \u003e\u003e\n508\nwithdrawal-devnet-3-teku-geth-3 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-geth-4 | CHANGED | rc=0 \u003e\u003e\n788\nwithdrawal-devnet-3-teku-nethermind-4 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-nethermind-6 | CHANGED | rc=0 \u003e\u003e\n20\nwithdrawal-devnet-3-teku-geth-7 | CHANGED | rc=0 \u003e\u003e\n892\nwithdrawal-devnet-3-teku-nethermind-2 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-prysm-geth-1 | CHANGED | rc=0 \u003e\u003e\n948\nwithdrawal-devnet-3-lighthouse-geth-1 | CHANGED | rc=0 \u003e\u003e\n2452\nwithdrawal-devnet-3-teku-geth-6 | CHANGED | rc=0 \u003e\u003e\n892\nwithdrawal-devnet-3-teku-geth-5 | CHANGED | rc=0 \u003e\u003e\n436\nwithdrawal-devnet-3-teku-nethermind-3 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-teku-geth-2 | CHANGED | rc=0 \u003e\u003e\n20\nwithdrawal-devnet-3-lodestar-geth-1 | CHANGED | rc=0 \u003e\u003e\n2452\nwithdrawal-devnet-3-lodestar-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n3260\nwithdrawal-devnet-3-prysm-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n812\nwithdrawal-devnet-3-lighthouse-erigon-1 | CHANGED | rc=0 \u003e\u003e\n3\nwithdrawal-devnet-3-lodestar-ethereumjs-1 | CHANGED | rc=0 \u003e\u003e\n3260\nwithdrawal-devnet-3-prysm-erigon-1 | CHANGED | rc=0 \u003e\u003e\n572\nwithdrawal-devnet-3-prysm-besu-1 | CHANGED | rc=0 \u003e\u003e\n268\nwithdrawal-devnet-3-lodestar-erigon-1 | CHANGED | rc=0 \u003e\u003e\n2860\nwithdrawal-devnet-3-lighthouse-besu-1 | CHANGED | rc=0 \u003e\u003e\n2452\nwithdrawal-devnet-3-lighthouse-nethermind-1 | CHANGED | rc=0 \u003e\u003e\n2452\nwithdrawal-devnet-3-lodestar-besu-1 | CHANGED | rc=0 \u003e\u003e\n2788\nwithdrawal-devnet-3-teku-nethermind-5 | CHANGED | rc=0 \u003e\u003e\n748```",
        "created_at": "2023-01-17T13:16:02.875000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Here are all the numbers",
        "created_at": "2023-01-17T13:16:07.067000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "removed all nimbus to make it fit",
        "created_at": "2023-01-17T13:16:20.253000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Nimbus are all empty.",
        "created_at": "2023-01-17T13:16:24.554000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "they are queued by prysm and lodestar tho",
        "created_at": "2023-01-17T13:18:19.742000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Aren't validation and broadcast separate items, though?  I wouldn't consider this to be \"invalid\".\n\nSome nodes are accepting and storing valid change operations and then broadcasting them on the fork.",
        "created_at": "2023-01-17T13:18:25.193000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "The message received from the REST operation is:\n```\n{\"code\":400,\"message\":\"BAD_REQUEST: some BLS to execution changes failed to verify\",\"failures\":\n[{\"index\":0,\"message\":\"invalid: BlsToExecutionChangeBadFork(Merge)\"}]}\n```\n\nwhich is pretty cryptic.\n\nI'd prefer to see that the requests are queued, but if not then at least the error message should represent the actual issue (_i.e._ requests not accepted before Capella).",
        "created_at": "2023-01-17T13:20:37.834000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "both validation and broadcast prohibit pre-capella.",
        "created_at": "2023-01-17T13:20:45.686000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "separately.",
        "created_at": "2023-01-17T13:20:46.808000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "why is validation prohibited?",
        "created_at": "2023-01-17T13:21:13.954000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but it might be that one can add to the pool, then validation is later?",
        "created_at": "2023-01-17T13:21:20.909000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "You can only add validated entries to the pool",
        "created_at": "2023-01-17T13:21:40.983000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/v1.3.0-rc.1/specs/capella/p2p-interface.md#bls_to_execution_change\n\u003e - _[IGNORE]_ `current_epoch \u003e= CAPELLA_FORK_EPOCH`,\n\u003e   where `current_epoch` is defined by the current wall-clock time.",
        "created_at": "2023-01-17T13:21:49.059000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "oh, that's gossip",
        "created_at": "2023-01-17T13:22:14.424000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "The whole point of changing the fork version against which the operation is signed was to allow storing the operation prior to the fork, no?",
        "created_at": "2023-01-17T13:22:17.249000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/specs/capella/beacon-chain.md#new-process_bls_to_execution_change doesn't have this check",
        "created_at": "2023-01-17T13:22:35.144000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, seems okay, to submit pre-capella",
        "created_at": "2023-01-17T13:22:52.557000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "interestingly some teku nodes picked up, while others have rejected the changes",
        "created_at": "2023-01-17T13:26:23.610000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "We queue them locally, don't accept them from gossip. I believe Teku and lighthouse were going to implement something similar",
        "created_at": "2023-01-17T13:27:06.320000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@144468805697929216\u003e what client you using for 47000 and 47001 ?",
        "created_at": "2023-01-17T13:27:24.185000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "To give users the option to queue their own changes prior to the fork",
        "created_at": "2023-01-17T13:27:24.985000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Did you submit that after capella?",
        "created_at": "2023-01-17T13:27:36.981000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, implementing this now, that's what I'll do too",
        "created_at": "2023-01-17T13:27:38.055000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "47000 was teku, 47001 was lighthouse.  Both submitted after Capella.",
        "created_at": "2023-01-17T13:27:45.281000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e did you manage to check that the changes that you submitted prior to the fork were broadcasted? Teku is the only client rejecting?",
        "created_at": "2023-01-17T13:28:09.519000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "some teku nodes picked up the chnage",
        "created_at": "2023-01-17T13:28:38.699000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "lh was rejecting some too",
        "created_at": "2023-01-17T13:28:42.909000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "not sure what the differentiation is tho",
        "created_at": "2023-01-17T13:28:50.514000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "All prysm changes are now complete",
        "created_at": "2023-01-17T13:29:18.438000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and lodestar changes are waiting for blocks",
        "created_at": "2023-01-17T13:29:27.799000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "as they are not gossiped at capella.",
        "created_at": "2023-01-17T13:29:33.650000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "did you submit it to the bootnode?",
        "created_at": "2023-01-17T13:29:44.913000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Local node.",
        "created_at": "2023-01-17T13:29:52.644000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah",
        "created_at": "2023-01-17T13:29:55.681000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "loos like only the bootnode picked it up",
        "created_at": "2023-01-17T13:30:01.187000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "which is rather strange",
        "created_at": "2023-01-17T13:30:18.064000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "it might be peered with just the bootnode for now?",
        "created_at": "2023-01-17T13:30:28.587000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah right",
        "created_at": "2023-01-17T13:30:37.679000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but shouldn't gossip be \"re-gossiped\" ?",
        "created_at": "2023-01-17T13:30:46.711000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so the bootnode should have gossip it to all of its nodes no?",
        "created_at": "2023-01-17T13:31:07.647000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouse node has 34 peers, teku 21 (that is now, though, not back when the operations were broadcast).",
        "created_at": "2023-01-17T13:33:28.384000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e \u003c@680234424037670912\u003e do you guys accept changes on wall clock or head state being Capella? I'm worried that you rejected some of the messages",
        "created_at": "2023-01-17T13:33:45.252000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e Can you please redeploy erigon from the latest `thorax/erigon:docker_devnet3`. I've pushed a potential fix there.",
        "created_at": "2023-01-17T13:36:12.609000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`sha256:60f2210346a6b95468427ede5e3d5de599eacb484cde9f21b8235952b25f3578`?",
        "created_at": "2023-01-17T13:37:33.235000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-01-17T13:37:41.920000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "deploying",
        "created_at": "2023-01-17T13:39:01.777000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "yeah we rejected because we were picking the validation logic from current state (which was still bellatrix). once we processed the first capella slot we switched validator and error gone. I signaled it so Paul can have a look to it tomorrow.",
        "created_at": "2023-01-17T13:40:03.794000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I think we should coordinate on wall clock that has less variance than block processing and I think this should be specified \u003c@425572898787426305\u003e",
        "created_at": "2023-01-17T13:41:45.222000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Having said so, we ourselves may have been ignoring changes (but not rejecting them)",
        "created_at": "2023-01-17T13:42:31.263000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "we also rejected a bunch of beacon_aggregate_and_proof gossip at slot  slot 667\n```\n2023-01-17 13:15:39.512 WARN  - Rejecting gossip message on topic /eth2/b1c00fd5/beacon_aggregate_and_proof/ssz_snappy, reason: Rejecting aggregate with invalid batch signature, decoded message: 0x640000009198f68e608e7c4f25e592200b6be285389f6eef9f4db9fb95d36407b9cc02368b8d4c3e21b145d28ed00381855d0cf51420d8937fa4a910215398d554421a1a0baabeb2a6731c6189d18ed415a231dde2c71372d0974ba79ba91771cef6def2bbb50000000000006c000000aca00119eb7d0a0f7078228806b607f36ebe7a0f1d4a9e995de424972b23a7a0617d2890549451bd357e693230783421130c2c816d93b2581701148b9a327884ba57c92ee547bafaa8a3761cb4fdca4b81864cd7891c6397b6afe1d45dbb8b62e4000000960200000000000005000000000000008b00a9581da97bff017526ddf5edd9bee3396e45812b3e3f20491704b72d8b1011000000000000001d039d2bc103895dac4dafe0d1e545c5f01a562ce580a3135cd0c32795a4cb4f1400000000000000ced0dcb2d32bf790e61376d300d8815c4c8bf3b6bcda766a7e4a313ddd8281ffb88c2d9c7ba5dd5e8504cebe97218d8134d1160f64025c8257f05cadc80827227d731ab1405e1bb72b25312b1e20b66018fc5eda1cedf103cd588f28de4f88eb488fda7c788738f566989ed5ce4a162c7bfab9b8c190bf7621c0969528d9cabd0000080000000000000000000000001004\n```\nanyone else saw them?",
        "created_at": "2023-01-17T13:48:48.755000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "FYI latest `ethdo` release supports creating change operations using the genesis fork version.  https://github.com/wealdtech/ethdo/releases/tag/v1.27.0",
        "created_at": "2023-01-17T13:59:41.839000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "devnet 2 is going offline. Final call",
        "created_at": "2023-01-17T14:02:58.506000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and its dead.",
        "created_at": "2023-01-17T14:13:09.400000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I have got 4x50keys ready to distribute for any teams that would like to run their own validators and do self test for whatever.",
        "created_at": "2023-01-17T14:13:54.207000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Are you referring to the following statement:\n\u003e [IGNORE] current_epoch \u003e= CAPELLA_FORK_EPOCH, where current_epoch is defined by the current wall-clock time.\n\nThere is already a wall-clock time in the spec",
        "created_at": "2023-01-17T15:57:40.150000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e should I start sending some stuff on devnet 3?",
        "created_at": "2023-01-17T16:20:54.301000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "go for it",
        "created_at": "2023-01-17T16:21:04.819000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "or I can do it too",
        "created_at": "2023-01-17T16:21:11.862000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "do you have a new image?",
        "created_at": "2023-01-17T16:21:17.593000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Nah, I do it from my local node, that lets me tweak the fuzzer better",
        "created_at": "2023-01-17T16:21:38.899000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sure",
        "created_at": "2023-01-17T16:21:44.342000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "need some eth?",
        "created_at": "2023-01-17T16:21:46.517000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "oh yes",
        "created_at": "2023-01-17T16:22:00.325000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "addr?",
        "created_at": "2023-01-17T16:22:03.943000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "0xb02A2EdA1b317FBd16760128836B0Ac59B560e9D",
        "created_at": "2023-01-17T16:22:17.004000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "(as always)",
        "created_at": "2023-01-17T16:22:21.535000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "should write it down",
        "created_at": "2023-01-17T16:22:50.815000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "you can also have the private key",
        "created_at": "2023-01-17T16:23:10.593000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "its on github^^",
        "created_at": "2023-01-17T16:23:23.974000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ðŸ˜„",
        "created_at": "2023-01-17T16:23:27.364000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "(do as I say not as I do)",
        "created_at": "2023-01-17T16:23:34.175000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "now you are officially rich.",
        "created_at": "2023-01-17T16:23:47.331000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e need a bootnode pls",
        "created_at": "2023-01-17T16:31:04+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "bootnodes contains cl bootnodes afaict",
        "created_at": "2023-01-17T16:31:17.910000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://withdrawal-devnet-3.ethpandaops.io/#general-information",
        "created_at": "2023-01-17T16:31:24.812000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I always forget about this, sry",
        "created_at": "2023-01-17T16:32:04.817000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah but I think it's worth to explicitly notice that we have to accept the message even if the state is Bellatrix",
        "created_at": "2023-01-17T18:03:49.216000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "And everyone that read the above message and stole from Marius",
        "created_at": "2023-01-17T18:04:59.078000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@\u0026836981603216654336\u003e The besu node on withdrawal-devnet-3 saw a bad block again https://forkmon.withdrawal-devnet-3.ethpandaops.io/",
        "created_at": "2023-01-17T18:20:58.790000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "`withdrawal-devnet-3-lodestar-besu-1`, no other node saw that, could you investigate pls?",
        "created_at": "2023-01-17T18:21:35.205000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "RLP Dump",
        "created_at": "2023-01-17T18:22:56.234000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "3af415a1c5d80d0130134ebdf5281c401b3235dd2c582009113a77f9603331f2"
            }
        ]
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Block as imported by geth",
        "created_at": "2023-01-17T18:26:03.586000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "5481f7d43b29143cd11cff9d35f14c1632c4a83b5175c877305aeccc5554780a"
            }
        ]
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I think it might have been this slot:\n```\n[2023-01-17 19:18:12] DEBUG blockchain: Synced new block block=0xe217a4ff... chainServiceProcessedTime=23.479918ms deposits=0 epoch=68 finalizedEpoch=66 finalizedRoot=0x2fc6bd0b... justifiedEpoch=67 justifiedRoot=0x7f877fcc... parentRoot=0xdde04939... sinceSlotStartTime=133.086991ms slot=2181 slotInEpoch=5 version=capella\n[2023-01-17 19:18:12] DEBUG blockchain: Synced new payload blockHash=0x82de92efe136 blsToExecutionChanges=0 gasUtilized=0.00 parentHash=0xc198fc1ca5f2 withdrawals=16\n[2023-01-17 19:18:12]  INFO blockchain: Finished applying state transition attestations=20 payloadHash=0x82de92efe136 slot=2181 syncBitsCount=485 txCount=0\n[2023-01-17 19:18:22] DEBUG powchain: Latest eth1 chain event blockHash=0x82de92efe13605337d3880398e339e94030fda7e1e77f859557dcb4aef3d9d48 blockNumber=2125\n```\nIf so then the block looks like it was created by the node itself?",
        "created_at": "2023-01-17T18:31:45.468000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "Does look like we're using head state currently, will look at that today and see if we can do something there. this gossip channel is going to be a mess at fork epoch, Im not sure rushing things in is really an ideal scenario anyway to be honest",
        "created_at": "2023-01-17T19:27:39.641000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "'have to' is probably a bit strong for a gossip channel that's not incentivised where there'll already be a bunch low hanging fruit that make it into that pool anyway, but yes, by the spec we should accept it.... may be harder for lighthouse, i don't think they start the topic until capella\nHaving this kind of special casing for things like this is arguably over-engineering the solution, the topic at wall time will be spammed and probably overloaded by nodes trying to 'get in first' and making a mess of it.",
        "created_at": "2023-01-17T19:33:01.271000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "It's fine but to rush, broadcasting later is not the issue, the problem is dropping messages that you could take",
        "created_at": "2023-01-17T19:33:47.163000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "dropping a message is what every other topic does, for this one topic we're starting to read wall clock",
        "created_at": "2023-01-17T19:34:28.576000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "its ok, i'll look at it, but im not super worried",
        "created_at": "2023-01-17T19:34:57.105000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "The problem is that whatever we do it'll be critical and some people will be spamming",
        "created_at": "2023-01-17T19:35:09.432000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and they'll be the source of the actual problem that occurs",
        "created_at": "2023-01-17T19:35:26.995000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "that gossip topic will be a mess",
        "created_at": "2023-01-17T19:35:36.906000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so i think this exassabates the problem not helps",
        "created_at": "2023-01-17T19:35:55.014000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Agreed, and there's no good solution",
        "created_at": "2023-01-17T19:35:58.334000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "But I think if we start dropping messages we will see a worse situation",
        "created_at": "2023-01-17T19:36:25.687000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Couldnâ€™t we say that we enable gossip Capella + 1 epoch?",
        "created_at": "2023-01-17T19:36:51.391000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "not sure how, if a few clients dont handle this topic perfectly, the world cointinues to operate",
        "created_at": "2023-01-17T19:36:51.636000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Because then big players will also start spamming the channel instead of just the lone hacker",
        "created_at": "2023-01-17T19:36:54.715000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "That way all clients would be listening already",
        "created_at": "2023-01-17T19:36:59.993000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "or we start the topic since genesis/phase0",
        "created_at": "2023-01-17T19:37:12.047000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "lighthouse afaik only listens at epoch switch",
        "created_at": "2023-01-17T19:37:12.860000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "keep it simple",
        "created_at": "2023-01-17T19:37:18.877000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "If I'm unsure that Teku will be taking my pool I'll be broadcasting several time my pool until it does",
        "created_at": "2023-01-17T19:37:25.457000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "once its ignored, the p2p layer will not look at it again until that clears",
        "created_at": "2023-01-17T19:37:51.809000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "it'll be duplicate",
        "created_at": "2023-01-17T19:38:01.886000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "anyway this is an academic argument, i've already said i will look into it",
        "created_at": "2023-01-17T19:38:23.122000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "??",
        "created_at": "2023-01-17T19:38:29.340000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "no, please.",
        "created_at": "2023-01-17T19:38:39.177000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "this is a tiny problem, we dont need to overthink it",
        "created_at": "2023-01-17T19:39:00.007000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "any strong reasoning against starting since genesis?",
        "created_at": "2023-01-17T19:39:29.434000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "because then spamming starts stupidly early and we have huge caches everywhere for no reason",
        "created_at": "2023-01-17T19:39:52.792000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "No that's only by message id, it's a race and if I'm unsure that Teku takes my messages I'll be spamming changing the message id and whatever trick I can find. My point is that if hackers can do something I should do the same for my users",
        "created_at": "2023-01-17T19:39:54.792000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ok sure, we're talking about 3 days to process 310k cred changes, it's not going to take long and this problem never occurs again",
        "created_at": "2023-01-17T19:40:36.629000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "16 per slot, all this is less than 3 days to process every possible change and the queue will be empty",
        "created_at": "2023-01-17T19:40:55.984000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah I do agree with Paul here, starting early is as bad as not accepting at the fork: we will see huge p2p caches for no reason",
        "created_at": "2023-01-17T19:41:23.588000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so unless someone censors changes, and that'd be a whole other fix anyway",
        "created_at": "2023-01-17T19:41:26.105000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, this is a one time issue and we can remove whatever special casing we do",
        "created_at": "2023-01-17T19:42:10.378000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and for that reason im not super worried if i miss a couple of gossips, but i'll look",
        "created_at": "2023-01-17T19:42:42.081000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "If clients wouldnâ€™t allow to fill their pools before Capella all of these issues would not happen.",
        "created_at": "2023-01-17T19:42:58.817000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yah if noone could start before epoch+1, then sure, its simple",
        "created_at": "2023-01-17T19:43:17.962000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "If no client takes messages early then there's no reason to Spam early either and this will probably make the fork better behaved",
        "created_at": "2023-01-17T19:43:19.925000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "This is what I would suggest, as a user tooâ€¦",
        "created_at": "2023-01-17T19:43:39.276000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so if you're going to 'catch the network up' id suggest waiting a couple of slots imo",
        "created_at": "2023-01-17T19:43:50.191000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I think no client allows to receive messages over the wire before Capella",
        "created_at": "2023-01-17T19:43:54.683000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh its a rule to reject before that, and historically headslot has been used, and thats what the pattern is that was followed here",
        "created_at": "2023-01-17T19:44:25.116000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Not over the wire, but even local submission shouldnâ€™t be possible.",
        "created_at": "2023-01-17T19:44:35.049000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yes imo, im probably not going to change the bls endpoint for teku at this point",
        "created_at": "2023-01-17T19:45:01.307000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "in fact i think messaging shoudl be something like 'unless you really really need to, dont even bother trying at fork epoch'",
        "created_at": "2023-01-17T19:45:36.126000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I think this is plain wrong, hackers will be using whatever trick they have. We do owe users to have a way of storing their changes earlier. And it's a great project the one to whitelist kyc pools",
        "created_at": "2023-01-17T19:45:46.945000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "With this I agree",
        "created_at": "2023-01-17T19:46:16.914000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Some users might gonna feel â€œdisadvantageâ€ for not being able to submit bls change before Capella tho. So they would be encouraged to use prysm or lodestar over other clients",
        "created_at": "2023-01-17T19:46:21.874000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "if we're clear about how long the changes will take to process, i dont see a real concern. Ppl gaming the system are the only one this wall clock change will help, and that does frustrate a little",
        "created_at": "2023-01-17T19:46:52.974000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Afaik every client will give a way to upload local changes early",
        "created_at": "2023-01-17T19:47:01.480000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "It's good to have this",
        "created_at": "2023-01-17T19:47:09.430000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "noone 'misses out', some may need patience",
        "created_at": "2023-01-17T19:47:47.320000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "in fact trying to get in early may actually cause headaches",
        "created_at": "2023-01-17T19:48:00.614000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "but anyway, stepping out, will catch this up in half hr or so ðŸ™‚",
        "created_at": "2023-01-17T19:48:15.500000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I agree, it'll be nice to have a real life scenario to see how we behave with 300k messages in the pool and everyone broadcasting at the fork",
        "created_at": "2023-01-17T19:48:19.833000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "If I have two different bls change message submitted in two different beacon endpoints, which one will be included first?",
        "created_at": "2023-01-17T19:48:36.779000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Whomever proposes first",
        "created_at": "2023-01-17T19:49:04.098000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Can two different bls change messages of the same credential be present on the same node?",
        "created_at": "2023-01-17T19:50:07.338000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "No",
        "created_at": "2023-01-17T19:50:19.824000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "That's the reason for the race",
        "created_at": "2023-01-17T19:50:27.718000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "As itâ€™s quite likely that leaked keys would be broadcasted super quick",
        "created_at": "2023-01-17T19:50:33.324000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Not only that but also continuously",
        "created_at": "2023-01-17T19:50:50.337000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh they're the only one the wall clock advantages",
        "created_at": "2023-01-17T19:50:51.215000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "It's fairly cheap for a hacker to rent 1000 nodes for a day and broadcast the same message every single second from different nodes until some peer takes it",
        "created_at": "2023-01-17T19:51:59.431000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "just use prysm heh",
        "created_at": "2023-01-17T19:52:12.872000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Tomorrow I can setup some bls changes that set the withdrawal keys to different credentials",
        "created_at": "2023-01-17T19:52:19.314000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "And could do this for 47k validators",
        "created_at": "2023-01-17T19:52:24.029000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "on capella epoch transition?",
        "created_at": "2023-01-17T19:52:40.705000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Not a full scale test of 300k but we can do the full scale testing for devnet 4",
        "created_at": "2023-01-17T19:52:41.588000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "This is a nice treat",
        "created_at": "2023-01-17T19:52:53.219000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Test",
        "created_at": "2023-01-17T19:52:55.329000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "our cache is big enough now so at least we'll store them",
        "created_at": "2023-01-17T19:53:09.345000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "It wouldnâ€™t be pre Capella",
        "created_at": "2023-01-17T19:53:36.181000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Unless we relaunch the devnet",
        "created_at": "2023-01-17T19:53:40.631000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Or start devnet 4.",
        "created_at": "2023-01-17T19:53:45.073000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "thats the real test i guess, on transition",
        "created_at": "2023-01-17T19:53:53.018000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "any other time it'll be fine except the release you have uses a 1k cache for teku",
        "created_at": "2023-01-17T19:54:11.159000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Devnet 3 is pretty stable and boring. You already want to go big ? ðŸ˜Ž",
        "created_at": "2023-01-17T19:54:18.876000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e could you change the eth1 withdrawal address to my address?",
        "created_at": "2023-01-17T19:55:30.078000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "(for fuzzing purposes of course)",
        "created_at": "2023-01-17T19:55:41.097000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I say we test this once all clients can post bls change to their local pool before Capella",
        "created_at": "2023-01-17T19:55:47.840000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Put it in the consensus specs directly",
        "created_at": "2023-01-17T19:55:49.020000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Lodestar also gotta fix their gossip problems. And nimbus doesnâ€™t have an operational pool yet.",
        "created_at": "2023-01-17T19:56:41.824000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "So itâ€™s a bit early to test 300k imo",
        "created_at": "2023-01-17T19:56:50.273000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Also I guess the 50k validators that are currently on devnet 3 should be submitted from different beacons to see gossip work as planned",
        "created_at": "2023-01-17T20:01:25.297000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I tried to sneak potuz.eth in prysm but the PR review process is not so broken",
        "created_at": "2023-01-17T20:06:22.085000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Come to the devops team, we have had PRs approved in under 30s",
        "created_at": "2023-01-17T20:07:33.190000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "^weâ€™re planning to implement queueing locally before Capella, just didnâ€™t get to it before this devnet (\u003chttps://github.com/sigp/lighthouse/issues/3882\u003e)",
        "created_at": "2023-01-17T20:10:29.569000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "we will re-broadcast at the fork too",
        "created_at": "2023-01-17T20:10:54.538000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "we use the wall clock, Iâ€™ll have a look at the logs to see why we were rejecting",
        "created_at": "2023-01-17T20:11:52.990000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Then that's fine I guess, it's perfectly fine to have some clock skew causing ignored messages (but not rejections)",
        "created_at": "2023-01-17T20:13:19.312000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "But that will be much less effect than head state",
        "created_at": "2023-01-17T20:13:38.840000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "considering some logic we have elsewhere around basically fixed-size, circular queues. These kind of unbounded situations have come up before, in Nimbus's history, and we've removed them. So considering mechanisms which might work for Nimbus not to be vulnerable to being asked to store 300+k buffered messages.\n\nI think that using the exits approach is compatible with the rest of the ecosystem: if doing the same thing, it stores the last fixed `n` for smallish `n` (dozens, not hundreds) of messages. Another option which scales is just random selection.\n\nThe idea here is that any given block only has so many, and pool query operations aside, there's no real reason for a BN to store hundreds of thousands of messages it will never use",
        "created_at": "2023-01-17T20:33:08.909000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "because even with 100+ validators, proposals just aren't common per node",
        "created_at": "2023-01-17T20:34:02.707000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "The only concern I have is that the mechanism doesn't create odd incentives where if everyone did it, BLS change requests could silently disappear, and therefore incentivizing spamming. But people might spam anyway.",
        "created_at": "2023-01-17T20:36:18.819000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "there will be an element that spams, the question is the size of that element i guess",
        "created_at": "2023-01-17T20:36:52.282000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "There's really very few reasons to 'be first'",
        "created_at": "2023-01-17T20:37:18.304000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i mean technically, im not sure financialiy if theres someone that could give any potential reasons there",
        "created_at": "2023-01-17T20:37:42.782000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i cant see this flooding supply, but im really not knowledgeable so i wont theorise on things i dont know about",
        "created_at": "2023-01-17T20:38:05.330000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i am in favor of just opening the topic since genesis, all this is extra code for no real gain in future and obviously if people want to pre send their bls changes how big is the db gonna grow",
        "created_at": "2023-01-17T20:38:20.702000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "there's all sorts of topics which open/close per fork",
        "created_at": "2023-01-17T20:38:52.920000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i think we're at the point we should leave the spec alone without a critical issue",
        "created_at": "2023-01-17T20:38:58.629000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "EIP4844 will close regular signedbeaconblock gossip",
        "created_at": "2023-01-17T20:39:06.157000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and this is most certainly not a critical issue",
        "created_at": "2023-01-17T20:39:12.838000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "hmmm ok but i strongly feel for it",
        "created_at": "2023-01-17T20:39:16.130000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i feel very strongly against,",
        "created_at": "2023-01-17T20:39:31.846000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "against, as well",
        "created_at": "2023-01-17T20:39:38.080000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ha ha ok",
        "created_at": "2023-01-17T20:39:38.861000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i think the spec is right in this regard",
        "created_at": "2023-01-17T20:39:43.308000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "jsut that we're not 'strictly' following it, so i'll adjust",
        "created_at": "2023-01-17T20:39:56.207000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "capella doesn't \"exist\" until it actually does",
        "created_at": "2023-01-17T20:40:02.287000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "nothing else in the spec has this kind of in-some-future-hardfork-which-isn't-yet-happening behavior",
        "created_at": "2023-01-17T20:40:18.238000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "except for this gossip whichis wall clock not spec",
        "created_at": "2023-01-17T20:40:22.692000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "in this regard our queueing will start at a point in time, even if the head state isn't caught up",
        "created_at": "2023-01-17T20:41:05.271000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "... actually, I like the incentivization behind the limited-per-Nimbus-node window. It explicitly pushes back against spam-the-network-with-300k-all-at-once, which creates other problems and unreasonable expectations anyway",
        "created_at": "2023-01-17T20:52:13.972000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Thanks for the info, really helpful, am investigating",
        "created_at": "2023-01-17T20:59:07.835000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Clients also have to assume that some nodes will restart, and not necessarily retain their pools through said restarts (Nimbus definitely does not).",
        "created_at": "2023-01-17T20:59:17.480000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "I'll do some more investigation on teku code in this area, i thought it was using capella at head state somewhere, but it does appear to use wall clock where it needs to, will chase that down.... potentially we do accept at wall clock now \u003c@755590043632140352\u003e \u003c@412614104222531604\u003e",
        "created_at": "2023-01-17T20:59:57.212000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Which means sending out one's request at exactly `CAPELLA_FORK_EPOCH` and then just waiting is not a viable strategy, or at least not an optimal strategy",
        "created_at": "2023-01-17T21:00:41.221000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "the optimal strategy is apply KISS principal. unless you need to submit on boundary, dont even try. let the blood dry and submit in 3+ days post boundary",
        "created_at": "2023-01-17T21:01:51.888000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "when the queue is empty anyway",
        "created_at": "2023-01-17T21:02:00.796000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, and since it's a one-time-thing per validator, it literally can't keep going",
        "created_at": "2023-01-17T21:02:24.494000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "(well, people can churn, but there are stricter limits there too)",
        "created_at": "2023-01-17T21:02:37.943000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and i cant see how there's a downside unless theres somehow a financial flow on that i dont understand",
        "created_at": "2023-01-17T21:02:43.266000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "are there any gurus we can prod to ponder this?",
        "created_at": "2023-01-17T21:02:58+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Not sure, I view this as a mechanism design problem, a field in which I'm not especially expert, and that create-an-unbounded-per-node-queue probably is not the best approach",
        "created_at": "2023-01-17T21:03:40.630000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "the queue is bounded by the size of the validators with bls keys, literally not unbounded",
        "created_at": "2023-01-17T21:04:11.041000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i checked on the weekend and it was 310k rounding up",
        "created_at": "2023-01-17T21:04:23.166000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "big though, and orders of magnitude larger than it has to really be",
        "created_at": "2023-01-17T21:04:27.987000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "not big in real terms, less than 3 days to get through, less than 50mb in terms of mem",
        "created_at": "2023-01-17T21:04:52.908000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah its 4.5d for full sweep of 500k validators",
        "created_at": "2023-01-17T21:05:11.236000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "maybe im slightly off, double it still 100 is not huge",
        "created_at": "2023-01-17T21:05:14.173000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh but WRT bls_to_execution, 310k have bls creds",
        "created_at": "2023-01-17T21:05:29.932000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yup exactly",
        "created_at": "2023-01-17T21:05:36.763000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so the 3d sounds about right",
        "created_at": "2023-01-17T21:05:41.271000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so i set our queue at 300k",
        "created_at": "2023-01-17T21:05:58.084000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and I bet that not all 310k validators will be there before capella to change their bls key lol",
        "created_at": "2023-01-17T21:05:59.254000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Nimbus can do a full mainnet node (including validator client) at 1GB, so it's not insignificant. But maybe a compromise is to bound it, but bound it large enough it's not a serious constraint",
        "created_at": "2023-01-17T21:06:14.011000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh but its cheap to have space for them",
        "created_at": "2023-01-17T21:06:15.376000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "having 1GB for 3d is worth it imo",
        "created_at": "2023-01-17T21:06:41.759000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "the thing here is it's not a fixed array so its only as big as it has to be",
        "created_at": "2023-01-17T21:06:43.766000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "one way/reason Nimbus can do this is not adding random large buffers",
        "created_at": "2023-01-17T21:06:52.729000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh this is a 'for the 1 release of capella` sizing",
        "created_at": "2023-01-17T21:07:07.941000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "post that, it goes back to normal and all this noise disappears",
        "created_at": "2023-01-17T21:07:28.867000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and the few seconds we've spent an hour on wont even be a consideration",
        "created_at": "2023-01-17T21:07:44.513000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "fair enough, sure",
        "created_at": "2023-01-17T21:09:47.243000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "If by this you mean to have a bounded pool I am absolutely fine with this, Teku already has this, and I am seriously considering adding this to Prysm if it hinders the fork in some stress test. I'm not worried about allocation but I do worry about performance of the pool in block processing and block packing. I don't mind if we impose engineering bounds. What I don't want to have is some form of technical differences that can be exploitable by hackers and not by users. I do believe that there are at least 1000 validating keys that (I only have a hunch it's true, but I trust the people that have been crying in these channels for months before withdrawals were implemented) were stolen and we have a fairly good chance of recovering them if we get pools to whitelist previously those changes and do not randomly allow forks broadcasting early filling the pools of small home stakers",
        "created_at": "2023-01-17T22:37:05.178000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Implementing the bound is a little tricky though: will you ignore or reject messages when the pool is full? rejecting would penalize peers and that's a bad idea. Ignoring itself is not good if the p2p library will then keep them cached and you won't see those messages gossiped again. Perhaps I'm overdimensiong the issue of stolen keys or even the number of bls changes that we expect at the fork. It'd be great if we don't get flooded by pools except from keys suspected to be stolen. And this may probably be socially solved by talking to them to not disrupt the fork. \u003c@420951281910284289\u003e \u003c@552133098075193354\u003e would this get some traction?",
        "created_at": "2023-01-17T22:43:01.604000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Testing",
        "parent": "",
        "content": "\u003e Perhaps I'm overdimensiong the issue of stolen keys or even the number of bls changes that we expect at the fork. It'd be great if we don't get flooded by pools except from keys suspected to be stolen.\nI suspect a lot of funds/holders/etc. might want to rotate their credentials to start getting partial withdrawals, but hard to say",
        "created_at": "2023-01-17T22:44:35.747000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "current setup is to pack most-recent-BLS-message-first",
        "created_at": "2023-01-17T22:46:31.309000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "I can't see people wanting to rotate keys flooding the system in the first 3 days though.  And really the time period of concern is likely just the first few hours.  If there are 1000 stolen keys it would take 12.5 minutes to include them all. If you're key isn't compromised you'd be crazy to be rushing to submit changes the instant the fork goes live - wait and see it working well first or if there are common mistakes people make you can learn from.",
        "created_at": "2023-01-17T22:46:40.374000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "and when adding something new to a full buffer, drop another item first",
        "created_at": "2023-01-17T22:47:11.311000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Testing",
        "parent": "",
        "content": "Ok yeah, if we need \"minutes to hours\" that's probably fine.",
        "created_at": "2023-01-17T22:47:36.321000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Testing",
        "parent": "",
        "content": "That said, it's not clear that \"advertising\" this is net good (i.e. asking pools to not do this for N hours), as you risk just drawing more attention to the issue..",
        "created_at": "2023-01-17T22:47:46.950000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yeah, that's all we need, the fork being fine,",
        "created_at": "2023-01-17T22:48:14.336000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "after the first few seconds everything is fine cause then pools will broadcast at their convenience",
        "created_at": "2023-01-17T22:48:29.048000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "because, as before, any given node just won't have enough proposal slots to use more than some smallish multiple of 16 BLS to execution changes at within a few hours",
        "created_at": "2023-01-17T22:48:30.905000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "so basically some get swallowed anyway, just a question of which, and in what  part of the pipeline",
        "created_at": "2023-01-17T22:49:08.874000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "ignore/reject is a distinct thing -- they'd be validated regardless, by the usual rules",
        "created_at": "2023-01-17T22:49:53.766000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "we too, but the problem with a limit is what happens if you get a BLS change over the wire, gossiped and your pool is full? if your P2P network won't let it come again because it's in the already seen cache, then you won't have access to that message even when your pool empties. In principle this is not a problem,",
        "created_at": "2023-01-17T22:50:09.408000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "I don't see a risk of this being exploited if nodes just drop some operations from their pool which is the suggestion here.  As long as they don't reject it's fine.",
        "created_at": "2023-01-17T22:50:17.914000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "that particular BLS message, sure",
        "created_at": "2023-01-17T22:50:50.809000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Testing",
        "parent": "",
        "content": "Ok, so happy to communicate that to pools \u0026 staking providers ðŸ‘",
        "created_at": "2023-01-17T22:50:53.721000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but there's no reason to think any particular one is special",
        "created_at": "2023-01-17T22:51:02.231000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "thanks, that I think alleviates a *lot* of my worries with this fork.",
        "created_at": "2023-01-17T22:51:23.889000+00:00",
        "attachments": null
    },
    {
        "author": "timbeiko",
        "category": "Testing",
        "parent": "",
        "content": "Do you think we should have that in the blog post as well?",
        "created_at": "2023-01-17T22:51:39.196000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "just a few minutes would make a big difference I think",
        "created_at": "2023-01-17T22:51:42.064000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I think so, the main reason being that you donÂ´t really gain much of an edge by broadcasting 5 minutes early. The maximum wait time is about three days. If you have no reason to believe your keys have been compromised, you're better off not disturbing the fork and making sure that your change will be broadcasted and accepted a few minutes later",
        "created_at": "2023-01-17T22:53:35.450000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "If we get the top 3 pools (with BLS withdrawal keys) to do this, then we don't even need to worry about the gossip topic",
        "created_at": "2023-01-17T22:54:25.201000+00:00",
        "attachments": null
    }
]