[
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e could you pls take a look at these?",
        "created_at": "2023-02-13T08:17:49.796000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I could easily wipe and restart them, and they would probably sync up nicely, but would be cool if the actual issue could be debugged",
        "created_at": "2023-02-13T08:18:14.685000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "sure, can take a look in a bit",
        "created_at": "2023-02-13T08:19:44.913000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "also looks like devnet 4 LH/Nethermind nodes are completely off",
        "created_at": "2023-02-13T08:20:07.685000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I have tried to restarted them, but probably due to inconsistent versioning images are no longer working there",
        "created_at": "2023-02-13T08:20:27.990000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Is anyone still actively debugging devnet 4 for anything?",
        "created_at": "2023-02-13T08:20:42.834000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "We are planning to launch another big devnet 7.",
        "created_at": "2023-02-13T08:20:58.579000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Is it ok for everyone to take devnet 4 down?",
        "created_at": "2023-02-13T08:21:10.171000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "would be cool to test sepolia client releases already on devnet 7.",
        "created_at": "2023-02-13T08:21:31.287000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@758579010027782144\u003e \u003c@755590043632140352\u003e \u003c@341574016160497665\u003e \u003c@792822129019584562\u003e \u003c@680234424037670912\u003e \u003c@654267572107083777\u003e \u003c@583892532644151312\u003e",
        "created_at": "2023-02-13T08:32:06.469000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "sure, yes",
        "created_at": "2023-02-13T08:32:55.696000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yo Lighthouse team, the `zhejiang-testnet-lighthouse-geth-2` instance is stuck, the problem is the ethereumjs bad encoding issue, geth sees a bad block and reports bad to the CL. You tried a few times again but after a while you just sit there idle saying `Invalid block received                  outcome: ParentExecutionPayloadInvalid `. Seems like you have some kind of cache for bad blocks, would be good if you could flush that cache every now and then to prevent these issues",
        "created_at": "2023-02-13T08:38:40.207000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "probably similar issue on the besu side too.",
        "created_at": "2023-02-13T08:40:10.537000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "even if there are some malicious nodes on the network that publish bad encoding they should just be ignored instead of hooked on it?",
        "created_at": "2023-02-13T08:40:43.288000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Hey!\nWe're gonna be having two testnets this week:\n- A `withdrawal-devnet-7`: Testnet with 600k validator, 300k bls change lined up, and 100k exits lined up. We would ideally like to have genesis for this by tuesday. This testnet would also have mainnet specs, so mainnet wait times for withdrawals. Contact Barnabas for info.\n- A `withdrawal-mainnet-shadowfork-2`: Testnet with all clients represented in a mainnet shadowfork. We'll also like to run mev-boost here and hopefully have mock relay/real relays to test some circuit breaker conditions. Ideally this is live by thursday. We'll have non-standard values, so shorter wait times for withdrawals. Contact me for info.\n\nWe'd continue using the `latest` images or images most recently used. In case we should wait for a PR that is important and yet to be merged, please do let us know. Also let us know if we should use a non-standard image. \n\nConfigs will be posted here when ready: https://github.com/ethpandaops/withdrawals-testnet/",
        "created_at": "2023-02-13T09:14:54.311000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'm gonna give a bit more details about devnet 7. I would like to spin up devnet 7 - 9AM UTC  Tuesday (14th feb). With capella taking place 48h later on Thursday (16th Feb) 9AM UTC. Is it reasonable to assume that we can have somewhat stable (sepolia ready) client released by tomorrow 9AM UTC? Devnet 7 will try to simulate worst case scenario testing again  with 600k validator, 300k bls change lined up, and 100k exits lined up. I will be testing deposits as well as exits and withdrawals all at the same time. We gonna be using about 120 nodes and it will be a closed test (no exterior validators).",
        "created_at": "2023-02-13T09:15:42.628000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "sorry what is the ethereumjs bad encoding issue, seems like i have missed it",
        "created_at": "2023-02-13T09:16:07.770000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Tagged you in the thread",
        "created_at": "2023-02-13T09:16:30.174000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "ah, if you restart Lighthouse it will clear that status and retry",
        "created_at": "2023-02-13T09:22:50.842000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "does Geth recover automatically from the EthereumJS issue? I was under the impression it required a resync?",
        "created_at": "2023-02-13T09:23:14.780000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "It can automatically recover, it's only an issue when fetching a block from EthereumJS",
        "created_at": "2023-02-13T10:02:34.757000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "So when we fetch the same block from a different node, the issue is resolved",
        "created_at": "2023-02-13T10:02:54.227000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "thank you, yea looking into it üëç",
        "created_at": "2023-02-13T10:04:11.218000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Ohhhhh, I had jumped to conclusions and assumed that Geth‚Äôs invalid block handling was the same as ours. Good to know it‚Äôs recoverable.\n\nWe‚Äôll think about adding something to Lighthouse so we can handle this (the most natural thing would be to consider invalid blocks optimistically imported).",
        "created_at": "2023-02-13T10:27:22.845000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "withdrawal-devnet-4 is being nuked in 2h final warning. Its dead.",
        "created_at": "2023-02-13T11:01:26.079000+00:00",
        "attachments": null
    },
    {
        "author": "holiman",
        "category": "Testing",
        "parent": "",
        "content": "\u003e some kind of cache for bad blocks\n\nI'd like to highlight geth's behaviour a bit here... Geth does store \"bad blocks\", so they can be extracted and analyzed from the outside. Via rpc, for example. But: we never _internally_ make use of that info. We do not tag a blockhash as bad, and then refuse to re-check it. That is a deliberate choice",
        "created_at": "2023-02-13T14:46:46.527000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@341574016160497665\u003e looks like besu is no longer working together with ethstats. ```Invalid netstats URL syntax. Netstats URL should have the following format 'nodename:secret@host:port' or 'nodename:secret@host'.``` keep getting this error, even tho I'm using the same format as till now. Could you pls take a look?",
        "created_at": "2023-02-13T15:07:12.149000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "If I remove the ethstats command it starts up",
        "created_at": "2023-02-13T15:07:26.582000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but otherwise it seems like its breaking besu",
        "created_at": "2023-02-13T15:07:32.630000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "for now I have just completely disable besu on ethstats",
        "created_at": "2023-02-13T15:22:02.624000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Testing",
        "parent": "",
        "content": "What happens if all sync-committee validators exit the network? is the sync committee now empty? And how does this affect the network?\n(i think i already asked this one, sorry!)",
        "created_at": "2023-02-13T15:32:55.104000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "sync committee members are rewarded/penalized even if exited. If they all decide to exit and they don't perform their duties, we will have about a day with an empty sync aggregate until another committee is formed",
        "created_at": "2023-02-13T15:41:52.483000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Testing",
        "parent": "",
        "content": "thx, would this be \"bad\"?",
        "created_at": "2023-02-13T15:44:17.044000+00:00",
        "attachments": null
    },
    {
        "author": "butta",
        "category": "Testing",
        "parent": "",
        "content": "askin because, if this is something alarming, we should display it somewhere on the explorer...",
        "created_at": "2023-02-13T15:44:54.011000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "well, light clients would not be able to say the current head is good",
        "created_at": "2023-02-13T15:45:03.414000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "so it may affect some dapps for example that follow the chain with a light client instead of a full client",
        "created_at": "2023-02-13T15:45:38.240000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I'm not aware of anyone using light clients in production, but then again, I don't know anything about usage of ethereum",
        "created_at": "2023-02-13T15:45:57.855000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Thanks!\n\nI suspect this could prove to be a problem for other CLs that implement optimistic sync, as the optimistic sync spec is quite clear about what do when the EL returns INVALID, e.g. \u003chttps://github.com/ethereum/consensus-specs/blob/dev/sync/optimistic.md#transitioning-from-valid---invalidated-or-invalidated---valid\u003e\n\nTo work around that CLs need to either delete invalid blocks from their in-memory fork choice (hard if the invalidation happens on fcU) or change the status to SYNCING. I prefer the latter, but it requires the CL to implement EL blockHash verification which AFAIK only Lighthouse and Nimbus have done.",
        "created_at": "2023-02-13T21:50:56.418000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@361447803194441738\u003e also points out that the 2nd approach compromises the CL's ability to fork around bad blocks. The CL allows the head of the chain to be a SYNCING/optimistic block, in which case it will stall and not attest or propose blocks, but it _does not_ allow the head to be INVALID and will choose any other head to get around that (e.g. one with less votes, the parent, etc). In this sense, INVALID is quite useful.\n\nI think it would be cleaner if we could solve this on the EL side so that the EL only ever sends INVALID if it is quite sure that the block is actually invalid, or in cases of extreme breakage e.g. database corruption. Sending INVALID to the CL for a recoverable bad block encoding seems unwarranted and better addressed internally to Geth",
        "created_at": "2023-02-13T23:17:52.625000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Considering that we have the SYNCING response to indicate \"I don't have enough information to validate this payload\", if a particular block hash flips from INVALID to VALID then it seems that either:\n\n- The hasher has a collision (two messages, same digest).\n- The state transition function is impure (same block, same pre-state, different outcomes).\n\nI don't think either of these conditions are compatible with the expectations of the engine API.",
        "created_at": "2023-02-13T23:33:59.639000+00:00",
        "attachments": null
    }
]