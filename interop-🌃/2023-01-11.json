[
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "does this devnet have historical summaries i.e. latest spec?",
        "created_at": "2023-01-11T00:03:34.699000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "if so, Lighthouse will not be working at all",
        "created_at": "2023-01-11T00:03:41.929000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "lighthouse is the only one progressing...",
        "created_at": "2023-01-11T00:04:08.950000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "but yes it does have summaries, so i guess that'll explain a chain split",
        "created_at": "2023-01-11T00:04:42.534000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "and the different root",
        "created_at": "2023-01-11T00:04:54.508000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "that might actually be enough for me to answer the question",
        "created_at": "2023-01-11T00:05:06.045000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "block proposer for block 644 was lighthouse - index 35474, so that'll be why we can't import it",
        "created_at": "2023-01-11T01:07:49.908000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I've just synced up to devnet-2 with our new spec-compliant version and I'm stuck on block 636 (root: `0x167d7f8fb94c5b7e104d541ca9068ec454ade59b7399017b6cb26eb2b23b125a`). Same for you \u003c@680234424037670912\u003e ?",
        "created_at": "2023-01-11T01:10:08.058000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yep",
        "created_at": "2023-01-11T01:10:17.646000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "although i didnt manage to sync it so you're one up on me!",
        "created_at": "2023-01-11T01:10:26.760000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "mine didnt manage to download blocks,  then i decided to go in a dift direction",
        "created_at": "2023-01-11T01:10:52.301000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I haven't managed to sync Geth ðŸ˜…",
        "created_at": "2023-01-11T01:12:16.432000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "but Lighthouse synced optimistically",
        "created_at": "2023-01-11T01:12:26.168000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ah i could try that",
        "created_at": "2023-01-11T01:12:33.989000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "but this answers most of my question... my follow up is why no more blocks happened, seems odd",
        "created_at": "2023-01-11T01:12:55.680000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "yeah I was wondering that too",
        "created_at": "2023-01-11T01:13:11.854000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i'd have thought 1 client issue wouldnt halt everythign",
        "created_at": "2023-01-11T01:13:14.560000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "maybe we all died just before the Capella fork?",
        "created_at": "2023-01-11T01:14:57.808000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Capella should be slot 640 right?",
        "created_at": "2023-01-11T01:15:04.361000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yep so 636 was last block before capella",
        "created_at": "2023-01-11T01:15:20.576000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "capella at 640, no blocks until 644",
        "created_at": "2023-01-11T01:15:30.908000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I think I'll just merge our impl and we can see if it helps once the EF devops crew wake up and deploy it",
        "created_at": "2023-01-11T01:15:45.467000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "we're so far down the line now that teku is disallowing calculation of duties",
        "created_at": "2023-01-11T01:16:13.822000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so i think probably a re-initialise of network",
        "created_at": "2023-01-11T01:16:39.746000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "I need to know with high certainty i can just call v2 EL functions for capella network before i remove my workarounds, so far i've had no response from any EL teams",
        "created_at": "2023-01-11T01:24:49.145000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so in slots 1-639 on this devnet2, if i call the v2 fn's is that a problem",
        "created_at": "2023-01-11T01:25:18.729000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Wouldn't this be a problem for users ? If they are using a combination where the consensus layer client update version that calls V2s on bellatrix gets released before the execution client update that supports V2 calls, they could update and end up with clients that can't talk to each other.",
        "created_at": "2023-01-11T01:32:45.396000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "would be a case of 'if capella is supported, use v2 FCU', but it was a problem in devnet2 when our head block was stuck at 636 and so we're calling v1 fn's...\nI can change the workaround, but its still going to be a cludge... if the EL spec didn't say that it should work, i'd probably spend more time on the workaround...",
        "created_at": "2023-01-11T01:34:40.244000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "should get less noise from teku with regards to us making v1 calls post-capella, i've removed those work arounds that were in place. Docker images have been updated with that change",
        "created_at": "2023-01-11T05:13:16.647000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Ready now. Latest `sigp/lighthouse:capella` image has this commit which enables spec v1.3.0-rc.0: \u003chttps://github.com/sigp/lighthouse/pull/3763/commits/98b11bbd3fec8b78602a80243eb889d75e1f7d67\u003e",
        "created_at": "2023-01-11T06:34:28.628000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ok.",
        "created_at": "2023-01-11T06:56:57.669000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Iâ€™ll get on it.",
        "created_at": "2023-01-11T06:57:05.609000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "However itâ€™s still suspicious that one bad client with only 1/10 of the validator count could break the network",
        "created_at": "2023-01-11T06:58:14.148000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Iâ€™m thinking whether we should try to include some older versions of each client in our testing to see if we can replicate this. We canâ€™t expect to everyone update to Capella before the fork and if a client produces a bad block we wouldnâ€™t want the entire chain to stop making blocks",
        "created_at": "2023-01-11T06:59:41.301000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i agree its a little worrying nothing else seemed to recover it after that, admittedly teku started throwing away all gossip at that point which is the issue i fixed",
        "created_at": "2023-01-11T07:27:13.192000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "not sure if that would make it better, but it'd improve things",
        "created_at": "2023-01-11T07:27:26.091000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "my expectation would have been that another client create an alt block from 636 and the network changes to that",
        "created_at": "2023-01-11T07:28:22.583000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "maybe i should dump the proto array and see if any more blocks came ever or something",
        "created_at": "2023-01-11T07:28:59.408000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "last block was on 636 for me,  if anyone else wants to do a dump, `/eth/v1/debug/fork_choice` if your client supports it",
        "created_at": "2023-01-11T07:31:32.698000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "So it looks like all clients have now a new release, I could try to relaunch devnet 2. Please let me know in the next hour if you would like me to keep the old one up for debugging.",
        "created_at": "2023-01-11T08:24:55.493000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "its well past being useful for teku, i'm just copying a tiny bit of context, 5 min and i'll be done",
        "created_at": "2023-01-11T08:26:27.899000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "actually, its finished copying now",
        "created_at": "2023-01-11T08:27:35.857000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ta",
        "created_at": "2023-01-11T08:27:37.258000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Relaunch of devnet 2 is in 20 mins.",
        "created_at": "2023-01-11T09:40:40.245000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e \u003c@476250636548308992\u003e \u003c@755590043632140352\u003e \u003c@654267572107083777\u003e and others, you all good with devnet2 relaunching?",
        "created_at": "2023-01-11T09:41:29.503000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, relaunch is fine for LH, but we already know what was wrong for us.\n\nMaybe the other clients want to debug the failed block proposals? Or maybe it's not worth the delay",
        "created_at": "2023-01-11T09:42:54.527000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Should be ok on our end, if you are using the newer images",
        "created_at": "2023-01-11T09:45:40.923000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "all our DNS now use .io instead of .com. e.g: `ssh devops@withdrawal-devnet-2-nimbus-geth-1.ethpandaops.io`",
        "created_at": "2023-01-11T10:01:35.947000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://withdrawaldevnet2.ethpandaops.io/",
        "created_at": "2023-01-11T10:01:59.915000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "New Genesis: Date and time (GMT): Wednesday, 11 January 2023 11:15:00",
        "created_at": "2023-01-11T10:11:04.345000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, if using latest `unstable` (which has that TTD fix mentioned above) for Nimbus",
        "created_at": "2023-01-11T11:16:30.940000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like teku is still not working.",
        "created_at": "2023-01-11T11:18:52.942000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`Rejecting gossip message on topic /eth2/110285c0/beacon_block/ssz_snappy, reason: Block (or its parent) previously marked as invalid, decoded message: 0x64000000a73be0c0c4f8493d9f78123992552dfb793020c3510929a71cc6d3cb29b4df4b107fb9a3d44eba01d19e14940d58082015db74b64cf8e94c5619ec69a88`",
        "created_at": "2023-01-11T11:19:47.444000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and our majority nodes are teku",
        "created_at": "2023-01-11T11:19:53.141000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and making the chain break.",
        "created_at": "2023-01-11T11:19:58.761000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "what about other clients ?",
        "created_at": "2023-01-11T11:20:17.575000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Other clients seem ok",
        "created_at": "2023-01-11T11:21:00.449000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i'll have to download the genesis state and see why slot 1 got rejected",
        "created_at": "2023-01-11T11:21:06.244000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": ":q",
        "created_at": "2023-01-11T11:21:44.129000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": ":q",
        "created_at": "2023-01-11T11:21:46.843000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2023-01-11T11:21:47.526000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "c616c955ff7a60fee3f1b2c92ae5a614e076d178dd1820911f94560eab473faf"
            }
        ]
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "bah",
        "created_at": "2023-01-11T11:21:51.636000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah too big",
        "created_at": "2023-01-11T11:21:57.508000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I love the error message tho ðŸ˜‚ `java.lang.IllegalStateException: Invalid ExecutionPayload: No reason provided`",
        "created_at": "2023-01-11T11:22:08.541000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "its ok i'll download logs and state etc",
        "created_at": "2023-01-11T11:22:10.671000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e nimbus doesn't seem ok",
        "created_at": "2023-01-11T11:22:37.125000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "it managed to process block 1, but nothing after that",
        "created_at": "2023-01-11T11:22:50.505000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "other clients are on block 8 now.",
        "created_at": "2023-01-11T11:22:58.750000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "will check",
        "created_at": "2023-01-11T11:23:08.671000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "most likely we're in trouble from calling v2 EL, thats the only real change i had made i think",
        "created_at": "2023-01-11T11:24:45.670000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yes, it's still the unfixed version, see above, it's not current `unstable`",
        "created_at": "2023-01-11T11:24:52.391000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah ok",
        "created_at": "2023-01-11T11:25:16.731000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Building new image for nimbus then",
        "created_at": "2023-01-11T11:25:20.592000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "there was an update yesterday to fix the TTD detection spin loop it's in",
        "created_at": "2023-01-11T11:25:24.646000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok",
        "created_at": "2023-01-11T11:25:34.239000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah",
        "created_at": "2023-01-11T11:25:34.352000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "the one im looking at has an EL message about an invalid block hash",
        "created_at": "2023-01-11T11:29:04.413000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "that was on teku-besu-1",
        "created_at": "2023-01-11T11:30:06.700000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "restarted nimbus with the newest image",
        "created_at": "2023-01-11T11:39:13.269000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "could use teku on the older image pre-latest... that'd be calling v1",
        "created_at": "2023-01-11T11:39:35.089000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "can you give me an image ?",
        "created_at": "2023-01-11T11:39:44.628000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I've been using :develop.",
        "created_at": "2023-01-11T11:39:50.484000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "will figure out how i find it... one sec",
        "created_at": "2023-01-11T11:40:04.288000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "if its not tagged with a different tag, it will keep overwriting it",
        "created_at": "2023-01-11T11:40:49.281000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so doubt you would find anything useful tbh.",
        "created_at": "2023-01-11T11:41:06.404000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "watching logs on one of them, at least the previous issue is fixed. it is running smoothly. took a couple minutes to get a useful peer, but up to local head slot of 93",
        "created_at": "2023-01-11T11:41:15.874000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I could try to custom build an image and use that.",
        "created_at": "2023-01-11T11:41:30.232000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "execution isn't syncing on nimbus/geth",
        "created_at": "2023-01-11T11:42:14.264000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "There's a bunch of `imported new chain segment`/`chain head was updated` in geth logs",
        "created_at": "2023-01-11T11:43:14.152000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "only 2 geth peers, don't know if that's enough",
        "created_at": "2023-01-11T11:43:53.109000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "should be enough yeah",
        "created_at": "2023-01-11T11:44:09.783000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "seems like there is a fork",
        "created_at": "2023-01-11T11:44:20.339000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "if you can give me a repo/branch I can build an image.",
        "created_at": "2023-01-11T11:45:09.059000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ok just considering if i can sync from here and see if it gets past block 1 :/",
        "created_at": "2023-01-11T11:47:45.351000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'd wipe teku nodes, and restart from genesis",
        "created_at": "2023-01-11T11:48:07.870000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "with the new image",
        "created_at": "2023-01-11T11:48:12.669000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "my main concern is the FcuV1 caused yestrdays issue so putting it back feels like stepping backwards",
        "created_at": "2023-01-11T11:48:39.670000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "any reason why teku is calling v2 before capella?",
        "created_at": "2023-01-11T11:49:03.702000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "because we shoudl be able to, and the missed blocks yesterday poked it in bad ways",
        "created_at": "2023-01-11T11:49:30.833000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "although this seems to have bricked things so tempted to completely revert it",
        "created_at": "2023-01-11T11:50:00.003000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I don't think you should be able to according to the new spec release",
        "created_at": "2023-01-11T11:50:07.177000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e the machines probably still cached the teku image, you can use an older image by referring to the sha hash. so `develop@sha:...` and you can find the sha from `docker images` and checking the date of the image",
        "created_at": "2023-01-11T11:50:09.502000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/execution-apis/pull/337/files#diff-7f4d254dcf8481d57ebc62bc0fabc8ff25adcb19fa2721f4b9a6ff3ff301a33dR82",
        "created_at": "2023-01-11T11:54:02.929000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ok so thats' my bad... that's changed and i missed it - putting up branch",
        "created_at": "2023-01-11T11:55:04.521000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "its a can of worms though, we'd have to convert slot -\u003e timestamp",
        "created_at": "2023-01-11T11:55:50.374000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "why not epoch?",
        "created_at": "2023-01-11T11:56:01.564000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "because timestamp is seconds, and epoch is 6 minutes...",
        "created_at": "2023-01-11T11:56:19.984000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah but CL should trigger on a certain epoch",
        "created_at": "2023-01-11T11:56:46.177000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "EL should trigger on a timestamp",
        "created_at": "2023-01-11T11:57:05.677000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "how did you trigger altair ?",
        "created_at": "2023-01-11T11:57:29.398000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "or bellatrix?",
        "created_at": "2023-01-11T11:57:33.062000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "slot",
        "created_at": "2023-01-11T11:57:42.517000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "everything is slot",
        "created_at": "2023-01-11T11:57:44.784000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "what if that slot is missed?",
        "created_at": "2023-01-11T11:57:53.894000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "then it gets fun... im tired... i'll have a closer think tomorrow morning... branch : https://github.com/ConsenSys/teku/pull/6677",
        "created_at": "2023-01-11T11:58:29.664000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Okay, no worries.",
        "created_at": "2023-01-11T11:59:09.021000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i know one section im not happy with in that, but most of it should work. the main issue is the FCU, it needs to be better than whats in that PR",
        "created_at": "2023-01-11T11:59:12.627000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Sorry for the misunderstanding.",
        "created_at": "2023-01-11T11:59:14.173000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i even hassled someone about it today and thought this was the right option, but apparently not!",
        "created_at": "2023-01-11T11:59:40.253000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Building image thanks",
        "created_at": "2023-01-11T12:00:00.152000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "hold that one sec i missed new payload",
        "created_at": "2023-01-11T12:00:43.427000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok. Ping me when its ready",
        "created_at": "2023-01-11T12:01:27.906000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Looks like the chain is still dying.",
        "created_at": "2023-01-11T12:22:11.402000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "So going to be relaunching it once again.",
        "created_at": "2023-01-11T12:22:18.279000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I don't think we have ever had this broken chain before, where the same client combinations produce different block hashes for the same blocks",
        "created_at": "2023-01-11T12:26:12.241000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2023-01-11_at_13.25.47.png",
                "content": "98a179bd2aab30c8d455b452ce6aad6c27dada2cb5f699110bb6d34c223a8f5b"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Generating new genesis file now, and will keep you all updated when the relaunch has happened.",
        "created_at": "2023-01-11T12:26:37.277000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "eth2 genesis at 1673444100 + 120 = 1673444220  (2023-01-11 13:37:00 +0000 UTC)",
        "created_at": "2023-01-11T12:32:12.304000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e we merged withdrawals to the master branch, just a heads up. I remember that you prepared a tutorial, but I can't find the link",
        "created_at": "2023-01-11T12:55:28.764000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://notes.ethereum.org/@bbusa/Zhejiang",
        "created_at": "2023-01-11T12:55:55.626000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "This you mean?",
        "created_at": "2023-01-11T12:55:57.967000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "oo thx!",
        "created_at": "2023-01-11T12:56:00.780000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-01-11T12:56:01.974000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Image?",
        "created_at": "2023-01-11T12:56:49.991000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "image the same",
        "created_at": "2023-01-11T13:03:12.997000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "only branch changed",
        "created_at": "2023-01-11T13:03:16.836000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok",
        "created_at": "2023-01-11T13:03:26.206000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "We just hit genesis. So far so good.",
        "created_at": "2023-01-11T13:37:51.477000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e nimbus seems to be struggling again.",
        "created_at": "2023-01-11T13:41:31.749000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "try https://github.com/status-im/nimbus-eth2/pull/4486",
        "created_at": "2023-01-11T13:42:42.477000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it was still apparently (said `gdb attach`) spinning on TTD monitoring",
        "created_at": "2023-01-11T13:43:18.220000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "building from branch `2nK`",
        "created_at": "2023-01-11T13:43:43.206000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah",
        "created_at": "2023-01-11T13:43:47.629000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have over 80% participation, so things don't look too bad.",
        "created_at": "2023-01-11T13:51:47+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Hopefully the new nimbus image gonna be able to push it even higher",
        "created_at": "2023-01-11T13:52:02.085000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "well the specific code it got stuck on is gone in that PR, so, if it fails, it will be for a fun new reason",
        "created_at": "2023-01-11T13:52:25.680000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "deploying new image now",
        "created_at": "2023-01-11T13:53:57.475000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is head slot 94 or 95 or so correct?",
        "created_at": "2023-01-11T13:56:06.740000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "watching Nimbus logs and looks normal/ok",
        "created_at": "2023-01-11T13:56:22.424000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah things look a lot better now",
        "created_at": "2023-01-11T13:56:47.218000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "alright, normally we delete branches when merged, so will let you know if/when to target a different branch",
        "created_at": "2023-01-11T13:57:53.545000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you can delete the branch already",
        "created_at": "2023-01-11T13:58:10.466000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ðŸ˜„",
        "created_at": "2023-01-11T13:58:11.043000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "image is built",
        "created_at": "2023-01-11T13:58:15.215000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```Jan-11 13:57:36.157[chain]           error: Block error slot=103\nError: BLOCK_ERROR_INVALID_SIGNATURE```",
        "created_at": "2023-01-11T13:58:23.538000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like we have an invalid block",
        "created_at": "2023-01-11T13:58:30.884000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looking great",
        "created_at": "2023-01-11T13:59:04.263000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2023-01-11_at_14.58.58.png",
                "content": "0feaf360d022f3e057930a2e8edcc1128612abf0451c17402f0ee926b52116cd"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "erigon/lighthouse seems to be the only one struggling.",
        "created_at": "2023-01-11T13:59:23.604000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```Jan 11 13:59:54.004 WARN Not ready for merge                     info: The execution endpoint is connected and configured, however it is not yet synced, service: slot_notifier\nJan 11 14:00:06.001 INFO Syncing                                 est_time: --, distance: 115 slots (23 mins), peers: 17, service: slot_notifier\nJan 11 14:00:06.002 WARN Not ready for merge                     info: The execution endpoint is connected and configured, however it is not yet synced, service: slot_notifier```",
        "created_at": "2023-01-11T14:00:19.130000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "LH logs with erigon.",
        "created_at": "2023-01-11T14:00:25.833000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Probably erigon not able to handle the v2 call?",
        "created_at": "2023-01-11T14:00:31.984000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```[EROR] [01-11|14:00:29.741] [NewPayload] invalid block hash          stated=0xcef82ee8f841abb58a94fdf8179ac03cc3b6044b51d06b733fd4ce155922b061 actual=0x007541b451494b6bb28193ec1645447066fa423313bee261533061dc6719817c```",
        "created_at": "2023-01-11T14:00:41.781000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Erigon marking all block hash as invalid.",
        "created_at": "2023-01-11T14:00:51.541000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Yes, its probably the v2 call.",
        "created_at": "2023-01-11T14:01:06.449000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Results in a different payload hash.",
        "created_at": "2023-01-11T14:01:13.031000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "LH should ensure that they don't submit v2 before capella.",
        "created_at": "2023-01-11T14:01:39.749000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "or maybe not?\n```\nJan 11 14:02:21.036 2023 REQUEST\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"engine_newPayloadV2\",\n  \"params\": [\n    {\n      \"baseFeePerGas\": \"0x342770c0\",\n      \"blockHash\": \"0xcef82ee8f841abb58a94fdf8179ac03cc3b6044b51d06b733fd4ce155922b061\",\n      \"blockNumber\": \"0x1\",\n      \"extraData\": \"0x\",\n      \"feeRecipient\": \"0xf97e180c050e5ab072211ad2c213eb5aee4df134\",\n      \"gasLimit\": \"0x400fff\",\n      \"gasUsed\": \"0x0\",\n      \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\n      \"parentHash\": \"0x9a227f1c827f04cb87597ae4eb5bee6d56f109be897cffd115bd539f0d6a6f36\",\n      \"prevRandao\": \"0x9a227f1c827f04cb87597ae4eb5bee6d56f109be897cffd115bd539f0d6a6f36\",\n      \"receiptsRoot\": \"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\n      \"stateRoot\": \"0xefe2b0054beced34888f6f5214daa7d0718d5eb4c40333d12a2a30f8f44ae210\",\n      \"timestamp\": \"0x63bebb88\",\n      \"transactions\": []\n    }\n  ],\n  \"id\": 1\n}\n\nJan 11 14:02:21.036 2023 RESPONSE\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"result\": {\n    \"status\": \"INVALID_BLOCK_HASH\"\n  }\n}\n```",
        "created_at": "2023-01-11T14:02:38.460000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "engine_newPayloadV2",
        "created_at": "2023-01-11T14:02:52.004000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yea it could be related. But erigon definitely has that block, `eth_getBlockByHash` returns a valid response:\n```\ncurl --location --request POST 'http://localhost:8545' --header 'Content-Type: application/json' --data-raw '{ \"jsonrpc\":\"2.0\", \"method\":\"eth_getBlockByHash\", \"params\":[ \"0xcef82ee8f841abb58a94fdf8179ac03cc3b6044b51d06b733fd4ce155922b061\", true ], \"id\":1 }'\n```\n```\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":{\"baseFeePerGas\":\"0x342770c0\",\"difficulty\":\"0x0\",\"extraData\":\"0x\",\"gasLimit\":\"0x400fff\",\"gasUsed\":\"0x0\",\"hash\":\"0xcef82ee8f841abb58a94fdf8179ac03cc3b6044b51d06b733fd4ce155922b061\",\"logsBloom\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"miner\":\"0xf97e180c050e5ab072211ad2c213eb5aee4df134\",\"mixHash\":\"0x9a227f1c827f04cb87597ae4eb5bee6d56f109be897cffd115bd539f0d6a6f36\",\"nonce\":\"0x0000000000000000\",\"number\":\"0x1\",\"parentHash\":\"0x9a227f1c827f04cb87597ae4eb5bee6d56f109be897cffd115bd539f0d6a6f36\",\"receiptsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"sha3Uncles\":\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",\"size\":\"0x201\",\"stateRoot\":\"0xefe2b0054beced34888f6f5214daa7d0718d5eb4c40333d12a2a30f8f44ae210\",\"timestamp\":\"0x63bebb88\",\"totalDifficulty\":\"0x1\",\"transactions\":[],\"transactionsRoot\":\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",\"uncles\":[]}}\n```",
        "created_at": "2023-01-11T14:03:55.303000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "So erigon has the block but is still responding with INVALID_BLOCK_HASH",
        "created_at": "2023-01-11T14:04:07.828000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@583892532644151312\u003e and \u003c@554799849288105986\u003e \u003c@765854485376532511\u003e could you pls take a look, and see which side is wrong?",
        "created_at": "2023-01-11T14:04:59.699000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like slowly its trying to catch up to head.",
        "created_at": "2023-01-11T14:12:01.427000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Its already in block 98",
        "created_at": "2023-01-11T14:12:08.478000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we are up to 90%",
        "created_at": "2023-01-11T14:13:18.588000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "heh? what happened to cause it to work?",
        "created_at": "2023-01-11T14:14:00.964000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "well it doesn't work well.",
        "created_at": "2023-01-11T14:14:11.286000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "As it can't catch up as fast as the chain progresses",
        "created_at": "2023-01-11T14:14:19.620000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "bit weird of a bug",
        "created_at": "2023-01-11T14:14:23.250000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "well do you mean the CL is catching up or the EL? because that could just be lighthouse moving into optimistic sync mode",
        "created_at": "2023-01-11T14:14:50.107000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "EL catching up",
        "created_at": "2023-01-11T14:29:45.125000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "according to forkmon",
        "created_at": "2023-01-11T14:29:53.981000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "what determines when the forkmon shows a new slot, or removes an old slot, from its summary at the bottom?",
        "created_at": "2023-01-11T15:04:29.797000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I'm honestly not sure of the exact method. But it makes a request regularly and should show the last or last 2 common heads across all the nodes.",
        "created_at": "2023-01-11T15:14:13.022000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "when does capella fork on this reboot of the network?",
        "created_at": "2023-01-11T15:29:04.757000+00:00",
        "attachments": null
    },
    {
        "author": "emhane",
        "category": "Testing",
        "parent": "",
        "content": "I'm onto 4844, \u003c@554799849288105986\u003e is your guy for withdrawals",
        "created_at": "2023-01-11T15:46:45.930000+00:00",
        "attachments": null
    },
    {
        "author": "emhane",
        "category": "Testing",
        "parent": "",
        "content": "Or \u003c@361447803194441738\u003e for everything",
        "created_at": "2023-01-11T15:47:30.753000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "capella looks good to me so far",
        "created_at": "2023-01-11T15:48:25.732000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yea, epoch 20 was capella: `2023-01-11 15:45:00.010 INFO  - Milestone   *** Epoch: 20, Activating network upgrade: CAPELLA`",
        "created_at": "2023-01-11T15:50:24.985000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Since then there is just 1 missed slot",
        "created_at": "2023-01-11T15:50:30.317000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "so we look good",
        "created_at": "2023-01-11T15:50:32.385000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Sorry guys missed to have any BLS changes lined up again ðŸ˜¦",
        "created_at": "2023-01-11T15:50:54.736000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "totally forgot ðŸ˜‚",
        "created_at": "2023-01-11T15:51:05.379000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "The spec is designed so the V2 methods can be called before capella",
        "created_at": "2023-01-11T16:40:51.844000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@554799849288105986\u003e https://github.com/ethereum/execution-apis/pull/337/files#diff-7f4d254dcf8481d57ebc62bc0fabc8ff25adcb19fa2721f4b9a6ff3ff301a33dR82",
        "created_at": "2023-01-11T16:43:00.075000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "Yes this is perfectly congruent with what i said",
        "created_at": "2023-01-11T16:43:50.187000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "It's simply more explicit than the old spec used to be",
        "created_at": "2023-01-11T16:44:02.222000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "This PR evolved out of my PR to address an ambiguity in the spec:\nhttps://github.com/ethereum/execution-apis/pull/332",
        "created_at": "2023-01-11T16:44:48.036000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "You see this change specifies that you can call `engine_newPayloadV2` with **either** `ExecutionPayloadV1` or `ExecutionPayloadV2` depending on the fork - similarly the `V3` methods can be called with **either** the `V2` or `V3` objects depending on the fork",
        "created_at": "2023-01-11T16:47:22.291000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`ExecutionPayloadV1` **MUST** be used if the `timestamp` value is lower than the Shanghai timestamp,\n      - `ExecutionPayloadV2` **MUST** be used if the `timestamp` value is greater or equal to the Shanghai timestamp,",
        "created_at": "2023-01-11T16:50:46.775000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "This is what I read",
        "created_at": "2023-01-11T16:50:50.330000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "V1 must be called before Shanghai",
        "created_at": "2023-01-11T16:50:57.848000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "V2 must be called after Shanghai",
        "created_at": "2023-01-11T16:51:07.962000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "it's easier to read if you display the rich diff:",
        "created_at": "2023-01-11T16:54:08.781000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "engine_api_v1v2.png",
                "content": "d712f8171831e9c59ca352620d5d41ef73eebb610eeb22ccbb41f1c6d51e92cf"
            }
        ]
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "The spec used to imply that the `ExecutionPayloadV2` had a **nullable** `withdrawals` field in order to accommodate calling the `V2` methods before the fork. With this change, the `withdrawals` field is **NOT** nullible in the `V2` objects, but the `V2` **methods** can take **either** the `V1` or `V2` **objects** depending on where we are in the fork",
        "created_at": "2023-01-11T16:57:26.582000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "so this says you **CAN** call `engine_newPayloadV2` (a `V2` **method**) with an `ExecutionPayloadV1` (a `V1` **object**) before the fork",
        "created_at": "2023-01-11T16:58:58.646000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i've got to look closer at the EL change, but because its time based, we'll be calling it with pre-capella data when we're syncing so it has to be able to be null...",
        "created_at": "2023-01-11T20:16:57.199000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "if we're saying post this timestamp, then everything that syncs old blocks will be calling that after that point in time...",
        "created_at": "2023-01-11T20:17:58.267000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "or are we saying that we need to figure out the slot -\u003e time, and based on that slot time, call v1 or v2?",
        "created_at": "2023-01-11T20:30:05.288000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "lots more reading, I think i'm coming around to it, so for Fcu and newPayload, each has a `timestamp` in the structure, and based on that we can call an appropriate endpoint\ngetPayloadV2 vs. v1 we can toggle reliably on the slot the payload is in, so thats kind of a no-brainer",
        "created_at": "2023-01-11T20:50:08.499000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "the one fly in the ointment will be when FcU has an empty payloadAttributes, since the timestamp is in that object...",
        "created_at": "2023-01-11T21:56:36.554000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "The timestamp part is just being explicit about what was previously meant by \"if withdrawal functionality is active\"",
        "created_at": "2023-01-11T23:30:54.783000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "payload attributes is nullable...",
        "created_at": "2023-01-11T23:31:12.758000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "On the EL side, the forks are triggered by timestamp. The EL has a `shanghai_time` parameter in the config.",
        "created_at": "2023-01-11T23:32:27.082000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so they're not referring to the timestamp attribute of the data?",
        "created_at": "2023-01-11T23:32:48.448000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "It is tuned so that `shanghai_time` corresponds to the start of the epoch where capella is active",
        "created_at": "2023-01-11T23:33:13.351000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so if the time is post capella, and i'm syncing pre-capella, i call v1?",
        "created_at": "2023-01-11T23:33:30.006000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "Well I suppose they are, but nothing has actually changed",
        "created_at": "2023-01-11T23:33:32.496000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "or v2?",
        "created_at": "2023-01-11T23:33:34.132000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "becasue if i go by 'the actual physical time is post shanghai', then i call v2 with v1 data",
        "created_at": "2023-01-11T23:34:26.489000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "physical time is easy to implement though",
        "created_at": "2023-01-11T23:35:33.562000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "To put it simply, **blocks** prior to Shanghai must be encoded as `ExecutionPayloadV1` and **blocks** after Shanghai must be encoded as `ExecutionPayloadV2`",
        "created_at": "2023-01-11T23:36:11.537000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ok but if im months past capella and backfilling, then i look at the slot of the data im backfilling",
        "created_at": "2023-01-11T23:36:40.375000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "so i'd be calling v1 up to the last slot of bellatrix data",
        "created_at": "2023-01-11T23:37:00.204000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "Are you talking about the CL or EE side?",
        "created_at": "2023-01-11T23:37:28.483000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "CL",
        "created_at": "2023-01-11T23:37:32.434000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "sorry, teku",
        "created_at": "2023-01-11T23:37:35.115000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "when teku is backfilling blocks and notifying EL, and im getting bellatrix blocks still, then i call the v1?",
        "created_at": "2023-01-11T23:38:06.209000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "Yeah on the CL side you should know what fork you're in and deserialize the payload appropriately",
        "created_at": "2023-01-11T23:38:16.844000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ok cool thats what i was implementing",
        "created_at": "2023-01-11T23:38:35.650000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "its just fcu thats messy with (potentially) a null payload",
        "created_at": "2023-01-11T23:38:47.741000+00:00",
        "attachments": null
    }
]