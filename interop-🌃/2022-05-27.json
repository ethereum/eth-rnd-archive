[
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Here's how Lighthouse currently stands regarding Ropsten TTD:\n\n- We are merging the new (unrealistically high) TTD into `unstable` now.\n- We still provide the TTD override flags, so there's no *need* to wait for a release.\n- We are planning a release early next week, that will have either the \"unrealistic\" TTD or the \"real\" TTD (if it is announced).\n- We *may* cut a release candidate once the \"real\" TTD is announced, if the timing doesn't line up with our planned release.",
        "created_at": "2022-05-27T04:10:21.334000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Question, have we tested in any of Kiln and the shadow forks to have a validator propose a block between `BELLATRIX_FORK_EPOCH`  and TTD has been hit, with an exectution payload embedded? it would not be valid from the CL side, but I want to know if we've had this situation covered.",
        "created_at": "2022-05-27T14:55:15.499000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "If the TTD isn't hit, would the CL even call/accept a prepare payload?",
        "created_at": "2022-05-27T14:57:44.795000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "the block wouldn' t make it to our blockchain package",
        "created_at": "2022-05-27T15:05:11.826000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "but it's the kind of things that would make me feel better if I hear from Marius \"yeah, I sent such a block and it was handled correctly\"",
        "created_at": "2022-05-27T15:05:47.172000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Nope, I have no idea what happens on the CL^^ We need someone to take my job for the CL",
        "created_at": "2022-05-27T15:06:50.774000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "We have this case covered in the consensus-spec-tests covering CL client implementations. Also, we have a test for this case yet to be implemented in Hive.",
        "created_at": "2022-05-27T15:23:35.932000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ah nice! didn' t know about the spec test, do you know which one is it so that I can look at the steps?",
        "created_at": "2022-05-27T15:25:53.502000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/tests/core/pyspec/eth2spec/test/bellatrix/fork_choice/test_on_merge_block.py#L116",
        "created_at": "2022-05-27T15:27:32.485000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "So am I correct in assuming that each one of these has a corresponding test-vector in the consensus tests package?",
        "created_at": "2022-05-27T15:28:41.025000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Yes, I hope so ðŸ˜€",
        "created_at": "2022-05-27T15:29:52.430000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "I will argue that such a block won't even make it to the fork choice / core consensus protocol because it will get rejected at the p2p validation step",
        "created_at": "2022-05-27T15:30:53.442000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-spec-tests/tree/master/tests/mainnet/bellatrix/fork_choice/on_merge_block/pyspec_tests",
        "created_at": "2022-05-27T15:34:25.862000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "which of the conditions in https://github.com/ethereum/consensus-specs/blob/dev/specs/bellatrix/p2p-interface.md#beacon_block would reject it?",
        "created_at": "2022-05-27T15:34:48.777000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "nice thanks a lot",
        "created_at": "2022-05-27T15:36:35.064000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Ah, my bad. I take that back. I don't think it does. I would have thought `is_execution_enabled` or something along the line would have filtered it",
        "created_at": "2022-05-27T15:38:39.054000+00:00",
        "attachments": null
    }
]