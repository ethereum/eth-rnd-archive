[
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e I must have gotten banned somehow as I‚Äôm now able to use discovery to connect to the Lighthouse bootnode. üéâ",
        "created_at": "2021-10-07T00:08:38.418000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e nice. üéâ",
        "created_at": "2021-10-07T00:09:04.625000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e @arnetheduck For the record following the nimbus instructions it managed to find a peer and then failed with:\n[[reraised from:\n]]\nError: unhandled exception: 'mergeBlock' is not accessible using discriminant 'kind' of type 'ForkedTrustedSignedBeaconBlock' [FieldError]",
        "created_at": "2021-10-07T00:10:07.402000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cmhswende\u003e Before my time, but Eth1 clients had banning long time ago. After network partitioning problems in the early testnets, they made a call; disconnect Yes, but ban No. Seems like it's a thing with eth2 clients? I guess time will tell which approach is the least troublesome in the longer run, will be interesting to see",
        "created_at": "2021-10-07T04:36:50.052000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e oh no - if you can dm me a few more lines from there I'll take a look (re @ajsutton: @arnetheduck For the record following the nimbus instructions it managed to find a peer and then failed with:\n[[reraised from:\n]]\nError: unhandled exception: 'mergeBlock' is not accessible using discriminant 'kind' of type 'ForkedTrustedSignedBeaconBlock' [FieldError])",
        "created_at": "2021-10-07T04:38:17.002000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e it did take a few rounds of tries to connect yesterday - that lighthouse node is quite elusive - fwiw, pari runs a pure discovery node, and then there's peter's lighthouse node that in the beginning didn't have its ip in the ENR, and once it did, it was a hit-and-miss to find it in discovery so we ended up connecting to it directly, I think - nimbus at least doesn't support connecting directly to libp2p addresses, so we fixed that on the lighthouse side with a flag - we read bootnodes from the hacknet repo text file by defaualt when that's passed as an option, so it's a bit of an open question if it's more convenient with a list of direct enr's or discovery - the latter would probably be preferable",
        "created_at": "2021-10-07T04:44:17.595000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e in nimbus, we don't ban peers, but we do place them on notice for a short period to slow down obnoxious spammers (re @mhswende: Before my time, but Eth1 clients had banning long time ago. After network partitioning problems in the early testnets, they made a call; disconnect Yes, but ban No. Seems like it's a thing with eth2 clients? I guess time will tell which approach is the least troublesome in the longer run, will be interesting to see)",
        "created_at": "2021-10-07T04:55:27.880000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cagemanning\u003e Yes, we ended up partially taking this approach. In lighthouse, peers that are doing things we don't like, we disconnect in favour of nicer peers. However, if they then re-connect and continue to do bad things (in a short time-frame) we ban them. \nOur discovery is slightly different. Some early attacknets showed that users could spam udp and force excessive handshakes and increase some caches. So in discovery specifically (which is separate to lighthouse) by default we set a rate-limit for requests and nodes/ips that exceed these rate limits we ban/filter for a day or so. The idea in discovery is typically its super chatty and dropping some noisy peers here or there is no loss to us. We did make this CLI configurable however. (re @mhswende: Before my time, but Eth1 clients had banning long time ago. After network partitioning problems in the early testnets, they made a call; disconnect Yes, but ban No. Seems like it's a thing with eth2 clients? I guess time will tell which approach is the least troublesome in the longer run, will be interesting to see)",
        "created_at": "2021-10-07T04:57:30.159000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e Notes from yesterday about some of the peculiarities we need to account for on our long lived devnet target",
        "created_at": "2021-10-07T05:12:34.968000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_4.jpg",
                "content": "802f3a32f18c1a7f0ec287bcf9328db6a662d3415e060520f09f031ddc07b180"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cnonveumann\u003e We pass merge mock consensus-mode only when we don't include the random in the block hash. How are other EL clients dealing with this?",
        "created_at": "2021-10-07T07:56:05.548000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cnonveumann\u003e Basically the block hash merge mock gives us in executePayload doesn't include it",
        "created_at": "2021-10-07T07:58:12.824000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cprotolambda\u003e",
        "created_at": "2021-10-07T07:58:34.642000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_5.jpg",
                "content": "d8467c3c2093534b913454e8bebcc2e8cdbdc03d3088a0bd5d24f88ed6744b92"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cnonveumann\u003e Ok",
        "created_at": "2021-10-07T07:58:51.635000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cprotolambda\u003e it didn't get a permanent place in the block header for interop I think",
        "created_at": "2021-10-07T07:59:07.642000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cn0ble\u003e yeah, it's not digested by the block hash for interop but should be a part of ExecutionPayload struct in requests and responses of the engine api",
        "created_at": "2021-10-07T09:08:53.788000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdapplion\u003e @sigpaul Looking at optimistic sync it seems necessary to mark each single block as executed or not instead of just tracking the optimistic head and safe head. Otherwise is it possible to safely handle multiple optimistic syncing head forks?",
        "created_at": "2021-10-07T13:02:39.328000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdapplion\u003e Implementation detail: When persisting non-finalized blocks and states to the hot db will you marked them as executed or not? If so will you use a separate db bucket for it or how would you track it?",
        "created_at": "2021-10-07T13:03:49.881000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e nimbus + nethermind = M3 :)",
        "created_at": "2021-10-07T14:27:47.375000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e woo",
        "created_at": "2021-10-07T14:29:22.375000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e any further M4 experiments yet?",
        "created_at": "2021-10-07T14:29:30.811000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003carnetheduck\u003e production ready hacknet-v2 with nimbus/geth + lh/geth",
        "created_at": "2021-10-07T14:30:17.684000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvbuterin\u003e Any hacknets with multiple exec clients?",
        "created_at": "2021-10-07T14:30:37.307000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e Yes, besu+teku joined hacknet-v2",
        "created_at": "2021-10-07T14:30:58.127000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003clightclient\u003e If you want to test your transition process in your execution client with mergemock, you now can! https://github.com/protolambda/mergemock\nmergemock consensus --engine=\"http://localhost:3333\" --datadir=\"data\" --ethashdir=\"ethash\" --genesis=\"genesis.json\" --slot-time=\"5s\" --ttd=500000 --node={INSERT ENODE HERE}\"\nI recommend using ~500000 as the TTD as it will give a few proof-of-work blocks and then it'll go ahead with the transition. Only eth/66 supported",
        "created_at": "2021-10-07T14:44:51.239000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctrent_vanepps\u003e i've heard a lot about this mergemock",
        "created_at": "2021-10-07T14:45:18.618000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003clightclient\u003e i recommend running it at least once in case of token drop",
        "created_at": "2021-10-07T14:45:53.026000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cn0ble\u003e great work! üëç (re @lightclient: If you want to test your transition process in your execution client with mergemock, you now can! https://github.com/protolambda/mergemock\nmergemock consensus --engine=\"http://localhost:3333\" --datadir=\"data\" --ethashdir=\"ethash\" --genesis=\"genesis.json\" --slot-time=\"5s\" --ttd=500000 --node={INSERT ENODE HERE}\"\nI recommend using ~500000 as the TTD as it will give a few proof-of-work blocks and then it'll go ahead with the transition. Only eth/66 supported)",
        "created_at": "2021-10-07T15:13:25.204000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ckristofgazso\u003e hey guys is hacknet v2‚Äôs lighthouse client down?",
        "created_at": "2021-10-07T15:14:36.399000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ckristofgazso\u003e neither me nor teku can connect to it",
        "created_at": "2021-10-07T15:14:44.094000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cnashatyrev_a\u003e My Teku is in sync and getting new blocks right now (re @kristofgazso: hey guys is hacknet v2‚Äôs lighthouse client down?)",
        "created_at": "2021-10-07T15:16:05.420000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Yep, the safe head is the result of marking each block as verified/not and then running fork choice on only verified blocks.\nI‚Äôm not sure about marking them in the DB yet. It would be nice to avoid that. One option might be to just store ‚Äúhighest verified slot‚Äù in the cold/finalized DB and then only serve \u003c= that. For the hot/unfinalized DB you can just ask the fork choice tree, which is really quick. (re @dapplion: @sigpaul Looking at optimistic sync it seems necessary to mark each single block as executed or not instead of just tracking the optimistic head and safe head. Otherwise is it possible to safely handle multiple optimistic syncing head forks?)",
        "created_at": "2021-10-07T19:41:06.165000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdapplion\u003e Your yes is for marking each individual block? (re @sigpaul: Yep, the safe head is the result of marking each block as verified/not and then running fork choice on only verified blocks.\nI‚Äôm not sure about marking them in the DB yet. It would be nice to avoid that. One option might be to just store ‚Äúhighest verified slot‚Äù in the cold/finalized DB and then only serve \u003c= that. For the hot/unfinalized DB you can just ask the fork choice tree, which is really quick.)",
        "created_at": "2021-10-07T20:52:26.729000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Correct, I think we need to mark each block as valid/invalid/unknown in some manner.\nIn my PR I‚Äôve added that field for every block in the non-finalized tree.\nI haven‚Äôt done anything about finalized chain yet, but I plan to (probably the ‚Äúhighest verified slot‚Äù thing I mentioned in the previous message). (re @dapplion: Your yes is for marking each individual block?)",
        "created_at": "2021-10-07T21:26:58.897000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e I think that the only way to track a safe is head to know exactly which blocks have an executed payload or not.\nTracking multiple optimistic forks doesn‚Äôt actually require any marking, you can just assume they‚Äôre all valid payloads and run fork choice as normal.",
        "created_at": "2021-10-07T21:33:10.772000+00:00",
        "attachments": null
    }
]