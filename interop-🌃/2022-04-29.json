[
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Possibly.  In the cases I've seen previously we only got invalid because the payloadAttributes we sent with FCU had an invalid timestamp so that caused the problem on just the one node and not all of them.  But the affected node should wind up stuck if it was canonical.  It might carry on if the CL failed to check that the parent wasn't invalid when importing the next block - that would be a bug in the CL though.",
        "created_at": "2022-04-29T00:17:18.920000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Teku avoids that risk by removing invalid blocks from the blockRoot -\u003e protoarray index map so invalid blocks are unknown without having to actually be removed from the full protoarray which would be expensive.",
        "created_at": "2022-04-29T00:18:31.733000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "`mainnet-shadow-fork-1` will be deleted after ACD today, please do let me know asap if there's any reason to keep it around",
        "created_at": "2022-04-29T08:03:45.546000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "I have submitted an RFC on what how to communicate that either transition or terminal block is `INVALID` https://github.com/ethereum/execution-apis/issues/212\n\nVery keen to see client developers inputs on it!",
        "created_at": "2022-04-29T09:53:06.932000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "A PR adding consistency check of `forkchoiceState` (a check if finalized and safe blocks do exist) https://github.com/ethereum/execution-apis/pull/213\n\ncc \u003c@758579010027782144\u003e \u003c@360491619402776577\u003e",
        "created_at": "2022-04-29T12:09:14.311000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Change looks good to me, we had the same checks in geth already, just need to add the new error message",
        "created_at": "2022-04-29T12:12:18.879000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "The same for us, but we don't check if headBlockHash is VALID before. We're checking only if we have headBlockHash, but of course it is not a problem to move these checks\n\nerror if the payload referenced by `forkchoiceState.headBlockHash` is** `VALID`**",
        "created_at": "2022-04-29T12:15:05.394000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "What would happen if `headBlock` does exist but nethermind is `SYNCING` thus missing `safeBlock` and/or `finalizedBLock`?",
        "created_at": "2022-04-29T12:16:21.655000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Validity of a `headBlock` ensures that `safeBlock` and `finalizedBlock` must exist",
        "created_at": "2022-04-29T12:17:15.087000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "Yes, I see. We need to check validity first. You're right. Thx! ðŸ™‚",
        "created_at": "2022-04-29T12:17:30.563000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "My bad \u003c@425572898787426305\u003e I rechecked code. We're doing it in the same way as in PR. We only need to change error code.",
        "created_at": "2022-04-29T12:21:37.451000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "What is the suggested way to handle situations when EL misses ancestor payloads (EL was down or some other reason)? Geth returns ACCEPTED and logs warning that the payload is ignored because of the missing parent.",
        "created_at": "2022-04-29T18:50:01.385000+00:00",
        "attachments": null
    }
]