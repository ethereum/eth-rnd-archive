[
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Getting this on geth: \n```\nINFO [02-07|16:11:11.292] Loaded last fast-sync pivot marker       number=36185\nWARN [02-07|16:11:11.292] Rolled back chain segment                header=39297-\u003e37248 snap=24994-\u003e24994 block=0-\u003e0 reason=\"syncing canceled (requested)\"\nINFO [02-07|16:11:11.293] Downloader queue stats                   receiptTasks=4809 blockTasks=14303 itemSize=0.00B throttle=8192\nERROR[02-07|16:11:11.293] Beacon backfilling failed                err=\"sync cancelled\"\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0xa85e7e]\n\ngoroutine 30 [running]:\ngithub.com/ethereum/go-ethereum/eth/downloader.(*skeleton).processNewHead(0xc0044bde40, 0xc0044bdaec)\n    github.com/ethereum/go-ethereum/eth/downloader/skeleton.go:541 +0x5e\ngithub.com/ethereum/go-ethereum/eth/downloader.(*skeleton).sync(0xc0004589a0, 0xc005650d80)\n    github.com/ethereum/go-ethereum/eth/downloader/skeleton.go:394 +0xa54\ngithub.com/ethereum/go-ethereum/eth/downloader.(*skeleton).startup(0xc0004589a0)\n    github.com/ethereum/go-ethereum/eth/downloader/skeleton.go:242 +0x18e\ncreated by github.com/ethereum/go-ethereum/eth/downloader.newSkeleton\n    github.com/ethereum/go-ethereum/eth/downloader/skeleton.go:213 +0x1df\n```",
        "created_at": "2022-02-07T19:13:04.142000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Don't want to tag Marius cause he's on vacation, but this is on an unpeered geth, that's only connected to prysm which is optimistically syncing",
        "created_at": "2022-02-07T19:14:25.443000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "cc. \u003c@!363800010518822915\u003e",
        "created_at": "2022-02-07T19:14:50.948000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Which branch are you on?",
        "created_at": "2022-02-07T19:16:09.001000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "merge-kintsugi, latest commit",
        "created_at": "2022-02-07T19:17:18.779000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Could you try https://github.com/ethereum/go-ethereum/pull/23982 ? Peter did quite a bit of refactors to the sync code",
        "created_at": "2022-02-07T19:18:34.401000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Sure, do you think it matters if geth is peered or not? I would rather have it peered now",
        "created_at": "2022-02-07T19:19:10.871000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "wait do you want me to run that branch that is on top of master or do you want me to merge that PR onto merge-kintsugi?",
        "created_at": "2022-02-07T19:20:11.042000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "No just run that pr (it should have all the changes needed for kinstugi, we upstreamed most of them to master already)",
        "created_at": "2022-02-07T19:21:44.053000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Ahh yeah we fixed that issue",
        "created_at": "2022-02-07T19:23:19.706000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Just looked it up again, there was some race condition which could lead to this nil pointer exception",
        "created_at": "2022-02-07T19:23:46.399000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ah nice, so is it fixed in master or in that PR",
        "created_at": "2022-02-07T19:28:45.860000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "and for future reference, should I be testing on your repo or with master from now on?",
        "created_at": "2022-02-07T19:29:04.843000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Master doesn't have sync yet, so I would test with peters pr/branch from now on.\nI hope that they merge it in this week (am on vacation as you said, so can't push it rn)",
        "created_at": "2022-02-07T19:30:40.814000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "so that PR complaints and ignores the blocks with the missing parent",
        "created_at": "2022-02-07T19:31:55.797000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "running on merge-kintsugi I didn't get these logs\n```\nWARN [02-07|16:32:30.983] Ignoring payload with missing parent     number=47837 hash=53e96c..aafaa6 parent=7c4ef1..a8da26\n```",
        "created_at": "2022-02-07T19:32:35.967000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I would get the regular imported new headers",
        "created_at": "2022-02-07T19:32:48.172000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Yes it will ignore these blocks until the first setHead (forkchoiceupdated) which will require us to sync the chain",
        "created_at": "2022-02-07T19:33:42.962000+00:00",
        "attachments": null
    }
]