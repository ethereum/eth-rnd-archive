[
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "sorry on a call, Lighthouse-Nethermind-5 last I checked had an 0x01 prefix one as the last entrey",
        "created_at": "2023-02-02T00:07:40.623000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "but Lighthouse were still including changes in blocks, so it could be just luck that they kept more changes in their pool",
        "created_at": "2023-02-02T00:08:06.417000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ahh nice! thanks for checking this",
        "created_at": "2023-02-02T00:08:55.976000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e could you recicle prysm to latest before Capella",
        "created_at": "2023-02-02T00:22:56.949000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "does not need to be now",
        "created_at": "2023-02-02T00:23:10.156000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e Could you keep devnet-6 up for another day please? I have a potential fix for the besu bad blocks, but might not have a docker image ready until later my evening or tomorrow morning (~14 hours from now).\n\nTL;DR: I think the issue is unrelated to Shanghai and overall impact is minimal since we still respond to CL with a valid block.\n\nI think there's a race condition when we receive a newPayload (and second FCU with proposal) shortly after receiving a FCU with a proposal.\nWe end up building two blocks in parallel which might be messing with the world state hence the error.\nFix would make sure we only build one block at once.",
        "created_at": "2023-02-02T07:05:19.866000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Sure, what about msf1?",
        "created_at": "2023-02-02T07:05:49.087000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "hmm, let me see if there's any bad blocks on there, it might be easier to recreate on mainnet",
        "created_at": "2023-02-02T07:06:20.650000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Will do.",
        "created_at": "2023-02-02T07:06:38.627000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Not sure if there are many besu validators there tho",
        "created_at": "2023-02-02T07:06:57.084000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Got a good number of bad blocks on withdrawal-mainnet-shadowfork-1-prysm-besu-1",
        "created_at": "2023-02-02T07:11:09.794000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Interestingly, I've only seen it with teku and a lot with prysm...it could be related to how quickly the CL asks besu to build a block",
        "created_at": "2023-02-02T07:12:24.634000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "I think msf1 might be better to retest if it'll have more txs going through it, is that the case?",
        "created_at": "2023-02-02T07:14:22.876000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "zhejiang prysm nodes are refreshed.",
        "created_at": "2023-02-02T07:14:28.658000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "would need to check with \u003c@360491619402776577\u003e",
        "created_at": "2023-02-02T07:14:44.802000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "if we have to manually send through txs for either, then I guess the question is, which one is the cheapest to keep up?",
        "created_at": "2023-02-02T07:15:33.652000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "I could just put the fixed image onto zhejiang but don't really want to mess with that",
        "created_at": "2023-02-02T07:16:12.825000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "They both are expensive lol, one needs like 1.2TB disk, the other one has 120 nodes",
        "created_at": "2023-02-02T07:16:36.974000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I'm not sending any txs on msf, all txs are mainnet chatter that makes it to the node. With the forkid change we should disconnect mainnet  odes though",
        "created_at": "2023-02-02T07:16:50.956000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "devnet 4 is meant to be the longer lived chain",
        "created_at": "2023-02-02T07:16:52.759000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "is it not possible for you to test everything on just devnet 4 ?",
        "created_at": "2023-02-02T07:17:12.091000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "there's something about these devnets that is causing it that I can't recreate. I've only seen the issue once in last 7 days on our canary nodes (a sepolia validator)",
        "created_at": "2023-02-02T07:17:19.907000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The bad blocks are created by me",
        "created_at": "2023-02-02T07:17:22.565000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "we're creating our own during block production, invalidating them, then creating a valid one",
        "created_at": "2023-02-02T07:17:43.680000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cparithoshj\u003e \u003e \u003cparithoshj\u003e  But msf has like 30% running the bad block gen geth (re @amphora_interop_bot: \u003cMariusVanDerWijden\u003e I'm not sending any txs on msf, all txs are mainnet chatter that makes it to the node. With the forkid change we should disconnect mainnet  odes though)",
        "created_at": "2023-02-02T07:17:48.553000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "ah didn't realise that...devnet-4 is prob fine, I thought devnet-6 replaced it. I will check if the bad blocks are the same issue on there.\nWould rather a network that *didn't* have intentional bad blocks in the mix as well",
        "created_at": "2023-02-02T07:18:59.587000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Yep, can retest on devnet-4 - last bad block with this issue was 4 hours ago üëç",
        "created_at": "2023-02-02T07:25:48.435000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "I don't need devnet-6 or msf",
        "created_at": "2023-02-02T07:25:59.489000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "nope, the conensus was that devnet 6 gonna be short lived like devnet 5 was, and we gonna keep devnet 4 around for a longer period of time.",
        "created_at": "2023-02-02T07:26:17.873000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Sounds good.",
        "created_at": "2023-02-02T07:26:30.326000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@360491619402776577\u003e did you stop the fuzzer on zh?",
        "created_at": "2023-02-02T09:28:01.031000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like we have empty blocks",
        "created_at": "2023-02-02T09:28:12.917000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "there are still some txs",
        "created_at": "2023-02-02T09:28:30.751000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-02-02T09:28:37.634000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "most txs now are just drain from faucets and deposits to contract",
        "created_at": "2023-02-02T09:31:49.265000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I'll restart my node now",
        "created_at": "2023-02-02T09:33:52.507000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "still got 4x100 keys to give away. Let me know if you want some keys",
        "created_at": "2023-02-02T09:43:03.044000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Devnet 6 is getting nuked in 15 mins. | its now dead.",
        "created_at": "2023-02-02T09:46:44.073000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Prysm is evil in msf1, it will produce bad blocks if David is sending bad bls changes",
        "created_at": "2023-02-02T09:48:36.788000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Just noticed that I might have made a mistake with zhejiang testnet config. I have left `ETH1_FOLLOW_DISTANCE: 12` from mainnet default of 2048. I think the launchpad was configured with mainnet defaults. Looks like deposits never reach the contract. Is my assumption correct?",
        "created_at": "2023-02-02T11:16:48.800000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I don't think that this should muck up the voting, if all the beacon nodes are using the same config value.\n\nCurrent voting period is split between the incumbent and something else, next voting period may settle down to pick a winner.",
        "created_at": "2023-02-02T11:25:05.247000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah the follow distance is set to 12 on all nodes.",
        "created_at": "2023-02-02T11:25:32.120000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and its what set in the custom config data too",
        "created_at": "2023-02-02T11:25:40.845000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "But I'm just curious how come no deposits has shown up on zhejiang",
        "created_at": "2023-02-02T11:25:56.626000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "```\nVoting period: 2\nIncumbent: block 0x40891180a021e1f86644f42721a9badb5bc8fc04036ca847c0d6fe1c440d4261, deposit count 0\nSlots through period: 2030 (6125)\nVotes this period: 1954\n  block 0x40891180a021e1f86644f42721a9badb5bc8fc04036ca847c0d6fe1c440d4261, deposit count 0: 946 votes (46.60%)\n  block 0x5700885a04534d1680fceeb8b07232cbc20d505e713842035fad0349268a8c91, deposit count 318: 922 votes (45.42%)\n...\n```",
        "created_at": "2023-02-02T11:26:14.679000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "as instead of 2048 (8h) we process deposits in 12 slots, which should have been processed already",
        "created_at": "2023-02-02T11:26:18.143000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "No, the follow distance is how far back to look to pick the next block to vote for.",
        "created_at": "2023-02-02T11:26:46.586000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "voting periods still last 2048 (well, at least 1025)",
        "created_at": "2023-02-02T11:26:49.877000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Shouldn't the second voting period have included 318 deposits already then?",
        "created_at": "2023-02-02T11:28:09.755000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "I do wonder why.. is the vote split? Who is voting for the genesis block?",
        "created_at": "2023-02-02T11:28:20.409000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Voting has always been screwed up, it is likely to sort itself next voting period but it's never been stable between clients.",
        "created_at": "2023-02-02T11:28:44.498000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "which ethdo command gets you this?",
        "created_at": "2023-02-02T11:28:59.634000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "`ethdo chain eth1votes --verbose | head -10`",
        "created_at": "2023-02-02T11:29:26.285000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Current voting period hasn't started well :/",
        "created_at": "2023-02-02T11:29:45.134000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Blugh, still votes for the genesis block",
        "created_at": "2023-02-02T11:32:05.516000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I don't quite understand how this voting takes place",
        "created_at": "2023-02-02T11:33:13.022000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "is there a disagreement on which deposits to include among the different clients?",
        "created_at": "2023-02-02T11:33:24.974000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Would you be able to make a few deposits with ethdo quickly to see if its a lauchpad issue, or some voting issue instead?",
        "created_at": "2023-02-02T11:36:18.333000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I think that the deposits are hitting the execution chain okay, because we're seeing a block with 328 deposits in the voting.",
        "created_at": "2023-02-02T11:37:19.632000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "isn't the voting period 32 epochs?",
        "created_at": "2023-02-02T11:43:09.503000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "In which case we should have had 6 voting periods already at this point, instead of 3.",
        "created_at": "2023-02-02T11:43:43.853000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Nope, the voting period is 64 epoch.  https://github.com/ethereum/consensus-specs/blob/dev/presets/mainnet/phase0.yaml#L48",
        "created_at": "2023-02-02T11:48:15.150000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://kb.beaconcha.in/ethereum-2.0-depositing#why-exactly-does-this-take-at-least-12-hours",
        "created_at": "2023-02-02T11:48:56.694000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "getting my info from beaconchain guys is wrong üòÑ",
        "created_at": "2023-02-02T11:49:05.704000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "well, lodestar and nimbus are consistently voting for the genesis block",
        "created_at": "2023-02-02T11:55:50.609000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Well, if all votes agreed it would only take 32 epochs to hit 50% and vote in a new ETH1 head.",
        "created_at": "2023-02-02T11:56:00.483000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "prysm is all over the blace, teku and LH are split between the two",
        "created_at": "2023-02-02T11:56:10.379000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Any way to force votes?",
        "created_at": "2023-02-02T11:56:13.957000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Is there a client bug that would vote on the wrong block?",
        "created_at": "2023-02-02T11:56:38.712000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "wouldn't be the first time",
        "created_at": "2023-02-02T11:56:48.252000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "maybe \u003c@476250636548308992\u003e \u003c@755590043632140352\u003e \u003c@449019668296892420\u003e \u003c@680234424037670912\u003e could chime in?",
        "created_at": "2023-02-02T11:56:53.488000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "if you want to force a vote, I guess bump up the ratio of LH nodes to \u003e50%",
        "created_at": "2023-02-02T12:00:08.795000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I could take down some of the nodes I guess",
        "created_at": "2023-02-02T12:00:42.289000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "pretty hacky way ngl",
        "created_at": "2023-02-02T12:00:58.855000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "would be good to hear from some devs",
        "created_at": "2023-02-02T12:01:04.972000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "You still need 1025 votes in a 2048 period, so just taking down nodes won't help I think. I am amazed though at how even the split vote is",
        "created_at": "2023-02-02T12:01:35.177000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "```\nVoting period 3 - Slot 6144 - 8191 (slot = 6314)\nVoting period start time = 1675337328 = 2023-02-02 11:28:48\nLatest valid eth1 block = 1675308656 = 2023-02-02 03:30:56\n----------------------------------------------------------------------------------------------------\n                                                    Attestant/Vouch                   lighthouse  lodestar  nimbus  prysm  teku  Votes  Votes (%)\n(root, 0xd70a2347) (count, 0)   (hash, 0x40891180)                                 0           4        19      15     12     3     53       52.5\n(root, 0x28829c56) (count, 0)   (hash, 0x2c0770c8)                                 0           0         0       0      1     0      1        1.0\n(root, 0x2d98cfdf) (count, 0)   (hash, 0x88ef4dd8)                                 0           0         0       0      1     0      1        1.0\n(root, 0xf7622692) (count, 0)   (hash, 0xd878d781)                                 0           0         0       0      1     0      1        1.0\n(root, 0x0ecaa124) (count, 0)   (hash, 0xf5c03adf)                                 0           0         0       0      1     0      1        1.0\n(root, 0x8ef0c25b) (count, 0)   (hash, 0xc5993586)                                 0           0         0       0      1     0      1        1.0\n(root, 0x4238d4cb) (count, 0)   (hash, 0xd34e5503)                                 0           0         0       0      1     0      1        1.0\n(root, 0xfd4d4085) (count, 0)   (hash, 0xd6cd58ff)                                 0           0         0       0      1     0      1        1.0\n(root, 0x60e414ad) (count, 0)   (hash, 0xf46eb730)                                 0           0         0       0      1     0      1        1.0\n(root, 0x00098688) (count, 328) (hash, 0x3981f772)                                 8          22         0       0      0    10     40       39.6\n\n101 votes out of a maximum of 171 (= 59.1 %)\n```",
        "created_at": "2023-02-02T12:03:43.702000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "(Some old script from the Medalla days. Took only the CL part of the graffiti)",
        "created_at": "2023-02-02T12:04:05.584000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have a pretty good split of clients",
        "created_at": "2023-02-02T12:04:07.597000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and thats why if there is no proper consensus, we will not see good votes in",
        "created_at": "2023-02-02T12:04:27.183000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "What script is that ? Could you check if its some EL combo that makes lh vote on wrong block too?",
        "created_at": "2023-02-02T12:05:16.569000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "for prysm, the random votes mean it couldn't get a good block to vote in the exec chain. Possibly this happened near the chain genesis",
        "created_at": "2023-02-02T12:06:02.407000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e killed prysm-erigon-2",
        "created_at": "2023-02-02T12:06:20.237000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "seems like lodestar, nimbus and prysm are on one end, while teku and LH are on the other",
        "created_at": "2023-02-02T12:06:34.385000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "lighthouse nethermind combi is the only one voting for genesis block",
        "created_at": "2023-02-02T12:06:44.631000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "LH + besu/erigon/geth  all voting for the 328 deposits one",
        "created_at": "2023-02-02T12:07:04.069000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Will have 2K downtime for a little bit until our validators start attesting again",
        "created_at": "2023-02-02T12:07:31.918000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I can also nuke that vm if not needed",
        "created_at": "2023-02-02T12:07:51.902000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "i think that is fine",
        "created_at": "2023-02-02T12:08:00.214000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I want to keep the files",
        "created_at": "2023-02-02T12:08:03.332000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "nuking it is ok",
        "created_at": "2023-02-02T12:08:04.328000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "which files ?",
        "created_at": "2023-02-02T12:08:09.627000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "haven't taken the changes json",
        "created_at": "2023-02-02T12:08:11.352000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "oh, ok",
        "created_at": "2023-02-02T12:08:14.829000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "we may want to send those",
        "created_at": "2023-02-02T12:08:15.609000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "should take the whole validator dir",
        "created_at": "2023-02-02T12:08:25.357000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I can also just send that changes.json over",
        "created_at": "2023-02-02T12:08:33.960000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "also would rather make sure that our validator is working before nuking it",
        "created_at": "2023-02-02T12:08:36.748000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah sure.",
        "created_at": "2023-02-02T12:08:41.121000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Let me know when you are up, and will nuke then",
        "created_at": "2023-02-02T12:08:47.968000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "also looks like we have some validators that are voting on non genesis and non correct block also",
        "created_at": "2023-02-02T12:11:20.059000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "whats up with that?",
        "created_at": "2023-02-02T12:11:23.308000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "LH seems to be doing the right thing btw.",
        "created_at": "2023-02-02T12:11:57.025000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "you can nuke that box if you want. We seem to be running fine",
        "created_at": "2023-02-02T12:12:44.432000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "awesome.",
        "created_at": "2023-02-02T12:13:46.975000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Also, Prysm + Besu is the one voting for non-existent blocks for some reason",
        "created_at": "2023-02-02T12:17:29.618000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "those would be random hashes if it cant find a suitable block to vote for",
        "created_at": "2023-02-02T12:18:10.307000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "OK, still interesting that it doesn't vote for the genesis block, and that all other Prysm combinations (or Besu for that matter) work fine",
        "created_at": "2023-02-02T12:19:11.641000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "i would have to look at the logs, but it could possibly be the besu node being stressed for some reason",
        "created_at": "2023-02-02T12:20:23.169000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e maybe you could take a look at lodestar?",
        "created_at": "2023-02-02T12:20:47.988000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "üëç",
        "created_at": "2023-02-02T12:36:40.032000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like we getting more and more random votes",
        "created_at": "2023-02-02T12:37:28.241000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "what's the CL client distribution in the network?",
        "created_at": "2023-02-02T12:42:25.028000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethpandaops/withdrawals-testnet/tree/master/zhejiang-testnet",
        "created_at": "2023-02-02T12:42:44.620000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "26% LH/26% Prysm/13% teku/13% nimbus/16% lodestar",
        "created_at": "2023-02-02T12:43:42.187000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "23% geth/23% nethermind/23% besu/23% erigon/3% ethereumjs",
        "created_at": "2023-02-02T12:45:47.146000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "EF runs 58k validators, 2k ran by \u003c@144468805697929216\u003e and 1k is spread out to others",
        "created_at": "2023-02-02T12:46:30.465000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like even the bootnode (which is a LH/GETH pair), is switching between the two different votes",
        "created_at": "2023-02-02T12:56:00.525000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```‚ûú  ~ curl -s https://beacon.zhejiang.ethpandaops.io/eth/v1/beacon/blocks/head | jq '.data.message.body.eth1_data'\n{\n  \"deposit_root\": \"0x000986880a0cee78cb7c25d4819b41c1a13dd0e3661a70cf6a8b1d87968421ff\",\n  \"deposit_count\": \"328\",\n  \"block_hash\": \"0x3981f772ada81e586dd1c19e174b56ab7271563536817a15381c967d983f77c7\"\n}\n‚ûú  ~ curl -s https://beacon.zhejiang.ethpandaops.io/eth/v1/beacon/blocks/head | jq '.data.message.body.eth1_data'\n{\n  \"deposit_root\": \"0xd70a234731285c6804c2a4f56711ddb8c82c99740f207854891028af34e27e5e\",\n  \"deposit_count\": \"0\",\n  \"block_hash\": \"0x40891180a021e1f86644f42721a9badb5bc8fc04036ca847c0d6fe1c440d4261\"\n}```",
        "created_at": "2023-02-02T12:56:02.618000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I have opened up a public beacon API so people can play around and would make it easier for them to also use it to push their BLS changes later.",
        "created_at": "2023-02-02T12:56:37.705000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@498009160982724610\u003e would you be able to pls check if LH voting is done correctly?",
        "created_at": "2023-02-02T12:57:07.100000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "Yep, will have a look into it",
        "created_at": "2023-02-02T13:19:35.966000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "which node specifically is the one you curl'd?",
        "created_at": "2023-02-02T13:29:42.647000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "Oh yeah I'm seeing the oscillation also. I recall there was an issue with people voting on whoever voted last, when they don't have an execution client attached",
        "created_at": "2023-02-02T13:35:39.920000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`devops@zhejiang-testnet-prysm-geth-bootnode.ethpandaops.io`",
        "created_at": "2023-02-02T13:36:06.946000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "The lighthouse nodes seem to be think there are no deposits, so that would be what its voting on",
        "created_at": "2023-02-02T13:37:57.776000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "most lighthouse nodes think there are deposits tho",
        "created_at": "2023-02-02T13:38:34.386000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```Voting period 3 - Slot 6144 - 8191 (slot = 6793)\nVoting period start time = 1675337328 = 2023-02-02 11:28:48\nLatest valid eth1 block = 1675337160 = 2023-02-02 11:26:00\n----------------------------------------------------------------------------------------------------\n                                                                                \"prysm  Attestant/Vouch  lighthouse  lodestar  nimbus  prysm  teku  Votes  Votes (%)\n(root, 0xd70a2347) (count, 0)   (hash, 0x40891180) (time, 2023-02-01 14:58:00)      15          0          36       106      83    115    17    372       57.9\n(root, 0x00098688) (count, 328) (hash, 0x3981f772) (time, 2023-02-02 11:26:00)       0          28         129         0       0      0    66    223       34.7```",
        "created_at": "2023-02-02T13:38:44.337000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Vouch is also thinks there are deposits",
        "created_at": "2023-02-02T13:39:42.365000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "yeah, sorry. Just saw we are voting on one with deposits:\n```\nFeb 02 13:39:36.029 DEBG Produced vote for eth1 chain            block_hash: 0x3981f772ada81e586dd1c19e174b56ab7271563536817a15381c967d983f77c7, deposit_count: 328, deposit_root: 0x000986880a0cee78cb7c25d4819b41c1a13dd0e3661a70cf6a8b1d87968421ff, service: deposit_contract_rpc\n```",
        "created_at": "2023-02-02T13:41:35.267000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e are the metrics for zhejiang being served at the same EF dashboard?",
        "created_at": "2023-02-02T13:44:33.527000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-02-02T13:44:41.330000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "I can have a look through most of the lighthouse nodes and see if any of them are voting differently",
        "created_at": "2023-02-02T13:45:32.809000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "https://discord.com/channels/595666850260713488/892088344438255616/1070676646060888155",
        "created_at": "2023-02-02T13:47:09.945000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "~~(disclaimer: at least, at the time)~~ Still the case",
        "created_at": "2023-02-02T13:47:28.348000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "ah, thanks. Narrows the search üëç",
        "created_at": "2023-02-02T13:47:41.715000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "Yeah ok. Looks like it can't sync the deposit logs from nethermind for some reason",
        "created_at": "2023-02-02T13:50:37.109000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "ssh devops@zhejiang-testnet-prysm-erigon-2.ethpandaops.io \nssh: Could not resolve hostname zhejiang-testnet-prysm-erigon-2.ethpandaops.io: nodename nor servname provided, or not known",
        "created_at": "2023-02-02T13:59:39.914000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "prysm-erigon 2 has been shut down as prysm guys moved their keys over to their own machine",
        "created_at": "2023-02-02T14:00:04.496000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "try -1 pls",
        "created_at": "2023-02-02T14:00:07.648000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "I restarted nethermind, lighthouse made progress syncing from it, but then it has failed to sync the chain. I think might need some nethermind input",
        "created_at": "2023-02-02T14:04:05.046000+00:00",
        "attachments": null
    },
    {
        "author": "agemanning",
        "category": "Testing",
        "parent": "",
        "content": "I seem to have resolved the issue via restarting the nodes. We'll have to go through the logs to try and diagnose in more detail what might have been the issue",
        "created_at": "2023-02-02T14:14:34.564000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Sorry Andrew I should have asked you before, I didn't even noticed that Erigon would be testing with these. If you need this node back we can easily shift keys to it again",
        "created_at": "2023-02-02T15:50:57.125000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "We moved the keys cause we needed 2K keys to reliable test proposals in our clusters",
        "created_at": "2023-02-02T15:51:50.231000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "Not a problem, I just wanted to investigate why it was flagged as unhealthy on the forkmon. But it‚Äôs simply shut down.",
        "created_at": "2023-02-02T16:14:20.709000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ah I will restart forkmon then it will be gone. Sorry for shutting it down without telling you first.",
        "created_at": "2023-02-02T16:21:30.555000+00:00",
        "attachments": null
    },
    {
        "author": "yperbasis",
        "category": "Testing",
        "parent": "",
        "content": "no problem",
        "created_at": "2023-02-02T16:25:28.502000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "you can send me Nethermind logs üôÇ",
        "created_at": "2023-02-02T18:09:02.490000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@498009160982724610\u003e new voting period started, and from what I can tell again LH + Nethermind voted for genesis block",
        "created_at": "2023-02-02T18:22:41.562000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Lodestar/Nimbus/Prysm all still voting for genesis block (or empty/random votes), so we'll probably have another voting period without deposits",
        "created_at": "2023-02-02T18:25:20.071000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "I think I found the bug at least in Nimbus (what I'm running myself on Zhejiang), I assume Lodestar/Prysm have similar stories.",
        "created_at": "2023-02-02T20:02:31.026000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "For the range of eligible blocks for voting, Lighthouse does (imo the sort of correct thing) of:\n```rust\n            let start_eth1_block = voting_period_start - follow_distance_seconds * 2;\n            let end_eth1_block = voting_period_start - follow_distance_seconds;\n```\nNimbus on the other hand does:\n```nim\nearliestBlockOfInterest = m.latestEth1BlockNumber - (2 * m.cfg.ETH1_FOLLOW_DISTANCE) - votedBlocksSafetyMargin  # earliestBlockOfInterest() func\ntargetBlock = m.latestEth1BlockNumber - m.cfg.ETH1_FOLLOW_DISTANCE  # end block\n```\nBasically what happens is that (when Nimbus proposes a block) there are no new candidates to vote on (it searches in a range which is too recent), so it votes for the current one, which is genesis.\n\n`earliestBlockOfInterest` should _also_ be something similar to `voting_period_start_slot - ...` not `m.latestEth1BlockNumber`. I'd say the same for `targetBlock` by the way. It's not trivial to convert this voting period start _timestamp_ to an EL _block number_  though.\n\nIt all goes fine on mainnet where ETH1_FOLLOW_DISTANCE  = SLOTS_PER_VOTING_PERIOD = 2048. It falls apart where they are not equal and the former is very small in comparison",
        "created_at": "2023-02-02T20:07:15.795000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Now.. I'm not entirely sure what the range of eligible blocks should be. I think Lighthouse is definitely correct about the *end* (`voting_period_start - follow_distance_seconds`).\n\nThe start though... with the follow distance being just 12 blocks, it seems as selecting a range of only 12 blocks is a bit risky. Nimbus selects an additional 50 on top, just as a safety margin. Does feel somewhat arbitrary.",
        "created_at": "2023-02-02T20:11:23.828000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "TL;DR EIP-6610 wen?",
        "created_at": "2023-02-02T20:30:28.686000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Wonder if I would change the follow distance on all nodes, would it be able to handle the change; or whether it would require a full restart.",
        "created_at": "2023-02-02T20:35:12.976000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Would any client teams be able to confirm  \u003c@397389662085185547\u003e assumptions?",
        "created_at": "2023-02-02T20:35:55.366000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Hmm, good question. People running their own clients would be voting \"wrong\" still, but it's not consensus critical afaik. If you bump the 12 to 2048 I _think_ it should be fine. All clients running with follow distance 12 will accept the block, it's certainly old enough.",
        "created_at": "2023-02-02T20:37:48.586000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Not sure though, teams should know better üòâ",
        "created_at": "2023-02-02T20:38:18.383000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Right now, I would just wanna make sure we can include deposits. Even if the newly joined beacons would vote against, we control enough nodes to update the whole network within seconds. Just not sure if the genesis file would become invalid due to the different chain spec number",
        "created_at": "2023-02-02T20:39:08.737000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Could you move some validators on to the clients that are generating the correct values?",
        "created_at": "2023-02-02T20:39:43.604000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "That'd be LH",
        "created_at": "2023-02-02T20:40:07.697000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "That would be the alternative choice indeed",
        "created_at": "2023-02-02T20:40:12.163000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "But I would prefer if I could fix the issue instead of just giving all validators to LH",
        "created_at": "2023-02-02T20:40:28.213000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I‚Äôll try to bump the numbers on a node combo where all blocks were voting on the wrong head and see what changes",
        "created_at": "2023-02-02T20:40:50.929000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "E.g prysm",
        "created_at": "2023-02-02T20:40:54.204000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "It sounds like fixing the issue is getting the clients to fix their code, no?",
        "created_at": "2023-02-02T20:41:54.073000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Well not really, as this bug might be only triggered due to me setting the ETH1_FOLLOW_DISTANCE too low",
        "created_at": "2023-02-02T20:42:24.527000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "I agree various clients probably have bugs in this voting stuff. But if it works on mainnet with 2048 for both, _and_ the code will be entirely removed with EIP-6610, not sure if it's worth the effort to fix it",
        "created_at": "2023-02-02T20:43:41.304000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I'm not sure that \"too low\" is accurate.  The spec should allow the value.",
        "created_at": "2023-02-02T20:44:07.366000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Yeah I'd love to see it gone, but not sure how long it's going to take to go away.  The next hard fork may be swamped with 4844 changes.",
        "created_at": "2023-02-02T20:44:52.525000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "It's not an easy fix I'd say, especially the \"find the last eth1 block just before timestamp X\". Didn't look too deep, but couldn't find how to do that in the Nimbus code",
        "created_at": "2023-02-02T20:46:24.053000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "As to the question of could you change the config value: you'd have to do it across all of the nodes to obtain consensus.  But you could try it with some of the clients that aren't working anyway, and see how they respond to the change.  If they accept it then you can alter the value on the remaining nodes to see if we can advance the deposits.",
        "created_at": "2023-02-02T20:46:48.378000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "We had issues with this on the bellatrix testnets, now with capella.  I know that the plan is to get rid of it, but  it isn't going to happen any time soon.",
        "created_at": "2023-02-02T20:48:20.450000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "just changed on prysm/geth 1 and 2",
        "created_at": "2023-02-02T20:50:11.948000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Hmm, well.. I _think_ the issue would be easier to solve if instead of taking \"voting period start\" as a time, and _then_ looking for the eth1 block number, we just go directly to a block number from the latest EL block number. Wasn't really possible/guaranteed in the past, but now it is of course (with CL knowing when EL is in sync)",
        "created_at": "2023-02-02T20:50:41.791000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so 4k validator keys",
        "created_at": "2023-02-02T20:50:54.194000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Just FYI, there's 1270 ish slots left in the current voting period, and we need an additional 773 votes to start including deposits",
        "created_at": "2023-02-02T20:54:00.883000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like some prysm nodes now vote correctly",
        "created_at": "2023-02-02T20:54:23.649000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "could you pls confirm?",
        "created_at": "2023-02-02T20:54:28.583000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "I still only see votes for genesis by Prysm (and rando votes)",
        "created_at": "2023-02-02T20:55:18.777000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "moved over another 4k with prysm/nethermind nodes",
        "created_at": "2023-02-02T20:56:15.011000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "this pickle script returns now two column for prysm for me.",
        "created_at": "2023-02-02T20:56:58.104000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "pickle script lol, but yeah there's multiple prysm graffitis out there apparently. `CL-EL` format, and `\"prysm-k8s-zhejiang\"` ?",
        "created_at": "2023-02-02T20:57:51.306000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah that must be \u003c@755590043632140352\u003e \u0026 \u003c@476250636548308992\u003e",
        "created_at": "2023-02-02T20:58:17.747000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "prysm-k8s-zhejiang votes correctly then?",
        "created_at": "2023-02-02T20:58:25.965000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "thats super strange, they might be using a newer version of prysm that fixed the issue?",
        "created_at": "2023-02-02T20:58:38.244000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "no, also voting wrong from what I can see, just not voting randomly",
        "created_at": "2023-02-02T20:58:51.280000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "restarted now teku/geth1 and nimbus/geth1 too with the changed config parameter",
        "created_at": "2023-02-02T21:06:03.018000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Looks like attestations are still not missed",
        "created_at": "2023-02-02T21:06:13.517000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so most certainly its not causing as big of an issue as it could have.",
        "created_at": "2023-02-02T21:06:24.173000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "looks like we now getting some new block vote",
        "created_at": "2023-02-02T21:07:42.201000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Looks a bit promising",
        "created_at": "2023-02-02T21:07:52.438000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "alright, restarted all clients nice and slowly with 2048 follow distance, lets see how we looking in the next voting period.",
        "created_at": "2023-02-02T21:25:13.282000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@144468805697929216\u003e looks like vouch works fine btw, but would you mind still updating to 2048?",
        "created_at": "2023-02-02T21:25:35.358000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "You'll easily win on your own next voting period \u003c@412614104222531604\u003e",
        "created_at": "2023-02-02T21:26:03.649000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Have you updated the github with the updated value?",
        "created_at": "2023-02-02T21:26:48.022000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-02-02T21:26:50.906000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'll also mention this to everyone (if it fixes the issue)",
        "created_at": "2023-02-02T21:27:11.127000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "it will, it works on mainnet after all",
        "created_at": "2023-02-02T21:27:22.676000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but so far it seems to me that the % that voted on genesis is still the same",
        "created_at": "2023-02-02T21:27:35.265000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and the % that voted on 493 inclusion went down and the 327 went up now.",
        "created_at": "2023-02-02T21:27:45.934000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Lets see whats gonna happen overnight.",
        "created_at": "2023-02-02T21:28:58.602000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "if my calculations are correct, we should get next voting period at midnight cest.",
        "created_at": "2023-02-02T21:30:02.887000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "I got 3.6 hours (current voting period ends at slot 10239, currently at 9155 or something)",
        "created_at": "2023-02-02T21:30:52.653000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@397389662085185547\u003e and \u003c@144468805697929216\u003e really appreciate all the help today.",
        "created_at": "2023-02-02T21:30:58.777000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "if voting goes well / perfectly, we'll be processing new deposits in 7 hours (1025 slots/votes into the next voting period)",
        "created_at": "2023-02-02T21:32:17.675000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you are right üòÇ",
        "created_at": "2023-02-02T21:32:41.860000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "Yeh, teams have to figure out what to do with the various bugs in their implementations though, fortunately that's not up to me  üòÑ",
        "created_at": "2023-02-02T21:33:45.433000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "it seems like some nodes are still voting for genesis block :/",
        "created_at": "2023-02-02T21:51:57.833000+00:00",
        "attachments": null
    },
    {
        "author": "pietjepuk",
        "category": "Testing",
        "parent": "",
        "content": "I don't know the voting logic of all clients, but \"vote with majority\" can definitely be one of them",
        "created_at": "2023-02-02T21:53:24.727000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "Oh just noticed some chaos, i'll have a read and catch-up on where we're at",
        "created_at": "2023-02-02T21:54:34.606000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "TLDR: Currently I have changed all nodes from 12 to 2048 (ETH1_FOLLOW_DISTANCE) and asked all other validators that run on the chain to do the same.",
        "created_at": "2023-02-02T21:56:03.779000+00:00",
        "attachments": null
    }
]