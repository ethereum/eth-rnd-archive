[
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We setup a sepolia shadow fork today and played around with some BLS changes on lodestar and prysm pre-capella. As expected, the change submitted to prysm makes it into everyone else' pool (since prysm gossips the changes).\n\nHowever, the interesting part is that even after a few epochs have passed, lodestar still keeps the now invalid changes in its pool, since the changes on prysm got included in the block. I guess lodestar needs to re-evaluate what's in its local pool once changes have been made on chain and empty its pool?",
        "created_at": "2023-01-19T11:48:55.912000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "we should prune out the \"finalized\" changes",
        "created_at": "2023-01-19T11:50:08.813000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "did finalization occur?",
        "created_at": "2023-01-19T11:50:37.714000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-01-19T11:50:42.433000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we are on epoch 7 already",
        "created_at": "2023-01-19T11:50:45.814000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "also lodestar SHOULD gossip if changes submitted post capella",
        "created_at": "2023-01-19T11:50:53.414000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and capella was triggered on epoch 5",
        "created_at": "2023-01-19T11:50:55.028000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Lodestar did gossip post capella changes",
        "created_at": "2023-01-19T11:51:05.043000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "server ssh?",
        "created_at": "2023-01-19T11:51:08.060000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "but didn't drop it from its pool.",
        "created_at": "2023-01-19T11:51:09.271000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "164.92.155.250",
        "created_at": "2023-01-19T11:51:17.640000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We submitted the changes pre-capella to test who's changes would make it üòÑ",
        "created_at": "2023-01-19T11:51:46.464000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "the ones post capella are gossiped and work fine",
        "created_at": "2023-01-19T11:52:05.599000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yes not supported pre-capella yet, will trying pushing it out by this weekend",
        "created_at": "2023-01-19T11:52:13.296000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "just the pruning is missing even though finality occurs",
        "created_at": "2023-01-19T11:52:21.230000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "right, but the one submitted post capella is still present in the pool.",
        "created_at": "2023-01-19T11:52:29.182000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yup üòÑ",
        "created_at": "2023-01-19T11:52:35.774000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "seemed to have pruned",
        "created_at": "2023-01-19T11:52:59.812000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "2382e79439cbc198aba1f0c20dfe5aebc68032515f418f34858fc71f21d45d3e"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "might have done it at epoch 8 then?",
        "created_at": "2023-01-19T11:53:52.019000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "pruning will happen of those changes which are in the finalized state",
        "created_at": "2023-01-19T11:54:01.106000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yes you are right.",
        "created_at": "2023-01-19T11:54:01.716000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so as finalized state moves ahead, more should be pruned",
        "created_at": "2023-01-19T11:54:21.760000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I see.",
        "created_at": "2023-01-19T11:54:30.970000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ok, no issues then!",
        "created_at": "2023-01-19T11:54:36.852000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "just interesting how other clients handle this pruning",
        "created_at": "2023-01-19T11:54:50.713000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "e.g prysm drops it as soon as the bls change has happened.",
        "created_at": "2023-01-19T11:55:02.423000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ahh no, we don't drop it on head state because there could be a reorg",
        "created_at": "2023-01-19T11:55:25.605000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "confirmed heisenberg bug. The bug exists in lodestar until g11tech takes a look.",
        "created_at": "2023-01-19T11:56:03.064000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "You mean schrodinger?",
        "created_at": "2023-01-19T11:56:33.320000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yea, teku kept it around for a bit - assumed for re-org reasons. Prysm got rid of it asap. Lighthouse also had a short time where it cached it.",
        "created_at": "2023-01-19T11:56:48.186000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "bug might* exist (exist or not)",
        "created_at": "2023-01-19T11:56:56.181000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "heisenbug üòÑ\nhttps://en.wikipedia.org/wiki/Heisenbug",
        "created_at": "2023-01-19T11:57:04.129000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ah I thought you referred to the cat üòÇ",
        "created_at": "2023-01-19T11:57:25.521000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ahhh something new to learn thanks \u003c@199561711278227457\u003e !",
        "created_at": "2023-01-19T11:57:28.716000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e collapsing quantum waves over here",
        "created_at": "2023-01-19T11:57:51.504000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "FTL!",
        "created_at": "2023-01-19T11:57:58.676000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "this issue actually raises the chance of testing something cool, can we try a small quick devnet, and see if lodestar proposes an invalid block because of this, and other clients reject it or not",
        "created_at": "2023-01-19T14:35:39.686000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e does lodestar check at packing? so it won't submit a block with these bad changes?",
        "created_at": "2023-01-19T14:36:18.757000+00:00",
        "attachments": null
    },
    {
        "author": "rubo2",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@539495253418180618\u003e (or anyone) could you please clarify what's the status of withdrawals root being ssz after today's acd? i'm kinda confused about what's decided",
        "created_at": "2023-01-19T14:55:22.138000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "my understanding: no further changes for Shanghai, we have updated EIP-4895 to use units of Gwei for the `amount`s which i believe nethermind has already implemented",
        "created_at": "2023-01-19T15:08:46.444000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "otherwise, follow the EIP to see how to serialize each withdrawal and use this to compute the root",
        "created_at": "2023-01-19T15:09:13.356000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@881905303011086387\u003e is going to work on an EIP (that i'd personally want to see in Cancun) that converts some/most of the EL serialization to SSZ",
        "created_at": "2023-01-19T15:10:02.336000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "but there is a bit of a design space here and it is worth taking some time to explore it and not rush anything for Shanghai",
        "created_at": "2023-01-19T15:10:31.572000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yes we validate  with headstate before packing üëç",
        "created_at": "2023-01-19T15:32:36.489000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ahh then it won't hit the interesting case, we'll have to manually prepare bad blocks",
        "created_at": "2023-01-19T15:33:07.152000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "anyway there are spectests for this situation",
        "created_at": "2023-01-19T15:33:23.423000+00:00",
        "attachments": null
    }
]