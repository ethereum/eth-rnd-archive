[
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@\u0026595683849225240704\u003e is this alright?\n```\n{\"agent\":\"Lighthouse/v3.5.1-319cc61/x86_64-linux\",\"error\":\"Verification of aggregate failed\",\"gossip score\":0.29763349317656157,\"message\":\"Gossip message was rejected\",\"multiaddress\":\"/ip4/188.192.74.208/tcp/9000\",\"peer id\":\"16Uiu2HAmAQ3cNRmMQJnZ4tDdw2gwxEQqzwWfH4RcoQqQijMJ9A45\",\"prefix\":\"sync\",\"severity\":\"DEBUG\",\"topic\":\"/eth2/628941ef/beacon_aggregate_and_proof/ssz_snappy\"}\n```",
        "created_at": "2023-03-14T22:29:14.817000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "we're seeing a lot of peer disconnection",
        "created_at": "2023-03-14T22:29:55.873000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "and getting errors from lighthouse like the above",
        "created_at": "2023-03-14T22:30:04.211000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "block production seems a bit better than immediately after the fork",
        "created_at": "2023-03-14T22:30:55.484000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "there where 5 consecutive missing blocks",
        "created_at": "2023-03-14T22:31:12.026000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "do you have a forkchoice dump Pari?",
        "created_at": "2023-03-14T22:31:16.769000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "we'll take one",
        "created_at": "2023-03-14T22:31:19.090000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "only from teku, will send it",
        "created_at": "2023-03-14T22:31:32.675000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we had a huge dump on peers right at fork, but started to recover fast quickly after now",
        "created_at": "2023-03-14T22:31:33.654000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://grafana.observability.ethpandaops.io/d/MRfYwus7k/nodes?orgId=1\u0026refresh=30s\u0026var-consensus_client=All\u0026var-execution_client=All\u0026var-network=prater\u0026var-filter=ingress_user%7C%21~%7Csynctest.%2A\u0026viewPanel=19",
        "created_at": "2023-03-14T22:31:34.471000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "There was a very late block from Nimbus again close to the fork",
        "created_at": "2023-03-14T22:32:10.133000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "the peer dump is expected",
        "created_at": "2023-03-14T22:32:13.410000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "perhaps Lighthouse still got the same issue",
        "created_at": "2023-03-14T22:32:17.950000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "it happens at every fork, each node will dump peers from the old fork",
        "created_at": "2023-03-14T22:32:26.782000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "trying to get a forkchoice dump to see the justification status of that late block",
        "created_at": "2023-03-14T22:32:40.107000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "LH seems like it has missed a slot. https://goerli.beaconcha.in/slot/5193754",
        "created_at": "2023-03-14T22:33:55.389000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "https://prater.beaconcha.in/blocks I not seeing any blocks from nimbus and lighthouse since the fork",
        "created_at": "2023-03-14T22:35:33.990000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Everything looks alright on our end",
        "created_at": "2023-03-14T22:36:56.462000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "blocks filled with BLS changes",
        "created_at": "2023-03-14T22:37:00.894000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouse seems to be producing blocks as far as I can see. They're also in the explorer.",
        "created_at": "2023-03-14T22:37:07.691000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e",
        "created_at": "2023-03-14T22:37:18.204000+00:00",
        "attachments": [
            {
                "type": "application/json; charset=utf-8",
                "origin_name": "dump.json",
                "content": "5d8dc1c0722f57f47a46e55cc26fb0f898e2c10014dfdfe2203d3ea13f469387"
            }
        ]
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "thanks, looking",
        "created_at": "2023-03-14T22:37:54.856000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "ah my bad, I missed it",
        "created_at": "2023-03-14T22:40:07.966000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@199561711278227457\u003e thanks for the dump, that shows nothing really bad, just a bunch of missing blocks, probably nodes offline/not updated",
        "created_at": "2023-03-14T22:44:37.467000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouse BLS to execution pool has 37628 messages currently, what are the totals looking like on other clients?",
        "created_at": "2023-03-14T22:45:04.478000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "This is more spam than I expected",
        "created_at": "2023-03-14T22:45:10.919000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'm thinking lots of nodes are struggling with the initial bls changes. Ppl tend to run testnets on lower grade hw.",
        "created_at": "2023-03-14T22:45:14.560000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I think its just that the huge CPU spike from the BLS changes at the fork mess up the goerli machines. I dont think most teams use dedicated infra for goerli. It should stabilize with time.",
        "created_at": "2023-03-14T22:45:30.246000+00:00",
        "attachments": null
    },
    {
        "author": "ralexstokes",
        "category": "Testing",
        "parent": "",
        "content": "i did see a lot of \"work queue full\" messages on my lighthouse node right at the fork",
        "created_at": "2023-03-14T22:45:32.168000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "and the nodes are being resource exhausted, and thus missing their own proposals and attestations",
        "created_at": "2023-03-14T22:45:41.954000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Right, this might gonna be an issue for a day or two tho, as we going to be missing quite some blocks, and thus process all the bls changes significantly slower.",
        "created_at": "2023-03-14T22:46:21.013000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003ctimbeiko\u003e Not the most urgent thing, but it would be good if we could get some rough numbers to recommend in terms of bandwidth/RAM to smoothly process the credential changes on mainnet.",
        "created_at": "2023-03-14T22:47:03.823000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "We had about 36k messages in a Lodestar node",
        "created_at": "2023-03-14T22:47:07.331000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Its really hard to make recommendations, but the worst case scenario (300k key change) should be able to be handled by 16gb/8c nodes.",
        "created_at": "2023-03-14T22:47:58.776000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Its the machines we have used for devnet 7",
        "created_at": "2023-03-14T22:48:17.594000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "neither bandwitdh not RAM are very much relevant",
        "created_at": "2023-03-14T22:48:17.717000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "Does anyone know who owns Sifrai validators?",
        "created_at": "2023-03-14T22:48:27.870000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "It looks like they missed multiple proposals",
        "created_at": "2023-03-14T22:48:38.907000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I think some clients store their bls pool in ram, so a huge spike of raw data is pushed to RAM",
        "created_at": "2023-03-14T22:48:51.985000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yea, reaching out to them",
        "created_at": "2023-03-14T22:49:10.143000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "They missed 2 proposals last epoch",
        "created_at": "2023-03-14T22:49:51.823000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "the changes are quite small, some napkin math tells me 400k changes would only be around 170MB as JSON, even less in-memory",
        "created_at": "2023-03-14T22:51:30.997000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yeah RAM and bandwidth are not an issue",
        "created_at": "2023-03-14T22:52:43.379000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "CPU is",
        "created_at": "2023-03-14T22:52:48.305000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "the DOS is on signature verification",
        "created_at": "2023-03-14T22:52:54.438000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "We didn't see any significant CPU increase except a small burst at the time of the fork, and after that it dropped (likely due to the decrease in number of peers).",
        "created_at": "2023-03-14T22:57:01.112000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "From our logs this block was produced and broadcast timely with the root `0x04d2234994d07886c1266d1c4409ff1e679376d2321583378233daa4fcdf86aa`. I'll keep looking into why it didn't make it into the chain.",
        "created_at": "2023-03-14T22:57:18.221000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Confirming late \u003c@602753420033785856\u003e we're also seeing about 35K messages in the pool, everything looks fine in our cluster",
        "created_at": "2023-03-14T22:58:28.624000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I think it's just people that didn't update or similar",
        "created_at": "2023-03-14T22:58:36.517000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I donÂ´t  see many missing blocks from teams",
        "created_at": "2023-03-14T22:58:52.911000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "nimbus may be strugling \u003c@654267572107083777\u003e perhaps infra? I see sporadic blocks coming and then some missing",
        "created_at": "2023-03-14T22:59:31.742000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "maybe, fleet or in general?",
        "created_at": "2023-03-14T23:00:26.021000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "your fleet",
        "created_at": "2023-03-14T23:01:38.740000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I see a bunch of Nimbus tagged nodes in the explorer, that produce a block and then failed the next one",
        "created_at": "2023-03-14T23:02:01.896000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "\u003e I think it's just people that didn't update or similar\nThis aligns with our view of the network as well.",
        "created_at": "2023-03-14T23:02:21.390000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://prater.beaconcha.in/slots?q=Nimbus looks all green?",
        "created_at": "2023-03-14T23:03:06.027000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but maybe that only shows successful proposals",
        "created_at": "2023-03-14T23:03:17.708000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "Yeap, it should show only successful proposals afaik",
        "created_at": "2023-03-14T23:03:52.301000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is there a way to do the same thing but showing missed too?",
        "created_at": "2023-03-14T23:04:10.479000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "oh, I have no idea lol",
        "created_at": "2023-03-14T23:04:46.292000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "https://goerli.beaconcha.in/slot/5193899",
        "created_at": "2023-03-14T23:04:47.857000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "This one for example \u003c@654267572107083777\u003e",
        "created_at": "2023-03-14T23:04:54.811000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "look in https://goerli.beaconcha.in/slots",
        "created_at": "2023-03-14T23:05:05.634000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "https://prater.beaconcha.in/epoch/162309 \nYou can try looking here",
        "created_at": "2023-03-14T23:05:06.027000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "2 slots appear to be missed",
        "created_at": "2023-03-14T23:05:20.701000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "the slots one is better, you get all of them",
        "created_at": "2023-03-14T23:05:25.201000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "as soon as one adds a text filter it only shows proposed again",
        "created_at": "2023-03-14T23:06:08.746000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but yes, I see the missed ones described",
        "created_at": "2023-03-14T23:06:43.545000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "the text filter works on the grafitti, so the grafitti wont exist on missed slots and wont show up with that filter on beaconchain",
        "created_at": "2023-03-14T23:07:25.605000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Lodestar's goerli validators have dropped, we're looking into it and trying to push them back up.",
        "created_at": "2023-03-14T23:12:33.303000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "for Nimbus, it at least tried to send a couple the blocks marked missing\n```\n{\"lvl\":\"NOT\",\"ts\":\"2023-03-14 22:57:56.042+00:00\",\"msg\":\"Block sent\",\"blockRoot\":\"6d04201f\",\"blck\":{\"slot\":5193885,\"proposer_index\":307076,\"parent_root\":\"33138dc9\",\"state_root\":\"d749f8cc\",\"eth1data\":{\"deposit_root\":\"9db3faed38a7795c7de171af56d09671d9c10ae3356d43b1f7099582fa823c83\",\"deposit_count\":255518,\"block_hash\":\"03f1cdbcaf55d268bdca6f6a3e9c676982727a4889b9a5e77a93014e94c4169e\"},\"graffiti\":\"Nimbus/v23.3.0-17c0ee-stateofus\",\"proposer_slashings_len\":0,\"attester_slashings_len\":0,\"attestations_len\":128,\"deposits_len\":0,\"voluntary_exits_len\":0,\"sync_committee_participants\":301,\"block_number\":8656208,\"fee_recipient\":\"0x455e5aa18469bc6ccef49594645666c587a3a71b\"},\"signature\":\"87846577\",\"delay\":\"56s10ms338us664ns\"}\n```\n\n```\n{\"lvl\":\"NOT\",\"ts\":\"2023-03-14 22:57:56.118+00:00\",\"msg\":\"Block sent\",\"blockRoot\":\"b702d9b5\",\"blck\":{\"slot\":5193886,\"proposer_index\":199884,\"parent_root\":\"33138dc9\",\"state_root\":\"5c65d544\",\"eth1data\":{\"deposit_root\":\"9db3faed38a7795c7de171af56d09671d9c10ae3356d43b1f7099582fa823c83\",\"deposit_count\":255518,\"block_hash\":\"03f1cdbcaf55d268bdca6f6a3e9c676982727a4889b9a5e77a93014e94c4169e\"},\"graffiti\":\"Nimbus/v23.3.0-17c0ee-stateofus\",\"proposer_slashings_len\":0,\"attester_slashings_len\":0,\"attestations_len\":128,\"deposits_len\":0,\"voluntary_exits_len\":0,\"sync_committee_participants\":301,\"block_number\":8656208,\"fee_recipient\":\"0x455e5aa18469bc6ccef49594645666c587a3a71b\"},\"signature\":\"a29d1f53\",\"delay\":\"44s81ms643us961ns\"}\n```",
        "created_at": "2023-03-14T23:14:00.790000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "the suspiciously similar timestamps for blocks two slots apart point to one of the probably not directly-fork-related (but, maybe) mechanisms which sometimes cause late blocks in general",
        "created_at": "2023-03-14T23:14:45.715000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "Both are ~1m late",
        "created_at": "2023-03-14T23:16:26.641000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "I can account for 10,000 validators that were running besu + teku + web3signer and the besu upgrade failed. It's fixed now so should be participating again",
        "created_at": "2023-03-14T23:17:27.804000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yeah, we do see a lot of very late Nimbus blocks",
        "created_at": "2023-03-14T23:22:34.608000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "yeah, been looking into it more and still no obvious evidence it's strongly fork-related, but it's related to issues we've seen before",
        "created_at": "2023-03-14T23:23:44.875000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Our watchtower didn't pull the latest geth stable and was still on 1.11.2, updating now and hope to see them up shortly",
        "created_at": "2023-03-14T23:27:39.467000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "We'll see hopefully another 50k ish validators come back online",
        "created_at": "2023-03-14T23:28:09.307000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We have finality on goerli ðŸ˜„",
        "created_at": "2023-03-14T23:55:53.040000+00:00",
        "attachments": null
    },
    {
        "author": "philngo",
        "category": "Testing",
        "parent": "",
        "content": "Great stress test everyone ðŸ˜…",
        "created_at": "2023-03-14T23:56:13.384000+00:00",
        "attachments": null
    }
]