[
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "Update: we're not blocked on the tests because our test runner was already overriding the proposer boost to 70% from the period before proposer boost was enabled in `mainnet.yaml` at all",
        "created_at": "2022-05-23T00:12:39.852000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I've merged the PR now ðŸ˜ƒ \n\nTagging client teams since its a change to the configs \u003c@361447803194441738\u003e \u003c@340345049063882753\u003e \u003c@363800010518822915\u003e \u003c@654267572107083777\u003e \u003c@792822129019584562\u003e",
        "created_at": "2022-05-23T08:26:08.243000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "All client teams should have received a message from me about the Ropsten mnemonics, in case of mishaps please do reach out ðŸ™‚",
        "created_at": "2022-05-23T09:35:04.420000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "CL guys, a question: have you been validating the `feeRecipient` you get before signing the blocks for publishing?",
        "created_at": "2022-05-23T10:46:21.935000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "geth responds with the requested one (via fcU attributes), while nethermind sets its own",
        "created_at": "2022-05-23T10:47:06.343000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "and we (lodestar) just introduced a validation of set vs received and it breaks with nethermind",
        "created_at": "2022-05-23T10:47:12.326000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "(i know there is a caveat in mev builder handling but thats a separate consideration)",
        "created_at": "2022-05-23T10:47:40.025000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "may be a flag needs to be added to ignore the divergence between provided and received `feeRecipient` especially when the engine is outsourced/pointed to a thirdparty infra provider, and they would only set their own `feeRecipient`?",
        "created_at": "2022-05-23T11:41:39.316000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I don't think that forcing the fee recipient as set by a proposer to be the same as that in the execution payload works in all cases.\n\nFor an outsourced block builder, for example, they may set the execution payload fee recipient to their own address, which allows for on-going building of blocks without caring about who the actual fee recipient will be.  They can then include a simple ETH transfer as the last transaction in the block that transfers funds to the fee recipient as set by the proposer of the block.",
        "created_at": "2022-05-23T12:19:18.811000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "right, but we can't leave it open handed, beacon api is open for anyone to post and update fee recipient via beacon proposer, so the validator needs to be provided with a flag of atleast `acceptableFeeRecipients`, absence of which will mean a sticker === check",
        "created_at": "2022-05-23T13:56:55.690000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "this is with regard to `engine` and not `builder` where `BuilderBid` provides info about payout",
        "created_at": "2022-05-23T13:57:33.665000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so there is a mechanism to hold `builder` accountable there by a rating mechanism by verifying `SignedBuilderBid` and the actual payout of a block",
        "created_at": "2022-05-23T13:58:23.904000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "The beacon API is already assumed to be on a secure network.",
        "created_at": "2022-05-23T14:19:10.973000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "The normal, usual model proposed for the regular (non-MEV) node is a 1:1 EL/CL pair, both controlled/owned by the same entity",
        "created_at": "2022-05-23T14:21:04.204000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "in which case this is moot",
        "created_at": "2022-05-23T14:21:11.192000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so the engine should in all cases respond with the requested",
        "created_at": "2022-05-23T14:21:56.603000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "feeRecipient",
        "created_at": "2022-05-23T14:22:01.324000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "well, or something the same entity/person has configured",
        "created_at": "2022-05-23T14:22:10.357000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "either way, not an adversarial relationship",
        "created_at": "2022-05-23T14:22:17.867000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "but we can assume a person doing configuration mistakes",
        "created_at": "2022-05-23T14:23:35.210000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I still think you are proposing too strong a relationship between the fee recipient value provided by a validator (\"this is the address where I want to receive payment for proposing a block\") and that in the execution payload (\"this is the address to which transaction tips are sent\").  They don't have to be the same thing.\n\nIf you want to add some flag to enforce this on the validator client or beacon node, fair enough, but I don't see it being a spec requirement.",
        "created_at": "2022-05-23T14:27:15.823000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Mainnet-shadow-fork-6 configs are out: https://github.com/eth-clients/merge-testnets/tree/main/mainnet-shadow-fork-6\n\nTTD is planned to be reached on Tuesday (31st May) at ~3PM. The aim is to use the same versions as ropsten so we can test it ahead of the merge there. \n\nI'll be running a round of updates + TTD override on Monday (30th), if there's anything please do reach out.\n\nTooling links:\nhttps://ethstats.mainnetshadowfork6.ethdevops.io/\nhttps://explorer.mainnetshadowfork6.ethdevops.io/\nhttps://beaconchain.mainnetshadowfork6.ethdevops.io/",
        "created_at": "2022-05-23T14:48:58.549000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Deprecation notice for mainnet-shadow-fork-4, we can use MSF5\u0026MSF6 for testing. We additionally still have MSF2 that is long running and will continue to stay online. Lemme know if I should leave MSF4 alone for any reasons, it'll be shut down early tomorrow.",
        "created_at": "2022-05-23T16:32:09.083000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "I totally get what you are saying, then may be the engine should also return what value it the validator's feeRecipient (the address where i want to receive payment for proposing a block) is getting for the block, for validator to make an informed decision especially when the engine and builder can run in parallel",
        "created_at": "2022-05-23T18:11:23.152000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "I mean, in case of engine, where engine didn't use the validator's feeRecipient i.e. essentially the value is `0` why would validator sign the block apart from the incentive of much negligible block reward",
        "created_at": "2022-05-23T18:13:37.078000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "the main issue being that the validator needs to close the loop on accepting the feeRecipient or not. builder + engine is apple to oranges comparison for now unless engine returns BuilderBid as well",
        "created_at": "2022-05-23T18:15:44.140000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I still don't understand the implied trust model here between EL and CL. Why is this CL just calling out to some random EL it views as a potential adversary?",
        "created_at": "2022-05-23T18:19:18.733000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "it might not be adversary... the model is `trust but verify`",
        "created_at": "2022-05-23T18:20:05.717000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "also if it runs both engine + builder, it needs to choose between the two (or multiple engines + builders). builder gives a nice BuilderBid, but engine's payout to feeRecipient is blackbox",
        "created_at": "2022-05-23T18:22:05.063000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "That's a more compelling argument for me, yeah, not so much about the fee recipient address part but the total payout.",
        "created_at": "2022-05-23T18:23:14.077000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "he he yea, in the end its about payout",
        "created_at": "2022-05-23T18:23:33.460000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "And, I agree it's important to get right -- various writings/guides on post-merge Eth are already [I think unhelpfully] conflating staking-yield-per-se and what one gets from transactions. If people see half the income from this that they're expecting, that's not great optics.",
        "created_at": "2022-05-23T18:24:50.934000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "right",
        "created_at": "2022-05-23T18:25:26.495000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "but \u003c@654267572107083777\u003e basically do we agree that no matter engine or builder, the payout has to happen to validator's `feeRecipient` (and indication of what amount) in form of it being the block's `feeRecipient` and/or it receiving funds in a transaction in block? Again from discussions with EL counterparts, it its't really clear.",
        "created_at": "2022-05-23T18:54:27.388000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "The spec is fairly careful not to require this. Personally, I don't view it as paramount either, since IMO the CL and EL are both user-agents of the same entity, so to the extent one overrides the other, they're both serving the same people.\n\nOne can argue that this is a misconfiguration, but one could also view it as a convenience, where one can configure the fee recipient in the most convenient place, wherever it happens to be. Maybe it's the EL.",
        "created_at": "2022-05-23T19:12:31.741000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "It does seem important, at least as a game-theory/signaling mechanism, for the engine API to allow the CL to make an informed judgement about whether to proceed with blind-signing the MEV header, because the MEV infrastructure is emphatically not under the control of individual users in the near future, and the incentives there are ... not ideal, currently.",
        "created_at": "2022-05-23T19:14:09.036000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Hi all, I've been thinking about test scenarios for the `TERMINAL_BLOCK_HASH`, but have some questions about the parameter usage:\n\nFirst being, is this parameter something that can only be changed by restarting the client? In the case we require to use it at some point, would the instruction be that the node operators need to restart their clients with parameter set to an already mined blockhash?\nI wrote a hive test for EL clients but I'm afraid it does not mimic this scenario very well....",
        "created_at": "2022-05-23T23:44:27.355000+00:00",
        "attachments": null
    }
]