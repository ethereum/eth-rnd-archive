[
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I don't know the specific of how the handshake goes, but the CL will receive a block, pass the payload to the El, the El will not have the ancestry to validate it so it will respond SYNCING.  The cl will import it anyway optimistically and then inform the El that this block has become it's head with FCU. The EL then will request by any means the necessary blocks/state to validate the payload that the CL just sent.",
        "created_at": "2022-09-09T00:48:31.465000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@360491619402776577\u003e the documentation in \u003chttps://geth.ethereum.org/docs/rpc/server\u003e do not mention the engine api by default, but I remember you saying that if TTD is configured then the engine API is enabled. Users are asking if they need to pass `--http` and `--http.api engine` or the former is already enough.",
        "created_at": "2022-09-09T00:52:22.515000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "They don't need to pass anything, the engine api is enabled by default",
        "created_at": "2022-09-09T05:48:33.048000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "MSF13 merged earlier today, we saw attestation rate drop to ~97%. This was due to some stale data on one node that I forgot to clear up, the node thought it was on the wrong shadow fork. No other client incompatibility or issues were seen. \n\nRoughly 20% of the network was running mev-boost. We did notice an issue here, upon investigation (thanks \u003c@504202741933932544\u003e and bloxroute) we found:\n- An older version of the builder was running by mistake for the shadow fork. This version wasn't properly sending bids to the relay. This led to the relay accepting signed blinded blocks, but not providing the payload. Therefore we saw missed proposals on the shadow fork. The builder has now been patched and the issue fixed. Bloxroute has ensured that mainnet runs the correct version, so this should not happen on mainnet.",
        "created_at": "2022-09-09T15:59:28.179000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "\u003e No other client incompatibility or issues were seen. \nThis is fantastic! ðŸŽ‰",
        "created_at": "2022-09-09T16:01:14.040000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cdannyryan\u003e excellent!",
        "created_at": "2022-09-09T16:55:47.794000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "What is the algorithm to pick SafeBlock? Is it the same for all consensus clients?",
        "created_at": "2022-09-09T19:38:55.535000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/consensus-specs/blob/dev/fork_choice/safe-block.md",
        "created_at": "2022-09-09T20:06:06.779000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "```python\ndef get_safe_beacon_block_root(store: Store) -\u003e Root:\n    # Use most recent justified block as a stopgap\n    return store.justified_checkpoint.root\n```",
        "created_at": "2022-09-09T20:06:26.035000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "can you explain what it means for someone who didn't already implement CL client? ðŸ˜„",
        "created_at": "2022-09-09T20:36:52.204000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "So it moves with the checkpoints? That is how many blocks on normal operation?",
        "created_at": "2022-09-09T20:37:49.531000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "given a given fork choice state (which, different CL clients, same codebase or no, can be on different forks), it should be deterministically the same across all CL clients, yes",
        "created_at": "2022-09-09T20:38:21.634000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it depends where in an epoch a block is, because justification happens on epoch boundaries",
        "created_at": "2022-09-09T20:39:01.046000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "so its like N'th block of last epoch or something?",
        "created_at": "2022-09-09T20:39:35.131000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "it can take from about 32 to 64 block for a given block to justify",
        "created_at": "2022-09-09T20:39:44.524000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "ok so it will move every 32-64 blocks",
        "created_at": "2022-09-09T20:40:01.851000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "assuming the network is operating well, finalizing, etc",
        "created_at": "2022-09-09T20:40:05.589000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "yeah got it",
        "created_at": "2022-09-09T20:40:11.679000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "well, it will move every 32 blocks",
        "created_at": "2022-09-09T20:40:22.132000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "ideally",
        "created_at": "2022-09-09T20:40:32.539000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "do you know if this will be changed in the future?",
        "created_at": "2022-09-09T20:40:53.856000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but, that's assuming all slots have blocks (mostly true in mainnet, but obviously not in Goerli)",
        "created_at": "2022-09-09T20:40:54.385000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "there's discussion of single-slot finality",
        "created_at": "2022-09-09T20:41:32.679000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "plausible-to-likely change at some point, but that's years, not months",
        "created_at": "2022-09-09T20:41:49.196000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "until then, probably not",
        "created_at": "2022-09-09T20:42:05.994000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "yeah but some other change to `safe`",
        "created_at": "2022-09-09T20:42:20.576000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "oh. it's explicitly a placeholder, so maybe",
        "created_at": "2022-09-09T20:42:41.864000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "yep that's what I'm asking ðŸ™‚",
        "created_at": "2022-09-09T20:43:12.312000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I, personally, don't know of specific planned changes, but that's all I can say",
        "created_at": "2022-09-09T20:43:31.150000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@425572898787426305\u003e ?",
        "created_at": "2022-09-09T20:43:35+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Pari, you only gave me good news today!",
        "created_at": "2022-09-09T22:34:58.284000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "It's unlikely to change imo. Prysm will move to give you something slightly better than justified (I think all clients should) but nowhere close to the 2 slots we once thought",
        "created_at": "2022-09-09T22:36:48.002000+00:00",
        "attachments": null
    },
    {
        "author": "lukaszrozmej",
        "category": "Testing",
        "parent": "",
        "content": "so it means its not really useful?",
        "created_at": "2022-09-09T22:38:50.980000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Well  I think it's the best we can tell users, that this block is not reorgeable unless something (really) extraordinary happens. It has a use other than a) users being misled by block depth and b) users waiting more than twice until finality",
        "created_at": "2022-09-09T22:44:58.640000+00:00",
        "attachments": null
    }
]