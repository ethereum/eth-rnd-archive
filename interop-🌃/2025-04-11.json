[
    {
        "author": "ethpandaops-devnet-pulse-v2",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2025-04-11T01:00:00.523000+00:00",
        "attachments": null
    },
    {
        "author": "macfarla",
        "category": "Testing",
        "parent": "",
        "content": "looking into some 7002 hive failures - Besu has 6 consume-engine tests failing  eg `tests/prague/eip7002_el_triggerable_withdrawals/test_modified_withdrawal_contract.py::test_extra_withdrawals[fork_Prague-blockchain_test_engine-15_withdrawal_requests]-besu_default` https://hive.ethpandaops.io/pectra/index.html#summary-sort=name\u0026suite=eest%2Fconsume-engine\u0026client=reth_default\n\n1. think these tests need updating - with recent update to 7002 https://github.com/ethereum/EIPs/pull/9508/files\n\u003e If the call to the contract fails or returns an error, the block **MUST** be invalidated.\nso the tests should be expecting payload to be INVALID (opposite of current assertion)\n2. we are fixing besu - to return Invalid Payload instead of Invalid Request https://github.com/hyperledger/besu/pull/8540\n3. think Geth and Erigon (currently passing these tests) need to update to match the 7002 changes",
        "created_at": "2025-04-11T05:29:44.456000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "cc \u003c@976542403269910539\u003e \u003c@892053833121923094\u003e",
        "created_at": "2025-04-11T06:28:50.736000+00:00",
        "attachments": null
    },
    {
        "author": "somnergy",
        "category": "Testing",
        "parent": "",
        "content": "I haven't merged the code changes as the tests weren't ready for those. We have multiple CI's that don't allow merge with EEST failures",
        "created_at": "2025-04-11T08:18:01.530000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Besu had some changes to make, but we also think the tests are wrong, what do you think?",
        "created_at": "2025-04-11T09:44:56.038000+00:00",
        "attachments": null
    },
    {
        "author": "somnergy",
        "category": "Testing",
        "parent": "",
        "content": "They haven't updated EESTs for this failure scenario yet. For instance I got 4 failures because of empty code at pectra. And around 300+ failures on legacy tests. \u003c@892053833121923094\u003e et al. aware of this, probably next release will have it.",
        "created_at": "2025-04-11T09:46:46.909000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "ah ok, maybe these new tests are only tangentally related then...still they appear to exercise an error scenario when there's a bug in the withdrawal contract which seems related to your PR",
        "created_at": "2025-04-11T09:47:38.215000+00:00",
        "attachments": null
    },
    {
        "author": "felix314159_",
        "category": "Testing",
        "parent": "",
        "content": "hi, i joined eest 2 months ago and i wrote the test you are discussing. i wanted to see how clients behave when a system contract would have a different value for `MAX_WITHDRAWAL_REQUESTS_PER_BLOCK` other than 16, so i modified the [7002 withdrawal contract code](https://github.com/lightclient/sys-asm/blob/main/src/withdrawals/main.eas#L37) to allow 18 withdrawals and recompiled it with [geas](https://github.com/fjl/geas). btw when i compile the unmodified contract with geas the resulting bytecode exactly matches [this](https://hoodi.etherscan.io/address/0x00000961Ef480Eb55e80D19ad83579A64c007002#code) and the bytecode from the modified contract only differs in two places (only the part after \"80601\" and the part before \"5b5f5b\" is changed, which reflect the change from 16 to 18 [little endian 21 vs 01, big endian 0x12 vs 0x10]). a basic explanation of what was done is already a comment in the [test](https://github.com/ethereum/execution-spec-tests/blob/main/tests/prague/eip7002_el_triggerable_withdrawals/test_modified_withdrawal_contract.py#L94). you described the resulting withdrawal contract as inherently bugged, but from what i can tell i don't see what the bug would be. i see that reth behaves like besu (reth returns `validation_err=failed to apply withdrawal requests contract call: execution halted: StackUnderflow`), so i guess i have to discuss with mario again whether besu+reth or the other exec client teams take on this is more in agreement with the specs. sorry for the late reply btw, i did not have dc permission to send msg in this channel earlier today",
        "created_at": "2025-04-11T12:32:37.445000+00:00",
        "attachments": null
    },
    {
        "author": "somnergy",
        "category": "Testing",
        "parent": "",
        "content": "I only understood you changed the code to invoke a failure, but the clients won't agree unless they merge the new changes (Chicken-Egg much)",
        "created_at": "2025-04-11T13:10:30.850000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@550420431744794624\u003e wondering if this was a particular update since consolidations was added, i tried to use the launch pad to deposit again ( i created 3 keys) usually the UI tells me if a key is already deposited, but this time when i used the UI it said none of my keys were deposited ( even though 2 of them were) so i accidently deposited again on the same key for hoodi. did something change on the ui so it no longer mentions it's already deposited.",
        "created_at": "2025-04-11T15:05:44.461000+00:00",
        "attachments": null
    },
    {
        "author": "remyroy",
        "category": "Testing",
        "parent": "",
        "content": "Which URL are you using?",
        "created_at": "2025-04-11T16:24:20.008000+00:00",
        "attachments": null
    }
]