[
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Option 2 is fine for Grandine.",
        "created_at": "2024-05-08T08:15:36.262000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/execution-apis/blob/main/src/engine/prague.md doesn't mention `forkchoiceUpdatedV4` but\n```\n{Error:forkchoiceUpdatedV3 must only be called for cancun payloads}\"\n```\nand https://github.com/marioevz/go-ethereum/blob/5e536f06faa42c62de92379b3699fdaaeced9446/eth/catalyst/api.go#L80-L97 doesn't mention any V4 fCU. But https://github.com/marioevz/go-ethereum/blob/5e536f06faa42c62de92379b3699fdaaeced9446/eth/catalyst/api.go#L225-L227 seems to check/notice that if `pragueTime` is set in the genesis information, once it passes that, it won't accept any fcU. How is one supposed to use fcU in Pectra in https://github.com/marioevz/go-ethereum/tree/prague-devnet-0 ?",
        "created_at": "2024-05-08T09:06:27.364000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Yea, that's what we reported on TG.",
        "created_at": "2024-05-08T09:09:48.562000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "right, I didn't see that at first, but it's the same issue indeed, you had already run across it",
        "created_at": "2024-05-08T09:10:15.661000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "yea, so it's very likely Geth issue. We also tried Grandine \u003c\u003e EthereumJS pair and the issue is different ( EIP-7002 contract issue in Kurtosis).",
        "created_at": "2024-05-08T09:12:23.292000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "cc \u003c@\u0026688090867927482525\u003e",
        "created_at": "2024-05-08T09:29:06.892000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "This is not a branch prepared by us, but by \u003c@892053833121923094\u003e from the testing team. I don't think we have a branch for devnet-0 yet, cc \u003c@543900561460822016\u003e, you can just try to remove this line https://github.com/marioevz/go-ethereum/blob/5e536f06faa42c62de92379b3699fdaaeced9446/eth/catalyst/api.go#L225 but all bets are kinda off",
        "created_at": "2024-05-08T09:34:25.910000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@543900561460822016\u003e did mention that his branch of \"prague-devnet-0\" could be used. Thats why we referenced that",
        "created_at": "2024-05-08T09:35:41.290000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/lightclient/go-ethereum/tree/prague-devnet-0",
        "created_at": "2024-05-08T09:36:09.831000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I think this can fix it https://github.com/lightclient/go-ethereum/pull/42",
        "created_at": "2024-05-08T09:39:52.416000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "building an image ðŸ˜„",
        "created_at": "2024-05-08T09:41:57.234000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "I based the repo/branch used off https://discord.com/channels/595666850260713488/910910348922589184/1235976249273487391",
        "created_at": "2024-05-08T09:42:19.363000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "is that not correct?",
        "created_at": "2024-05-08T09:42:22.434000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "from 5 days ago",
        "created_at": "2024-05-08T09:42:47.438000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "maybe Mario and Matt has to have a chat ðŸ˜„",
        "created_at": "2024-05-08T09:43:46+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "they already seem to agree on branch name",
        "created_at": "2024-05-08T09:44:08.098000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "try the image `ethpandaops/geth:MariusVanDerWijden-patch-1-1c3f231`",
        "created_at": "2024-05-08T09:49:16.701000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "No more FCU issue, but obviously the same issue we got with EthereumJS:\n```\n[2024-05-08T09:59:13.015+00:00] [WARN] [eth1_api::eth1_api] last available Eth1 RPC endpoint http://172.16.0.18:8561/ returned an error: RPC error: Error { code: InternalError, message: \"Attempt to accumulate EIP-7002 requests failed: the contract does not exist. Ensure the deployment tx has been run, or that the required contract code is stored\", data: None }\n```\n\u003c@199561711278227457\u003e let us know when Kurtosis is fixed.",
        "created_at": "2024-05-08T10:00:27.219000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "merging now ðŸ˜„",
        "created_at": "2024-05-08T10:00:42.661000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we are making a release right now. Should be fixed in the next 30 mins.",
        "created_at": "2024-05-08T10:00:46.425000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "It compiled ðŸ‘€  I made the patch on my phone",
        "created_at": "2024-05-08T10:01:28.222000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "my man!",
        "created_at": "2024-05-08T10:01:40.884000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I'm trying to stop bbusa from rolling clusters from his phone and you're giving him new ideas ðŸ˜†",
        "created_at": "2024-05-08T10:02:03.537000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "You are prepared for next week.",
        "created_at": "2024-05-08T10:02:28.338000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I had some internet though :D",
        "created_at": "2024-05-08T10:05:11.468000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "we are renaming CL receipt to request including : `depositReceiptsStartIndex` to depsoitRequestsStartIndex?",
        "created_at": "2024-05-08T10:17:23.449000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "or this hack is to be followed for devnet0? (so basically handling at engine api while receipt is still refered everywhere in CL types as of now)",
        "created_at": "2024-05-08T10:17:59.815000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Yes, i think doing the full renaming is reasonable. Do you think it is unnecessary to rename this variable for some reason?",
        "created_at": "2024-05-08T10:38:21.112000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Thanks a lot for a quick decision making on the https://github.com/ethereum/execution-apis/pull/544. I have closed the PR so CL will handle the receipts/request discrepancy for devnet-0 (the rough consensus is to take the Option 2)",
        "created_at": "2024-05-08T10:41:42.098000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "no am good, just confirming",
        "created_at": "2024-05-08T10:42:30.695000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "I have drafted a PR with the full renaming, https://github.com/ethereum/consensus-specs/pull/3757, any inputs are very much appreciated!",
        "created_at": "2024-05-08T10:43:04.460000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "well, patching from phone may not be the best approach:\n\n```\nERROR[05-08|10:55:12.002] RPC method engine_forkchoiceUpdatedV3 crashed: runtime error: invalid memory address or nil pointer dereference\ngoroutine 18150 [running]:\ngithub.com/ethereum/go-ethereum/rpc.(*callback).call.func1()\n    github.com/ethereum/go-ethereum/rpc/service.go:199 +0x85\npanic({0x181e3c0?, 0x2c5bfa0?})\n    runtime/panic.go:770 +0x132\ngithub.com/ethereum/go-ethereum/core.ProcessBlockHashHistory(0xc0017c1a40, 0xc001c28288, 0xc0000ee270, {0x2023120, 0xc000684908})\n    github.com/ethereum/go-ethereum/core/state_processor.go:294 +0x226\ngithub.com/ethereum/go-ethereum/miner.(*Miner).prepareWork(0xc000842000, 0xc00205ad60)\n    github.com/ethereum/go-ethereum/miner/worker.go:204 +0xa85\ngithub.com/ethereum/go-ethereum/miner.(*Miner).generateWork(0xc000842000, 0xc00205ad60)\n    github.com/ethereum/go-ethereum/miner/worker.go:92 +0x4a\ngithub.com/ethereum/go-ethereum/miner.(*Miner).buildPayload(0xc000842000, 0xc001d04750)\n    github.com/ethereum/go-ethereum/miner/payload_building.go:193 +0xd8\ngithub.com/ethereum/go-ethereum/miner.(*Miner).BuildPayload(...)\n    github.com/ethereum/go-ethereum/miner/miner.go:130\ngithub.com/ethereum/go-ethereum/eth/catalyst.(*ConsensusAPI).forkchoiceUpdated(0xc0000e6dc0, {{0x94, 0xa7, 0x4e, 0x9c, 0x2f, 0x5d, 0xbe, 0xa4, 0x7c, ...}, ...}, ...)\n    github.com/ethereum/go-ethereum/eth/catalyst/api.go:392 +0x269c\ngithub.com/ethereum/go-ethereum/eth/catalyst.(*ConsensusAPI).ForkchoiceUpdatedV3(0xc0000e6dc0?, {{0x94, 0xa7, 0x4e, 0x9c, 0x2f, 0x5d, 0xbe, 0xa4, 0x7c, ...}, ...}, ...)\n```",
        "created_at": "2024-05-08T10:56:28.829000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "```\ngithub.com/ethereum/go-ethereum/eth/catalyst/api.go:233 +0x3e5\nreflect.Value.call({0xc000034d20?, 0xc0004d2330?, 0x60?}, {0x1a8ea54, 0x4}, {0xc00204a7e0, 0x3, 0xc001c1da40?})\n    reflect/value.go:596 +0xca6\nreflect.Value.Call({0xc000034d20?, 0xc0004d2330?, 0x2?}, {0xc00204a7e0?, 0x16?, 0x16?})\n    reflect/value.go:380 +0xb9\ngithub.com/ethereum/go-ethereum/rpc.(*callback).call(0xc000307980, {0x201dcd8, 0xc001fef400}, {0xc00204c680, 0x1a}, {0xc00203b1a0, 0x2, 0x4de8af?})\n    github.com/ethereum/go-ethereum/rpc/service.go:205 +0x36d\ngithub.com/ethereum/go-ethereum/rpc.(*handler).runMethod(0xc001e20fc0?, {0x201dcd8?, 0xc001fef400?}, 0xc001f7d9d0, 0x2?, {0xc00203b1a0?, 0xc0016c1dc0?, 0x41beb8?})\n    github.com/ethereum/go-ethereum/rpc/handler.go:565 +0x3c\ngithub.com/ethereum/go-ethereum/rpc.(*handler).handleCall(0xc002042280, 0xc00203b0e0, 0xc001f7d9d0)\n    github.com/ethereum/go-ethereum/rpc/handler.go:512 +0x22f\ngithub.com/ethereum/go-ethereum/rpc.(*handler).handleCallMsg(0xc002042280, 0xc00203b0e0, 0xc001f7d9d0)\n    github.com/ethereum/go-ethereum/rpc/handler.go:470 +0x22d\ngithub.com/ethereum/go-ethereum/rpc.(*handler).handleNonBatchCall(0xc002042280, 0xc00203b0e0, 0xc001f7d9d0)\n    github.com/ethereum/go-ethereum/rpc/handler.go:296 +0x18a\ngithub.com/ethereum/go-ethereum/rpc.(*handler).handleMsg.func1.1(0x201dcd8?)\n    github.com/ethereum/go-ethereum/rpc/handler.go:269 +0x25\ngithub.com/ethereum/go-ethereum/rpc.(*handler).startCallProc.func1()\n    github.com/ethereum/go-ethereum/rpc/handler.go:387 +0xbe\ncreated by github.com/ethereum/go-ethereum/rpc.(*handler).startCallProc in goroutine 5314\n    github.com/ethereum/go-ethereum/rpc/handler.go:383 +0x79\n```",
        "created_at": "2024-05-08T10:56:35.573000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@\u0026814631391181930606\u003e throws some error when constructing block, but I don't see anything in EthereumJS logs. it doesn't send a proper error in response too:\n```\n[2024-05-08T11:16:20.004+00:00] [WARN] [eth1_api::eth1_api] last available Eth1 RPC endpoint http://172.16.0.18:8561/ returned an error: RPC error: Error { code: InternalError, message: \"Internal error\", data: None }\n```",
        "created_at": "2024-05-08T11:23:15.173000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "debug logs are written to disk nevertheless can you tail the log file in dataDir",
        "created_at": "2024-05-08T11:25:24.215000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "let me check, it's Kurtosis setup",
        "created_at": "2024-05-08T11:25:41.801000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok, let me do some integration testing of ethereumjs with lodestar to see if anything obvious speaks out",
        "created_at": "2024-05-08T11:26:10.601000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "try latest master `master-d24ca11`",
        "created_at": "2024-05-08T11:28:00.081000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "for EthereumJS logging?",
        "created_at": "2024-05-08T11:28:28.788000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "for ethjs yes",
        "created_at": "2024-05-08T11:28:38.291000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Trying... would be great to switch to genesis from Electra ðŸ˜„",
        "created_at": "2024-05-08T11:31:11.889000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "why?",
        "created_at": "2024-05-08T11:31:33.616000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "That will not test any fork transition",
        "created_at": "2024-05-08T11:31:44.964000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "to reproduce Electra issues I need to wait for Kurtosis + 1 epoch",
        "created_at": "2024-05-08T11:32:01.513000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "use minimal preset?",
        "created_at": "2024-05-08T11:32:11.070000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "should be a lot quicker, 6s slot time, with 8 slots per epoch",
        "created_at": "2024-05-08T11:32:32.296000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "```\nparticipants:\n  - el_type: ethereumjs\n    el_image: ethpandaops/ethereumjs:master-d24ca11\n    cl_type: grandine\n    cl_image: grandine:local\n  - el_type: ethereumjs\n    el_image: ethpandaops/ethereumjs:master-d24ca11\n    cl_type: grandine\n    cl_image: grandine:local\n  - el_type: ethereumjs\n    el_image: ethpandaops/ethereumjs:master-d24ca11\n    cl_type: grandine\n    cl_image: grandine:local\nnetwork_params:\n  electra_fork_epoch: 1\nadditional_services: []\nsnooper_enabled: true\n```",
        "created_at": "2024-05-08T11:32:50.658000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "set network_params.preset = minimal, and rebuild your local docker image to use minimal. \n\nAlso instead of listing the same thing 3 times, just use count: 3\n\nSo its gonna look like:\n```yaml\nparticipants:\n  - el_type: ethereumjs\n    el_image: ethpandaops/ethereumjs:master-d24ca11\n    cl_type: grandine\n    cl_image: grandine:local-minimal\n    count: 3\nnetwork_params:\n  preset: minimal\n  electra_fork_epoch: 1\nadditional_services: []\nsnooper_enabled: true\n```",
        "created_at": "2024-05-08T11:33:52.270000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Thanks, will try, but that can bring new problems ðŸ˜„",
        "created_at": "2024-05-08T11:34:41.769000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Log doesn't tell much.",
        "created_at": "2024-05-08T11:45:21.561000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "ethereumjs.log",
                "content": "592bb1402c33c3b6a389edd65b8cd01b63e549b88ea966127188a40bc15b3579"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Got an interop specific branch I could automatically build for everyone \u003c@777935002263617576\u003e ?",
        "created_at": "2024-05-08T11:51:40.752000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so what is failing? getPayload or fcU?",
        "created_at": "2024-05-08T11:51:41.949000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "I can see it trying to build a block:\n```\n txsByPriceAndNonce selected txs=0, skipped byNonce=0 byPrice=0 byBlobsLimit=0\n[05-08|11:33:11] INFO Pending: Assembling block from 0 eligible txs (baseFee: 448795319)\n[05-08|11:33:11] INFO Pending: Adding 0 additional eligible txs\n[05-08|11:33:11] INFO Pending: Added txs=0 skippedByAddErrors=0 from total=0 tx candidates\n[05-08|11:33:11] DEBUG [ EL ] VALID linked=true subcha\n```",
        "created_at": "2024-05-08T11:52:25.276000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "engine_getPayloadV4, it's the first time we test it, so the problem could be anywhere, but can't see an informative error message on EthereumJS side",
        "created_at": "2024-05-08T11:54:24.892000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "we wanted to push it once at least something works ðŸ˜„",
        "created_at": "2024-05-08T11:54:55.764000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "what error  CL side do you see on getPayloadV4?",
        "created_at": "2024-05-08T12:03:28.222000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "This error",
        "created_at": "2024-05-08T12:04:00.389000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ahh internal error lol",
        "created_at": "2024-05-08T12:04:16.496000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "let me debug and get back",
        "created_at": "2024-05-08T12:04:35.930000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "does the genesis has the 7002 contract?",
        "created_at": "2024-05-08T12:05:21.513000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2024-05-08T12:05:26.847000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "could you share me genesis json",
        "created_at": "2024-05-08T12:05:36.151000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "run kurtosis ðŸ˜„",
        "created_at": "2024-05-08T12:05:49.739000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "well i need to debug it in ethjs test framework so kurtosis is not enough lol, but its ok, i can add it",
        "created_at": "2024-05-08T12:06:37.198000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "these are the two new contracts deployed via the genesis state: https://github.com/ethpandaops/ethereum-genesis-generator/blob/master/apps/el-gen/genesis_geth.py#L104-L116",
        "created_at": "2024-05-08T12:06:54.134000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Testing",
        "parent": "",
        "content": "Just want to make this clear, the spec change in this PR is for devnet 0 and not devnet 1 right?",
        "created_at": "2024-05-08T12:07:50.914000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "one is 7002 other is deposit contract?",
        "created_at": "2024-05-08T12:07:54.875000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "its ssz types and internal code /state references so don't matter",
        "created_at": "2024-05-08T12:08:26.212000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "EIP-2935 \u0026 EIP-7002",
        "created_at": "2024-05-08T12:08:27.908000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ahh yes 2935 lol",
        "created_at": "2024-05-08T12:08:40.911000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "everybody forgot about 2935",
        "created_at": "2024-05-08T12:09:21.199000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "well i am supposedly one of the 2935 \"champions\" lol",
        "created_at": "2024-05-08T12:09:39.662000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "can you give me a genesis.json, i would just directly like to use it",
        "created_at": "2024-05-08T12:11:22.467000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "one sec",
        "created_at": "2024-05-08T12:11:43.298000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ahh ok i can just copy these two key,values in my geneiss json",
        "created_at": "2024-05-08T12:12:07.406000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-05-08T12:13:12.939000+00:00",
        "attachments": [
            {
                "type": "application/json; charset=utf-8",
                "origin_name": "genesis.json",
                "content": "6d12c86bca1461c7fcb0c124b86a7b71159aa046033a1541e626233f13388b1d"
            }
        ]
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "OK, so we are stuck on EL. Grandine is not fully ready for Pectra, but it likely will be helpful to reproduce the initial EL issues we have experienced so far. The Kurtosis configs I used:\nGeth:\n```\nparticipants:\n  - el_type: geth\n    el_image: ethpandaops/geth:MariusVanDerWijden-patch-1-1c3f231\n    cl_type: grandine\n    cl_image: ethpandaops/grandine:feature-electra-7ba8f3a\n    count: 3\nnetwork_params:\n  electra_fork_epoch: 1\nadditional_services: []\nsnooper_enabled: true\n```\nEthereumJS:\n```\nparticipants:\n  - el_type: ethereumjs\n    el_image: ethpandaops/ethereumjs:master-d24ca11\n    cl_type: grandine\n    cl_image: ethpandaops/grandine:feature-electra-7ba8f3a\n    count: 3\nnetwork_params:\n  electra_fork_epoch: 1\nadditional_services: []\nsnooper_enabled: true\n```\n\u003c@412614104222531604\u003e will build Grandine image from https://github.com/grandinetech/grandine/tree/feature/electra . Then simply change `cl_image: grandine:local` to what Barnabas image that he will report soon.\n\nThe Kurtosis command I use:\n\n```kurtosis clean -a; kurtosis engine restart; kurtosis run . --args-file electra3js.yml --image-download always```\n\n\u003c@\u0026688090867927482525\u003e \u003c@\u0026688101493978562687\u003e \u003c@\u0026836981603216654336\u003e \u003c@\u0026652918665943056397\u003e \u003c@\u00261070471163219824730\u003e",
        "created_at": "2024-05-08T12:13:37.696000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you don't need to restart kurtossis engine after each run ðŸ˜„",
        "created_at": "2024-05-08T12:15:52.954000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "I better restart on each run instead of dealing with it's random errors ðŸ™‚",
        "created_at": "2024-05-08T12:16:46.148000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "only time you have to restart it, is you update the underlying binary.",
        "created_at": "2024-05-08T12:17:10.241000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "I always use this brilliant idea https://discord.com/channels/783719264308953108/1219340594518687806/1219341551164063894 ðŸ˜„",
        "created_at": "2024-05-08T12:22:23.500000+00:00",
        "attachments": null
    },
    {
        "author": "racytech",
        "category": "Testing",
        "parent": "",
        "content": "Will this work for Kurtosis electra setup with grandine?",
        "created_at": "2024-05-08T12:48:01.575000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "grandine image: `ethpandaops/grandine:feature-electra-7ba8f3a`",
        "created_at": "2024-05-08T12:48:30.018000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Grandine is waiting for a working EL to be able to test, EL teams are waiting for a working CL to be able to test ðŸ˜„",
        "created_at": "2024-05-08T12:48:54.372000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "Found an issue and here is the fix: https://github.com/ethereumjs/ethereumjs-monorepo/pull/3409",
        "created_at": "2024-05-08T12:55:02.641000+00:00",
        "attachments": null
    },
    {
        "author": "racytech",
        "category": "Testing",
        "parent": "",
        "content": "Recently we made a major changes in our code which leaded to issues with setting up custom network configs, but if I had the genesis.json there shouldn't be a problem",
        "created_at": "2024-05-08T12:57:06.031000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e will you build, or it's better to build locally myself?",
        "created_at": "2024-05-08T12:57:22.782000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "We will build it if its merged",
        "created_at": "2024-05-08T12:57:56.358000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "or you can build it, if you want a quick result",
        "created_at": "2024-05-08T12:58:14.170000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "its ok I can trigger the docker build for it",
        "created_at": "2024-05-08T12:58:27.352000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Great, let me know the image once it's built.",
        "created_at": "2024-05-08T12:58:53.543000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "fyi `timestamp` and `pragueTime` will change each time you run kurtosis, as its always based on `time.now()` so that forks are in the future. Just in case you were planning on hardcoding something.",
        "created_at": "2024-05-08T12:59:08.496000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e could you build my patch as well?",
        "created_at": "2024-05-08T12:59:11.935000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you got a new new patch ?",
        "created_at": "2024-05-08T12:59:31.992000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yeah we already tried your PR and it broke ðŸ˜¦",
        "created_at": "2024-05-08T12:59:40.136000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'd prefer if client teams got kurtosis running themselves, so they can always test locally, and with a valid genesis state",
        "created_at": "2024-05-08T13:00:02.128000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I fixed the one that Saulius reported",
        "created_at": "2024-05-08T13:00:51.316000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "ya, but Kurtosis may not run well on Marius' phone",
        "created_at": "2024-05-08T13:00:53.488000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yet *",
        "created_at": "2024-05-08T13:01:00.485000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "ah rebuilding",
        "created_at": "2024-05-08T13:01:23.774000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "yea, you just need `kurtosis engine restart`",
        "created_at": "2024-05-08T13:01:31.826000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "to be fair, one purpose of the interop is exactly to resolve these chicken/egg thing, so it's not exactly coincidental that's happening just now",
        "created_at": "2024-05-08T13:05:47.482000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "`ethpandaops/geth:MariusVanDerWijden-patch-1-2daa5fd` is out \u003c@777935002263617576\u003e",
        "created_at": "2024-05-08T13:08:18.957000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`ethpandaops/ethereumjs:deprequest-d24ca11` is out \u003c@777935002263617576\u003e \u003c@792822129019584562\u003e",
        "created_at": "2024-05-08T13:08:53.941000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "awesome thank you, testing here locally with lodestar as well",
        "created_at": "2024-05-08T13:09:37.280000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "question, should Geth in general tolerate `pragueTime` in its genesis setup even for released versions which don't support it? so long as it's set in the far future so it never triggers, as long as it doesn't interfere",
        "created_at": "2024-05-08T13:11:56.272000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "No bueno: Grandine \u003c\u003e Geth:\n```\n[2024-05-08T13:18:59.027+00:00] [WARN] [validator::validator] constructed invalid beacon block (error: parent hash in execution payload (0x0000000000000000000000000000000000000000000000000000000000000000) does not match latest execution payload header (0x580fb225300a48eca5d3e7a42d58fe987e07e7ec88ed2ba14d46e41d7b513006),\n```\n```\nERROR[05-08|13:18:47.072] RPC method engine_forkchoiceUpdatedV3 crashed: runtime error: invalid memory address or nil pointer dereference\n```\n\u003c@360491619402776577\u003e \n\nEthJS seems to be going ahead fine?",
        "created_at": "2024-05-08T13:20:18.396000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I'm gonna try a ethJS only network to eliminate geth bugs (i tried interop right now)",
        "created_at": "2024-05-08T13:20:35.957000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Yes, this Grandine's error means that it didn't get the payload from EL.",
        "created_at": "2024-05-08T13:25:46.901000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yup, makes sense if geth throws a nil pointer dereference",
        "created_at": "2024-05-08T13:26:10.505000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "Hash collision?",
        "created_at": "2024-05-08T13:29:14.558000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_from_2024-05-08_16-27-58.png",
                "content": "b9e5d953c19c9d5b35c59e4afe5b0f64ee6de12cf76732782767c220250e820f"
            },
            {
                "type": "image/png",
                "origin_name": "Screenshot_from_2024-05-08_16-27-35.png",
                "content": "7bb5888a3d4c89e7677233343e0b0050213382a537d5d5723a1fede23734eb2c"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "deprequest is the fix coming in from g11",
        "created_at": "2024-05-08T13:32:15.601000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "EthJS also seems stuck ðŸ˜¦\nEL stuck on block 31",
        "created_at": "2024-05-08T13:32:33.810000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "but how can the hash be the same?",
        "created_at": "2024-05-08T13:32:57.540000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Probably I made a mistake. Rebuilding now",
        "created_at": "2024-05-08T13:35:14.544000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "yeah they both reference the same pr and i guess same file state, hence the same hash?",
        "created_at": "2024-05-08T13:37:16.328000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "I see, I thought that this is some new version.",
        "created_at": "2024-05-08T13:39:59.677000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e another weird Kurtosis issue that I can't explain:\n```\ncat electra3.yml\nparticipants:\n  - el_type: geth\n    el_image: ethpandaops/geth:MariusVanDerWijden-patch-1-2daa5fd\n    cl_type: grandine\n    cl_image: grandine:local\n  - count: 3\nnetwork_params:\n  electra_fork_epoch: 1\nadditional_services: []\nsnooper_enabled: true\n```",
        "created_at": "2024-05-08T13:44:14.567000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "but it starts a bunch of lighthouse nodes",
        "created_at": "2024-05-08T13:44:22.668000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "what is the ethjs log? i think i found another issue trying to resolve it",
        "created_at": "2024-05-08T13:44:28.795000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-05-08T13:45:19.888000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "1b21a77bbcb71e2cc45851140396a821537042611c5b4b0eaa0cb69b7ad48d23"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you have a - in front of count, which will default to a new participant, where geth/lh is the default pair",
        "created_at": "2024-05-08T13:46:51.728000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "you need to have no - in front of count",
        "created_at": "2024-05-08T13:47:03.723000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "This is now the correct hash `ethpandaops/ethereumjs:deprequest-b3dbdff`",
        "created_at": "2024-05-08T13:47:43.388000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2024-05-08T13:48:16.136000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "40fdc9df5c44bc7fc1f346e250c61f1442acf40f31e2756689fbaa16826bbd4d"
            }
        ]
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "same error \n```\n[2024-05-08T14:20:25.003+00:00] [WARN] [eth1_api::eth1_api] last available Eth1 RPC endpoint http://172.16.0.18:8561/ returned an error: RPC error: Error { code: InternalError, message: \"Internal error\", data: None }\n```",
        "created_at": "2024-05-08T14:30:04.705000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "I am going to merge pectra stuff to one branch today/tomorrow so we can test it with Nethermind",
        "created_at": "2024-05-08T14:36:16.894000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "I have identified another bug and trying to get it resolved",
        "created_at": "2024-05-08T14:38:53.442000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "one problem I have identified is how will you supply us the deployed contract addresses \u003c@199561711278227457\u003e ? via genesis.json? for e.g. the beacon contract in genesis is 0x4242....",
        "created_at": "2024-05-08T14:50:40.762000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "I suggest we augument genesis json to supply these addresses if present in the genesis",
        "created_at": "2024-05-08T14:51:06.232000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We supplied it via genesis.json, the address is set to the address it'll be in mainnet",
        "created_at": "2024-05-08T14:51:48.991000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok gotcha",
        "created_at": "2024-05-08T14:52:11.784000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "In case someone wants to sanity check it: https://github.com/ethpandaops/ethereum-genesis-generator/pull/114",
        "created_at": "2024-05-08T14:52:36.523000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "guys can you try with latest ethereumjs master, tested basic api integration seems to be working now along with lodestar, (still cleaning up on lodestar)",
        "created_at": "2024-05-08T18:56:08.629000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@199561711278227457\u003e \u003c@412614104222531604\u003e https://github.com/NethermindEth/nethermind/pull/7000 ðŸ™‚ \nDocker image: `nethermindeth/nethermind:pectra`",
        "created_at": "2024-05-08T21:10:48.479000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "don't we need a new `engine_getPayloadBodiesByRange` and `engine_getPayloadBodiesByRoot` versions to account for depositReceipts and withdrawalRequests in electra?",
        "created_at": "2024-05-08T21:56:41.205000+00:00",
        "attachments": null
    }
]