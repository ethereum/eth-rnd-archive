[
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Could you remind me what is the state of compliance of different EL clients to the `latestValidHash` spec? Do your clients follow the spec or deviate, and what are the deviations?",
        "created_at": "2022-12-05T05:54:10.190000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e lodestar branch is almost done, for the UX are you asking user for mnemonic/index to dervice the fromBlsPub/Priv key or asking user for the keystore with withdrawal priv key (same as to attesting keystore?)",
        "created_at": "2022-12-05T08:20:03.416000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "prysm will not implement any signing feature. I believe that's going to mostly make users input their mnemonic in a hot machine. Instead we are hoping that external tooling like `staking-cli` will be available to generate the payload for the pool endpoint. `ethdo` already does this, what I am doing is generating the payload and submitting it to the endpoint with `ethdo` for this I am  providing the private withdrawal key",
        "created_at": "2022-12-05T08:24:36.980000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok, so generate via thirdparty and submit via beacon is the model?",
        "created_at": "2022-12-05T08:26:04.238000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "or submission also lies with the thirdparty tooling?",
        "created_at": "2022-12-05T08:26:34.375000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "or ethdo (for e,g,) will directly submit on/via beacon api by providing it the url?",
        "created_at": "2022-12-05T08:27:32.955000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "`ethdo` will submit to the beacon API for the given node.",
        "created_at": "2022-12-05T08:36:33.117000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "for teku we've also implemented the beacon-api but no plans currently to take a withdrawal key directly and give a CLI to do the signing. it's bad to have both keys on the same machine, and for now we're hoping that products like ethdo will offer a better overall UX than us doing a cli",
        "created_at": "2022-12-05T09:19:48.240000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "we will implement tooling for submission, with all the bells and whistles to warn the user that it's irreversible, etc.",
        "created_at": "2022-12-05T09:40:19.358000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "Oh, I'm confused.. so you've completely changed your mind from an hour ago? or did i mis-read?",
        "created_at": "2022-12-05T09:44:47.029000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "We will implement tooling for submission, but not signing",
        "created_at": "2022-12-05T09:48:11.352000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "the user needs to generate the signed message offline with a third party tool",
        "created_at": "2022-12-05T09:48:50.205000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "Oh - so user signs a message, can submit via a prysm CLI",
        "created_at": "2022-12-05T09:48:51.110000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "I guess I hadn't really considered that as an option, I had always placed both (sign + submit) in the single bucket, interesting.",
        "created_at": "2022-12-05T09:49:39.245000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I would assume that many people would want to sign offline, hence separating signing and submission.  Otherwise you're exposing your withdrawal key (and possibly your mnemonic, depending on how you set things up) to an internet-connected computer.",
        "created_at": "2022-12-05T09:51:23.528000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "(`ethdo` does have the ability to separate signing and submission , but all of its warnings are pre-signing rather than pre-submission on the assumption that if someone is signing something then broadcasting it is just a formality.)",
        "created_at": "2022-12-05T09:54:28.983000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "Yep that makes sense. We got as far as \"we're not involved in that\", but i can see the value in a CLI to submit an already signed bls_to_execution",
        "created_at": "2022-12-05T09:56:32.967000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok, so tooling for submission just does/would operate like the normal validator exit for e.g. but without signing part, so i am assuming, it would take a signed blsTo... as ssz or json object",
        "created_at": "2022-12-05T11:52:08.153000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "I'd probably suggest that's something that would be better as json - easier to cut in terminal, easier to read and see the validator id and eth address",
        "created_at": "2022-12-05T20:22:47.350000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "`ethdo` generates an array of `SignedBLSToExecutionChange`",
        "created_at": "2022-12-05T20:36:51.334000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "on the api its a single submission per call, but if the cli is iterating a list that'd be fine...",
        "created_at": "2022-12-05T21:06:56.430000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, the array is just to make it easier to transport multiple change operations around in a single file.",
        "created_at": "2022-12-05T21:08:09.888000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Would be nice if the API could just accept that json in one hit. ie curl --data \u003cfile\u003e http://mybeacon/",
        "created_at": "2022-12-05T21:08:37.337000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "It seems reasonable for the API to accept multiple operations in a list like we do for a lot of other things.",
        "created_at": "2022-12-05T21:09:09.789000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "yeh agree, was hoping it was already that... its a dev api, could potentially update it",
        "created_at": "2022-12-05T21:09:57.635000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "I think all capella apis are very much open to change at the moment. ðŸ™‚",
        "created_at": "2022-12-05T21:10:27.762000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "batching though is always fun, would need to report the failures or something",
        "created_at": "2022-12-05T21:10:31.816000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Yeah but we have a pattern for reporting failures from a batch.",
        "created_at": "2022-12-05T21:10:46.388000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "v. true",
        "created_at": "2022-12-05T21:10:57.170000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "ironically its called 'changes' and accepts only one ðŸ™‚",
        "created_at": "2022-12-05T21:12:14.122000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "will take a look",
        "created_at": "2022-12-05T21:12:28.397000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "I'm beginning to think core devs may not be the best API designers...",
        "created_at": "2022-12-05T21:12:41.090000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "i prefer to think of it as wisdom with the benefit of hindsight",
        "created_at": "2022-12-05T21:17:32.969000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "I think that in general we went for arrays where the data would be commonly sent in a batch (_e.g._ attestations) and by a process, and individual items where either of these weren't usually true (_e.g._ voluntary exits).  I'm sure there are exceptions, but that was the aim.",
        "created_at": "2022-12-05T21:18:56.226000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "I'm happy to draft a PR for submitting a list, it should be a minor interface change, but just that it'll need a lot more on the results side to report failures etc.. or do you think it should stay single?",
        "created_at": "2022-12-05T21:20:20.367000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Yeah it's not a bad starting point, but if tools are generating a list it probably makes sense to make the api match. It would be really nice to not need special tooling to submit them is basically my aim.",
        "created_at": "2022-12-05T21:21:49.878000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Yeah, the API followed the same spec as voluntary exits but I wouldn't have a problem with it shifting to an array.  Which begs the question: should we do a v2 of the voluntary exits API that takes an array as well?",
        "created_at": "2022-12-05T21:27:00.980000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "If we need it, but currently any tooling doing voluntary exits are doing the individual submissions, and I haven't heard any noises about it... \nI guess if there was a need we certainly could. It may become more of an issue if large batches become more common",
        "created_at": "2022-12-05T21:29:21.509000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "The fun bit for this one is if someone submits too many at once to the pool it'll flood it anyway",
        "created_at": "2022-12-05T21:29:43.421000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "I guess that'd be the same for voluntary exits",
        "created_at": "2022-12-05T21:30:07.646000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "I like the idea of being able to dump `ethdo`'s output into the API with `curl`. We'll just have to make sure we roughly coordinate the client changes on the upcoming withdrawal testnets",
        "created_at": "2022-12-05T23:44:52.198000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/beacon-APIs/pull/275 is up, looks like not a huge change, and yes i think i'll document pushing them through curl for teku rather than a cli that does half the job (publish but not sign)",
        "created_at": "2022-12-05T23:46:20.201000+00:00",
        "attachments": null
    }
]