[
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "I am against using INVALID to signify the case when the used datastructure is incorrect. And in favour of returning an `-32602: Invalid params`. I don't see any advantage of abusing INVALID in this case, but a few downsides are obvious to me",
        "created_at": "2022-12-19T06:42:40.096000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Also, see my comment here https://github.com/ethereum/execution-apis/pull/332#issuecomment-1357175724",
        "created_at": "2022-12-19T06:53:38.976000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "Do you mean that:\n1. if shanghai \u0026\u0026 withdrawals == nil -\u003e` -32602: Invalid params`\n2. if !shanghai \u0026\u0026 withdrawals != nil -\u003e` -32602: Invalid params`\n?\n\nOr are you talking about this case only? \n 3. if !shanghai \u0026\u0026 withdrawals == nil -\u003e ` -32602: Invalid params`\n\nIn 1. and 2. we're returning `INVALID` in 3. we will accept the payload",
        "created_at": "2022-12-19T09:11:37.965000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "The structure version is valid in the 3rd case, I was talking about the 1st and the 2nd",
        "created_at": "2022-12-19T09:14:03.017000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "Okay, the current spec, implementations (at least Nethermind/Geth), and hive tests are returning/expecting INVALID.  It is not a big problem if we want to change, but we should coordinate it across all implementations.",
        "created_at": "2022-12-19T09:22:48.997000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "The problem is that we can't use `INVALID` status in all places when the structure version doesn't match the context. For instance, with `forkchoiceUpdated` we can't return `INVALID` if `payloadAttributes.withdrawals == null \u0026\u0026 shanghai`. Abusing `INVALID` in case of `newPayload` will become an odd artifact. I think we should have a specific error for this purpose, like `-XXXXX: Incorrect structure version`",
        "created_at": "2022-12-19T09:31:14.833000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "are you still debugging some stuff?",
        "created_at": "2022-12-19T10:43:59.550000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "There has been some client releases over the weekend, and would be nice to give it another try.",
        "created_at": "2022-12-19T10:44:16.856000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "oh no, you can remove it",
        "created_at": "2022-12-19T10:44:20.369000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Current network is beyond saving imo ðŸ˜„",
        "created_at": "2022-12-19T10:44:33.304000+00:00",
        "attachments": null
    },
    {
        "author": "nishant0",
        "category": "Testing",
        "parent": "",
        "content": "it wasnt a prysm issue, just the wrong version of prysm in the devnet",
        "created_at": "2022-12-19T10:44:35.817000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "whats the prysm version I should be using for the new launch?",
        "created_at": "2022-12-19T10:44:52.371000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "currently have : `gcr.io/prysmaticlabs/prysm/beacon-chain:capella-post-merge`",
        "created_at": "2022-12-19T10:45:28.449000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e I honestly don't know the status of the current branch as we haven't merged some changes. Depending on the status of 3095 you can use our latest Capella branch",
        "created_at": "2022-12-19T10:53:32.180000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "If you're going to test other clients with 3095 included then we will need to merge it, it can take me a little bit, do let me know",
        "created_at": "2022-12-19T10:54:13.885000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "as far as I know teku/lh/lodestar/nimbus all have 3095 already merged. pls correct me if i'm wrong \u003c@792822129019584562\u003e \u003c@554799849288105986\u003e \u003c@680234424037670912\u003e \u003c@553610810652622860\u003e",
        "created_at": "2022-12-19T11:15:13.657000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Ok give me a little bit and I'll merge it to that branch. We have it on develop but not in Capella just because people didn't react in this channel",
        "created_at": "2022-12-19T11:16:57.663000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "yeah Lighthouse has it",
        "created_at": "2022-12-19T11:55:28.122000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sigp/lighthouse:capella?",
        "created_at": "2022-12-19T11:56:00.633000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "yep!",
        "created_at": "2022-12-19T11:56:20.245000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Testing",
        "parent": "",
        "content": "thatâ€™ll stay up to date with our capella branch automatically now",
        "created_at": "2022-12-19T11:56:36.213000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "any updates on this one?",
        "created_at": "2022-12-19T13:43:38.601000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Hi Marius, is this expected to be merged soon?",
        "created_at": "2022-12-19T13:43:55.882000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "merged",
        "created_at": "2022-12-19T13:45:08.086000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "awesome thanks. What about https://github.com/lightclient/go-ethereum/pull/23",
        "created_at": "2022-12-19T13:47:00.796000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "whats the consensus regarding the return message?",
        "created_at": "2022-12-19T13:47:31.492000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Â´Thats not really important",
        "created_at": "2022-12-19T13:47:31.521000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "OK.",
        "created_at": "2022-12-19T13:47:38.294000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We can merge it at any point, its an edge case that shouldn't be hit live",
        "created_at": "2022-12-19T13:48:16.710000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Building new image, and planning to relaunch it.",
        "created_at": "2022-12-19T13:48:45.658000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I just merged it and it should contain the bound, tested on interop but not much more",
        "created_at": "2022-12-19T13:53:36.552000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Could you pls build an image for me?",
        "created_at": "2022-12-19T13:53:55.645000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "you can try the latest `capella` branch, but it's certainly not too stable, and I would expect confirmation from all clients in that we have the same features before launching a devnet",
        "created_at": "2022-12-19T13:54:17.006000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I'll ask Taran",
        "created_at": "2022-12-19T13:54:28.261000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "thx",
        "created_at": "2022-12-19T13:55:08.047000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ohh no wait",
        "created_at": "2022-12-19T14:00:55.461000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "if Marius merged that then that capella branch will fail",
        "created_at": "2022-12-19T14:01:06.079000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I need to fix that, and I don't understand how other clients won't fail because of this ðŸ™‚",
        "created_at": "2022-12-19T14:01:37.716000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I thought the CLs were sending correct stuff, it was geth that wasn't parsing it correctly ?",
        "created_at": "2022-12-19T14:07:53.070000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "the blockvalue in the returned capella payload",
        "created_at": "2022-12-19T14:16:27.414000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "geth sent it as a uint and it should be a string",
        "created_at": "2022-12-19T14:16:37.124000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "it's fixed now for prysm to work with geth's latest push, I can't check against nethermind, and you need to get confirmation from everyone that they can handle this structure",
        "created_at": "2022-12-19T14:17:17.389000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "before launching the devnet cause it will be a waste of time",
        "created_at": "2022-12-19T14:17:39.908000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "We'll do local devnets first anyway ðŸ˜„",
        "created_at": "2022-12-19T14:18:30.829000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e \u003c@554799849288105986\u003e will lh work with \u003c@792822129019584562\u003e will lodestar work with:  \u003c@553610810652622860\u003e will nimbus work with:  \u003c@680234424037670912\u003e will teku work with: ```type executableDataV2Marshaling struct {\n     BlockValue *hexutil.Big\n }``` ?",
        "created_at": "2022-12-19T14:19:44.759000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "was the latest changes pushed ?",
        "created_at": "2022-12-19T15:39:14.607000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "it was, but I'm waiting for Preston to build it",
        "created_at": "2022-12-19T15:39:38.908000+00:00",
        "attachments": null
    },
    {
        "author": "ethdreamer",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouse currently ignores that field entirely and doesn't deserialize it. So yes.",
        "created_at": "2022-12-19T15:45:18.543000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e they are built already, we'll automate the process so that `capella` will have docker images",
        "created_at": "2022-12-19T16:47:25.854000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "great",
        "created_at": "2022-12-19T16:47:40.386000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "HEAD-29dfca",
        "created_at": "2022-12-19T16:47:44.930000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I should use `capella` and not `capella-post-merge` correct?",
        "created_at": "2022-12-19T16:48:18.679000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@755590043632140352\u003e is the new image not compatible with post merge genesis?",
        "created_at": "2022-12-19T17:18:59.996000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2022-12-19T17:19:15.698000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yes as in `capella`?",
        "created_at": "2022-12-19T17:19:41.133000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I have restarted the devnet and looks like prysm is the only one missing slots",
        "created_at": "2022-12-19T17:21:52.067000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2022-12-19T17:22:27.862000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2022-12-19T17:38:43.361000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "looking in a bit, after a meeting",
        "created_at": "2022-12-19T17:39:11.229000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok",
        "created_at": "2022-12-19T17:39:15.524000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```time=\"2022-12-19 17:21:07\" level=error msg=\"could not load genesis from file: loaded genesis fork version (0x30000040) does not match config genesis fork version (0x10000040)\" prefix=main```",
        "created_at": "2022-12-19T17:39:17.303000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "this is the issue I hvae",
        "created_at": "2022-12-19T17:39:20.949000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "time=\"2022-12-19 17:40:13\" level=error msg=\"could not load genesis from file: loaded genesis fork version (0x30000040) does not match config genesis fork version (0x10000040)\" prefix=main",
        "created_at": "2022-12-19T17:41:00.548000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ahh yeah",
        "created_at": "2022-12-19T17:41:05.622000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "we are strict about the genesis versions",
        "created_at": "2022-12-19T17:41:19.211000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "cc \u003c@833706406699073536\u003e",
        "created_at": "2022-12-19T17:41:29.131000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I have removed the following as it was complaining about it```# EIP4844\nEIP4844_FORK_VERSION: 0x50000040\nEIP4844_FORK_EPOCH: 18446744073709551615```",
        "created_at": "2022-12-19T17:41:44.884000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "is it on us or on \u003c@412614104222531604\u003e ? should we add a `--capella`  flag or something like this?",
        "created_at": "2022-12-19T17:42:09.369000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethpandaops/withdrawals-testnet/blob/master/withdrawal-devnet-0/custom_config_data/config.yaml\\",
        "created_at": "2022-12-19T17:42:49.168000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "yeah I am reading the config yaml from the repo",
        "created_at": "2022-12-19T17:44:16.300000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I see this \n```\nBELLATRIX_FORK_VERSION: 0x30000040\n```",
        "created_at": "2022-12-19T17:44:33.279000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "This worked before on other versions of prysm.",
        "created_at": "2022-12-19T17:45:18.885000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "which leads me to believe that we are being strict when we shouldn't. Give me a bit and I'll cook a patch around this",
        "created_at": "2022-12-19T17:45:20.535000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ok.",
        "created_at": "2022-12-19T17:45:35.380000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ping me if you have smth ready.",
        "created_at": "2022-12-19T17:45:41.350000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I'll ping kasey before to see what may have gone wrong in a merge if you say this worked before, this is certainly something to do with starting post-merge",
        "created_at": "2022-12-19T17:47:19.538000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sounds good.",
        "created_at": "2022-12-19T17:47:40.760000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "btw congrats for the win yesterday ðŸ˜„ ðŸ˜„ ðŸ˜„",
        "created_at": "2022-12-19T17:48:06.542000+00:00",
        "attachments": null
    },
    {
        "author": "__kasey__",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e if I'm reading your message correctly, the genesis fork version in config does not match what's in the ssz file, correct? ~~Would it be possible to edit the config so that they match?~~",
        "created_at": "2022-12-19T17:54:00.378000+00:00",
        "attachments": null
    },
    {
        "author": "__kasey__",
        "category": "Testing",
        "parent": "",
        "content": "Could you link/paste the fork version mappings?",
        "created_at": "2022-12-19T17:55:03.836000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "The only version there is the bellatrix one \u003c@833706406699073536\u003e",
        "created_at": "2022-12-19T17:55:24.072000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "that I posted above",
        "created_at": "2022-12-19T17:55:27.062000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "do you want to have something like `GENESIS_FORK_VERSION=0x3000040`",
        "created_at": "2022-12-19T17:55:59.404000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "To be the same as Bellatrix?",
        "created_at": "2022-12-19T17:56:09.251000+00:00",
        "attachments": null
    },
    {
        "author": "__kasey__",
        "category": "Testing",
        "parent": "",
        "content": "No, I got mixed up. This is strange, I thought this was working before.",
        "created_at": "2022-12-19T17:56:13.085000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e it seems to me you're running the wrong image",
        "created_at": "2022-12-19T18:15:03.858000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "sha256:1faf9a589052917da2e2020de6fcfc994da538639d5ec4aa873ed61cdc1e2677\n\nthat's the right sha",
        "created_at": "2022-12-19T18:15:16.950000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "it's that's the tag",
        "created_at": "2022-12-19T18:15:31.539000+00:00",
        "attachments": null
    },
    {
        "author": "__kasey__",
        "category": "Testing",
        "parent": "",
        "content": "We're looking at the git version because this error is from a previous version of the code, https://github.com/prysmaticlabs/prysm/blob/73443208a1cd28fa17242e830fa84ad89ff42b47/beacon-chain/db/kv/genesis.go#L86\nThat check has been removed in current develop/capella branches.",
        "created_at": "2022-12-19T18:17:35.728000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ah I just ran it with Capella tag sorry for the misunderstanding",
        "created_at": "2022-12-19T18:53:03.942000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "prysm still seems to be not synced, \n```\ntime=\"2022-12-19 20:35:05\" level=debug msg=\"Sending Goodbye message to peer\" Reason=\"irrelevant network\" peer=16Uiu2HAmGceGbJHDaSVPyw156mPH3cSh6ur4koZyWj3mwye9SFKd prefix=sync\n```",
        "created_at": "2022-12-19T20:35:50.677000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "did you wipe the db before restarting?",
        "created_at": "2022-12-19T20:36:25.005000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Yeah",
        "created_at": "2022-12-19T20:37:10.699000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "hmm, that error message also looks like missconfiguration",
        "created_at": "2022-12-19T20:37:32.845000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ok, looks like prysm now working.",
        "created_at": "2022-12-19T22:13:37.860000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "It seems like the issue is now with besu. None of the besu nodes are able to produce blocks.",
        "created_at": "2022-12-19T22:13:51.501000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@341574016160497665\u003e maybe you are around to help us debug it?",
        "created_at": "2022-12-19T22:14:00.148000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "besu-teku node for example reports this:",
        "created_at": "2022-12-19T22:14:08.618000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```2022-12-19 22:13:00.023 ERROR - Validator   *** Failed to produce block  Slot: 1555 Validator: 82e4a29\njava.lang.NullPointerException: null\nat java.util.concurrent.CompletableFuture.biApply(Unknown Source) ~[?:?]\nat java.util.concurrent.CompletableFuture$BiApply.tryFire(Unknown Source) ~[?:?]\nat java.util.concurrent.CompletableFuture.postComplete(Unknown Source) ~[?:?]\nat java.util.concurrent.CompletableFuture.complete(Unknown Source) ~[?:?]\nat tech.pegasys.teku.infrastructure.async.SafeFuture.lambda$propagateResult$3(SafeFuture.java:148) ~[teku-infrastructure-async-develop.jar:22.12.0+51-g18356e3]```",
        "created_at": "2022-12-19T22:14:12.305000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "besu itself doesn't seem to report errors though.",
        "created_at": "2022-12-19T22:14:40.612000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "hmm, that doesn't look like the kind of exception teku should throw... I suspect there's also an issue with besu but we should fix the error.  Any chance you can post the full stack trace?",
        "created_at": "2022-12-19T22:15:48.406000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "And if I had to guess the issue with teku-besu will be that the latest Teku uses the GetPayloadV2 that includes block value, and I'm not sure if besu does yet.  If it's that, adding `--Xee-version=NO_BLOCK_VALUE` to teku should fix it.",
        "created_at": "2022-12-19T22:16:34.183000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2022-12-19T22:16:59.494000+00:00",
        "attachments": [
            {
                "type": "text/plain; charset=utf-8",
                "origin_name": "message.txt",
                "content": "a1d10b074bc63043e49cef80cd22dd9255c17e9aed0ae4c18e9d7ead158443b9"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "all clients should be using v2 after capella already",
        "created_at": "2022-12-19T22:17:40.906000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "so that would rather need to be fixed from besu's side.",
        "created_at": "2022-12-19T22:17:49.039000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Yes but there's now two versions of v2 - one with the block value and one without.",
        "created_at": "2022-12-19T22:17:54.445000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@340345049063882753\u003e you mean this?",
        "created_at": "2022-12-19T22:18:31.750000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "Probably... I'm not quite sure how to interpret that bit of code, but I think so yeah.  If besu isn't sending that format we would wind up with some null values because of the way the deserialization works.",
        "created_at": "2022-12-19T22:19:24.734000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah this is done in geth's side of things.",
        "created_at": "2022-12-19T22:19:45.801000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "would be nice to hear from someone at besu regarding this.",
        "created_at": "2022-12-19T22:20:09.653000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "https://github.com/ethereum/execution-apis/pull/314 is the engine API change I mean.",
        "created_at": "2022-12-19T22:20:22.272000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "none of the clients able to produce blocks just fyi.",
        "created_at": "2022-12-19T22:20:22.727000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "its not a teku/besu related issue.",
        "created_at": "2022-12-19T22:20:29.619000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Will have a look in the next couple of hours. Besu on the testnet doesn't support blockValue just yet (coming soon)",
        "created_at": "2022-12-19T22:20:55.461000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "probably hence why its missing all block proposals then.",
        "created_at": "2022-12-19T22:21:32.567000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we now have 75% participation on the devnet, which is pretty good. If we can get besu working, then we are close to 100%",
        "created_at": "2022-12-19T22:21:55.705000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "So for teku-besu at least you'll need `--Xee-version=NO_BLOCK_VALUE` to give it a chance then. I suspect any box giving a null pointer exception like that will probably be the EL no sending the payload with block value.",
        "created_at": "2022-12-19T22:21:58.585000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'd prefer to have it solved on the EL side.",
        "created_at": "2022-12-19T22:22:52.557000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "awesome",
        "created_at": "2022-12-19T22:25:14.626000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Can probably get something out, returning 0 by the end of today APAC time...PR is in progress and being tested/in review at the moment, https://github.com/hyperledger/besu/pull/4833 \nJust need to port it across to our testnet branch but a bit busy this morning",
        "created_at": "2022-12-19T22:26:16.341000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sounds good.",
        "created_at": "2022-12-19T22:27:55.591000+00:00",
        "attachments": null
    }
]