[
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Got a few block proposal misses on our besu-nimbus validator pairs over the last few days on sepolia and goerli, e.g...\n```\nINF 2023-04-07 01:37:36.000+00:00 Slot start                                 topics=\"beacnde\" slot=5360288 epoch=167509 sync=synced peers=148 head=a5968202:5360287 finalized=167506:45507f92 delay=44us883ns\nWRN 2023-04-07 01:37:36.743+00:00 Execution client did not return correct withdrawals topics=\"beacval\" withdrawals_from_cl=\"@[(index: ..., validatorIndex: ..., address: ..., amount: ...), ...(14 withdrawals redacted for brevity)... (index: ..., validatorIndex: ..., address: ..., amount: ...)]\" withdrawals_from_el=\"some(@[(index: ..., validatorIndex: ..., address: ..., amount: ...), ...(14 withdrawals redacted for brevity)... (index: ..., validatorIndex: ..., address: ..., amount: ...)])\"\nERR 2023-04-07 01:37:36.755+00:00 Cannot create block for proposal           topics=\"beacval\" slot=5360288 head=a5968202:5360287 error=\"process_withdrawals: mismatched expected and payload withdrawal\"\n```\n\nhttps://goerli.beaconcha.in/slot/5360288\n\nnimbus v23.3.2-6c0d75-stateofus\n\nNo errors in besu logs. Anyone from nimbus know how to debug further?\nThe warn log doesn't really provide any useful info to debug the mismatch, will increasing the nimbus log level help?",
        "created_at": "2023-04-07T11:47:40.743000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Any other EL-nimbus pairs seeing this?\nCan't see any withdrawal-related issues so far on other besu-CL pairs",
        "created_at": "2023-04-07T11:51:47.763000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Update, its a quirk of shadowforks. the relay was using the wrong pubkey to validate the signatures since the validator set changes in a shadowfork. It isnt something that can happen on any other type of testnet.",
        "created_at": "2023-04-07T11:57:48.809000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I see a similar log on our `goerli-nimbus-nethermind` and `goerli-nimbus-geth`. \n\nseems also related to a grandine block?\n```\nINF 2023-03-26 10:16:01.991+00:00 Invalid block                              blockRoot=aa946675 blck=\"(slot: 5276480, proposer_index: 205897, parent_root: \\\"7268c620\\\", state_root: \\\"2ed7d2ec\\\", eth1data: (deposit_root: c1988c4eb16877643869d0cf1cb54728a1d800ec680a2ce7c76c8284dc2568f0, deposit_count: 258817, block_hash: b7e036b6ff3f3746ec5a394680f86b5e3cc9b5670f0ffe3ce149b6de2e74350c), graffiti: \\\"grandine\\\", proposer_slashings_len: 0, attester_slashings_len: 0, attestations_len: 128, deposits_len: 0, voluntary_exits_len: 0, sync_committee_participants: 420, block_number: 8720743, fee_recipient: \\\"0x8dc847af872947ac18d5d63fa646eb65d4d99560\\\")\" error=\"process_withdrawals: mismatched expected and payload withdrawal\"\n``` as `graffiti: \\\"grandine\\\"`",
        "created_at": "2023-04-07T12:22:03.930000+00:00",
        "attachments": null
    },
    {
        "author": "sauliusgrigaitis",
        "category": "Testing",
        "parent": "",
        "content": "2023-03-26 - old block, let me know if you notice something like this again.",
        "created_at": "2023-04-07T12:33:43.370000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "Please see my comment Pari was replying to, it's not old or \"grandine\" blocks in our case, it's from besu-nimbus validators run by the besu team. Had two on 6th and 7th April on Goerli and about 35 times on Sepolia between 18/03/2023 and 05/04/2023. These nodes have had successful block proposals since though.",
        "created_at": "2023-04-07T18:20:17.763000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "ours were block proposals so nimbus didn't like besu's blocks and presumably didn't propagate them. Didn't get that \"invalid block\" log...is this block propagation instead?",
        "created_at": "2023-04-07T18:26:02.390000+00:00",
        "attachments": null
    },
    {
        "author": "siladu",
        "category": "Testing",
        "parent": "",
        "content": "besu-nimbus mismatched expected and payload withdrawal",
        "created_at": "2023-04-07T18:41:45.256000+00:00",
        "attachments": null
    }
]