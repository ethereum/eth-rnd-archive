[
    {
        "author": "macfarla",
        "category": "Testing",
        "parent": "",
        "content": "besu EnginePayload param (and BlockHeader) missing the dataGasUsed field - we are preparing a fix.",
        "created_at": "2023-06-08T04:55:28.728000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ok, let me know when you have the fix ready. Can build the img and deploy it.",
        "created_at": "2023-06-08T07:14:24.205000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e another issue i see is that teku is exposing metrics on 5054 but docker is configured to expose 8008",
        "created_at": "2023-06-08T07:15:38.243000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "you can also definitely remove `--Xee-version=kilnv2` , very old param",
        "created_at": "2023-06-08T07:16:19.167000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "can you instead add `--Xmetrics-blob-sidecars-storage-enabled=true` ? which exposes some interesting metrics for testing",
        "created_at": "2023-06-08T07:17:55.446000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "```  - --metrics-interface=0.0.0.0\n  - --metrics-port={{ teku_ports_metrics }}``` and teku_port_metrics are set to 8008",
        "created_at": "2023-06-08T07:20:53.155000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "how can I change teku to expose ports on different port than 5054?",
        "created_at": "2023-06-08T07:21:23.808000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "removed. and added",
        "created_at": "2023-06-08T07:21:32.605000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "oh I do see that we have an override somewhere setting that port.",
        "created_at": "2023-06-08T07:22:40.925000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "Barnabas, it's running on the right port. Do a docker inspect and check the command it's actually running. It's 5054.",
        "created_at": "2023-06-08T07:22:44.222000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "The ethereum_node role overrides it here: https://github.com/ethpandaops/ansible-collection-general/blob/master/roles/ethereum_node/tasks/setup_cl.yaml#L25",
        "created_at": "2023-06-08T07:23:33.051000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Yes indeed.",
        "created_at": "2023-06-08T07:23:41.273000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "no prob for us but maybe there is some metrics infra expecting it to be 5054?",
        "created_at": "2023-06-08T07:23:47.383000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "you can just expose 5054 or simply map 8008 to 5054",
        "created_at": "2023-06-08T07:24:10.391000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "We have prometheus scraping the right port. It's scraping 5054.",
        "created_at": "2023-06-08T07:24:17.327000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "The export that you see on 8008 is because the image itself exposes 8008 ( https://github.com/ConsenSys/teku/blob/master/docker/jdk17/Dockerfile#L38 ) . But we don't use that port because we changed it via a flag. We don't need to additionally \"expose\" the 5054 port (which is our override). It's available by default within the container network and prometheus which runs on the same docker network, is scraping it successfully.",
        "created_at": "2023-06-08T07:27:44.826000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we might need to look into actually exposing this, in case anyone else wanna look at those metrics tho",
        "created_at": "2023-06-08T07:28:35.420000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Especially if its a metric that we are not collecting yet.",
        "created_at": "2023-06-08T07:29:04.903000+00:00",
        "attachments": null
    },
    {
        "author": "skylenet",
        "category": "Testing",
        "parent": "",
        "content": "You don't need to \"expose\" it. You can directly curl the container via its IP address. E.g. `curl $(docker inspect teku | jq -r '.[0].NetworkSettings.Networks.shared.IPAddress'):5054/metrics`",
        "created_at": "2023-06-08T07:30:50.363000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "posted blob tx",
        "created_at": "2023-06-08T07:30:51.542000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ez one liner ðŸ˜‚",
        "created_at": "2023-06-08T07:31:13.606000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "I'll get tooling up and running today.",
        "created_at": "2023-06-08T07:31:59.227000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "ahh ok thanks, was assuming cant interact with the internal docker ip address",
        "created_at": "2023-06-08T07:32:28.305000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar\u003c\u003eethereumjs/nethermind seems to be in sync",
        "created_at": "2023-06-08T07:32:39.941000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "could you confirm other pairs working as well",
        "created_at": "2023-06-08T07:32:58.723000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "https://forkmon.4844-devnet-6.ethpandaops.io",
        "created_at": "2023-06-08T07:33:27.814000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "forkmon says yes",
        "created_at": "2023-06-08T07:33:30.646000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok post 20",
        "created_at": "2023-06-08T07:33:41.647000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "some rejection",
        "created_at": "2023-06-08T07:36:14.135000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "s",
        "created_at": "2023-06-08T07:36:15.070000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar\u003c\u003enethermind",
        "created_at": "2023-06-08T07:36:19.009000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "97a4042fa5e3f34e20bf181e53a3ecd161cf5d86aec9c7f7c4085bd9730dccef"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "on lodestar ethereumjs as well",
        "created_at": "2023-06-08T07:37:17.155000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "a67276c1761594b91e46ad901e0a9da7642a01d7575e19d0ae42cf9b6632fe34"
            }
        ]
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2023-06-08T07:37:21.812000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "6165f8e645302de401f1cd2d860493bf10db320fefccebb0fac62b604942bab7"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yea same block",
        "created_at": "2023-06-08T07:37:46.200000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "5279 has a problem too",
        "created_at": "2023-06-08T07:38:13.308000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "but seems like no blobs actually",
        "created_at": "2023-06-08T07:38:43.782000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "these blobs have been posted",
        "created_at": "2023-06-08T07:39:38.734000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "22f7c74762ed59e0732e71e9c88a61128aed38e8f7e7fc12f4147c898a6a13b6"
            }
        ]
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I enabled tracing and we consider the block-blobs completed",
        "created_at": "2023-06-08T07:39:40.048000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "but no blobs",
        "created_at": "2023-06-08T07:39:45.425000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "let me check in lodestar debug logs",
        "created_at": "2023-06-08T07:40:05.435000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "let me check the block content",
        "created_at": "2023-06-08T07:40:36.556000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "well 5278 should have no blobs",
        "created_at": "2023-06-08T07:45:24.441000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "yes this is my believe.",
        "created_at": "2023-06-08T07:45:40.352000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "why ELs expects versionedHashes?",
        "created_at": "2023-06-08T07:45:54.641000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2023-06-08T07:46:02.764000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "8da04891980a0d2191a4957f128902932073c5b9a9fa49a45252b9c22c341b0a"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "updated list for blobs",
        "created_at": "2023-06-08T07:48:27.419000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "007a450a959b492cd28b9f9499eea19d826bc3bcd19e47b1d67d8490dcc5e093"
            }
        ]
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "so yes confirmed that that block was having 0 blobs",
        "created_at": "2023-06-08T07:48:58.662000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "7bd0a1d355a1925561e5d68c19a6bc8482b795171a3f6143a3e210a2a3c8a242"
            }
        ]
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "another interesting one",
        "created_at": "2023-06-08T07:52:54.368000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "a280aa6fdc26ff7a73a8ce100d108e0186c46aaca3c59343177e6076388d6def"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "this is teku\u003c\u003eethereumjs right?",
        "created_at": "2023-06-08T07:53:19.102000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-06-08T07:53:23.757000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "rejected by teku-nethermind-1 as well",
        "created_at": "2023-06-08T07:53:33.386000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar\u003c\u003enethermind has rejected most of blobs",
        "created_at": "2023-06-08T07:53:34.589000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "5305 was accepted by nethermind",
        "created_at": "2023-06-08T07:54:12.192000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "836e79202f2e733848f13207c39105c5dd416bb0dde63cb53452e45b71636f2a",
        "created_at": "2023-06-08T07:54:22.570000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "so far i see only EL issues",
        "created_at": "2023-06-08T07:55:19.677000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "yea, lodestar \u003c\u003enethermind CL also sees blobs correctly",
        "created_at": "2023-06-08T08:00:34.299000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2023-06-08T08:01:09.734000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "983f99f5f4035d178597b058bdbfc2cda904409ff481491cded008bf6e3d5fbb"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "let me debug into ethereumjs logs and see what mess is there ðŸ˜…",
        "created_at": "2023-06-08T08:02:00.386000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "I think ethereumjs packed a blob tx in slot=5278, blocknumber=3311 and didn't forward a blob in blobs bundle to CL",
        "created_at": "2023-06-08T08:08:15.937000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "17d5e98a95989278a32c4be492fc997f63f03df3a23d16ac32255efede60df6b"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "because 5278 has 1 tx and cleanly no blobs",
        "created_at": "2023-06-08T08:08:49.909000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "found couple of issues, building a fix",
        "created_at": "2023-06-08T08:22:27.946000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e can you deploy this: `g11tech/ethereumjs:devnet6-9b2af` on ethereumjs nodes, no need to wipe data, just replace image",
        "created_at": "2023-06-08T09:21:33.654000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "that image doesn't exists.",
        "created_at": "2023-06-08T09:23:48.508000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e",
        "created_at": "2023-06-08T09:29:16.203000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "how is it coming along?",
        "created_at": "2023-06-08T09:31:39.542000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "forgot to push, check now",
        "created_at": "2023-06-08T09:38:55.301000+00:00",
        "attachments": null
    },
    {
        "author": "stefanbratanov",
        "category": "Testing",
        "parent": "",
        "content": "Hi \u003c@412614104222531604\u003e will there be also a node to test Teku VC -\u003e BN compatibility for devnet-6? It should be all good there, but good to test.",
        "created_at": "2023-06-08T09:41:15.970000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i will send txs to teku node as well",
        "created_at": "2023-06-08T09:41:51.093000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "will test txs to all pairs who can build",
        "created_at": "2023-06-08T09:42:38.296000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "done",
        "created_at": "2023-06-08T09:45:51.212000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok sending a batch of 20",
        "created_at": "2023-06-08T09:47:20.029000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "go!",
        "created_at": "2023-06-08T09:48:22.737000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "boom",
        "created_at": "2023-06-08T09:49:58.968000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "4 blob block published",
        "created_at": "2023-06-08T09:50:30.955000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "Jun-08 09:50:12.616[]                 info: Published block slot=5951, validator=0x90c1â€¦85cc, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=4, withdrawals=0, blobs=4",
        "created_at": "2023-06-08T09:50:40.272000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "i still saw Invalid ExecutionPayload: Error verifying versionedHashes: expected=1 received=0",
        "created_at": "2023-06-08T09:53:14.906000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "which slot?",
        "created_at": "2023-06-08T09:53:46.175000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "5950",
        "created_at": "2023-06-08T09:53:46.889000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "which node proposed 5950",
        "created_at": "2023-06-08T09:54:04.790000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "teku etherumjs node",
        "created_at": "2023-06-08T09:54:07.199000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "dont know",
        "created_at": "2023-06-08T09:54:11.955000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ethereumjs not uupdated there? \u003c@412614104222531604\u003e",
        "created_at": "2023-06-08T09:54:21.199000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "let me also ssh",
        "created_at": "2023-06-08T09:54:29.088000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "i saw it restarting",
        "created_at": "2023-06-08T09:54:41.771000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "so i guess so",
        "created_at": "2023-06-08T09:54:46.421000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "5950 slot if teku\u003c\u003eethereumjs produced, it got tx by EL gossip",
        "created_at": "2023-06-08T09:55:43.690000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar\u003c\u003eethereumjs started new batch from 5951",
        "created_at": "2023-06-08T09:56:15.857000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`428ee271b784   g11tech/ethereumjs:devnet6-9b2af               \"node /usr/app/node_â€¦\"   11 minutes ago   Up 11 minutes   127.0.0.1:8545-\u003e8545/tcp, 127.0.0.1:8551-\u003e8551/tcp, 0.0.0.0:30303-\u003e30303/tcp, 0.0.0.0:30303-\u003e30303/udp   ethereumjs`",
        "created_at": "2023-06-08T09:56:48.109000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "its updated.",
        "created_at": "2023-06-08T09:56:52.396000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "20 blobs ```typescript\nJun-08 09:50:12.616[]                 info: Published block slot=5951, validator=0x90c1â€¦85cc, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=4, withdrawals=0, blobs=4\nJun-08 09:51:00.517[]                 info: Published block slot=5955, validator=0xa5e9â€¦5c1d, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=4, withdrawals=0, blobs=4\nJun-08 09:51:12.327[]                 info: Published block slot=5956, validator=0xa836â€¦7a37, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=2, withdrawals=0, blobs=2\nJun-08 09:51:24.158[]                 info: Published block slot=5957, validator=0x906dâ€¦1cf1, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=1, withdrawals=0, blobs=1\nJun-08 09:51:36.268[]                 info: Published block slot=5958, validator=0x94fdâ€¦b8f1, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=2, withdrawals=0, blobs=2\nJun-08 09:54:48.596[]                 info: Published block slot=5974, validator=0x850aâ€¦fb00, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=4, withdrawals=0, blobs=4\nJun-08 09:55:24.377[]                 info: Published block slot=5977, validator=0x90c1â€¦85cc, graffiti=lodestar/ethereumjs, source=engine, blockValue=0.0 ETH, feeRecipient=0xf97e180c050e5ab072211ad2c213eb5aee4df134, transactions=3, withdrawals=0, blobs=3\n```",
        "created_at": "2023-06-08T09:56:56.315000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "none of these had any issues i think",
        "created_at": "2023-06-08T09:57:20.018000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@504202741933932544\u003e can you confirm these slots were accepted fine?, then let me send batch of 20 directly to teku\u003c\u003eethereumjs node",
        "created_at": "2023-06-08T09:57:48.810000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar\u003c\u003enethermind seems to be fine with these slots",
        "created_at": "2023-06-08T09:58:02.743000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "(i'm in a call, I'll be back soon)",
        "created_at": "2023-06-08T09:58:05.662000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "ok send 1 blob tx to teku\u003c\u003eetherumjs",
        "created_at": "2023-06-08T09:59:12.143000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "no same error",
        "created_at": "2023-06-08T10:00:22.198000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "```\nJun-08 10:00:12.097[rest]            error: Req req-1bm publishBlock error  code=BLOCK_ERROR_EXECUTION_ERROR, execStatus=INVALID, errorMessage=Error verifying versionedHashes: expected=1 received=0\nError: BLOCK_ERROR_EXECUTION_ERROR\n    at verifyBlockExecutionPayload (file:///usr/app/packages/beacon-node/src/chain/blocks/verifyBlocksExecutionPayloads.ts:314:25)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at verifyBlocksExecutionPayload (file:///usr/app/packages/beacon-node/src/chain/blocks/verifyBlocksExecutionPayloads.ts:157:28)\n    at async Promise.all (index 0)\n    at BeaconChain.verifyBlocksInEpoch (file:///usr/app/packages/beacon-node/src/chain/blocks/verifyBlock.ts:90:70)\n    at BeaconChain.processBlocks (file:///usr/app/packages/beacon-node/src/chain/blocks/index.ts:75:68)\n    at JobItemQueue.runJob (file:///usr/app/packages/beacon-node/src/util/queue/i\n```",
        "created_at": "2023-06-08T10:00:32.785000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@504202741933932544\u003e can you verify if you received blobs in blobs bundle from ethereumjs",
        "created_at": "2023-06-08T10:01:09.803000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i think this is 6001 slot",
        "created_at": "2023-06-08T10:01:25.202000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "which teku might have produced",
        "created_at": "2023-06-08T10:01:32.283000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "may be teku isn't seeing the blob or not forwarding the blob",
        "created_at": "2023-06-08T10:02:03.817000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "tesing nethermind",
        "created_at": "2023-06-08T10:02:27.908000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2023-06-08T10:07:54.572000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "d5284f3532392e737615ce7ecdc8df10640bb318bfcb518bcb543a8d2c35920d"
            }
        ]
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "same. expected versionedHash but block has no blobs",
        "created_at": "2023-06-08T10:08:25.892000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "who produced 6001",
        "created_at": "2023-06-08T10:08:41.134000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i think teku only, because i send that tx to teku\u003c\u003eethereumjs node",
        "created_at": "2023-06-08T10:09:15.634000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "not the two boxes i'm logged in now",
        "created_at": "2023-06-08T10:09:37.209000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "let me check",
        "created_at": "2023-06-08T10:09:39.054000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "also 6040?",
        "created_at": "2023-06-08T10:10:27.842000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "yes",
        "created_at": "2023-06-08T10:11:26.978000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e do we have beacon explorer to check",
        "created_at": "2023-06-08T10:11:29.594000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "not yet",
        "created_at": "2023-06-08T10:11:36.742000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "working on it",
        "created_at": "2023-06-08T10:11:38.437000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "ah nvm",
        "created_at": "2023-06-08T10:11:51.305000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "640 produced by teku-etherumjs",
        "created_at": "2023-06-08T10:11:53.262000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "We can't do it without erigon/lh",
        "created_at": "2023-06-08T10:12:00.648000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "6040",
        "created_at": "2023-06-08T10:12:03.066000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "error is correct that block had a tx, but the producing node didn't forward blobs",
        "created_at": "2023-06-08T10:12:11.048000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar\u003c\u003eethereumjs seems to be working fine",
        "created_at": "2023-06-08T10:12:18.907000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "so ethereumjs should be giving blobs to teku",
        "created_at": "2023-06-08T10:12:35.166000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "can you validate if you got any blobs in getpayloadv3 from ethereumjs for this slot",
        "created_at": "2023-06-08T10:13:25.327000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "if you want me to send tx again to teku\u003c\u003eethereumjs i can resend",
        "created_at": "2023-06-08T10:14:14.697000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "let me increase logging level",
        "created_at": "2023-06-08T10:14:32.376000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "1sec",
        "created_at": "2023-06-08T10:14:35.313000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "ah damn we dont log those",
        "created_at": "2023-06-08T10:17:33.894000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "just add a log in docker image if you know `docker cp`",
        "created_at": "2023-06-08T10:18:59.642000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "no but we dont log blobsBundle at all",
        "created_at": "2023-06-08T10:19:31.194000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I have to update it",
        "created_at": "2023-06-08T10:19:47.735000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "gimme 10 mins i can add log to ethereumjs",
        "created_at": "2023-06-08T10:20:52.740000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "k.. but i think i'll add it to teku too, for consistency",
        "created_at": "2023-06-08T10:21:25.080000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "from the current logs, it seems that ethereumjs should have given you blobs",
        "created_at": "2023-06-08T10:31:57.507000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "a02fb8e74025f5a45798be0b81733878e5a54b1cc36b0e57d56d062e8d3df563"
            }
        ]
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I was caught in another thing. Let me add the logs cose we are not printing those correctly",
        "created_at": "2023-06-08T10:44:47.820000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "merging and building new image.. will take a while",
        "created_at": "2023-06-08T10:57:15.381000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e  can you refresh teku with latest develop?",
        "created_at": "2023-06-08T11:31:11.684000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sure",
        "created_at": "2023-06-08T11:33:31.498000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@792822129019584562\u003e can you replay the issue?",
        "created_at": "2023-06-08T11:36:55.638000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "sending tx",
        "created_at": "2023-06-08T11:54:21.420000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "```\n|12:00:36] INFO [ CL ] Pending: Built block number=4170 txs=1 withdrawals=0 blobs=1 skippedByAddErrors=0  hash=7a524b5e43f59ffe98ca3d47b1ee113dcc36fc4006ac93d65fb6c2258d1a7b21\n```",
        "created_at": "2023-06-08T12:01:00.173000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "looks to be fine",
        "created_at": "2023-06-08T12:01:38.999000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "no errors anywher",
        "created_at": "2023-06-08T12:01:43.273000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "sending more",
        "created_at": "2023-06-08T12:02:46.651000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "i think there could be an issue in the txs recieved via EL gossip without blobs, let me add some validations and filtering in ethereumjs for those",
        "created_at": "2023-06-08T12:09:26.159000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "direct txs produced by teku\u003c\u003eethereumjs don't seem to have problem  as of now",
        "created_at": "2023-06-08T12:09:51.246000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "I havent changed anything, just added trace logging for the getPayload response",
        "created_at": "2023-06-08T12:17:00.230000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "Maybe it breaks after the burst of 20?",
        "created_at": "2023-06-08T12:17:59.288000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "let me close out the gossiped tx issue then we can stress test it without possibility of this scenario",
        "created_at": "2023-06-08T12:18:51.360000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "oky!",
        "created_at": "2023-06-08T12:44:22.710000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "Just got the EF tests passing on this branch https://github.com/realbigsean/lighthouse/pull/32\n\nI'm working on testing it today. Feel free to deploy it.",
        "created_at": "2023-06-08T13:24:13.190000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "building img",
        "created_at": "2023-06-08T13:35:59.293000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "have added the fix, running CI to see everything good",
        "created_at": "2023-06-08T13:51:08.273000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e  can you deploy: `g11tech/ethereumjs:devnet6-14788` , no wipe needed",
        "created_at": "2023-06-08T14:14:56.141000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "firing blobs",
        "created_at": "2023-06-08T14:26:49.943000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e could you update geth to the newest commit? Probably still won't work but maybe a step closer",
        "created_at": "2023-06-08T14:27:25.623000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "sure",
        "created_at": "2023-06-08T14:27:32.854000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "my suspicion was correct, gossiped txs without blobs were getting in the txpool",
        "created_at": "2023-06-08T14:37:28.391000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "240349b6aa9f81528124d20119e36602cebaeb41697f0f0307c72cc86110a60a"
            }
        ]
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "after adding the filter, everything is now going good even with a bust of 20 blobs",
        "created_at": "2023-06-08T14:37:57.044000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "geth/ethereumjs restarted.",
        "created_at": "2023-06-08T14:42:49.936000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Lighthouse is running",
        "created_at": "2023-06-08T14:54:51.495000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@804047680195395675\u003e \u003c@654267572107083777\u003e got a nimbus image ready to go for 'pre-devnet-6' ?",
        "created_at": "2023-06-08T14:55:58.761000+00:00",
        "attachments": null
    },
    {
        "author": "tbenr",
        "category": "Testing",
        "parent": "",
        "content": "ok, so I turned off getPayload response dumps, cose dumps too many data in logs. If we'll see problems again I can turn it on again",
        "created_at": "2023-06-08T14:57:14.209000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "What box? I'd like to check the logs",
        "created_at": "2023-06-08T14:58:44.300000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "`devops@ligthhouse-\u003cel\u003e-1.srv.4844-devnet-6.ethpandaops.io`",
        "created_at": "2023-06-08T14:59:49.944000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "current running els: `besu,ethereumjs,geth,nethermind` besu/geth is expected to not work at this point.",
        "created_at": "2023-06-08T15:00:03.864000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "still not working.",
        "created_at": "2023-06-08T15:00:45.493000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Seeing something?",
        "created_at": "2023-06-08T15:53:35.354000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Hi all ðŸ‘‹ \n\nEL-Client Devs: On your current 4844 implementations, do you support non-zero values for `excessDataGas` and `dataGasUsed` in the genesis?\n\nThis is because it might be easier for us to write tests where these fields start from specific pre-configured values for each test case.",
        "created_at": "2023-06-08T16:23:06.291000+00:00",
        "attachments": null
    },
    {
        "author": "realbigsean",
        "category": "Testing",
        "parent": "",
        "content": "look like lh has been able to sync with etheruemjs I'm going to dig into some `WARN`s i'm seeing, that might be leading to some poor peering",
        "created_at": "2023-06-08T16:59:12.898000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "not yet, shouldn't be difficult to add (ethereumjs)",
        "created_at": "2023-06-08T17:00:43.027000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "Ah, problem is probably the lack of checkpoint sync for LH. Iâ€™ll add it in a few mins",
        "created_at": "2023-06-08T17:41:54.501000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "right now no, I think it might be missing two things before it's baseline viable, will check those and let you know",
        "created_at": "2023-06-08T17:45:55.359000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "but regardless proposals aren't ready, so it shouldn't delay things",
        "created_at": "2023-06-08T17:48:36.174000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Thanks! just wanted to get a feeling whether this is the reasonable thing to expect, or whether we should workaround it in the tests.",
        "created_at": "2023-06-08T17:48:55.384000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "can you guys point me to one of these 1Mb blocks that were sent on mainnet?",
        "created_at": "2023-06-08T18:14:14.077000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "you can find the details here https://notes.ethereum.org/OZJ90ZlcQtyrtZa6INYixQ?view",
        "created_at": "2023-06-08T18:17:27.915000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e https://github.com/status-im/nimbus-eth2/issues/5041 of the five items remaining, three are either low-priority or no-priority (don't care about the builder API until FB people show up). https://github.com/ethereum/consensus-specs/pull/3359 and https://github.com/ethereum/consensus-specs/pull/3354 are high priority",
        "created_at": "2023-06-08T18:18:49.062000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "One of the blocks: https://beaconcha.in/slot/6535924, https://etherscan.io/block/17355725",
        "created_at": "2023-06-08T18:24:28.122000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "thanks I had browsed that document but didn't see the slots",
        "created_at": "2023-06-08T18:28:10.428000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "yeah, I had to match timestamps on slots manually",
        "created_at": "2023-06-08T18:30:03.900000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "so sorry for the naive question, but what am I looking for in those blocks? I was expecting to see a high gas usage",
        "created_at": "2023-06-08T18:30:52.686000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Theoretically, we can produce 2Mb blocks at a current block size, so i would not expect gas usage to be very high, but the size is definitely higher than of the average block",
        "created_at": "2023-06-08T18:33:36.876000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "gotcha, thanks",
        "created_at": "2023-06-08T18:34:12.568000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "I guess no, it is possible to set, but it will not pass verification",
        "created_at": "2023-06-08T20:17:44.421000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Which verification do you mean?",
        "created_at": "2023-06-08T20:19:00.917000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "excess data gas is calculated from the previous block, no block - 0 excess data gas; dataGasUsed  depends on transactions, which I'm not sure genesis ever hold",
        "created_at": "2023-06-08T20:21:41.359000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I see what you mean, it does have, e.g. the `gasUsed` field (at least in geth) even though it contains no txs",
        "created_at": "2023-06-08T20:23:02.363000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Basically we want to see if we initialize the tests with a given excessDataGas and a dummy dataGasUsed from genesis, and then verify calculation in block 1",
        "created_at": "2023-06-08T20:23:55.281000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "A possible workaround could be to init a given `excessDataGas` value in genesis, which would unconditionally drop by block 1, and then make the real verification on block 2",
        "created_at": "2023-06-08T20:25:29.495000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "Until the formula changes to do N step drop",
        "created_at": "2023-06-08T20:26:31.409000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "It's always hard decision for us to change logic to consider test environment, we are scary of potential vulnerabilities and of writing tests for such code(that only runs in test env and should not run on prod)",
        "created_at": "2023-06-08T20:32:23.020000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "(I mean I'd reject non zero excessDataGas in a spec for real network assuming it's a mistake)",
        "created_at": "2023-06-08T20:32:54.530000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "And in overall testing code adjusted for tests looks like we test not exactly real world cases",
        "created_at": "2023-06-08T20:34:51.326000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Definitely agree that we need to keep the testing environment as close as real world cases, I see the custom excess data gas more akin to the custom alloc that introduces a given smart contract on genesis for a testnet, than an unrealistic modification, it's only there to make tests more viable",
        "created_at": "2023-06-08T20:44:26.863000+00:00",
        "attachments": null
    },
    {
        "author": "__flcl",
        "category": "Testing",
        "parent": "",
        "content": "As an idea we can add \"testOverrides\" section to the genesis. The section may contain any of the fields of genesis and code will override those fields after verification and only if env is test. To isolate it as strong as possible.",
        "created_at": "2023-06-08T20:51:16.721000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "That works for us ðŸ™‚ we can populate this field in the hive config before running the client. The blockchain test fixtures (i.e. https://github.com/ethereum/tests/tree/develop/BlockchainTests) would also contain non-zero data gas values, is that ok too?",
        "created_at": "2023-06-08T21:24:17.615000+00:00",
        "attachments": null
    },
    {
        "author": "samcm",
        "category": "Testing",
        "parent": "",
        "content": "Have added those block/slot ranges here: https://notes.ethereum.org/OZJ90ZlcQtyrtZa6INYixQ?view#Block-ranges cc \u003c@755590043632140352\u003e",
        "created_at": "2023-06-08T23:29:29.339000+00:00",
        "attachments": null
    }
]