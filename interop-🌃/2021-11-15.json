[
    {
        "author": "ajsutton",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!361447803194441738\u003e When pruning nodes that are found to be invalid from protoarray, are you thinking that any validators who's last_vote was for that block are now discarded? The other option (which I'm not sure how to implement) would be to go find the last vote from that validator that was for a valid block and move their weight to there.  Apart from the implementation complexity of doing that I suspect it's better to disregard everything from that validator since they clearly aren't actually validating the payloads. We'd start respecting their votes again as soon as they started attesting to a valid or optimistic block.",
        "created_at": "2021-11-15T00:18:48.391000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I agree, I haven't implemented this piece yet but that seems like a good mix of simplicity and safety to me.",
        "created_at": "2021-11-15T00:20:43.263000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Is it right that `mergemock` doesn't support `eth_getBlockByNumber` in engine mode?\n\nI get \"the method eth_getBlockByNumber does not exist/is not available\" and a quick scroll through the code indicates there's no handler.\n\nLighthouse is expecting that method to get the latest block in the chain.",
        "created_at": "2021-11-15T05:28:10.359000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I've never actually run Lighthouse against it before, we built our own internal mock engine whilst `mergemock` was still under development.",
        "created_at": "2021-11-15T05:28:46.027000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cprotolambda\u003e Yes, mergemock doesn't do the eth namespace yet",
        "created_at": "2021-11-15T05:28:55.875000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Got it, thanks. I think we will have to skip it for an M1 objective then. Does that seem reasonable? Or should a CL be expected to function without those calls?",
        "created_at": "2021-11-15T05:29:56.989000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "I vaguely recall someone making a tool to send misc transactions to test these mergenets? Can anyone else recall this?\n\nLighthouse and Geth are running a Kintsugi chain now, I just need to test transactions.",
        "created_at": "2021-11-15T06:31:12.098000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Github.com/MariusVanDerWijden/tx-fuzz",
        "created_at": "2021-11-15T06:48:28.216000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Thanks, I found that. Trying to figure out how to work it now.",
        "created_at": "2021-11-15T06:48:46.006000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Ha  have to write a readme for it",
        "created_at": "2021-11-15T06:49:29.516000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The code to test against a node is in a subpackage, you need to go to the subpackage (forgot how its called) and run go build and then execute the binary",
        "created_at": "2021-11-15T06:51:18.452000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "With some flags i think. First airdrop to fund 100 accounts",
        "created_at": "2021-11-15T06:51:46.013000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "And then something else to send transactions from all the accounts",
        "created_at": "2021-11-15T06:52:15.892000+00:00",
        "attachments": null
    },
    {
        "author": "paulhauner",
        "category": "Testing",
        "parent": "",
        "content": "Thanks, I'll do `airdrop` then `spam`. It built for me. I have to jump into a meeting so I'll get to it afterwards.",
        "created_at": "2021-11-15T06:52:45.190000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "great work! üëç  One thing I've noticed is that certain `payloadId` values are expected in the responses which won't work in general because `payloadId` computation algo is up to EL client implementation.",
        "created_at": "2021-11-15T10:33:19.291000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003csigpaul\u003e Lighthouse only cares about payloadId values if they conflict on the same EL endpoint (conflicts across different endpoints are fine). Apart from that, they‚Äôre just misc bytes to us.",
        "created_at": "2021-11-15T10:54:26.980000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I think he specifically talks about the kinsugi EL testing tool (which does require certain payloadid's still)",
        "created_at": "2021-11-15T10:58:06.623000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "I am reading an `expect` section as something that should be verified. https://github.com/marioevz/kintsugi_testing/blob/main/tests/EIP4399/eip4399_01.json#L76-L79",
        "created_at": "2021-11-15T11:00:32.269000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Though, it is probably wrong to read it this way",
        "created_at": "2021-11-15T11:00:57.301000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "This is because I've seen `\"message\": \"*\"` in `expectError` which reads as *any* value is good",
        "created_at": "2021-11-15T11:02:59.655000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "We've already discussed it with \u003c@!892053833121923094\u003e, because in Nethermind we're returning different payloadId. Mario should fix it üôÇ",
        "created_at": "2021-11-15T11:04:55.262000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Oh, I see. Sorry, i haven't seen the conversation",
        "created_at": "2021-11-15T11:05:16.999000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "ahh sorry, that was a private conversation because we discussed how to setup Nethermind with his tool üôÇ",
        "created_at": "2021-11-15T11:06:28.598000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "lol, then it's good that I haven't seen this convo üòÜ",
        "created_at": "2021-11-15T11:06:54.937000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!420951281910284289\u003e Could you pin this?",
        "created_at": "2021-11-15T11:23:05.043000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!360491619402776577\u003e \u003c@!363800010518822915\u003e Correct me if I am wrong. In the instruction here: https://prysmaticlabs.notion.site/Interop-Kintsugi-M2-TTD-100-8403ae49b6c9427dbc9853dfa5c85baa you're using TTD 100 by default when the genesis difficulty is 0x400000000. I think we should all agree for genesis on M2 testing, or we should use TTD = genesis.Difficulty + 100 here.",
        "created_at": "2021-11-15T11:37:03.320000+00:00",
        "attachments": null
    },
    {
        "author": "blaise8",
        "category": "Testing",
        "parent": "",
        "content": "Hello, can someone point me to geth implementation containing this:\nhttps://eips.ethereum.org/EIPS/eip-3675\n?",
        "created_at": "2021-11-15T11:49:56.679000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Do you want a running node on kintsugi? https://github.com/MariusVanDerWijden/go-ethereum/pull/31\nOr a version without EIP-4399? https://github.com/MariusVanDerWijden/go-ethereum/pull/29\nOr a version with EIP-4399 but without the reverse header sync? (suitable for testing, but not for joining a devnet) https://github.com/MariusVanDerWijden/go-ethereum/pull/30\nOr do you want to run a node on the amphora/pithos testnet? https://github.com/ethereum/go-ethereum/pull/23607",
        "created_at": "2021-11-15T11:54:25.025000+00:00",
        "attachments": null
    },
    {
        "author": "blaise8",
        "category": "Testing",
        "parent": "",
        "content": "thank you for an answer. I would like to know what is the:\n- most advanced state on branch\n- most stable state on branch",
        "created_at": "2021-11-15T12:12:32.845000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "This one is the most advanced:  https://github.com/MariusVanDerWijden/go-ethereum/pull/31\nAnd this is the most stable:  https://github.com/MariusVanDerWijden/go-ethereum/pull/30\nWhat do you plan to do with it? Are you part of a client team, if so I could help you get started",
        "created_at": "2021-11-15T12:14:10.294000+00:00",
        "attachments": null
    },
    {
        "author": "blaise8",
        "category": "Testing",
        "parent": "",
        "content": "I am part of LUKSO team, which in parallel we try to deliver POS merge by our specs. I wanted to know how far you went and what are the missing parts. I also need to know what are the diffs in our setup compared to ETH",
        "created_at": "2021-11-15T12:15:04.696000+00:00",
        "attachments": null
    },
    {
        "author": "blaise8",
        "category": "Testing",
        "parent": "",
        "content": "Our attempt is to merge Geth with Prysm, but put execution on a shard",
        "created_at": "2021-11-15T12:15:45.022000+00:00",
        "attachments": null
    },
    {
        "author": "blaise8",
        "category": "Testing",
        "parent": "",
        "content": "thank you very much, if you have some quick time to talk I would be pleased. I think 5-10 mins would be enough for me",
        "created_at": "2021-11-15T12:16:30.777000+00:00",
        "attachments": null
    },
    {
        "author": "trent_vanepps",
        "category": "Testing",
        "parent": "",
        "content": "",
        "created_at": "2021-11-15T13:58:19.341000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "Hi, yes I think this can be definitely improved, since any client can return different errors, perhaps adding a list of acceptable values for all errors, for the payloadId I'm working on adding a keyword to reuse the last Nth value üëå",
        "created_at": "2021-11-15T14:38:21.984000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I think he linked the wrong doc in his document: https://notes.ethereum.org/@9AeMAlpyQYaAAyuj47BzRw/SJzzc3IVK",
        "created_at": "2021-11-15T15:27:32.461000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "This one contains the 0x0 difficulty and the secret key",
        "created_at": "2021-11-15T15:27:52.495000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "Ok - cool üôÇ thx",
        "created_at": "2021-11-15T15:31:31.020000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Testing",
        "parent": "",
        "content": "Indeed. Just fixed the link. Thanks guys!",
        "created_at": "2021-11-15T15:44:10.623000+00:00",
        "attachments": null
    },
    {
        "author": "marioevz",
        "category": "Testing",
        "parent": "",
        "content": "I'm getting type 1 and type 2 responses from different clients, what should be the accepted format here?",
        "created_at": "2021-11-15T15:50:16.927000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "lodestar \u003c\u003e nethermind interop successful for ttd \u003e10 (100) with successful merge transition! \u003c@!758579010027782144\u003e",
        "created_at": "2021-11-15T16:40:48.878000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Testing",
        "parent": "",
        "content": "One question we ( \u003c@!758579010027782144\u003e and I) had while figuring out the kinks, isn't the EL supposed to stop producing its own (pow) blocks at/after first time it see the notifyUpdate... call for payload generation, even if the CL calls it way before TTD set in EL \u003c@!360491619402776577\u003e \u003c@!291925846556540928\u003e",
        "created_at": "2021-11-15T16:44:12.954000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "I believe that is under specified at the moment. The implication would be to stop producing PoW blocks because you cannot convince your local node to set it as head so that are useless",
        "created_at": "2021-11-15T17:44:30.860000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "We stop producing blocks on the first ExecutePayload message (regardless of whether TTD was reached (the call is just called ReachedTTD))",
        "created_at": "2021-11-15T18:47:43.267000+00:00",
        "attachments": null
    },
    {
        "author": "syentist.",
        "category": "Testing",
        "parent": "",
        "content": "Sincere apologies to the ETH devs for my off topic post, but this is ridiculous. So LUKSO wants to merge geth with prysm, spin off a completely separate blockchain with their own LUKSO token, making billions by just copying public goods built by the engineers and devs in the Eth ecosystem, want to  do this even before the official Eth PoS merge is out (so they can claim to go online even before Eth does)...and come here to figure out how to do so? This is an exploitation of public goods, and ideally the mods have some form of easy identification for client team members",
        "created_at": "2021-11-15T20:34:16.232000+00:00",
        "attachments": null
    },
    {
        "author": "treyzania",
        "category": "Testing",
        "parent": "",
        "content": "^ yeah this does seem a little bit odd",
        "created_at": "2021-11-15T20:37:21.710000+00:00",
        "attachments": null
    },
    {
        "author": "raulj",
        "category": "Testing",
        "parent": "",
        "content": "This is our understanding as well. The LUKSO team is proceeding with customizing Prysm with their own sharding methodology and launching using that",
        "created_at": "2021-11-15T20:40:23.612000+00:00",
        "attachments": null
    }
]