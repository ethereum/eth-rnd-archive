[
    {
        "author": "jmozah",
        "category": "Testing",
        "parent": "",
        "content": "Is there a Besu config guide like this https://github.com/karalabe/hacknet/tree/main/v2\nI want to run Besu too (not only geth) in this combination of ELs",
        "created_at": "2021-10-18T06:26:19.952000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cparithoshj\u003e I'm not sure about native build instructions, maybe someone from besu can add that. But @yetanotherchatclient has a docker-compose file i added into the quick-run folder (https://github.com/parithosh/consensus-deployment-ansible/blob/master/scripts/quick-run/docker-compose.besu.yml) (instructions for running it in the repo's main README)",
        "created_at": "2021-10-18T07:30:06.752000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e @Pari One thing I noticed is that geth-nimbus will shnc up to the head, be in consensus for a sec and then start resyncing from genesis (according to the forkmon)",
        "created_at": "2021-10-18T08:22:38.541000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cparithoshj\u003e are you using the docker-compose files? (in which case pull, i've changed the nimbus image). If not, i'll try and reproduce that locally (re @vdWijden: @Pari One thing I noticed is that geth-nimbus will shnc up to the head, be in consensus for a sec and then start resyncing from genesis (according to the forkmon))",
        "created_at": "2021-10-18T08:56:39.846000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e No, I was just judging by what I saw on the testnet. I can try to repro myself",
        "created_at": "2021-10-18T09:23:15.094000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cparithoshj\u003e Got it, I've updated the nimbus nodes with @tersec and it seems like nimbus-geth is proposing now + gave us a nice bump in participation rates. I'll keep an eye out for any regression.",
        "created_at": "2021-10-18T09:35:26.756000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e ðŸ™Œ",
        "created_at": "2021-10-18T09:39:31.358000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@!360491619402776577\u003e I've tried the following to sync a geth node without success:\n1) built your branch `MariusVanDerWijden/go-ethereum.git:merge-interop-spec`\n2) got the `genesis.json` from \u003c@!199561711278227457\u003e's repo. \n3) Initialized the datadir with `geth --catalyst --datadir \"./\" init genesis.json`\n4) Started geth with the network  id I got from the configuration files:  `geth --catalyst --datadir \"./testnet\" --http --http.api=\"engine,eth\" --networkid=1337202 console`\n5) Tried to add the peer with `admin.addPeer()` and the enode from \u003c@!199561711278227457\u003e's repo. \nMy peer count is still zero.",
        "created_at": "2021-10-18T11:24:48.204000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Am I doing something wrong?",
        "created_at": "2021-10-18T11:24:53.949000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Do you have a cl client running?",
        "created_at": "2021-10-18T11:26:10.058000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "nope",
        "created_at": "2021-10-18T11:26:16.540000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "just wanted to sync geth alone, that can't be possible?",
        "created_at": "2021-10-18T11:26:33.168000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "The CL gives us the current block to which we can then sync",
        "created_at": "2021-10-18T11:26:36.304000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "No",
        "created_at": "2021-10-18T11:26:39.107000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "ahh I see thanks, will try to run with Teku that  I have aound that branch I think cc \u003c@!363800010518822915\u003e this may be the trouble you are having as well",
        "created_at": "2021-10-18T11:27:10.406000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Post merge you can't sync geth standalone anymore since it is trivially easy to trick it into syncing a wrong chain",
        "created_at": "2021-10-18T11:27:16.151000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "understood, just thought for the testnet that may have been possible. Since diagnosing why the consensus client is kicking me out may be harder ðŸ™‚",
        "created_at": "2021-10-18T11:29:25.862000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Does the CL need to be peered for the geth to accept a peer as well? I'm  now running prysm, it does connect to catalyst, but it spits `err=\"the method net_version does not exist/is not available\"` on the catalyst console",
        "created_at": "2021-10-18T13:23:05.155000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "No, geth should accept peers without the CL",
        "created_at": "2021-10-18T13:37:15.062000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Afaik Prysm is not yet able to sync pithos",
        "created_at": "2021-10-18T13:38:01.028000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "(would love to change that, so if someones working on this and needs help, just dm me)",
        "created_at": "2021-10-18T13:38:35.036000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Prysm does connect to geth, geth recognizes the connection and tries to serve net_version,  but geth still shows zero peers",
        "created_at": "2021-10-18T14:07:27.719000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "so that error about the net_version should be irrelevant, my understanding of this https://github.com/prysmaticlabs/prysm/issues/8170 is that it's using both. So I don't see why geth is not peering in my case.",
        "created_at": "2021-10-18T16:02:19.775000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Could you try setting up geth with this guide(its worked for a lot of people, so it should help reduce the variables)? https://github.com/parithosh/consensus-deployment-ansible#instructions-to-join-testnet",
        "created_at": "2021-10-18T16:06:53.904000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Yeah I'm trying to avoid docker and automatization in general. Would rather understand what's going on. But will come back here when prysm manages to try to peer on the CL",
        "created_at": "2021-10-18T17:35:09.516000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Alright, didn't change anything here, just tried several times running the exact same command, and now it's peering! I can connect geth now, so will try to see if I can with prysm at least. I have 2 peers at least, and a bunch of others with errors like `peer=142a61ec err=\"peer connected on snap without compatible eth support\"`",
        "created_at": "2021-10-18T19:21:23.759000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvdWijden\u003e This error is just a problem with misconfigured other nodes, not with your node. We require all snap peers to have the eth (66) protocol. Matic and some others have taken geth and renamed everything \"eth\" to bor, including the networking protocol. So if a client with (bor66,snap) tried to connect we spit out this error... really need to downgrade this to a warn or info",
        "created_at": "2021-10-18T19:29:51.744000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "I seem to be connected now, wondering why I didn't change anything, just kept hitting \"arrow up\" \"enter\" every half an hour since this morning",
        "created_at": "2021-10-18T19:37:14.701000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "and now it's connected.",
        "created_at": "2021-10-18T19:37:19.639000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvbuterin\u003e",
        "created_at": "2021-10-18T21:56:33.870000+00:00",
        "attachments": [
            {
                "type": "image/jpeg",
                "origin_name": "file_6.jpg",
                "content": "0e8eb987964f9142054ff90b3cb8fe131338269ffcfd4ac10eabe022e2f81c92"
            }
        ]
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvbuterin\u003e Seeing very poor sync aggregate participation on pithos",
        "created_at": "2021-10-18T21:56:38.365000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cvbuterin\u003e Something to worry about or known bug?",
        "created_at": "2021-10-18T21:56:43.339000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "known that there is an issue",
        "created_at": "2021-10-18T21:57:07.399000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "not sure what the issue is.\n\nwas seeing a bunch of invalid sigs which pointed to maybe an incorrect fork version",
        "created_at": "2021-10-18T21:57:49.175000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "and it was a teku problem",
        "created_at": "2021-10-18T21:58:09.742000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "looks like teku produced block are *very* low",
        "created_at": "2021-10-18T21:58:15.110000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "and the rest of the blocks are in the 50s",
        "created_at": "2021-10-18T21:58:25.657000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "which is without teku (which is somethingl ike 40%+ of the network)",
        "created_at": "2021-10-18T21:58:38.290000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "I am 95% sure it is strictly a teku issue and beleive it is a configuration/fork-versioning issue",
        "created_at": "2021-10-18T21:58:55.107000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Testing",
        "parent": "",
        "content": "but not 100% sure on that",
        "created_at": "2021-10-18T21:58:58.411000+00:00",
        "attachments": null
    },
    {
        "author": "bridge-bot",
        "category": "Testing",
        "parent": "",
        "content": "\u003cajsutton\u003e We originally loaded and cached the wrong sync committee duties because of the particular details of the testnet setup but that should have cleared by now. Must admit Iâ€™ve been distracted the last few days so havenâ€™t paid any attention to Pithos.  Weâ€™ll have to dig into the teku boxes to see whatâ€™s going on. Not sure if Iâ€™ll get to that today or if \u003c@504202741933932544\u003e will have to look into it this evening.",
        "created_at": "2021-10-18T22:10:39.675000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Testing",
        "parent": "",
        "content": "Can anyone save me some time? prysm is syncing until block 256, can you guys confirm that the state root is `0x49d8978a6659c96e085a78121ba54b15a36125870ef7cb5fff64b351d63436a7` and the block hash is `0x2b32db6c2c0a6235fb1397e8225ea85e0f0e6e8c7b126d0016ccbde0e667151e` And the graffitti is  `0x6c69676874686f75736500000000000000000000000000000000000000000000` (there's been new pushes about this on prysm). Thanks",
        "created_at": "2021-10-18T22:51:17.475000+00:00",
        "attachments": null
    }
]