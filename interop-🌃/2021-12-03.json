[
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "Hmm, good point on error. It's supposed that EL silently ignores `forkchoiceUpdated` if the request ID is lower than of the previous message. But I think it would be better to error explicitly in this case, otherwise, we may end up with scenario when CL doesn't show anything bad in its logs while EL doesn't update the fork choice state.\n\nIn the case when EL sees two `forkchoiceUpdated` calls it may skip the first one and process the second one. But this kind of optimisation is perfectly combined with the error response in case when the ID is lower than the previous one",
        "created_at": "2021-12-03T08:27:25.234000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "I've implemented the fork-id for the new spec now, made the following test case:\nTaking mainnet hash and mainnet conf and activating the MergeForkBlock at 15000000, I compute the following forkid: 0xe3abe201\nWould be great if others could double check this cc \u003c@!758579010027782144\u003e",
        "created_at": "2021-12-03T10:25:53.284000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Right now I'm taking no decisions based on this block. Which means that if TTD is reached before the MergeForkBlock, we would still fork to PoS, just not update the forkid yet",
        "created_at": "2021-12-03T10:33:04.799000+00:00",
        "attachments": null
    },
    {
        "author": "pawandhananjay",
        "category": "Testing",
        "parent": "",
        "content": "agree. Also it gives the CL a chance to recover by resetting the request ID on checking the error type",
        "created_at": "2021-12-03T17:16:10.830000+00:00",
        "attachments": null
    }
]