[
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "btw, consolidations have a separate queue, so exits aren't affecting them",
        "created_at": "2025-03-12T07:55:56.269000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "but for the consolidation to go through, the source validator needs to exit and the balance go to 0 before the target balance gets bumped. So consolidations do depend on exits right?",
        "created_at": "2025-03-12T07:57:15.439000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "yes, the source is exiting. Exit queue in Electra is split into two: for exits (voluntary, withdrawal request) up to 256 ETH and the rest for consolidations. And then upon reaching out withrawable epoch balance transfer is happening. Though, the size of the queue depends on total active balance",
        "created_at": "2025-03-12T08:03:29.186000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "While consolidations do set the exit epoch of a validator, they do so independently of the exit queue, and only based on the consolidation queue:\n\n```\n    source_validator.exit_epoch = compute_consolidation_epoch_and_update_churn(\n        state, source_validator.effective_balance\n    )\n```",
        "created_at": "2025-03-12T08:22:56.507000+00:00",
        "attachments": null
    },
    {
        "author": "fradamt",
        "category": "Testing",
        "parent": "",
        "content": "I guess this doesn't solve the problem, because staking pools also want to test exits and partial withdrawals?",
        "created_at": "2025-03-12T08:25:35.202000+00:00",
        "attachments": null
    },
    {
        "author": "m.kalinin",
        "category": "Testing",
        "parent": "",
        "content": "yeah, this is def a problem anyway",
        "created_at": "2025-03-12T08:27:40.700000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Yup! but good to know, we'll test that out and then update the wording to indicate that. Also agree that the outcome doesn't really change",
        "created_at": "2025-03-12T08:40:17.555000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@\u0026836981603216654336\u003e looks like besu is having a hard time proposing blocks: https://dora.pectra-devnet-6.ethpandaops.io/slots/filtered?f=\u0026f.pname=besu\u0026f.missing=2\u0026f.orphaned=1\u0026c=50\u0026d=1+2+3+4+5+6+7+8+9+10+11",
        "created_at": "2025-03-12T11:28:54.363000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "devnet-6 will experience a gas limit bump from 30M to 60M (for some reason some clients are still defaulting to 30M?)",
        "created_at": "2025-03-12T11:36:23.882000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@687974325072035882\u003e would this be the release we want on devnet 6 too? https://discord.com/channels/687972960811745322/873919953496068116/1349378070469021757 ?",
        "created_at": "2025-03-12T13:47:49.672000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "currently we are running `ethpandaops/erigon:main-376db9a0`",
        "created_at": "2025-03-12T13:48:11.995000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "main is fine - pectra-wise it is identical",
        "created_at": "2025-03-12T13:48:42.050000+00:00",
        "attachments": null
    },
    {
        "author": "funnygiulio",
        "category": "Testing",
        "parent": "",
        "content": "we also run all our nodes on rc3 currently",
        "created_at": "2025-03-12T13:48:49.122000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Testing",
        "parent": "",
        "content": "Interesting pattern of blocks at https://explorer.pectra-devnet-6.ethpandaops.io/blocks one totally full the next totally empty.",
        "created_at": "2025-03-12T14:13:39.197000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "Something bad happened on holesky epoch 119495. We have a chain split.",
        "created_at": "2025-03-12T14:31:28.128000+00:00",
        "attachments": null
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "Any bad blocks?",
        "created_at": "2025-03-12T14:31:55.255000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "^ we're checking our infra, could just be because our nodes are still on the tree states branch.",
        "created_at": "2025-03-12T14:32:12.488000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "no,  all nodes on the tree state branch just stopped some time ago,  none of them were used",
        "created_at": "2025-03-12T14:33:48.074000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "Any idea which client is forked right now?",
        "created_at": "2025-03-12T14:36:36.855000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "looks like rockawayx, kiln, google, ethstaker \u0026 p2p.org forked off for a bit.\nseems like some of them reorged back..",
        "created_at": "2025-03-12T14:39:32.496000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "```\ntime=\"2025-03-12 14:39:58\" level=fatal msg=\"could not set up forkchoice: could not initialize head from db: could not get head state: could not load blocks for hot state using root: could not unmarshal block with key 0x18d76bdf83d056de2d8094cd18c1ec4399a76489939e4a3afa9f624ae44fca13: could not snappy decode block: snappy: corrupt input\" prefix=blockchain\n```",
        "created_at": "2025-03-12T14:40:06.568000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "I see this on a prysm node cc \u003c@\u0026595683609080365088\u003e",
        "created_at": "2025-03-12T14:40:09.726000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "hmm, none of our nodes are on that fork chain,  so not sure if we can find anything useful in our logs",
        "created_at": "2025-03-12T14:44:18.519000+00:00",
        "attachments": null
    },
    {
        "author": "parithosh",
        "category": "Testing",
        "parent": "",
        "content": "will ask the affected entities to provide logs",
        "created_at": "2025-03-12T14:44:48.139000+00:00",
        "attachments": null
    },
    {
        "author": "pk910",
        "category": "Testing",
        "parent": "",
        "content": "looks like clients are reorging back to the canonical chain.. \nso probably not super critical ðŸ™‚",
        "created_at": "2025-03-12T14:46:36.646000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "For some reason our Holesky nodes with Lighthosue all are down - trying to capture CL logs for that",
        "created_at": "2025-03-12T14:48:52.874000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "which version you using?",
        "created_at": "2025-03-12T14:49:10.428000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "hopefully not the hot tree one",
        "created_at": "2025-03-12T14:49:16.372000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "I see we use this one for now\nlighthouse:\n          repository: \"sigp/lighthouse\"\n          tag: \"v7.0.0-beta.2\"",
        "created_at": "2025-03-12T14:56:17.404000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Also noticed now that we struggle with NImbus - like it loses it sync and then catching up.\nPrysm is doing fine",
        "created_at": "2025-03-12T14:57:25.181000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "```\nMar 12 11:02:06.000 INFO Syncing                                 est_time: --, distance: 38 slots (7 mins), peers: 9, service: slot_notifier\nMar 12 11:02:08.315 WARN State cache missed                      backtrace:    0: store::hot_cold_store::HotColdDB\u003cE,Hot,Cold\u003e::get_advanced_hot_state\n   1: tokio::runtime::task::raw::poll\n   2: std::sys::backtrace::__rust_begin_short_backtrace\n   3: core::ops::function::FnOnce::call_once{{vtable.shim}}\n   4: std::sys::pal::unix::thread::Thread::new::thread_start\n   5: \u003cunknown\u003e\n   6: \u003cunknown\u003e\n, block_root: 0xbdc24ff5aba15e08e1d69518d53470282d282db26dbbd147dafba153eaeb39cb, state_root: 0xeae813bd488506dde4126a13a66d8331b194a9acd6d62a7c49fb63274d31247b, service: freezer_db\nMar 12 11:02:11.761 WARN Skipping more than an epoch             request_slot: 3822910, head_slot: 3822872, service: beacon\nMar 12 11:02:17.232 WARN BlockProcessingFailure                  outcome: BlockSignatureVerifierError(SignatureSetError(ValidatorUnknown(1922655))), msg: unexpected condition in processing block.\nMar 12 11:02:18.000 INFO Syncing                                 est_time: --, distance: 39 slots (7 mins), peers: 11, service: slot_notifier\nMar 12 11:02:30.000 INFO Syncing                                 est_time: --, distance: 40 slots (8 mins), peers: 10, service: slot_notifier\nMar 12 11:02:38.191 WARN BlockProcessingFailure                  outcome: BlockSignatureVerifierError(SignatureSetError(ValidatorUnknown(1922655))), msg: unexpected condition in processing block.\nMar 12 11:02:40.036 WARN BlockProcessingFailure                  outcome: BlockSignatureVerifierError(SignatureSetError(ValidatorUnknown(1922655))), msg: unexpected condition in processing block.\n```\n\n\u003c@\u0026595683849225240704\u003e",
        "created_at": "2025-03-12T14:58:22.454000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "... that doesn't look like Nimbus?",
        "created_at": "2025-03-12T14:58:48.505000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "or is that separate",
        "created_at": "2025-03-12T14:58:57.725000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "thats just a warn",
        "created_at": "2025-03-12T15:02:33.829000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "got any errors on the beacon side?",
        "created_at": "2025-03-12T15:02:50.762000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Two separate things",
        "created_at": "2025-03-12T15:09:25.508000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Yeah got this snippet only as I don't have full access to this env except EL logs.\nWaiting for more, will have shortly",
        "created_at": "2025-03-12T15:09:47.743000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Do we have any hash of block from wrong work So I can quickly see if we received any and processed?",
        "created_at": "2025-03-12T15:10:31.118000+00:00",
        "attachments": null
    },
    {
        "author": "0xsantito",
        "category": "Testing",
        "parent": "",
        "content": "```",
        "created_at": "2025-03-12T15:11:55.271000+00:00",
        "attachments": null
    },
    {
        "author": "antondlr",
        "category": "Testing",
        "parent": "",
        "content": "if you want stability, best to use `v7.0.0-beta.0` (with a fresh checkpoint sync) for now.",
        "created_at": "2025-03-12T15:37:29.918000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@412614104222531604\u003e \u003c@199561711278227457\u003e \u003c@808969530608451584\u003e It seems like on some Nethermind nodes problems started a bit before on epoch 119463",
        "created_at": "2025-03-12T15:38:11.610000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "ok, if you send Nimbus logs I can look at them (not for a few hours or a bit maybe but still)",
        "created_at": "2025-03-12T15:38:52.496000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "60M gas [blocks](https://explorer.pectra-devnet-6.ethpandaops.io/block/0x6f19a354ab6cfb389f2a460b3f8a3247556fcf36210819846d8df6f2e370856d) on devnet 6",
        "created_at": "2025-03-12T16:07:31.541000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "Screenshot_2025-03-12_at_17.07.23.png",
                "content": "becb0de866b3c1607d744ddab352d376cb8e1b8df15917664747a9f43fd6a13e"
            }
        ]
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "also each full block is about 5.5MB big",
        "created_at": "2025-03-12T16:07:48.506000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@833706406699073536\u003e had a fix for this https://github.com/prysmaticlabs/prysm/pull/15011 \ni don't believe we have a good solution for in process recovery though and will need to wipe db",
        "created_at": "2025-03-12T16:19:34.163000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Testing",
        "parent": "",
        "content": "will be interesting to see if these can propagate quickly enough on a network that's not 100% contained in datacenter",
        "created_at": "2025-03-12T16:21:23.070000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "For Holesky trying to wrap my head around what happened and was a bit afraid that it can be something about Nethermind. But when I checked for 2 similar forks which happened in last few hours but then I noticed that also Geth was involved in one so either two searate problems or something on CL side.\n\nOnce for sure was started with a Lighthouse pair, second hard to tell",
        "created_at": "2025-03-12T16:55:18.797000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Once started at slot 3822816\nSecond at 3823852",
        "created_at": "2025-03-12T16:56:06.873000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@199561711278227457\u003e Can it be that rockaway is still connected to Loadbalancer?",
        "created_at": "2025-03-12T16:56:34.902000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "There were also no Invalid blocks at least noticed by nethermind whatsoever so gives me a feeling that could be on CL side",
        "created_at": "2025-03-12T16:57:34.432000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "possible",
        "created_at": "2025-03-12T16:57:54.696000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "we have higher traffic than ever lol",
        "created_at": "2025-03-12T16:58:16.906000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Block number for rockaway produced one was 3478333 - maybe you can see from logs if this was requested by any of your ELs if you have any aggegated view but expect for such big amount of nodes it will be hard to follow ðŸ˜„",
        "created_at": "2025-03-12T16:58:59.921000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "BTW how Dora visualizes forks is neat. Way much easier to follow that",
        "created_at": "2025-03-12T16:59:27.184000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Both cases described above made a chain not to finalize for few epochs and both seems to kicked out about 20% of validators",
        "created_at": "2025-03-12T17:01:46.266000+00:00",
        "attachments": null
    },
    {
        "author": "barnabasbusa",
        "category": "Testing",
        "parent": "",
        "content": "yeah pretty much impossible lol",
        "created_at": "2025-03-12T17:01:47.169000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "So pretty sure rootcause may be the same for both",
        "created_at": "2025-03-12T17:01:59.689000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Both our Lighthouse nodes died at block:\nhttps://light-holesky.beaconcha.in/slot/0xa39ea281184f570032c2432aa1dea09767fe2e05464b153967720419350606ae\n\nWhich is from wrong fork.",
        "created_at": "2025-03-12T17:10:38.305000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "\u003c@384673859284238336\u003e Any chance it can be exactly because of beta.2 version used?",
        "created_at": "2025-03-12T17:11:06.185000+00:00",
        "attachments": null
    },
    {
        "author": "0xunclebill",
        "category": "Testing",
        "parent": "",
        "content": "yes its because beta.2. go back to beta.0, or run michaels latest fix image: `sigmaprime/lighthouse:michaelsproul-fix-split-descent-check-af03b90`",
        "created_at": "2025-03-12T17:16:28.857000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "yeah, we analyzed logs with Kamil and it looks like something CL related, I don't see obvious issues on EL side",
        "created_at": "2025-03-12T17:20:11.970000+00:00",
        "attachments": null
    },
    {
        "author": "marekm3498",
        "category": "Testing",
        "parent": "",
        "content": "Great, so we need to coordinate the Lighthouse upgrade with all Holesky validators and observe whether large forks still occur.",
        "created_at": "2025-03-12T17:21:48.071000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "What the heck?",
        "created_at": "2025-03-12T20:36:42.415000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "52ef6bef1f36e88fc0edc2d193f70f8b053d1e39e856af667f2df7ed3da1bbbc"
            }
        ]
    },
    {
        "author": "mariusvanderwijden",
        "category": "Testing",
        "parent": "",
        "content": "probably a dora issue",
        "created_at": "2025-03-12T20:37:31.530000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Yeah don't see any other reason for that",
        "created_at": "2025-03-12T20:38:35.975000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Looks interesting tho ðŸ˜„",
        "created_at": "2025-03-12T20:39:00.179000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "it is back now ðŸ˜„",
        "created_at": "2025-03-12T20:39:09.826000+00:00",
        "attachments": null
    },
    {
        "author": "kamil_chodola",
        "category": "Testing",
        "parent": "",
        "content": "Managed to make a screenshot at least ðŸ˜„",
        "created_at": "2025-03-12T20:39:17.336000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "haha cool",
        "created_at": "2025-03-12T20:39:22.065000+00:00",
        "attachments": null
    },
    {
        "author": "lucassaldanhaconsensys",
        "category": "Testing",
        "parent": "",
        "content": "looks like slow 3825792 was a real orphan though",
        "created_at": "2025-03-12T20:39:50.924000+00:00",
        "attachments": null
    }
]