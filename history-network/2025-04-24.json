[
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "\u003c@510413979080720385\u003e Was there a discussion to make [ExecutionBlockProofCapella](https://github.com/ethereum/portal-network-specs/blob/23dda51f0d60e700b94d6b4f14dc87e7073c38da/history/history-network.md?plain=1#L182-L183]) a `Vector` instead of a `List`, and use different length based on the fork which can be deduced from header?",
        "created_at": "2025-04-24T07:37:29.791000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "If I remember correctly, there was short discussion on this topic durign one of the meetings, and it sounded like:  \"`List` covers all the cases, but it's hard to work with and `Vector` might be better\".\nIf that's correct, I think we should make the change before we start gossiping this content.",
        "created_at": "2025-04-24T07:39:14.302000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Yes, I lost track of what and what not we got updated in the specs. I'll go through this today and update it",
        "created_at": "2025-04-24T07:49:42.664000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I thought it was the opposite we wanted to use a `List` instead of a `Vector`",
        "created_at": "2025-04-24T07:52:05.229000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Because a `List` covers all cases, and makes our proofs more future proof, without needing to constantly add/modify custom deserializers to deal with different `Vector` lengths",
        "created_at": "2025-04-24T07:54:13.727000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "So `List` would be easier to work with then `Vector` here no?",
        "created_at": "2025-04-24T07:54:36.108000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "My understanding is that `List` type covers all cases and we don't have to update type, but it makes it hard to work with because you still have to handle them differently for different forks (different forks have different length, proofs are created/verified slightly differently, etc). So if you need all special logic to handle different cases, we might as well have different type to be explicit about it.\n\nNow, I didn't work on this myself and I'm not sure if I remember things correctly. But it was definitely a discussion after we already had `List` as type. But maybe I missunderstood to context or what it was about.",
        "created_at": "2025-04-24T09:16:21.472000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I wanted to bring this up yesterday, but I couldn't find the issue/PR for the life of me where this conversation was held, if someone finds it and could link it that would be great. I was interested in re-reading into the context",
        "created_at": "2025-04-24T09:23:04.248000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I think it was just discussed live during Monday's team call, but very briefly...",
        "created_at": "2025-04-24T09:23:59.342000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I swore it was discussed on github, but maybe my mind is playing Tricks on me",
        "created_at": "2025-04-24T09:25:02.060000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I believe me and Nick agreed on the same approached, then I think Kim said we could finish discussing it another time or something then things get blurry in my memory",
        "created_at": "2025-04-24T09:26:09.063000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I think it was brought up in the content of Nick trying to get others to test/approve the Capella HeaderWithProofs he built and put into portal-test-specs, but idk",
        "created_at": "2025-04-24T09:29:00.857000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Yes, that's the correct summary of it. And that is also how consensus specs deal with proofs. \nThe proper future proof way to deal with is is the EIP regarding StableContainer.\n\nI believe the discussion around this took mostly place on discord (and perhaps a little github), I do believe that we were in agreement on this.\n\nSince then I did start updating the fluffy code on this (we currently use `Vector` and not `List`, but they are not actually yet enabled on the network as we do not have the historical summaries to verify the proofs), but due to other tasks jumping up in the last months I have lost track of this in updating it in specs + test vectors (I had to also disable full verification for the test vector updates from nick due to these still being lists). My bad on not following this up.",
        "created_at": "2025-04-24T13:56:17.176000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "\u003c@690224518383534174\u003e Because of this I could also only partially verify your test vectors: https://github.com/ethereum/portal-spec-tests/pull/45",
        "created_at": "2025-04-24T13:59:26.057000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "https://github.com/ethereum/portal-network-specs/pull/396",
        "created_at": "2025-04-24T14:31:07.246000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Test vectors for the above:\nhttps://github.com/ethereum/portal-spec-tests/pull/47\nhttps://github.com/ethereum/portal-spec-tests/pull/48",
        "created_at": "2025-04-24T20:25:10.552000+00:00",
        "attachments": null
    }
]