[
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I re-run the hive tests including all clients and latest available versions: https://github.com/ethereum/hive/pull/1246\nTotal of 116 failed tests. I groupped them and here is the summary:\n- Following 8 tests. **Note:** first client is always ultralight (interestingly, *ultralight --\u003e trin* and *ultralight --\u003e ultralight* tests are passing)\n  - OFFER Block Header by Hash: block number 100 ultralight --\u003e fluffy\n  - OFFER Block Header by Number: block number 100 ultralight --\u003e fluffy\n  - OFFER Block Body: block number 7000000 (post-byzantium) ultralight --\u003e fluffy\n  - OFFER Block Receipt: block number 7000000 (post-byzantium) ultralight --\u003e fluffy\n  - OFFER Block Header by Hash: block number 100 ultralight --\u003e shisui\n  - OFFER Block Header by Number: block number 100 ultralight --\u003e shisui\n  - OFFER Block Body: block number 7000000 (post-byzantium) ultralight --\u003e shisui\n  - OFFER Block Receipt: block number 7000000 (post-byzantium) ultralight --\u003e shisui\n- 32 are following two tests, with all possible combination for CLIENT_A and CLIENT_C. **Note:** client B is always ultralight\n  - FIND_CONTENT content stored 2 nodes away stored in client C (Client B closer to content then C). A:\u003cCLIENT_A\u003e --\u003e B:ultralight --\u003e C:\u003cCLIENT_C\u003e\n  - FIND_CONTENT content stored 2 nodes away stored in client C (Client C closer to content then B). A:\u003cCLIENT_A\u003e --\u003e B:ultralight --\u003e C:\u003cCLIENT_C\u003e\n- 76 are related to post-merge (maybe we can mostly ignore these for now)\n  - majority of these involve ultralight, but not all. fluffy is not accepting post-merge content and that is another known issue\n\n\u003c@403636673914863626\u003e it seems that you detected some pre-capella bug, but it seems that there is something else as well (see first and second group of tests, they should be pre-merge)",
        "created_at": "2025-02-24T09:47:09.576000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Yes, I haven't tracked that one down yet. But our container for post merge blocks is definitely out of alignment with the spec. Hoping to track down the other bug today",
        "created_at": "2025-02-24T10:29:15.668000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I've pushed a new commit c32549692752ca96e2134723904cac181a1294a6 for ultralight that looks like it addresses all of the `findContent` tests",
        "created_at": "2025-02-24T17:26:23.665000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "we still have some failing OFFER tests but those appear to be uTP related and not specific to the proof union removal",
        "created_at": "2025-02-24T17:26:45.006000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "we have one last local thing to iron out and we'll be ready to do our cutover",
        "created_at": "2025-02-24T17:27:03.251000+00:00",
        "attachments": []
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "that would explain why it's passing for some clients and not for others",
        "created_at": "2025-02-24T17:35:31.492000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "yup, that's been an ongoing challenge for us in hive tests",
        "created_at": "2025-02-24T17:39:48.087000+00:00",
        "attachments": []
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I will try and recreate those tests in local code without hive so I can get a better sense of what might be going on",
        "created_at": "2025-02-24T17:40:01.447000+00:00",
        "attachments": []
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "trin started making the release. Will update when we start deployment",
        "created_at": "2025-02-24T18:01:37.258000+00:00",
        "attachments": []
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "trin release is ready. starting deployment\nhive and glados updates are in progress",
        "created_at": "2025-02-24T19:11:51.960000+00:00",
        "attachments": []
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Half of the fluffy fleet is back online (db migrated).",
        "created_at": "2025-02-24T20:03:13.672000+00:00",
        "attachments": []
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "our db migration will take few hours",
        "created_at": "2025-02-24T20:05:06.916000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Glados (with the updated trin) is deployed",
        "created_at": "2025-02-24T20:06:24.225000+00:00",
        "attachments": []
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "The other half of the fluffy fleet is also updated and back online",
        "created_at": "2025-02-24T21:21:46.889000+00:00",
        "attachments": []
    },
    {
        "author": "jason.carver",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Interestingly each trin node is running the migration at slightly different rates, so they are coming back on incrementally as each on finishes. Maybe 1/4 are online now (eyeballed from https://glados.ethdevops.io/census/explorer )",
        "created_at": "2025-02-24T21:34:45.119000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I am going to deploy to state, kolby and trin-execution nodes. (well not really kolby nodes as all of them are disable right now, since they were all set to 21m to latest header bridges)",
        "created_at": "2025-02-24T21:37:09.295000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I am done deploying to state and trin-execution nodes",
        "created_at": "2025-02-24T21:46:33.057000+00:00",
        "attachments": []
    },
    {
        "author": "pipermerriam",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "census explorer is quite cool for this",
        "created_at": "2025-02-24T21:52:46.548000+00:00",
        "attachments": []
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "you might be done, but some of them are still updating their db ðŸ™‚  but, they should update relatively fast\nthe slowest trin nodes would take another 3-4h to update",
        "created_at": "2025-02-24T21:56:17.076000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "[feat: update state:history storage to 1:1](\u003chttps://github.com/ethereum/trin/pull/1561\u003e), I don't think the state nodes should store 50/50 history/state",
        "created_at": "2025-02-24T22:00:23.935000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I think I will update the state nodes to 34GB for state 1GB for history",
        "created_at": "2025-02-24T22:01:19.102000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I thought the weights were still 1:99",
        "created_at": "2025-02-24T22:01:36.714000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "The code is deployed, I would consider the migration to be a distinct progress from the deploy",
        "created_at": "2025-02-24T22:02:09.566000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I will wait till after the migration is done to deploy this",
        "created_at": "2025-02-24T22:02:54.458000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Milos told me in dm's the migration is done, so I am going to update the storage split on the state nodes now",
        "created_at": "2025-02-24T22:12:28.300000+00:00",
        "attachments": []
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Ok the new storage splits on the state nodes are deployed now, I expect the nodes to be down for some time due to pruning the history content out",
        "created_at": "2025-02-24T22:15:17.297000+00:00",
        "attachments": []
    }
]