[
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "When OFFERing ephemeral headers, only bridges are expected to offer the 8 headers worth of padded depth (i.e. most recent header + 8 previous ones), right?",
        "created_at": "2025-05-05T19:13:47.459000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "As an individual node, I can just offer whatever list of headers I get when I accept an offer for the most recent set of headers, right?",
        "created_at": "2025-05-05T19:14:39.926000+00:00",
        "attachments": null
    },
    {
        "author": "acolytec3",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "So say I am OFFERed only a single header (i.e. most recent header) and it matches with my current head as known from the Beacon network, I'm okay to only offer 1 ephemeral header to other peers, right?",
        "created_at": "2025-05-05T19:15:24.648000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "If a node is offered\n\nx -\u003e x - 1 -\u003e x - 2 -\u003e ... x - y\n\nAnd a node accepts an anchor lets say `x - 2`, the node accepting should re-gossip `x-2 to x - y`\n\n- `x` is the latest header the bridge is aware of\n- `x - 2` is the latest head you are aware and is anchored via your oracle",
        "created_at": "2025-05-05T19:35:12.538000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "You have to regossip the whole range `x-2 to x - y` even if you only accept a subsection of that range. `x-2` is the anchor in this case, but the anchor you choose could have been anything",
        "created_at": "2025-05-05T19:36:21.270000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "in this case  you would be offered 9 headers, you already have 8 and there is 1 new one, you would only accept the new one, you would then regossip all 9",
        "created_at": "2025-05-05T19:39:00.453000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I would agree with tihs being the expected/default behaviour. But is there anything agains node gossiping `from x-2 to x-y-2`? (basically the same number of blocks that it was offered)",
        "created_at": "2025-05-05T19:42:26.041000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "We already have a padding for redundency why would we need an even bigger padding?",
        "created_at": "2025-05-05T19:44:09.616000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I'm not saying we _need_ it. I'm asking if it would be bad if we would do it?",
        "created_at": "2025-05-05T19:52:26.998000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "And why we would do it, specifically because we stripped some redundancy from the initial offer by not accepting it",
        "created_at": "2025-05-05T19:53:19.701000+00:00",
        "attachments": null
    },
    {
        "author": "milos88",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Either way, I'm fine with whatever, I don't have strong preference.",
        "created_at": "2025-05-05T19:53:39.412000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I don't think it would be bad per se  just not needed",
        "created_at": "2025-05-05T19:56:08.395000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "as this isn't a mechanism for backfilling, but the utility of the padding if I understand it was if there was momentary outages on a node for some reason.",
        "created_at": "2025-05-05T19:57:32.010000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Ah, so this +8 padding is in every case? That is, also just a single block update? I had not interpreted the text like that before, but I can see that now.",
        "created_at": "2025-05-05T20:05:55.123000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "I guess it makes sense, normally nodes would not accept all those anyhow.",
        "created_at": "2025-05-05T20:06:38.300000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "\"So normally this would be 1 header, unless a re-org occurred where multiple would be included. An additional 8 header's content keys, MUST be included in the Offer message as padding.\"\n\nThis sentence made me originally interpret it as minimum 8 additional headers when a re-org occurred.",
        "created_at": "2025-05-05T20:09:36.769000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "It is more so `1 + re-org-depth + 8`",
        "created_at": "2025-05-05T20:10:33.801000+00:00",
        "attachments": null
    },
    {
        "author": "kolbyml",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "So most of the time the re-org-depth would be 0",
        "created_at": "2025-05-05T20:10:44.434000+00:00",
        "attachments": null
    },
    {
        "author": "deme1744",
        "category": "Portal R\u0026D",
        "parent": "",
        "content": "Ah, I see.",
        "created_at": "2025-05-05T20:10:50.141000+00:00",
        "attachments": null
    }
]