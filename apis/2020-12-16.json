[
    {
        "author": "wolovim",
        "category": "Consensus Layer",
        "parent": "",
        "content": "üëã  I'm working on getting rudimentary eth2 API support into web3.py. Couple q's: \n\n1) My impression is that the validator endpoints would be served by a validator client, while the remaining namespaced endpoints (i.e., beacon, config, debug, nodes, events) would be handled by a beacon node. Is that accurate or is that an implementation detail that differs by client? \n\n2) Are those validator endpoints live only after you're an active validator? (May be another implementation detail question)",
        "created_at": "2020-12-16T20:26:40.777000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "the validator endpoints are *consumed* by the validator client",
        "created_at": "2020-12-16T20:27:51.074000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "meaning the validator client utilizes these endpoints to generally ask questions about it's responsibilities and to perform those responsibilities",
        "created_at": "2020-12-16T20:28:29.398000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "one nice thing about a common API here is it allows innovation in the validator layer (e.g. see Dirk which is a validator that can load balance across multiple beacon nodes https://www.attestant.io/posts/introducing-dirk/)",
        "created_at": "2020-12-16T20:29:12.116000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "(2) I think is answered by the clarification in (1)",
        "created_at": "2020-12-16T20:29:34.579000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yay web3.py!",
        "created_at": "2020-12-16T20:29:45.683000+00:00",
        "attachments": null
    },
    {
        "author": "wolovim",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ah ha, thanks for correcting the mental model. is it correct then that a user of this API would only need to point requests to the beacon node? essentially what i'm looking to suss out is the correct interface to offer, e.g., \n```\nfrom web3.eth2 import Eth2\neth2 = Eth2(beacon_url=\"http://localhost:5051\")\neth2.get_genesis()\n```\nis there need of including another arg: `validator_url=\"...\"`?",
        "created_at": "2020-12-16T20:34:32.435000+00:00",
        "attachments": null
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yep you only need the beacon node. Most validator clients don't expose any form of HTTP API for security.",
        "created_at": "2020-12-16T20:38:59.715000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I do think that lighthouse has a limited, experimental API they might expose on their validator_client to do some basic operations for a GUI\n\nbut (1) this is not in the standardization path today and (2) is a pretty niche usecase",
        "created_at": "2020-12-16T20:40:21.300000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "all that to say -- I'd stick with just beacon",
        "created_at": "2020-12-16T20:41:12.986000+00:00",
        "attachments": null
    },
    {
        "author": "wolovim",
        "category": "Consensus Layer",
        "parent": "",
        "content": "great - thanks guys üôè",
        "created_at": "2020-12-16T20:41:36.908000+00:00",
        "attachments": null
    },
    {
        "author": "terencechain",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Prysm also has a limited set that is exposed on validator client, these are not standardized and niche like danny said.\n* For remote signers: manage keys and sign\n* For web ui: get wallet/account info, current running validators balances, performances, what pending position it is in the queue.. etc\nId also recommend stick with just beacon, everything we need is there",
        "created_at": "2020-12-16T20:48:22.969000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yeah, maybe something to chew on further down the line",
        "created_at": "2020-12-16T20:48:54.705000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "you could imagine a wrapper on vlaidator APIs be useful for buildilng GUIs or something but... not the 95% of the initial usecases",
        "created_at": "2020-12-16T20:49:18.748000+00:00",
        "attachments": null
    },
    {
        "author": "wolovim",
        "category": "Consensus Layer",
        "parent": "",
        "content": "any strong feels about the naming of this interface? rather than the `Eth2` example above, i'm thinking `Beacon` would better stand the test of time, e.g., \n```\nfrom web3.beacon import Beacon\nbeacon = Beacon(\"http://localhost:5051\")\nbeacon.get_genesis()\n```\ni'm still coming up to speed on eth2 in general, so feedback on what feels more accurate/natural appreciated",
        "created_at": "2020-12-16T21:04:35.173000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think beacon is better +1",
        "created_at": "2020-12-16T21:07:29.159000+00:00",
        "attachments": null
    },
    {
        "author": "djrtwo",
        "category": "Consensus Layer",
        "parent": "",
        "content": "In the future it'll be system level consensus vs user layer. Beacon is likely a succinct name that will represent that layer well into the future",
        "created_at": "2020-12-16T21:08:12.358000+00:00",
        "attachments": null
    }
]