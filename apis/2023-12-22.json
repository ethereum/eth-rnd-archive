[
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yeah it feels that the dates discussed today are a tad tight. I just want to point out that having breaking changes between the release for Goerli and the release for Holesky would be a recipe for disaster",
        "created_at": "2023-12-22T03:10:47.181000+00:00",
        "attachments": []
    },
    {
        "author": "etan_status",
        "category": "Consensus Layer",
        "parent": "",
        "content": "the additional `data` wrapper is present where necessary for parsing. the slashing / exit / head / reorg messages etc are not specific to forks, but the messages coming with an additional `version` require knowledge of the fork to understand what fields to expect and how to parse. as in, use `version` to determine what parser to use to process `data`.\n\nnote that JSON may reorder fields during serialization, if the `version` were to be inside `data`, parsing logic can become ugly, as `version` may be interleaved with other items before knowing how to parse those other items.",
        "created_at": "2023-12-22T13:35:00.342000+00:00",
        "attachments": []
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "~~Would it make sense to have the metadata as toplevel values of the eventstream like `event` and `data`?~~ ah nvm, data is a specific field. We noticed that currenty Lodestar and Nimbus LC server do not follow same format https://github.com/ChainSafe/lodestar/issues/6197\n\n(we just do `compute_fork_version(compute_epoch_at_slot(data.attested_header.beacon.slot))` to get fork version)",
        "created_at": "2023-12-22T13:41:33.870000+00:00",
        "attachments": []
    },
    {
        "author": "etan_status",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yeah, the `compute_fork_version` can be used so far, but that is coincidental and breaks if future `version` changes the way how to determine it.",
        "created_at": "2023-12-22T15:37:21.270000+00:00",
        "attachments": []
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Having the `data` field of the event message match the json response of the api makes sense, we will update our implementation to match spec",
        "created_at": "2023-12-22T15:46:20.531000+00:00",
        "attachments": []
    },
    {
        "author": "radekkapka",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I am looking through latest PRs and only a handful of them update `CHANGES.md`. We should add a static check to the CI that will fail when a PR does not update this file. I know this means that even a typo fix will have to add an entry, but I think without such an enforcement someone will have to manually go through every PR before each release and make sure no important ones are missing in the changelog.",
        "created_at": "2023-12-22T17:56:21.053000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Along the same line, is it too difficult to have something like spectests for the beacon API",
        "created_at": "2023-12-22T22:17:04.967000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Perhaps on hive otherwise?",
        "created_at": "2023-12-22T22:17:18.160000+00:00",
        "attachments": []
    }
]