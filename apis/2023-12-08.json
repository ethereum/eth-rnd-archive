[
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Will you have conditions that the node will not give back a blinded block? Eg, the BN thinks there's censorship or the local payload has paid more and you still get a request from the blinded endpoint, do you honor it?",
        "created_at": "2023-12-08T04:17:22.807000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "On blinded v2 we do the same as we do today: return a blinded version of a local payload if the builder payload is unavailable/censoring/invalid",
        "created_at": "2023-12-08T05:48:54.698000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I meant going forward if they separate again in two endpoints",
        "created_at": "2023-12-08T08:03:51.455000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "... why would we separate them if we've just combined them??",
        "created_at": "2023-12-08T10:14:52.429000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "There's talk about it in that PR",
        "created_at": "2023-12-08T10:16:12.030000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "is there?!",
        "created_at": "2023-12-08T10:20:02.221000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I thought I read and understood the whole thing",
        "created_at": "2023-12-08T10:20:17.665000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yea, i didnt think we talked about separating the endpoints",
        "created_at": "2023-12-08T10:21:06.372000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I am very confused, I thought I had seen comments about renaming and getting a separate request for blinded... I better get more coffee. I don't know why I got myself in the endless API discussions, I'll wait to see what's decided.",
        "created_at": "2023-12-08T11:06:05.196000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think your confusion might have stemmed from the discussion of renaming \"blinded\" to \"builder\", to make it clear that the v3 API should only serve blinded blocks if they came from a builder",
        "created_at": "2023-12-08T11:33:50.323000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "that may be it... I am fine then as long as there is an option to not return anything or error, or just return the full local block if the beacon so decides. As long as we are not making it easier to remove defaults from the beacon node I am relatively at ease.",
        "created_at": "2023-12-08T11:41:29.503000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "That is my preference as well, and why I am in favour of _not_ adding the `builder_only` mode that avoids building the local block. I _am_ in favour of something equivalent to `prefer_builder` which weighs the builder payload more preferably _if_ the BN deems it safe to propose\n\nIs that OK with you?\n\n(if so, I might try writing a spec for the `comparison_factor` early next week)",
        "created_at": "2023-12-08T12:25:50.951000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yeah that's definitely fine by me, I think the best we can hope for in terms of censorship is that the vanilla software comes with reasonable defaults.",
        "created_at": "2023-12-08T12:28:28.735000+00:00",
        "attachments": null
    },
    {
        "author": "g11tech",
        "category": "Consensus Layer",
        "parent": "",
        "content": "is this per validator flag (via query param in produceblockv3)?",
        "created_at": "2023-12-08T12:30:52.663000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yeah a per-validator `comparison_factor` and nothing else",
        "created_at": "2023-12-08T20:55:01.072000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "**beyond what v3 defines already",
        "created_at": "2023-12-08T20:55:13.473000+00:00",
        "attachments": null
    }
]