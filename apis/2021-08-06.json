[
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "There was a discussion at the time, where the pros of keeping it a simple GET with query parameters won out against it being a POST with a body. If we wanted the latter then at this stage I would be inclined to add it as a new call rather than alter the existing call.\n\nIncreasing the URL length may not help if the call goes through proxies, some client libraries, or other infrastructure that has a lower maximum length. I believe we went with 8K as that was tested and shown to work with the clients at the time (albeit I think that was only lighthouse and teku)",
        "created_at": "2021-08-06T00:08:40.521000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yep our validator client deliberately breaks things into multiple requests but it is an interesting gotcha for people.  I was leaning towards adding an additional POST version (and possibly adding a simple GET version for the one we moved to POST previously).  That way you get the benefit of a simple API for small numbers but the ability to switch to POST when you use a lot.\n\nThe only downside is that people still run into problems with URL limits before hitting the problem and then switching to POST, but I think that's unavoidable given the existing GET versions are already in use anyway.",
        "created_at": "2021-08-06T00:12:27.662000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Note you would probably want to keep the GET for the degenerate case of fetching all validators, if nothing else",
        "created_at": "2021-08-06T00:22:49.784000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think despite the potential gotcha I'd keep the GET regardless.  It really is convenient for quick `curl` calls when checking stuff out.",
        "created_at": "2021-08-06T00:24:08.739000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "thats a really good point with the get all",
        "created_at": "2021-08-06T00:25:18.462000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "for now we can see if the url length increase is sufficient and see if there's further action required down the track... embedded jetty had a small url size it accepted by default",
        "created_at": "2021-08-06T00:26:10.341000+00:00",
        "attachments": []
    }
]