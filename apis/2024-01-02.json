[
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@602753420033785856\u003e \u003c@884836500037066862\u003e \n\u003e `builder_comparison_factor=0`: prefer the execution node payload unless an error makes it\n\u003e           unviable.\nWhat does this mean? if the beacon health check makes it unviable, should we return the local payload or error out?",
        "created_at": "2024-01-02T19:54:41.788000+00:00",
        "attachments": []
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "perhaps regardless what your local settings are (via flag) it is forcing the beacon node to prefer the local execution node?",
        "created_at": "2024-01-02T19:56:46.849000+00:00",
        "attachments": []
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "i think michael is still ooo",
        "created_at": "2024-01-02T19:57:04.414000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Ah crap I commented on the wrong line, updated it\n\u003e         * `builder_comparison_factor=2**64 - 1`: prefer the builder payload unless an error or           beacon node health check makes it unviable.\nIt says to prefer the builder' s payload, but not what to do if the execution healtcheck decides that it's not safe, should the beacon return the local payload here or error out?",
        "created_at": "2024-01-02T20:18:48.956000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I would advocate to return the local payload, in which case is perfectly within the spec to allow any heuristic to be the \"health check\"  by clients",
        "created_at": "2024-01-02T20:19:23.609000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yes, as per previous conversations if the beacon node thinks that it must return a local payload (its own circuit breaker, notification from the execution client) then that's totally valid.  Erroring shouldn't happen unless the beacon node cannot make a block via any means.",
        "created_at": "2024-01-02T20:29:07.010000+00:00",
        "attachments": []
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "thanks, this makes it clear to me, this is the best possible outcome that I can think for such a flag",
        "created_at": "2024-01-02T20:43:07.154000+00:00",
        "attachments": []
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yeah, intended semantics are what \u003c@144468805697929216\u003e describes (always return _something_ if possible, but just flag _what_ it is)",
        "created_at": "2024-01-02T21:53:40.010000+00:00",
        "attachments": []
    }
]