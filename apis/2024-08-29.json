[
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "this is an unfortunate mess every time it happens",
        "created_at": "2024-08-29T13:02:59.178000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Nimbus does it too for various REST JSON things, including the\n\u003e This is unlike how we are usually able to determine if some is active by check if the header field is non-nil.\n\nfrom https://github.com/ethereum/execution-apis/pull/565#issuecomment-2311211022 and it's an error-prone approach and inefficient approach in general",
        "created_at": "2024-08-29T13:04:33.918000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "The engine API is defined in terms of timestamps, very explicitly, e.g., https://github.com/ethereum/execution-apis/blob/main/src/engine/cancun.md#update-the-methods-of-previous-forks notes:\n\u003e Client software MUST return `-38005: Unsupported fork` error if the `timestamp` of payload or payloadAttributes greater or equal to the Cancun activation timestamp.\n\nand https://github.com/ethereum/execution-apis/blob/main/src/engine/prague.md#update-the-methods-of-previous-forks similarly notes:\n\u003e Client software MUST return `-38005: Unsupported fork error` if the `timestamp` of payload or payloadAttributes greater or equal to the Prague activation timestamp.",
        "created_at": "2024-08-29T13:08:09.547000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "so it should not be required in general to add any conditional decoding on top of that",
        "created_at": "2024-08-29T13:13:23.376000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "broadly speaking, I don't see the virtue of the engine API replicating some random EL data structure to begin with",
        "created_at": "2024-08-29T13:14:16.111000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "in the longer term, this problem can be addressed by using SSZ in the EL",
        "created_at": "2024-08-29T13:15:53.903000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus Layer",
        "parent": "",
        "content": "the EL is the server for the engine API so it makes a lot of sense to replicate its structure when serving requests",
        "created_at": "2024-08-29T13:33:29.277000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "this doesn't follow",
        "created_at": "2024-08-29T13:41:35.475000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus Layer",
        "parent": "",
        "content": "you’re saying it’s “random EL data”. the CL is a client asking the EL for it’s data. that’s why it’s severed over json rpc and the encodings follow all other EL rules",
        "created_at": "2024-08-29T14:03:19.678000+00:00",
        "attachments": null
    },
    {
        "author": "lightclient",
        "category": "Consensus Layer",
        "parent": "",
        "content": "requests are no different",
        "created_at": "2024-08-29T14:03:36.719000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ELs at least historically didn't naturally use these things called \"execution payloads\" either",
        "created_at": "2024-08-29T14:14:56.301000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "it's just this red herring of a basis for a specification",
        "created_at": "2024-08-29T14:15:08.449000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "APIs in general are not necessarily defined by what's most efficient to memcpy() out of the process. Certainly the beacon API is not.",
        "created_at": "2024-08-29T14:16:04.493000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I didn't really want to get into this in ACD calls because it was just kind of, I don't know, this odd philosophical perspective, but.",
        "created_at": "2024-08-29T14:17:48.644000+00:00",
        "attachments": null
    }
]