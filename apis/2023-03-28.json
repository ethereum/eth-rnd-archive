[
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "thanks everyone for the inputs üôè ! I'll update the PR shortly to what's suggested above, if there's no strong objections / alternatives",
        "created_at": "2023-03-28T01:38:47.670000+00:00",
        "attachments": []
    },
    {
        "author": "dapplion",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think returning the signed message instead of submiting allows to not tie the keymanager API to a specific scenario",
        "created_at": "2023-03-28T01:38:59.592000+00:00",
        "attachments": []
    },
    {
        "author": "dapplion",
        "category": "Consensus Layer",
        "parent": "",
        "content": "The keymanager API is guaranteed to have the capability of producing the message, but not guaranteed to be able to submit it. Web3signer does not connect directly to a beacon node but implements the keymanager API",
        "created_at": "2023-03-28T01:39:40.866000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ah yeah great point, web3signer as well",
        "created_at": "2023-03-28T01:40:54.174000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "That also means that web3signer can't fetch the current epoch btw.",
        "created_at": "2023-03-28T01:45:44.965000+00:00",
        "attachments": []
    },
    {
        "author": "dapplion",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Good point, then let's make epoch mandatory param",
        "created_at": "2023-03-28T02:09:34.052000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "PR updated, thanks! https://github.com/ethereum/keymanager-APIs/pull/58",
        "created_at": "2023-03-28T05:25:17.435000+00:00",
        "attachments": []
    },
    {
        "author": "jogipraveen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Hi everybody\nIs there anyone only to learn data science in web3.O\nIf any is there only for data science in block chain ,we will work together.\nYou can text me through mail-id: jogipraveen57@gmail.com",
        "created_at": "2023-03-28T11:09:27.630000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "hmm I'm guessing web3signer can't fetch validator index from pubkey either...? ü§î \nIt doesn't look like web3signer implements the full keymanager API spec, just the \"Local Key Manager\" part of it",
        "created_at": "2023-03-28T11:53:51.481000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ok it looks like \"Fee Recipient\" and \"Gas Limit\" endpoints are also for validators only - these endpoints actually submits to BN. Although submitting to BN directly is not required for the voluntary exit endpoint, I wonder if we need to restrict this endpoint to web3signer capabilities, i.e. making epoch mandatory - even if we made it mandatory, I'm not sure if Web3Signer would have enough info to produce the signing root to sign it?",
        "created_at": "2023-03-28T12:06:36.820000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yes there's been some unfortunate scope creep without clearly defining what is intended for validator clients and what is intended for signers.  And you're correct that a signer wouldn't be able to convert from index to pubkey.\nGiven this api's one job is signing something it would be best if it worked with a signer and not need access to the beacon node.\nSigners are able to compute the signing root for stuff (they have to be able to sign stuff and do slashing protection).",
        "created_at": "2023-03-28T20:47:50.916000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Also worth checking if the external signer APIs currently support requesting to sign a voluntary exit. If not, validator clients using an external signer won't be able to support this API.  And if it is available that maybe means it's not important for signers to support this new API since they already have an API to sign exits.",
        "created_at": "2023-03-28T20:48:56.788000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Thanks Adrian! It looks like both web3signer \u0026 dirk already support signing voluntary exit, so this may not be important for external signers. With this validator API, the vc would be constructing the message, and forward it over to external signer to sign if it's used.",
        "created_at": "2023-03-28T23:43:14.244000+00:00",
        "attachments": []
    },
    {
        "author": "ajsutton",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@679503726020526161\u003e \u003c@680328983057137664\u003e FYI: see above discussion re signing voluntary exit and how web3signer should it",
        "created_at": "2023-03-28T23:44:19.642000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think it's probably worth explicitly tag validator client only endpoints in the key manager API (fee recipient, gas limit \u0026 voluntary exit)",
        "created_at": "2023-03-28T23:44:35.379000+00:00",
        "attachments": []
    },
    {
        "author": "jimmygchen",
        "category": "Consensus Layer",
        "parent": "",
        "content": "if this is something web3signer does not need (since it already signs voluntary exit messages), I think it would be nice to remove the mandatory requirement for `epoch`",
        "created_at": "2023-03-28T23:51:33.995000+00:00",
        "attachments": []
    }
]