[
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Well, I guess that's fine. I will open prs to update in repo",
        "created_at": "2020-06-05T04:44:16.178000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "the main other blocker i have is really around binary data representation. there was talk about using standard base64 formatting, but then there's also things like 'root' in routes, which wouldn't be able to be base64 (some of the characters are invalid for a route)\nis there any resolution on using hex representations vs base64?",
        "created_at": "2020-06-05T05:02:42.391000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "According to call notes of api call, \"there was strong sentiment against base64\". Most of clients are already using hex because of readability (block explorers and logs are displaying everything as hex)",
        "created_at": "2020-06-05T05:09:49.081000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "it sounded like prysm was fairly adamant thats all... but all good i'll stick with hex",
        "created_at": "2020-06-05T05:10:29.920000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "i was trying to find references but there wasn't much, it saves me implementing more serializers so that works ðŸ™‚",
        "created_at": "2020-06-05T05:11:41.341000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "at prysm we were just using base64 to align with some common standards, but consensus is on hex strings",
        "created_at": "2020-06-05T05:13:05.469000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Otherwise theres no differentiation between string representations of bytes values vs just strings",
        "created_at": "2020-06-05T05:13:46.938000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yep the standards thing is understandable, i guess that's where the question came from, i was just hoping the answer wasnt hex in routes and b64 in json",
        "created_at": "2020-06-05T05:14:08.782000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "No worries, there wont be a mix of both",
        "created_at": "2020-06-05T05:14:42.009000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "thanks \u003c@!545555441518772225\u003e and \u003c@!311971895828283393\u003e i really appreciate the information",
        "created_at": "2020-06-05T05:15:10.132000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "It was also painful for us in Go to have to support bytes values as hex strings in our api, which was part of our rationale for base64 standard",
        "created_at": "2020-06-05T05:15:49.955000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e It was also painful for us in Go to have to support bytes values as hex strings in our api, which was part of our rationale for base64 standard\n\u003c@311971895828283393\u003e out of curiosity, do you use base64 without padding or do you escape it in url?",
        "created_at": "2020-06-05T05:16:47.899000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "noone was using params in url as far as i saw, which is why it was probably not a problem",
        "created_at": "2020-06-05T05:17:30.283000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "well query params",
        "created_at": "2020-06-05T05:18:09.056000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "quoted strings in query params is fine, just in url its sticky and needs encoding",
        "created_at": "2020-06-05T05:18:31.778000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Im not entirely sure \u003c@545555441518772225\u003e would have to check the output of an endpoint in https://api.prylabs.network, it just returns the format the grpc json gateway outputs",
        "created_at": "2020-06-05T05:20:00.546000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "`https://api.prylabs.net/eth/v1alpha1/beacon/blocks?root=fQ602Djcrb1un3Wf8DTYOVOBiSG1ei8V0U1uBSmGZnM%3D\n` uri encoded - the %3D",
        "created_at": "2020-06-05T05:21:39.953000+00:00",
        "attachments": []
    },
    {
        "author": "raulj",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Theres an ongoing api standardization effort \u003c@680234424037670912\u003e , so our api currently doesnt match other clients, but weâ€™ll all work towards that goal in the future",
        "created_at": "2020-06-05T05:22:34.289000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "yep that's ok, that's what i'm also working towards ðŸ™‚",
        "created_at": "2020-06-05T05:23:16.833000+00:00",
        "attachments": []
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "hence the random questions, so i appreciate both of your time",
        "created_at": "2020-06-05T05:23:38.857000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "There are options in-between base 16 and base 64...",
        "created_at": "2020-06-05T07:13:09.827000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Like base 32, for example (if you want to keep byte aligned).",
        "created_at": "2020-06-05T07:14:45.361000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Base 36 if you want a bit more bang for your buck while still getting maximal compatibility and you don't mind losing 8-bit alignment.",
        "created_at": "2020-06-05T07:16:16.033000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Hex strings (with a `0x` prefix) seem to be simple and sane.  They are used by community tools (e.g. etherscan, beaconcha.in, eth1 tools) in various places, with as far as I've seen no pushback.  Going with a format that we already recognize seems like the best option, certainly if the alternatives are there mainly to save a few bytes here and there.",
        "created_at": "2020-06-05T07:47:02.040000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Base 32 (I think) addresses are used in Bitcoin without pushback.",
        "created_at": "2020-06-05T07:50:00.624000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\"Save a few bytes here and there\" is more like \"save an order of magnitude bytes everywhere\" when talking about the JSON-RPC (for example).",
        "created_at": "2020-06-05T07:50:37.620000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "*everything* in the ETH 1.x JSON-RPC API is base-16 blobs.  A base 32 blob is half the space, base 64 1/4 the space.",
        "created_at": "2020-06-05T07:51:18.866000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "FWIW, JS supports radix up to 36 for serializing `bigint`.",
        "created_at": "2020-06-05T07:53:01.374000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "We will eventually enable ssz response in case you wan't to save bytes. But the api is designed not to respond with everything so there are specific endpoints for some common stuff",
        "created_at": "2020-06-05T07:53:04.582000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I would personally like to see Base64 just for the visual inspection compression.",
        "created_at": "2020-06-05T07:53:54.734000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "https://simpleserialize.com/ if you wan't to see ssz decompressed ðŸ™‚",
        "created_at": "2020-06-05T07:54:32.815000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "When looking at Etherscan and you are presented with a 256-bit value (e.g., blockhash) or 160-bit value (address) they are very long and about 1/3 of the way through I become exhausted and give up.  ðŸ˜›",
        "created_at": "2020-06-05T07:54:43.457000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@545555441518772225\u003e Is it intended that the \"Serialized\" field is a base-10 array when output type is base64?",
        "created_at": "2020-06-05T07:56:15.719000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think you should open issue https://github.com/chainsafe/simpleserialize.com. I think you are only one that switched to base64 view ðŸ¤£",
        "created_at": "2020-06-05T07:57:46.539000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ðŸŽ‰ \u003chttps://github.com/ChainSafe/simpleserialize.com/issues/15\u003e",
        "created_at": "2020-06-05T07:59:38.485000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Another selling point with base64 is that a human can get equal probability of differentiating two addresses by looking at fewer characters.  I personally have 3 randomly generated accounts that start with the same 3 characters (dumb luck, not vanity addresses).  With base64 they would all differ on the first character.",
        "created_at": "2020-06-05T08:15:25.494000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e \"Save a few bytes here and there\" is more like \"save an order of magnitude bytes everywhere\" when talking about the JSON-RPC (for example).\n\u003c@!301186049323958275\u003e eh?  We're talking about hex strings in URLs and responses, which are a subset of the total data, so even a reduction to 25% wouldn't give huger overall savings.\n\nIf space was our primary concern we wouldn't have gone with JSON in the first place ðŸ™‚",
        "created_at": "2020-06-05T08:36:21.955000+00:00",
        "attachments": []
    },
    {
        "author": "mpetrunic",
        "category": "Consensus Layer",
        "parent": "",
        "content": "tbh, for me it's harder to compare base64, I think it's because of larger set of possible characters and uneven spacing in typography. I'm trying to find some case study on that.\n\nAbout space saving, let's assume that most of node will be behind some proxy that will gzip content. Base64 will yield a lot worse compressions as oppose to hex which will negate those saved bytes with encoding^^",
        "created_at": "2020-06-05T08:38:00.966000+00:00",
        "attachments": []
    },
    {
        "author": "sky.cactus",
        "category": "Consensus Layer",
        "parent": "",
        "content": "_pulls out his list of hills he is currently dying on... realizes that he already has a mountain range to deal with and decides to peacefully walk away._",
        "created_at": "2020-06-05T08:39:56.087000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "(If it makes you feel better I was rooting for GRPC, so...)",
        "created_at": "2020-06-05T08:40:58.556000+00:00",
        "attachments": []
    }
]