[
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e we can move here. hmm maybe requirements changed I vaguely remember this was optional before",
        "created_at": "2025-05-07T16:15:02.263000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "could be, it looks required now",
        "created_at": "2025-05-07T16:15:56.256000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I guess the question is, empirically, whatever the specs said, did this change on Prysm's side",
        "created_at": "2025-05-07T16:17:36.828000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "i believe so i'm looking for when",
        "created_at": "2025-05-07T16:18:32.408000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "either way, it looks like something to fix in Nimbus, but it would at least remove the mystery",
        "created_at": "2025-05-07T16:19:37.453000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "like, why is this the first time we've seen this particular report (as in, at least first time I have)",
        "created_at": "2025-05-07T16:20:02.449000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "it might have been changed back in feb",
        "created_at": "2025-05-07T16:22:29.444000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "and it's not the common case (obviously, it happens) for people to mix VC/BNs",
        "created_at": "2025-05-07T16:23:12.733000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "what requirements changed? ðŸ˜„",
        "created_at": "2025-05-07T16:23:17.598000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "wasn't Eth-Consensus-Version optional at one point for non ssz",
        "created_at": "2025-05-07T16:23:39.784000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "or something",
        "created_at": "2025-05-07T16:23:44.197000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "on beacon-api? I don't think so, this header is required for long time, which api?",
        "created_at": "2025-05-07T16:24:08.712000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "/eth/v2/beacon/blinded_blocks",
        "created_at": "2025-05-07T16:24:22.325000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "iirc the v1 publish block apis had it optional",
        "created_at": "2025-05-07T16:24:35.464000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "oh",
        "created_at": "2025-05-07T16:24:43.091000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I mean if it's optional the spec has `required: false`",
        "created_at": "2025-05-07T16:24:56.625000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "well sort of, see the builder API stuff",
        "created_at": "2025-05-07T16:25:14.040000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "but yeah in this case",
        "created_at": "2025-05-07T16:25:16.503000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003c@654267572107083777\u003e I think this solves the mystery, prysm used the same logic for v1 and v2 i think and i fixed some gocognit linting thing and must have fixed that api while i was doing it",
        "created_at": "2025-05-07T16:25:24.965000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ok, I mean, I'm convinced that if Nimbus isn't sending this header, as it seems from the error message it's not, that's a Nimbus issue",
        "created_at": "2025-05-07T16:25:57.502000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ah yes `/eth/v1/beacon/blinded_blocks` it's optional",
        "created_at": "2025-05-07T16:26:17.359000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "but that endpoint is deprecated",
        "created_at": "2025-05-07T16:26:26.379000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "thanks",
        "created_at": "2025-05-07T16:26:27.339000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "that probably explains why Nimbus might not have implemented it, it started by copy/pasting that endpoint",
        "created_at": "2025-05-07T16:27:34.281000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "what we do is that client always sends it no matter what, but server is lax on the v1 apis",
        "created_at": "2025-05-07T16:27:59.754000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "we can remove those in Fusaka",
        "created_at": "2025-05-07T16:28:05.189000+00:00",
        "attachments": null
    }
]