[
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "What are the semantics of https://ethereum.github.io/beacon-APIs/?urls.primaryName=dev#/Beacon/getPoolAttestationsV2 if `slot` isn't specified and the pool spans two forks? There are basically two cases of this:\n- it's Electra and Fusaka, or similar, which use so-far identical attestations, so at least the format is consistent, and one could return the whole pool and it could be parsed; and\n- Deneb and Electra, where if it returns both, it's return a heterogeneous list, which seems contrary to:\n\u003e The active consensus version to which the data belongs. Required in response so client can deserialize returned json or ssz data more effectively.",
        "created_at": "2024-09-23T00:11:45.446000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "These sentences are not in https://ethereum.github.io/beacon-APIs/?urls.primaryName=v2.5.0#/Beacon/getPoolAttestations so this problem does not arise",
        "created_at": "2024-09-23T00:12:59.761000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "My inclination would be to read it as return all the attestations within the current fork, but that's not stated explicitly.",
        "created_at": "2024-09-23T00:15:19.054000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "New week, new attempt to close anything PRS on beacon-apis...\nhttps://github.com/ethereum/beacon-APIs/pull/381 https://github.com/ethereum/beacon-APIs/pull/388\nboth seem pretty stale, are we closing those? or do we need to do something to progress them \u003c@688748669268132001\u003e \u003c@586161934425128960\u003e \n\nAlso thinking https://github.com/ethereum/beacon-APIs/pull/438 may be able to be closed and not merged \u003c@144468805697929216\u003e ?",
        "created_at": "2024-09-23T00:41:13.434000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I merged the electra block and state changes, we can put PRs in if there's tweaks ppl find implementing.\n\n2 other things:\n - event stream - looks undecided on whether to create a new attestation type with a version, or to create a new api and version all objects... From a teku perspective my preference would be a new type for simplicity. It'll be significantly less overhead to maintain just 1 eventstream implementation imo...\n\n - validators v2 endpoint - creating an SSZ compatible structure for validators seems to be very undecided. It makes total sense to me for serialization, but im really not sure how we resolve that other than making it optional, which defeats the purpose of the new API because potentially wont be implemented widely... At least this endpoint won't block electra development, so its lower priority i guess ultimately. Id appreciate other clients feedback, otherwise with the current feedback it's likely to sit as a pending PR indefinitely.",
        "created_at": "2024-09-23T03:17:19.201000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "for 381, I'd say close -- \"For completeness I think it would be nice to add ...\" and \"There hasn't been much demand for it, but there's no good reason to omit\" is not a strong argument for it",
        "created_at": "2024-09-23T04:57:02.667000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "for 438, there's a slightly broader issue, too: right now there's just mev-boost basically in wide usage, but there are multiple competitors coming up, not all of which are best described as profit maximization. so I'm not sure what the best way to phrase this is, but it's I guess something like engine API vs non-engine API (not that that's necessarily the best way to do this)",
        "created_at": "2024-09-23T05:00:27.063000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "basically that V3 endpoint should have as few assumptions as feasible baked into it given its purpose",
        "created_at": "2024-09-23T05:00:47.714000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "That's how we implemented it in Lodestar, there was some discussion on this previously https://github.com/ethereum/beacon-APIs/issues/458, we might wanna clarify this on the spec more explicitly\n\nFor the v1 api, this is not the case as it only supports phase0 attestation and effectively becomes unusable post-electra.",
        "created_at": "2024-09-23T07:56:55.491000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "if we wanna go ahead with 381 should probably add version meta, not opposed to adding it, might be helpful to debug sync committee issues?",
        "created_at": "2024-09-23T07:58:25.790000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "sure, i could see that...",
        "created_at": "2024-09-23T07:59:05.721000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "theres been no bites on it, so if ppl think its useful thats great",
        "created_at": "2024-09-23T07:59:38.392000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I actively don't want 381 to proceed, for the record. Ethereum has enough random-jank-no-one-wanted",
        "created_at": "2024-09-23T07:59:47.955000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "new type is definitely simpler implementation wise, we could revive https://github.com/ethereum/beacon-APIs/pull/461, or just keep as is, we extract the slot from the json object right now",
        "created_at": "2024-09-23T07:59:59.562000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "that's fine too, I don't have a good reason to add it",
        "created_at": "2024-09-23T08:00:27.511000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ok great, did you want to put that on the PR?",
        "created_at": "2024-09-23T08:00:39.888000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "ppl have actively said im too proactive so im trying really hard to get feedback from everyone, but sometimes its quite challenging to get anyone to say anything at all",
        "created_at": "2024-09-23T08:01:27.282000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "https://github.com/ethereum/beacon-APIs/pull/381#issuecomment-2367486701",
        "created_at": "2024-09-23T08:01:46.392000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I want to say that I do appreciate your pro-activeness, it's too easy for these to fall through gaps",
        "created_at": "2024-09-23T08:02:18.885000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "proactive is good, i need to do a better job going back to review",
        "created_at": "2024-09-23T15:41:01.378000+00:00",
        "attachments": null
    }
]