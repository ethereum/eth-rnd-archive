[
    {
        "author": "radekkapka",
        "category": "Consensus Layer",
        "parent": "",
        "content": "For Electra we created v2 versions of several attestation-related endpoints and deprecated v1 of these endpoints. I am a bit unsure about the functionality of v1 post-Electra. Are they supposed to process/return Electra objects? Because if not, they will essentially become useless.",
        "created_at": "2024-08-19T14:43:49.555000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Consensus Layer",
        "parent": "",
        "content": "\u003e Are they supposed to process/return Electra objects?\nDon't think so. It should strictly process/return phase0 containers. In Lodestar, v1 post-electra will throw error saying unsupported fork. And some time in Electra we will remove the v1 endpoints entirely",
        "created_at": "2024-08-19T15:17:29.899000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I just went over the LC spec in Electra. Looks like we need to update (or redefine for electra) all the LC types and since the gindex of `FinalityBranch`, `CurrentSyncCommitteeBranch` and `NextSyncCommitteeBranch` have changed.",
        "created_at": "2024-08-19T15:27:00.178000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Consensus Layer",
        "parent": "",
        "content": "We can do something similar to electra attestations by having V2 for all the related endpoints ie. `getLightClientUpdatesByRangeV2`, `getLightClientBootstrapV2`, `getLightClientFinalityUpdateV2` and `getLightClientOptimisticUpdateV2`",
        "created_at": "2024-08-19T15:28:12.931000+00:00",
        "attachments": null
    },
    {
        "author": "nc1234",
        "category": "Consensus Layer",
        "parent": "",
        "content": "What's everyone's thought on this?",
        "created_at": "2024-08-19T15:28:49.302000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "the old ones will be deprecated if not already, and the v2 should be serving both old and new data type with version etc... the old endpoints are  only deprecated but they wont work once electra clicks over... We can't remove them for a period, last time this was discussed the theory was 'at least one hard fork', so they'll at least be in spec until f* fork.\nOnce enough clients support v2, we should be able to start using v2 endpoints regardless because they're supporting both data types.",
        "created_at": "2024-08-19T20:41:47.470000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "lightclient endpoints already have the version field and eth-consensus-version header so should really be able to just have a new version (ie. version: electra)  added to the existing endpoint?",
        "created_at": "2024-08-19T20:44:40.524000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "they were written after we became aware of the versioning pain, unlike the attestations endpoints",
        "created_at": "2024-08-19T20:45:22.678000+00:00",
        "attachments": null
    }
]