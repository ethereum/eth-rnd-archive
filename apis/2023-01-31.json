[
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "https://github.com/ethereum/beacon-APIs/pull/290\nseeking feedback on syncing change to return 503 if EL offline when syncing endpoint is accessed\noh and Side-note, build is fixed ðŸ™‚",
        "created_at": "2023-01-31T08:58:12.010000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Not a massive fan of returning a 503 in this case, that seems extreme.  I would prefer an additional field `el_offline` or similar that presented this information in a way that clients can read.",
        "created_at": "2023-01-31T09:10:02.149000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Not sure about this one. One one hand, we indeed have some service unavailable. On the other hand, the endpoint you're calling is in the CL, and CL works fine...",
        "created_at": "2023-01-31T09:22:12.265000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I donâ€™t mind the 503, a CL without an EL is pretty useless unless the CL is doing its own blockHash verification and can safely do optimistic sync without the EL. In which case it can return `synced: true, optimistic: true`\n\n(we have this partly working in Lighthouse but arenâ€™t brazen enough to do it when the EL is completely offline â€“ yet)",
        "created_at": "2023-01-31T11:47:47.797000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "503 doesn't give the validator client much to go on, though.  If we can differentiate between beacon node offline and execution client offline, it would be nice.  It would also allow us to do things like gather duties in advance of the node being fully synced (or if an execution client restarted and was just getting itself back on its feet).",
        "created_at": "2023-01-31T11:50:20.059000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "one advantage of linking to an `rc` instead of `master` is that it's (a) a permalink in a way that can't be broken when/if things are reorganized; and (b) allows checking for what might have changed in target spec-by-reference since last checked",
        "created_at": "2023-01-31T14:20:26.389000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I dislike links to `master` generally exactly because it's timeless/ambiguous/breaks",
        "created_at": "2023-01-31T14:20:45.021000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "I think that `master` can be synonymous with `needs to be linked to a proper tag`, with an existing link to a tag you never know if it was done for a specific reason, or just because it was the latest tag that existed at the time.",
        "created_at": "2023-01-31T15:09:00.739000+00:00",
        "attachments": null
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "and `rc` can't be thought of the same way, but less ambiguously?",
        "created_at": "2023-01-31T15:11:21.209000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Perhaps; as I said there isn't a great solution.",
        "created_at": "2023-01-31T15:12:02.160000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Although a quick grep of the current code shows that there are still inks to RC versions of the 1.2.0 spec, so if that was the intention it hasn't worked.",
        "created_at": "2023-01-31T15:14:23.813000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Good point, an extra field in the `/syncing` response is preferable.\n\nThis raises an interesting question about the ideal behaviour of other endpoints when the EL is completely offline. E.g. if a BN is 100 slots behind due to the EL being offline should it still serve attestation duties? I'm leaning towards \"yes\" and letting the VC decide which node it trusts for duties. I imagine Vouch already handles this with aplomb, and I hope we can get Lighthouse's VC there too (this issue: \u003chttps://github.com/sigp/lighthouse/issues/3613\u003e).",
        "created_at": "2023-01-31T21:53:33.023000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "i think if we're scheduling we currently don't do much with duties, butI haven't looked at things to validate that assumption... it does raise a lot of questions though, i agree",
        "created_at": "2023-01-31T23:18:53.076000+00:00",
        "attachments": null
    }
]