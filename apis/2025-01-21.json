[
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "https://github.com/ethereum/beacon-APIs/blob/master/types/deneb/blob_sidecar.yaml notes:\n```yaml\nDeneb:\n  BlobSidecars:\n    type: array\n    items:\n      $ref: '#/Deneb/BlobSidecar'\n    minItems: 0\n    maxItems: 6\n```\n\nthis prohibits a conforming implementation from returning `MAX_BLOBS_PER_BLOCK_ELECTRA` blobs for https://ethereum.github.io/beacon-APIs/?urls.primaryName=dev#/Beacon/getBlobSidecars\n\nIs this the intention?",
        "created_at": "2025-01-21T02:02:40.204000+00:00",
        "attachments": []
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "There doesn't appear to be any updates in https://github.com/ethereum/beacon-APIs/tree/master/types/electra",
        "created_at": "2025-01-21T02:04:13.422000+00:00",
        "attachments": []
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Yeah looks like there needs to be an Electra version of that definition, likely a `oneOf` in the API response.",
        "created_at": "2025-01-21T11:19:51.694000+00:00",
        "attachments": []
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "good catch looks like we missed, opened a draft PR https://github.com/ethereum/beacon-APIs/pull/488",
        "created_at": "2025-01-21T11:43:31.778000+00:00",
        "attachments": []
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "there was a previous PR which added the metdata including the version https://github.com/ethereum/beacon-APIs/pull/441, we decided back then to keep it optional until implementations can catch up but now that we need it due to max items change after electra I think it's best to mark them as required",
        "created_at": "2025-01-21T11:44:39.235000+00:00",
        "attachments": []
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "what I noticed in Lodestar the ssz type we use here uses `MAX_BLOB_COMMITMENTS_PER_BLOCK` which is `4096` for mainnet preset, so we could even think about adding that as max items instead of having to change it per hard-fork.\n\nEg. we use 4096 here https://github.com/ethereum/beacon-APIs/blob/nflaig/electra-blob-sidecars/types/deneb/block_contents.yaml#L14 already. I guess depends if there is value in having a lower limit from implementation perspective",
        "created_at": "2025-01-21T12:04:44.967000+00:00",
        "attachments": []
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "although having different max items might be informative for consumers as well instead of having this huge limit",
        "created_at": "2025-01-21T12:06:39.362000+00:00",
        "attachments": []
    },
    {
        "author": "tersec",
        "category": "Consensus Layer",
        "parent": "",
        "content": "in general, yes, I find having reasonably low limits where feasible to be valuable to avoid high-upfront processing costs and allow early rejection",
        "created_at": "2025-01-21T12:07:03.415000+00:00",
        "attachments": []
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "if this would be a request body it would be more critical, since it's a response not sure but the client can reject if if it exceeds to the limit so still a good point",
        "created_at": "2025-01-21T12:08:24.973000+00:00",
        "attachments": []
    }
]