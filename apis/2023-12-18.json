[
    {
        "author": "radekkapka",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Would it be considered spec-breaking if the events endpoint returned an empty line first, before serving events? My argument for this is very weak: our validator client subscribes to `head` event, and the HTTP request blocks until the first response. But in our e2e test runs we are the only ones producing blocks, so the validator client is stuck waiting for an event that will never come, because no validator will produce a block because the'yre stuck waiting... A chicken-and-egg problem. The easiest fix I can think of is return some dummy value from the server immediately. It can either be an empty line or an empty  initialization event such as\n```\ninit\n{}\n```",
        "created_at": "2023-12-18T16:32:05.485000+00:00",
        "attachments": null
    },
    {
        "author": "potuz",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Why don't you return the current head as a head event at launch?",
        "created_at": "2023-12-18T16:54:03.815000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "There is an official keepalive in the SSE spec, I think it's a blank event but take a look in the spec to confirm.",
        "created_at": "2023-12-18T17:03:59.234000+00:00",
        "attachments": null
    },
    {
        "author": "radekkapka",
        "category": "Consensus Layer",
        "parent": "",
        "content": "This is a possibility, although it may be unexpected for some clients because technically the head didn't get updated the moment we subscribed to events",
        "created_at": "2023-12-18T17:07:48.387000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "keepalive is just any comment line basically (line starting with `:` iirc)",
        "created_at": "2023-12-18T21:14:04.825000+00:00",
        "attachments": null
    },
    {
        "author": ".paulharris",
        "category": "Consensus Layer",
        "parent": "",
        "content": "https://pipedream.com/docs/destinations/sse/#keepalive-messages\nWe just send `:` - not `:keepalive` but does the job, avoids the inactivity",
        "created_at": "2023-12-18T21:18:26.558000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Lighthouse also sends keepalive `:`s",
        "created_at": "2023-12-18T22:32:46.454000+00:00",
        "attachments": null
    },
    {
        "author": "sproul",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Anyone have strong opinions on Gwei vs Wei for blockv3 values? Atm Lighthouse \u0026 Teku are inconsistent because the spec is insufficiently precise: \u003chttps://github.com/ethereum/beacon-APIs/issues/397\u003e",
        "created_at": "2023-12-18T23:59:09.501000+00:00",
        "attachments": null
    }
]