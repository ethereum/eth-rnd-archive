[
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "hmm these are some of the times I collected in some updated code\n```\n[2025-03-19 15:12:50] ERROR client: HTTP POST http://holesky-16.chainsafe.dev:9596/eth/v1/beacon/states/head/validators took 2.405289333s\n[2025-03-19 15:12:52] ERROR client: HTTP GET http://holesky-16.chainsafe.dev:9596/eth/v1/validator/duties/proposer/121128 took 1.853093875s\n[2025-03-19 15:12:52] ERROR client: HTTP POST http://holesky-16.chainsafe.dev:9596/eth/v1/validator/duties/sync/121127 took 1.85391s\n[2025-03-19 15:12:52] ERROR client: HTTP POST http://holesky-16.chainsafe.dev:9596/eth/v1/validator/duties/attester/121128 took 1.854021s\n[2025-03-19 15:12:52] ERROR client: HTTP POST http://holesky-16.chainsafe.dev:9596/eth/v1/validator/duties/attester/121127 took 1.854021041s\n[2025-03-19 15:12:52] ERROR client: HTTP POST http://holesky-16.chainsafe.dev:9596/eth/v1/validator/duties/sync/121128 took 2.417773416s\n[2025-03-19 15:12:52] ERROR client: HTTP GET http://holesky-16.chainsafe.dev:9596/eth/v1/validator/duties/proposer/121127 took 2.418016875s\n```\nignoring that ERROR message lol i was doing it just to be loud. \n\ndoes validators/duties/sync typically take over 2 seconds if you have any bench marks from your own testing?",
        "created_at": "2025-03-19T20:59:39.448000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "`validators` could take a while, although I don't have the data for that to hand.  Proposer duties should be very quick, because there are a maximum of 32 items and the beacon node should know it already.  Sync committee messages likewise, although the request should send the relevant validator indices so there could be a bit more data flowing to the node depending on how many validators you are running.\n\nA quick check with a holesky node that I'm running with ~60K validators:\n\n```\n{\"level\":\"trace\",\"service\":\"controller\",\"impl\":\"standard\",\"elapsed\":86.444145,\"duties\":0,\"time\":\"2025-03-19T21:05:03.047Z\",\"message\":\"Fetched proposer duties\"}\n{\"level\":\"trace\",\"service\":\"controller\",\"impl\":\"standard\",\"elapsed\":98.003454,\"duties\":13,\"time\":\"2025-03-19T21:05:03.058Z\",\"message\":\"Fetched sync committee message duties\"}\n{\"level\":\"trace\",\"service\":\"controller\",\"impl\":\"standard\",\"elapsed\":35.660086,\"duties\":1,\"time\":\"2025-03-19T21:10:24.237Z\",\"message\":\"Fetched proposer duties\"}\n{\"level\":\"trace\",\"service\":\"controller\",\"impl\":\"standard\",\"elapsed\":31.003334,\"duties\":2,\"time\":\"2025-03-19T21:16:48.232Z\",\"message\":\"Fetched proposer duties\"}\n```\n\n`elapsed` is in ms, so it's taking us very little time at all to fetch and return these items (all \u003c100ms).",
        "created_at": "2025-03-19T21:18:53.533000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "this is to a remote instance so having it on the same boxshould be much faster",
        "created_at": "2025-03-19T21:20:19.868000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "For the proposer duties, for example, the data both sent and received is minimal so even with poor latency I wouldn't expect it to be more than a couple of hundred ms.",
        "created_at": "2025-03-19T21:27:51.477000+00:00",
        "attachments": null
    },
    {
        "author": "jameshe5018",
        "category": "Consensus Layer",
        "parent": "",
        "content": "will try to curl directly to double check times",
        "created_at": "2025-03-19T21:28:48.272000+00:00",
        "attachments": null
    },
    {
        "author": "jgm",
        "category": "Consensus Layer",
        "parent": "",
        "content": "Bear in mind that it's possible that the node is taking a while to calculate the data initially but is then caching it, so subsequent calls may be faster.  So perhaps turn off your validator client to ensure that you're not hitting the cached version with your curl.",
        "created_at": "2025-03-19T21:30:02.457000+00:00",
        "attachments": null
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "all of these api requests should resolve in less than 100ms + a few more ms added depending on from where you are sending the requests, this node is located in Europe\n\nthese metrics from the specific node you are querying",
        "created_at": "2025-03-19T23:04:39.341000+00:00",
        "attachments": [
            {
                "type": "image/png",
                "origin_name": "image.png",
                "content": "7ec81fbc3542bacc437aa72e2459a661d62e93ee80a4b3d41e4e8a93c34c5d3a"
            }
        ]
    },
    {
        "author": "nflaig",
        "category": "Consensus Layer",
        "parent": "",
        "content": "might be easier to just test locally if you have ~10GB spare RAM available to run a Holesky node\n\nto install Lodestar\n```sh\ncurl -fsSL https://chainsafe.github.io/lodestar/install | bash\n```\nto start Holesky beacon node without EL (this will not work for attesting but all other api queries work fine)\n```sh\nlodestar beacon --network holesky --execution.engineMock\n```",
        "created_at": "2025-03-19T23:07:55.637000+00:00",
        "attachments": null
    }
]